(globalThis.webpackChunksen_swap=globalThis.webpackChunksen_swap||[]).push([[106],{86797:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Page:()=>Ut,Widget:()=>Zt,widgetConfig:()=>qt});var n=s(55754),o=s(49142),i=s(78589),a=s(92950),r=s(4550),l=s.n(r),d=s(76907),c=s.n(d),u=s(21111),h=s.n(u),m=s(95418),p=s(16200),f=s.n(p),g=s(63805);const x=(e,t=4,s="...")=>e.substring(0,t)+s+e.substring(e.length-t,e.length),v=e=>m.account.isAddress(e)?`https://explorer.solana.com/address/${e}?cluster=${g.ef}`:`https://explorer.solana.com/tx/${e}?cluster=${g.ef}`,y=e=>e&&Number.isFinite(Number(e))?f()(e):f()("0");var j=s(45263);const b=({chartData:e=[],labels:t=[],type:s="line",configs:n,disableAxe:o=!1,chartId:i="sen_chart"})=>{const{backgroundColor:r}=n||{},[l,d]=(0,a.useState)(!1),u=(0,a.useCallback)(((e,t,s)=>({labels:t,datasets:[{...n,data:e,backgroundColor:s}]})),[n]),m=(0,a.useRef)(null),p=(0,a.useCallback)((()=>{var e,t;if(!m||!r)return"#dadada";const n=null===m||void 0===m||null===(e=m.current)||void 0===e||null===(t=e.canvas)||void 0===t?void 0:t.getContext("2d"),o=null===n||void 0===n?void 0:n.createLinearGradient(0,0,0,180);null===o||void 0===o||o.addColorStop(0,r),null===o||void 0===o||o.addColorStop(1,`${r}00`);return"line"===s?o:r}),[r,s]);return(0,a.useEffect)((()=>{var s;const n=m.current,o=null===n||void 0===n||null===(s=n.data.datasets)||void 0===s?void 0:s.find((({data:e})=>e)),i=h()(null===o||void 0===o?void 0:o.data,e);n&&!i&&(n.data=u(e,t,p()),null===n||void 0===n||n.update())}),[e,u,p,t]),(0,j.jsx)("canvas",{id:i,height:"180px",ref:e=>{if(!e)return;const t=e.getContext("2d");t&&!l&&(m.current=new(c())(t,{type:s,data:{labels:[],datasets:[{data:[]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{gridLines:{drawBorder:!1,display:!1},ticks:{display:!o}}],yAxes:[{gridLines:{drawBorder:!1,display:!1},ticks:{display:!o,beginAtZero:!1,maxTicksLimit:8,callback:function(e,t,s){return y(e).format("0,0.[0]a")}}}]},plugins:{legend:!1},hover:{onHover:(e,t)=>{const s=document.getElementById(i);s&&(s.style.cursor=t[0]?"pointer":"default")}}}}),d(!0))}})};const w={"logo-telegram":s.p+"static/media/icon-telegram.2450489f40d03000fe65fc1c6f238d85.svg"},k=(0,a.forwardRef)((({name:e,className:t,...s},n)=>{const o=t?"anticon "+t:"anticon";return(0,j.jsx)("span",{className:o,...s,children:w[e]?(0,j.jsx)("ion-icon",{ref:n,src:w[e]}):(0,j.jsx)("ion-icon",{ref:n,name:e})})})),C=({icons:e=[],defaultIcon:t=(0,j.jsx)(k,{name:"help-outline"}),...s})=>(0,j.jsx)(i.Avatar.Group,{children:null===e||void 0===e?void 0:e.map(((e,n)=>(0,j.jsx)(i.Avatar,{src:e,style:{backgroundColor:"#2D3355",border:"none"},...s,children:t},n)))}),S=()=>(0,j.jsx)(i.Row,{style:{height:170},align:"middle",justify:"center",children:(0,j.jsx)(i.Col,{children:(0,j.jsx)(i.Empty,{})})});var A=s(20418),T=s(31633);const I={ttl:3e4},M={limit:{calls:10,time:1e3},cache:I};class R{constructor(e){this.key="",this.resolveQueue=[],this.rejectQueue=[],this.key=e}add(e,t){this.resolveQueue.push(e),this.rejectQueue.push(t)}resolves(e){for(;this.resolveQueue.length>0;){this.resolveQueue.shift()(e)}}rejects(e){for(;this.rejectQueue.length>0;){this.rejectQueue.shift()(e)}}}class D{static set(e,t,s=I){this.mapCache.set(e,t),setTimeout((()=>{this.mapCache.delete(e)}),s.ttl)}static get(e){return this.mapCache.get(e)}}D.mapCache=new Map;class B{static getSingleFlight(e){const t=JSON.stringify(e);if(this.mapInstance.has(t)){const e=this.mapInstance.get(t);if(e)return e}let s=new N(e);return this.mapInstance.set(t,s),s}static async load(e,t,s={}){"object"===typeof e&&(e=JSON.stringify(e));let n=B.getSingleFlight(s);B.mapInstance.set(e,n);const o=new R(e);return n.load(o,t)}}B.mapInstance=new Map;class N{constructor(e){this.config=void 0,this.intervalRequest=void 0,this.timeLogs=[],this.mapRequestCalling=new Map,this.requestQueue=[],this.config=Object.assign(M,e)}async load(e,t){const s=D.get(e.key);if(s)return Promise.resolve(s);let n=!1,o=this.mapRequestCalling.get(e.key);return o||(o=e,n=!0,this.mapRequestCalling.set(o.key,o)),new Promise(((e,s)=>{if(!o)return s("Not found request!");o.add(e,s),n&&this.fetch(o,t)}))}fetch(e,t){if(!this.validateLimit())return this.addRequestQueue(e,t);this.createTimeLogs(),t().then((t=>{D.set(e.key,t,this.config.cache),e.resolves(t)})).catch((t=>{e.rejects(t)})).finally((()=>{this.mapRequestCalling.delete(e.key),this.fetchRequestQueue(t)}))}fetchRequestQueue(e){if(!this.validateLimit())return;const t=this.requestQueue.shift();t&&this.load(t,e),0===this.requestQueue.length&&this.intervalRequest&&clearInterval(this.intervalRequest)}addRequestQueue(e,t){var s;this.requestQueue.push(e),this.intervalRequest=setInterval((()=>{this.fetchRequestQueue(t)}),null===(s=this.config.limit)||void 0===s?void 0:s.time)}validateLimit(){if(!this.config.limit)return!1;const e=this.timeLogs[0]||0,t=(new Date).getTime();if(this.timeLogs.length<this.config.limit.calls)return!0;return t-e>this.config.limit.time}createTimeLogs(){var e;if(!this.config.limit)return;const t=(new Date).getTime();this.timeLogs.push(t),this.timeLogs.length>(null===(e=this.config.limit)||void 0===e?void 0:e.calls)&&this.timeLogs.shift()}}const z=(e,t)=>{const{mint_a:s,mint_b:n,reserve_a:o,reserve_b:i}=t;return e===s?o:e===n?i:BigInt(0)},P=async()=>{const{sol:{senPoolAddress:e,senAddress:t}}=T.Z,s={icon:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M/logo.png",symbol:"SEN",name:"Sen",address:t,rank:0,price:0,priceChange:0,totalVolume:0};try{var n,o;const i=await(null===(n=window.sentre)||void 0===n||null===(o=n.swap)||void 0===o?void 0:o.getPoolData(e)),{mint_a:a,mint_b:r}=i,l=z(t===a?r:a,i),d=z(t,i);return s.price=Number(m.utils.undecimalize(l,9))/Number(m.utils.undecimalize(d,9)),s}catch(i){return s}},L=async(e="")=>B.load("fetchCGK"+e,"sen"===e?P:()=>m.utils.parseCGK(e)),E=(e,t)=>{let s=Math.floor(16777215*Math.random());if(e){s=0;for(let t=0;t<e.length;t++)s=e.charCodeAt(t)+((s<<5)-s)}var n=[0,0,0];for(let i=0;i<3;i++){var o=s>>8*i&255;n[i]=o}return`rgba(${n[0]}, 100, ${n[1]},${t||1})`};var _=s(21995),F=s.n(_);new A.Z;const U=async(e,t)=>{try{const s=await F()({method:"get",url:`https://api.coingecko.com/api/v3/coins/${e}/market_chart?vs_currency=usd&days=${t.days}&interval=${t.interval}`});return s.data.prices.map((e=>({time:e[0],val:e[1]})))}catch(s){return[]}};var q;!function(e){e.day="day",e.week="week",e.month="month",e.year="year"}(q||(q={}));const Z={day:{amount:4,unit:"hours",format:"HH:00"},week:{amount:1,unit:"days",format:"DD.MMM"},month:{amount:5,unit:"days",format:"DD.MMM"},year:{amount:2,unit:"months",format:"DD.MMM"}},W={day:{days:1,interval:"hourly"},week:{days:7,interval:"daily"},month:{days:31,interval:"daily"},year:{days:365,interval:"daily"}},Y="#5D6CCF",K=0,O=14,Q="TVL",G="transparent",H="UNKN",V=()=>{var e,t,s,o,r,d,c,u,h;const[m,p]=(0,a.useState)(q.week),[f,g]=(0,a.useState)([]),x={borderColor:G,borderRadius:K,pointRadius:K,tooltip:Q,pointHitRadius:O,pointHoverRadius:K,backgroundColor:Y},v=(0,n.useSelector)((e=>e.bid)),w=(0,n.useSelector)((e=>e.ask)),k=(0,a.useMemo)((()=>{var e,t;return[null===(e=v.mintInfo)||void 0===e?void 0:e.logoURI,null===(t=w.mintInfo)||void 0===t?void 0:t.logoURI]}),[null===(e=w.mintInfo)||void 0===e?void 0:e.logoURI,null===(t=v.mintInfo)||void 0===t?void 0:t.logoURI]),A=(0,a.useMemo)((()=>{var e,t;return[(null===(e=v.mintInfo)||void 0===e?void 0:e.symbol)||H,(null===(t=w.mintInfo)||void 0===t?void 0:t.symbol)||H]}),[null===(s=w.mintInfo)||void 0===s?void 0:s.symbol,null===(o=v.mintInfo)||void 0===o?void 0:o.symbol]),T=(0,a.useCallback)((e=>{const t=[],{format:s,amount:n,unit:o}=Z[m];let i=l()();for(const a of e.reverse()){const e=l()(a.time).format(s);if(e===i.format(s)){let r=e;e===l()().format(s)&&(r=l()().format("HH:mm")),i&&t.unshift({label:r,val:a.val}),i=i.subtract(n,o)}else"00:00"===e&&t.unshift({label:i.format("DD.MMM"),val:a.val})}g(t)}),[m]),I=(0,a.useCallback)((e=>{const t=[],{format:s,amount:n,unit:o}=Z[m];let i=l()();for(const a of e.reverse()){const e=l()(a.time).format(s);e!==i.format(s)||(i=i.subtract(n,o),t.unshift({label:e,val:a.val}))}g(t)}),[m]),M=(0,a.useCallback)((async()=>{var e,t,s,n;const o=null===(e=w.mintInfo)||void 0===e||null===(t=e.extensions)||void 0===t?void 0:t.coingeckoId,i=null===(s=v.mintInfo)||void 0===s||null===(n=s.extensions)||void 0===n?void 0:n.coingeckoId;if(!o||!i)return g([]);const a=W[m],[r,l]=await Promise.all([U(i,a),U(o,a)]),d=[];for(let c=r.length-1;c>=0;c--){const e=r[c],t=l[l.length-r.length+c];e&&t&&d.unshift({time:e.time,val:e.val/t.val})}return m===q.day?T(d):I(d)}),[null===(r=w.mintInfo)||void 0===r||null===(d=r.extensions)||void 0===d?void 0:d.coingeckoId,null===(c=v.mintInfo)||void 0===c||null===(u=c.extensions)||void 0===u?void 0:u.coingeckoId,m,I,T]);(0,a.useEffect)((()=>{M()}),[M]);const R=(null===(h=f.at(-1))||void 0===h?void 0:h.val)||0,D=y(R).format(R>1?"0,0.[00]":"0,0.[00000000]");return(0,j.jsx)(i.Card,{bordered:!1,className:"card-swap",bodyStyle:{paddingTop:28},children:(0,j.jsxs)(i.Row,{gutter:[24,24],children:[(0,j.jsx)(i.Col,{flex:"auto",children:(0,j.jsxs)(i.Row,{gutter:[20,20],children:[(0,j.jsx)(i.Col,{flex:"auto",children:(0,j.jsxs)(i.Space,{size:4,align:"center",children:[(0,j.jsx)(C,{icons:k,size:24}),(0,j.jsx)(i.Typography.Text,{children:A.join("/")})]})}),f&&!!f.length&&(0,j.jsx)(i.Col,{children:(0,j.jsxs)(i.Radio.Group,{defaultValue:q.week,onChange:e=>p(e.target.value),className:"chart-radio-btn",children:[(0,j.jsx)(i.Radio.Button,{value:q.day,children:"1D"}),(0,j.jsx)(i.Radio.Button,{value:q.week,children:"1W"}),(0,j.jsx)(i.Radio.Button,{value:q.month,children:"1M"}),(0,j.jsx)(i.Radio.Button,{value:q.year,children:"1Y"})]})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(i.Typography.Title,{level:2,children:R?D:""})})]})}),(0,j.jsx)(i.Col,{span:24,children:f&&f.length?(0,j.jsx)(b,{chartData:null===f||void 0===f?void 0:f.map((e=>e.val)),labels:null===f||void 0===f?void 0:f.map((e=>e.label)),configs:x}):(0,j.jsx)(S,{})})]})})},J=BigInt(1e9),X=({hops:e,onCallback:t=(()=>{}),disabled:s=!1,wrapAmount:r=BigInt(0),hightImpact:l=!1})=>{const[d,c]=(0,a.useState)(!1),u=(0,n.useSelector)((e=>e.bid)),h=(0,n.useSelector)((e=>e.ask)),{slippage:p}=(0,n.useSelector)((e=>e.settings)),{wallet:{address:f}}=(0,o.useWallet)(),g=(0,a.useCallback)((async()=>{const{swap:t,splt:s,wallet:n}=window.sentre;if(!n)return;const o=await Promise.all(e.map((async({srcMintInfo:{address:e},dstMintInfo:{address:t},poolData:{address:n}})=>({poolAddress:n,srcAddress:await s.deriveAssociatedAddress(f,e),dstAddress:await s.deriveAssociatedAddress(f,t)})))),{srcMintInfo:{decimals:i}}=e[0],a=m.utils.decimalize(u.amount,i),{dstMintInfo:{decimals:r}}=e[e.length-1],l=m.utils.decimalize(h.amount,r)*(J-m.utils.decimalize(p,9))/J;return await t.route(a,l,o,n)}),[e,u,h,p,f]);return(0,j.jsx)(i.Button,{type:"primary",onClick:async()=>{try{c(!0),await(async()=>{if(!r)return;const{swap:e,wallet:t}=window.sentre;return t?await e.wrapSol(r,t):void 0})();const{txId:e}=await g()||{};return window.notify({type:"success",description:"Swap successfully. Click to view details.",onClick:()=>window.open(v(e||""),"_blank")}),t()}catch(e){return window.notify({type:"error",description:e.message})}finally{c(!1)}},disabled:s,loading:d,block:!0,children:l?"Too Hight Price Impact":"Swap"})},$=({icons:e=["",""],size:t=24,defaultIcon:s=(0,j.jsx)(k,{size:t,name:"help-outline"})})=>(0,j.jsx)(i.Space,{children:null===e||void 0===e?void 0:e.map(((n,o)=>(0,j.jsxs)(a.Fragment,{children:[(0,j.jsx)(i.Avatar,{src:n,size:t,children:s}),e.length>o+1&&(0,j.jsx)(k,{name:"chevron-forward-outline"})]},o)))}),ee=({bidData:e,askData:t})=>{var s,n;const o=y(Number(null===e||void 0===e?void 0:e.amount)/Number(null===t||void 0===t?void 0:t.amount)).format("0,0.[000000]"),a=`${null===e||void 0===e||null===(s=e.mintInfo)||void 0===s?void 0:s.symbol}/${null===t||void 0===t||null===(n=t.mintInfo)||void 0===n?void 0:n.symbol}`;return(0,j.jsxs)(i.Space,{children:[(0,j.jsx)(i.Typography.Text,{children:o}),(0,j.jsx)(i.Typography.Text,{children:a})]})},te=({value:e=!1,onChange:t=(()=>{}),priceRate:s=(0,j.jsx)(a.Fragment,{})})=>(0,j.jsxs)(i.Space,{size:4,children:[(0,j.jsx)(i.Button,{type:"text",onClick:()=>t(!e),shape:"circle",icon:(0,j.jsx)(k,{name:"swap-horizontal-outline"})}),(0,j.jsx)(i.Typography.Text,{children:s})]}),se=new A.Z;class ne{constructor(){this.hops=[],this.amounts=[],this.amount=""}}const oe=(e,t)=>{const{mint_a:s,mint_b:n,reserve_a:o,reserve_b:i}=t;if(e===s)return o;if(e===n)return i;throw new Error("Cannot find reserves")},ie=(e,t,s,n,o)=>{const{pools:i,mints:a}=o;if(3===i.length)return;const r=t.get(s);null===r||void 0===r||r.forEach(((o,r)=>{if(i.includes(r))return;let{mint_b:l}=o;if(o.mint_a!==s&&(l=o.mint_a),a.includes(l))return;const d={pools:[...i,r],mints:[...a,l]};l!==n?ie(e,t,l,n,d):e.push(d)}))},ae=async(e,t,s,n)=>{var o,i;const a=null===(o=s.mintInfo)||void 0===o?void 0:o.address,r=null===(i=n.mintInfo)||void 0===i?void 0:i.address;if(!m.account.isAddress(a)||!m.account.isAddress(r))return[];const l=[];let d=a,c="";for(const u of t){const t=e[u],{mint_a:s,mint_b:n}=t;if(d!==s&&d!==n)return[];c=d===s?n:s;const o=await se.findByAddress(d),i=await se.findByAddress(c);if(!o||!i)return[];const a={poolData:{address:u,...t},srcMintInfo:o,dstMintInfo:i};d=c,l.push(a)}return l},re=m.Swap.oracle,le=(e,t)=>{const{srcMintInfo:{address:s,decimals:n},dstMintInfo:{address:o,decimals:i}}=t,{fee_ratio:a,tax_ratio:r}=t.poolData,l=oe(s,t.poolData),d=oe(o,t.poolData);if(!l||!d)return"0";const{askAmount:c}=re.swap(m.utils.decimalize(e,n),l,d,a,r);return m.utils.undecimalize(c,i)},de=(e,t)=>{const{srcMintInfo:{address:s,decimals:n},dstMintInfo:{address:o,decimals:i}}=t,{fee_ratio:a,tax_ratio:r}=t.poolData,l=oe(s,t.poolData),d=oe(o,t.poolData),c=re.inverseSwap(m.utils.decimalize(e,i),l,d,a,r);return m.utils.undecimalize(c,n)},ce=()=>{const{route:e}=(0,n.useSelector)((e=>e.route)),t=(0,n.useSelector)((e=>e.bid)),s=(0,n.useSelector)((e=>e.ask)),{amounts:o=[],hops:i=[]}=e||{};return(0,a.useMemo)((()=>{let e=t.amount;return i.forEach(((t,n)=>{const{dstMintInfo:i,srcMintInfo:a,poolData:r}=t,l={...r},d=o[n],c=a.decimals,u=o[n+1]||s.amount,h=i.decimals;a.address===r.mint_a?(l.reserve_a+=m.utils.decimalize(d,c),l.reserve_b-=m.utils.decimalize(u,h)):(l.reserve_b+=m.utils.decimalize(d,c),l.reserve_a-=m.utils.decimalize(u,h)),e=le(e,{...t,poolData:l})})),1-Number(e)/Number(s.amount)}),[o,s.amount,t.amount,i])},ue=({label:e="",content:t=""})=>(0,j.jsxs)(i.Row,{children:[(0,j.jsx)(i.Col,{flex:"auto",children:(0,j.jsx)(i.Typography.Text,{type:"secondary",children:e})}),(0,j.jsx)(i.Col,{children:(0,j.jsx)("span",{children:t})})]}),he=()=>{const[e,t]=(0,a.useState)(!1),{slippage:s}=(0,n.useSelector)((e=>e.settings)),{route:o}=(0,n.useSelector)((e=>e.route)),r=(0,n.useSelector)((e=>e.bid)),l=(0,n.useSelector)((e=>e.ask)),d=ce(),{mintInfo:c}=r,u=(0,a.useMemo)((()=>{if(null===o||void 0===o||!o.hops)return;const{logoURI:e}=c||{};let t=[e];for(const s of null===o||void 0===o?void 0:o.hops){const{dstMintInfo:{logoURI:e}}=s;e&&t.push(e)}return t}),[c,null===o||void 0===o?void 0:o.hops]),h=(0,a.useCallback)((()=>r.amount&&l.amount?e?(0,j.jsx)(ee,{bidData:l,askData:r}):(0,j.jsx)(ee,{bidData:r,askData:l}):(0,j.jsx)(a.Fragment,{})),[l,r,e]);return(0,a.useEffect)((()=>{h()}),[h]),(0,j.jsxs)(i.Row,{gutter:[12,12],children:[(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(ue,{label:"Price impact",content:(0,j.jsx)(i.Typography.Text,{type:"danger",children:y(Number(d)).format("0.[0000]%")})})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(ue,{label:"Price",content:(0,j.jsx)(te,{priceRate:h(),value:e,onChange:t})})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(ue,{label:"Slippage Tolerance",content:y(s).format("0.[00]%")})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(ue,{label:"Route",content:(0,j.jsx)($,{icons:u})})})]})},me=()=>{const{route:e}=(0,n.useSelector)((e=>e.route)),{amount:t,mintInfo:s,accountAddress:r}=(0,n.useSelector)((e=>e.bid)),{amount:l}=(0,n.useSelector)((e=>e.ask)),{advanced:d}=(0,n.useSelector)((e=>e.settings)),{accounts:c}=(0,o.useAccount)(),u=ce(),h=(null===e||void 0===e?void 0:e.hops)||[],p=(0,a.useMemo)((()=>{const{amount:e}=c[r]||{},n=e||BigInt(0);if(!s||!Number(t)||s.address!==m.DEFAULT_WSOL)return BigInt(0);const o=m.utils.decimalize(t,s.decimals);return o<=n?BigInt(0):o-n}),[c,r,t,s]),f=!d&&100*u>12.5,g=f||!h.length||!parseFloat(t)||parseFloat(t)<0||!parseFloat(l)||parseFloat(l)<0;return(0,j.jsx)(i.Card,{bordered:!1,children:(0,j.jsxs)(i.Row,{gutter:[24,24],children:[(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(i.Typography.Title,{level:5,children:"Review & Swap"})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(he,{})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(X,{hops:h,wrapAmount:p,disabled:g,hightImpact:f})})]})})},pe=e=>{const{tokenProvider:t}=(0,o.useMint)(),{pools:s}=(0,o.usePool)(),[n,i]=(0,a.useState)([]),r=(0,a.useCallback)((async()=>{if(!e)return i([void 0]);const n=await t.findByAddress(e);if(n)return i([n]);const o=Object.values(s).find((({mint_lpt:t})=>t===e));if(!o)return i([void 0]);const{mint_a:a,mint_b:r}=o,l=await t.findByAddress(a),d=await t.findByAddress(r);return i([l,d])}),[e,s,t]);return(0,a.useEffect)((()=>{r()}),[r]),n},fe=({mintAddress:e,size:t=24,icon:s=(0,j.jsx)(k,{name:"diamond-outline"})})=>{const n=pe(e);return(0,j.jsx)(i.Avatar.Group,{style:{display:"block"},children:n.map(((e,n)=>(0,j.jsx)(i.Avatar,{src:null===e||void 0===e?void 0:e.logoURI,size:t,style:{backgroundColor:"#2D3355",border:"none"},children:s},(null===e||void 0===e?void 0:e.address)||n)))})},ge=({mintAddress:e})=>{const t=pe(e),s=(0,a.useMemo)((()=>t.map((e=>e?e.symbol:"UNKN")).join(" / ")),[t]);return(0,j.jsx)("span",{children:s})},xe={address:"",icon:"",name:"TOKEN",price:0,priceChange:0,rank:0,symbol:"TOKEN",totalVolume:0},ve=e=>{const[t,s]=(0,a.useState)(xe),{tokenProvider:n}=(0,o.useMint)(),i=(0,a.useCallback)((async()=>{if(!e)return s(xe);try{var t;const o=await n.findByAddress(e),i=null===o||void 0===o||null===(t=o.extensions)||void 0===t?void 0:t.coingeckoId,a=await L(i);return s(a)}catch(o){return s(xe)}}),[e,n]);return(0,a.useEffect)((()=>{i()}),[i]),t},ye=({mintAddress:e="",tvl:t="",symbol:s="",price:n,format:o="0,0.[00]a"})=>(0,j.jsxs)(i.Space,{direction:"vertical",size:4,children:[(0,j.jsx)(fe,{mintAddress:e}),(0,j.jsxs)(i.Space,{children:[(0,j.jsx)(i.Typography.Text,{children:"TVL:"}),(0,j.jsx)(i.Typography.Title,{level:5,children:y(t).format(o)}),(0,j.jsx)(i.Typography.Title,{level:5,children:s})]}),(0,j.jsxs)(i.Typography.Text,{className:"caption",type:"secondary",children:["~ $",y(n).format(o)]})]}),je=()=>{const{route:e}=(0,n.useSelector)((e=>e.route)),t=(0,n.useSelector)((e=>e.ask.mintInfo)),s=(0,n.useSelector)((e=>e.bid.mintInfo)),o=ve(null===t||void 0===t?void 0:t.address),r=ve(null===s||void 0===s?void 0:s.address),{dstMintInfo:l,poolData:d}=(null===e||void 0===e?void 0:e.hops.at(-1))||{},{srcMintInfo:c,poolData:u}=(null===e||void 0===e?void 0:e.hops[0])||{},h=(e,t)=>m.account.isAddress(e)&&t?oe(e,t):BigInt(0),p=(0,a.useMemo)((()=>{if(null===l||void 0===l||!l.decimals)return 0;const e=h(null===l||void 0===l?void 0:l.address,d);return Number(m.utils.undecimalize(e,l.decimals))}),[null===l||void 0===l?void 0:l.address,null===l||void 0===l?void 0:l.decimals,d]),f=(0,a.useMemo)((()=>{if(null===c||void 0===c||!c.decimals)return 0;const e=h(null===c||void 0===c?void 0:c.address,u);return Number(m.utils.undecimalize(e,c.decimals))}),[null===c||void 0===c?void 0:c.address,null===c||void 0===c?void 0:c.decimals,u]);return(0,j.jsx)(i.Card,{bordered:!1,children:(0,j.jsxs)(i.Row,{gutter:[16,16],wrap:!1,children:[(0,j.jsx)(i.Col,{span:11,children:(0,j.jsx)(ye,{mintAddress:null===s||void 0===s?void 0:s.address,tvl:f,symbol:null===s||void 0===s?void 0:s.symbol,price:f*r.price})}),(0,j.jsx)(i.Col,{children:(0,j.jsx)(i.Divider,{type:"vertical",style:{height:"100%"}})}),(0,j.jsx)(i.Col,{span:11,children:(0,j.jsx)(ye,{mintAddress:null===t||void 0===t?void 0:t.address,tvl:p,symbol:null===t||void 0===t?void 0:t.symbol,price:p*o.price})})]})})};const be=s.p+"static/media/sen.f2d012c907167ba613b035621b6423cb.svg",we=({spacing:e=4,iconSize:t=20})=>(0,j.jsxs)(i.Space,{size:e,children:[(0,j.jsx)(i.Typography.Text,{style:{fontSize:12,color:"#7A7B85"},children:"Powered by"}),(0,j.jsx)(i.Avatar,{src:be,size:t})]}),ke=({label:e,value:t,onClick:s,active:n=!1})=>(0,j.jsx)(i.Typography.Text,{style:{cursor:"pointer",color:n?"#F9575E":"inherit"},onClick:()=>s(t),children:e}),Ce=({value:e,onChange:t})=>(0,j.jsxs)(i.Row,{gutter:[8,8],children:[(0,j.jsx)(i.Col,{span:24,children:(0,j.jsxs)(i.Row,{gutter:[8,8],wrap:!1,children:[(0,j.jsx)(i.Col,{flex:"auto",children:(0,j.jsx)(i.Typography.Text,{type:"secondary",style:{fontSize:12},children:"Slippage Tolerance"})}),(0,j.jsx)(i.Col,{children:(0,j.jsx)(i.Tooltip,{placement:"right",title:(0,j.jsxs)("span",{children:["Your transaction will be canceled if the confirmed price breaks the limited range of"," ",(0,j.jsx)("strong",{style:{color:"#f9575e"},children:100*e+"%."})]}),children:(0,j.jsx)(i.Button,{type:"text",shape:"circle",size:"small",icon:(0,j.jsx)(k,{name:"information-circle-outline"})})})})]})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(i.Row,{gutter:[8,8],wrap:!1,justify:"space-between",children:[.001,.005,.01,.05,1].map(((s,n)=>(0,j.jsx)(i.Col,{children:(0,j.jsx)(ke,{label:1===s?"Freely":100*s+"%",value:s,onClick:t,active:s===e})},n)))})})]}),Se=({value:e,onChange:t})=>(0,j.jsxs)(i.Row,{gutter:[8,8],children:[(0,j.jsx)(i.Col,{span:24,children:(0,j.jsxs)(i.Row,{gutter:[8,8],wrap:!1,children:[(0,j.jsx)(i.Col,{flex:"auto",children:(0,j.jsx)(i.Typography.Text,{type:"secondary",style:{fontSize:12},children:"Advanced Mode"})}),(0,j.jsx)(i.Col,{children:(0,j.jsx)(i.Switch,{size:"small",checkedChildren:(0,j.jsx)(k,{name:"calculator-outline"}),unCheckedChildren:(0,j.jsx)(k,{name:"sparkles-outline"}),checked:e,onChange:t})})]})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsxs)(i.Typography.Paragraph,{style:{fontSize:12,textAlign:"justify"},children:[(0,j.jsx)(k,{name:"warning-outline"})," This advanced mode will disable the automatic protection that often results in bad rates and lost funds. Only use this mode if you know what you are doing."]})})]});var Ae=s(19289);const Te="settings",Ie=(0,Ae.createAsyncThunk)(`${Te}/updateSettings`,(async e=>({...e}))),Me=(0,Ae.createSlice)({name:Te,initialState:{slippage:.01,advanced:!1},reducers:{},extraReducers:e=>{e.addCase(Ie.fulfilled,((e,{payload:t})=>{Object.assign(e,t)}))}}).reducer,Re=()=>{const e=(0,n.useDispatch)(),{slippage:t,advanced:s}=(0,n.useSelector)((e=>e.settings));return(0,j.jsxs)(i.Row,{gutter:[4,4],justify:"end",align:"middle",wrap:!1,children:[(0,j.jsx)(i.Col,{children:(0,j.jsx)(we,{})}),(0,j.jsx)(i.Col,{children:(0,j.jsx)(i.Divider,{type:"vertical",style:{padding:0}})}),(0,j.jsx)(i.Col,{children:(0,j.jsx)(i.Popover,{placement:"bottomRight",overlayInnerStyle:{width:300},content:(0,j.jsxs)(i.Row,{gutter:[8,8],children:[(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(i.Typography.Title,{level:5,children:"Settings"})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(Ce,{value:t,onChange:t=>e(Ie({slippage:t}))})}),(0,j.jsx)(i.Divider,{style:{marginTop:8,marginBottom:8}}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(Se,{value:s,onChange:t=>e(Ie({advanced:t}))})})]}),trigger:"click",children:(0,j.jsx)(i.Button,{type:"text",shape:"circle",size:"small",icon:(0,j.jsx)(k,{name:"settings-outline"})})})})]})};var De=s(36498);const Be=({onChange:e,isSupportedMint:t,disabled:s=!1})=>{const[n,r]=(0,a.useState)(""),{tokenProvider:l}=(0,o.useMint)(),d=(0,a.useCallback)((async()=>{if(!n||n.length<3)return e(null);const s=(await l.find(n)).filter((({address:e})=>t(e)));return e(s)}),[n,l,e,t]);return(0,a.useEffect)((()=>{d()}),[d]),(0,j.jsx)(i.Card,{className:"card-child",bodyStyle:{padding:8},bordered:!1,children:(0,j.jsx)(i.Input,{placeholder:"Search",value:n,size:"small",bordered:!1,suffix:(0,j.jsx)(i.Button,{type:"text",style:{marginRight:-7},size:"small",onClick:n?()=>r(""):()=>{},icon:(0,j.jsx)(k,{name:n?"close-outline":"search-outline"}),disabled:s}),onChange:e=>r(e.target.value),disabled:s})})},Ne=({logoURI:e,symbol:t,name:s,onClick:n,active:o=!1})=>(0,j.jsx)(i.Card,{className:"card-child"+(o?" active":""),bodyStyle:{padding:"8px 16px",cursor:"pointer"},bordered:o,onClick:n,hoverable:!0,children:(0,j.jsx)(i.Row,{gutter:[16,16],children:(0,j.jsx)(i.Col,{span:24,children:(0,j.jsxs)(i.Space,{size:12,style:{marginLeft:-4},children:[(0,j.jsx)(i.Avatar,{src:e,size:32,style:{backgroundColor:"#2D3355",border:"none"},children:(0,j.jsx)(k,{name:"diamond-outline"})}),(0,j.jsx)(i.Typography.Text,{style:{margin:0},children:t}),(0,j.jsx)(i.Divider,{type:"vertical",style:{margin:0}}),(0,j.jsx)(i.Typography.Text,{type:"secondary",style:{margin:0,fontSize:12},children:s})]})})})}),ze=({value:e,onChange:t})=>{const[s,n]=(0,a.useState)([]),{pools:r}=(0,o.usePool)(),{tokenProvider:l}=(0,o.useMint)(),d=(0,a.useMemo)((()=>r?Object.keys(r).map((e=>{const{mint_a:t,mint_b:s}=r[e];return[t,s]})).flat().filter(((e,t,s)=>s.indexOf(e)===t)):[]),[r]),c=(0,a.useCallback)((e=>d.includes(e)),[d]),u=(0,a.useCallback)((async e=>{if(e)return n(e);const t=(await l.all()).filter((({address:e})=>c(e)));return n(t)}),[l,c]),h=(0,a.useCallback)((e=>{const t=null===e||void 0===e?void 0:e.address;return m.account.isAddress(t)?Object.keys(r).filter((e=>{const{mint_a:s,mint_b:n}=r[e];return[s,n].includes(t)})):[]}),[r]),p=(0,a.useMemo)((()=>(0,j.jsx)(i.Row,{gutter:[16,16],children:s.map(((s,n)=>{const{logoURI:o,symbol:a,name:r,address:l}=s,{address:d}=e.mintInfo||{};return(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(De.ZP,{height:48,overflow:!0,children:(0,j.jsx)(Ne,{logoURI:o,symbol:a,name:r,onClick:()=>(e=>{const s=h(e);return t({mintInfo:e,poolAddress:void 0,poolAddresses:s})})(s),active:d===l})})},r+n)}))})),[h,t,s,e]);return(0,j.jsxs)(i.Row,{gutter:[16,16],children:[(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(i.Typography.Title,{level:5,children:"Token Selection"})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(i.Divider,{style:{margin:0}})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(Be,{onChange:u,isSupportedMint:c})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsxs)(i.Row,{gutter:[16,16],style:{height:300,overflow:"auto"},children:[(0,j.jsx)(i.Col,{span:24,children:p}),(0,j.jsx)(i.Col,{span:24})]})})]})},Pe=({value:e,onChange:t})=>{const[s,n]=(0,a.useState)(!1);(0,a.useEffect)((()=>{s&&setTimeout(De.be,500)}),[s]);const{logoURI:o,symbol:r}=(null===e||void 0===e?void 0:e.mintInfo)||{};return(0,j.jsxs)(a.Fragment,{children:[(0,j.jsxs)(i.Space,{style:{cursor:"pointer"},onClick:()=>n(!0),children:[(0,j.jsx)(i.Avatar,{size:24,src:o,style:{backgroundColor:"#2D3355",border:"none"},children:(0,j.jsx)(k,{name:"diamond-outline"})}),(0,j.jsx)(i.Typography.Text,{type:"secondary",style:{margin:0},children:r||"TOKEN"}),(0,j.jsx)(i.Divider,{type:"vertical",style:{marginLeft:4}})]}),(0,j.jsx)(i.Modal,{visible:s,onCancel:()=>n(!1),closeIcon:(0,j.jsx)(k,{name:"close"}),footer:null,destroyOnClose:!0,centered:!0,children:(0,j.jsx)(i.Row,{gutter:[16,16],children:(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(ze,{value:e,onChange:e=>(n(!1),t(e))})})})})]})},Le=(0,Ae.createAsyncThunk)("ask/updateAskData",(async({prioritized:e,reset:t,...s},{getState:n})=>{const{bid:{priority:o},ask:{priority:i}}=n();return{...s,priority:t?0:e?o+1:i}})),Ee=(0,Ae.createSlice)({name:"ask",initialState:{amount:"",accountAddress:"",poolAddresses:[],priority:0},reducers:{},extraReducers:e=>{e.addCase(Le.fulfilled,((e,{payload:t})=>{Object.assign(e,t)}))}}).reducer;let _e;const Fe=(0,a.forwardRef)((({max:e,onChange:t,...s},n)=>{var o;const[r,l]=(0,a.useState)(""),[d,c]=(0,a.useState)(null),u=(0,a.useRef)(n),h=(0,a.useCallback)((s=>{const n=e=>{_e&&(clearTimeout(_e),_e=void 0),l(e),_e=setTimeout((()=>l("")),500)};return/^\d*(\.\d*)?$/.test(s)?e&&parseFloat(s)>parseFloat(e)?n("Not enough balance"):t(s):n("Invalid character")}),[e,t]);return null===u||void 0===u||null===(o=u.current)||void 0===o||o.setSelectionRange(d,d),(0,j.jsx)(i.Tooltip,{title:(0,j.jsxs)(i.Space,{children:[(0,j.jsx)(k,{name:"warning"}),r]}),visible:!!r,children:(0,j.jsx)(i.Input,{...s,onChange:e=>{c(e.target.selectionStart),h(e.target.value||"")},ref:u})})})),Ue=e=>{const[t,s]=(0,a.useState)(0),{tokenProvider:n,getMint:i}=(0,o.useMint)(),r=(0,a.useCallback)((async()=>{if(!e)return s(0);const t=await n.findByAddress(e);if(t)return s(t.decimals);try{const t=await i({address:e});return s(t[e].decimals)}catch(o){}return s(0)}),[i,e,n]);return(0,a.useEffect)((()=>{r()}),[r]),t},qe=e=>{const{accounts:t}=(0,o.useAccount)(),{wallet:s}=(0,o.useWallet)(),{amount:n,mint:i}=(0,a.useMemo)((()=>e===s.address?{amount:s.lamports,mint:"11111111111111111111111111111111"}:t[e]||{}),[e,t,s.address,s.lamports]),r=Ue(i);return(0,a.useMemo)((()=>({balance:m.utils.undecimalize(n,r),mint:i,amount:n,decimals:r})),[n,r,i])};const Ze={appId:"sen_swap",url:"https://descartesnetwork.github.io/sen-swap/index.js",senhub:"senhub@https://descartesnetwork.github.io/senhub/index.js"},We={devnet:{node:"https://api.devnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},testnet:{node:"https://api.testnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},mainnet:{node:"https://api.mainnet-beta.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}},Ye={devnet:{bidDefault:"2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj",askDefault:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ"},testnet:{bidDefault:"",askDefault:""},mainnet:{bidDefault:"",askDefault:""}},Ke={devnet:{wormholeAddress:"rRsXLHe7sBHdyKU3KY3wbcgWvoT1Ntqudf6e9PKusgb"},testnet:{wormholeAddress:"rRsXLHe7sBHdyKU3KY3wbcgWvoT1Ntqudf6e9PKusgb"},mainnet:{wormholeAddress:"rRsXLHe7sBHdyKU3KY3wbcgWvoT1Ntqudf6e9PKusgb"}},Oe={manifest:{development:{...Ze},staging:{...Ze},production:{...Ze}}[g.OB],sol:We[g.ef],swap:Ye[g.ef],wormhole:Ke[g.ef]},Qe={accountAddress:"",poolAddresses:[]},Ge=e=>{const{wallet:t}=(0,o.useWallet)(),{tokenProvider:s}=(0,o.useMint)(),{pools:n}=(0,o.usePool)(),[i,r]=(0,a.useState)(Qe),l=(0,a.useCallback)((async()=>{if(!m.account.isAddress(e)||!Object.keys(n).length)return r(Qe);const o=await s.findByAddress(e);if(!o)return r(Qe);const{splt:i}=window.sentre,a=await i.deriveAssociatedAddress(t.address,e),l=Object.keys(n).filter((t=>{const{mint_a:s,mint_b:o}=n[t];return[s,o].includes(e)}));r({accountAddress:a,mintInfo:o,poolAddress:"",poolAddresses:l})}),[e,n,s,t.address]);return(0,a.useEffect)((()=>{l()}),[l]),i},He=()=>{var e;const t=(0,n.useDispatch)(),{wallet:s}=(0,o.useWallet)(),r=(0,n.useSelector)((e=>e.ask)),{balance:l}=qe(r.accountAddress),d=Ge(Oe.swap.askDefault);(0,a.useEffect)((()=>{r.accountAddress||t(Le(d))}),[r.accountAddress,t,d]);const c=(0,a.useMemo)((()=>({mintInfo:r.mintInfo,poolAddresses:r.poolAddresses})),[r]);return(0,j.jsxs)(i.Row,{gutter:[8,8],children:[(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(i.Typography.Text,{children:"To"})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(Fe,{placeholder:"0",value:r.amount,onChange:e=>t(Le({amount:e,prioritized:!0})),size:"large",prefix:(0,j.jsx)(Pe,{value:c,onChange:async e=>{const{splt:n}=window.sentre,{address:o}=e.mintInfo||{};if(!m.account.isAddress(o))return t(Le({...e}));const i=await n.deriveAssociatedAddress(s.address,o);t(Le({accountAddress:i,...e}))}})})}),(0,j.jsx)(i.Col,{flex:"auto"}),(0,j.jsx)(i.Col,{className:"caption",children:(0,j.jsxs)(i.Typography.Text,{type:"secondary",children:["Available: ",y(l||0).format("0,0.[00]")," ",(null===(e=c.mintInfo)||void 0===e?void 0:e.symbol)||"TOKEN"]})})]})},Ve="#F9575E",Je=()=>(0,j.jsxs)(i.Space,{size:4,children:[(0,j.jsx)(i.Tag,{style:{margin:0,borderRadius:4,color:E(Ve)},color:E(Ve,.2),children:"Wormhole Bridge"}),(0,j.jsx)(i.Typography.Text,{type:"secondary",children:"Supported"})]}),Xe=(0,Ae.createAsyncThunk)("bid/updateBidData",(async({prioritized:e,reset:t,...s},{getState:n})=>{const{bid:{priority:o},ask:{priority:i}}=n();Number(s.amount)<0&&(s.amount=void 0);const a=t?0:e?i+1:o;return{...s,priority:a}})),$e=(0,Ae.createSlice)({name:"bid",initialState:{amount:"",accountAddress:"",poolAddresses:[],priority:0},reducers:{},extraReducers:e=>{e.addCase(Xe.fulfilled,((e,{payload:t})=>{Object.assign(e,t)}))}}).reducer;var et=s(52222),tt=s(53933);const st={mainnet:"worm2ZoG2kUd4vFXhvjh93UUH596ayRfgQ2MgjNMTth",testnet:"Brdguy7BmNB4qwEbcqqMbyV5CyJd2sxQNUn6NEpMSsUb",devnet:"3u8hJUVTA4jH1wYAyUur7FFZVQ8H635K3tSHHF4ssjQ5"},nt={mainnet:"wormDTUJ6AWPNvk59vGQbDvGJmqbDTdgWgAqcLBCgUb",testnet:"A4Us8EhCC76XdGAN17L4KpRNEK423nMivVHZzZqFqqBg",devnet:"DZnkkTmCiFWfYTfT41X3Rd1kDgozqzxWaHqsw6W4x2oe"},ot=()=>tt.Z.get("network")||"mainnet",it=async e=>{const t=(()=>{const e=ot();return{chainId:et.rQ,tokenBridgeAddress:nt[e],bridgeAddress:st[e]}})();return(0,et._b)(window.sentre.splt.connection,t.tokenBridgeAddress,e)},at=()=>{var e;const t=(0,n.useDispatch)(),{wallet:{address:s,lamports:r}}=(0,o.useWallet)(),l=(0,n.useSelector)((e=>e.bid)),{getMint:d}=(0,o.useMint)(),[c,u]=(0,a.useState)(!1),{balance:h,decimals:p,mint:f,amount:g}=qe(l.accountAddress),x=Ge(Oe.swap.bidDefault);(0,a.useEffect)((()=>{l.accountAddress||t(Xe(x))}),[l.accountAddress,t,x]);const v=(0,a.useMemo)((()=>({mintInfo:l.mintInfo,poolAddresses:l.poolAddresses})),[l]),b=(0,a.useMemo)((()=>{if(f!==m.DEFAULT_WSOL)return h;const e=m.utils.decimalize(.01,p),t=r+g-e;return t<=g?m.utils.undecimalize(g,p):m.utils.undecimalize(t,p)}),[g,h,p,r,f]),w=(0,a.useCallback)((e=>t(Xe({amount:e,prioritized:!0}))),[t]);return(0,a.useEffect)((()=>{(async()=>{var e;const t=null===v||void 0===v||null===(e=v.mintInfo)||void 0===e?void 0:e.address;if(!m.account.isAddress(t))return;const s=await it(t);u(s)})()}),[d,v]),(0,j.jsxs)(i.Row,{gutter:[8,8],children:[(0,j.jsx)(i.Col,{flex:"auto",children:(0,j.jsx)(i.Typography.Text,{children:"From"})}),c&&(0,j.jsx)(i.Col,{children:(0,j.jsx)(Je,{})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(Fe,{placeholder:"0",value:l.amount,onChange:w,size:"large",prefix:(0,j.jsx)(Pe,{value:v,onChange:async e=>{const{splt:n}=window.sentre,{address:o}=e.mintInfo||{};if(!m.account.isAddress(o))return t(Xe({...e}));const i=await n.deriveAssociatedAddress(s,o);return t(Xe({accountAddress:i,...e}))}}),suffix:(0,j.jsx)(i.Button,{type:"text",size:"small",style:{fontSize:12,marginRight:-7},onClick:()=>w(h),children:"MAX"}),max:b})}),(0,j.jsx)(i.Col,{flex:"auto"}),(0,j.jsx)(i.Col,{className:"caption",children:(0,j.jsxs)(i.Typography.Text,{type:"secondary",children:["Available: ",y(b||0).format("0,0.[00]")," ",(null===(e=v.mintInfo)||void 0===e?void 0:e.symbol)||"TOKEN"]})})]})},rt="route",lt={route:{amount:"",amounts:[],hops:[]}},dt=(0,Ae.createAsyncThunk)("route/updateRouteInfo",(async({route:e},{getState:t})=>{const{route:s}=t();return e?{route:e}:{route:s}})),ct=(0,Ae.createSlice)({name:rt,initialState:lt,reducers:{},extraReducers:e=>{e.addCase(dt.fulfilled,((e,{payload:t})=>{Object.assign(e,t)}))}}).reducer,ut=({spacing:e=12})=>{const t=(0,n.useDispatch)(),[s,r]=(0,a.useState)(new ne),l=(0,n.useSelector)((e=>e.bid)),d=(0,n.useSelector)((e=>e.ask)),{pools:c}=(0,o.usePool)(),u=(0,a.useCallback)((async()=>{const{amount:e,priority:s,...n}=l,{amount:o,priority:i,...a}=d,r=s>i?e:o,c=s>i?Le:Xe;await t(Xe({...a,amount:"",reset:!0})),await t(Le({...n,amount:"",reset:!0})),await t(c({amount:r,prioritized:!0}))}),[t,d,l]),h=(0,a.useCallback)((async()=>{const{poolAddresses:e,mintInfo:t,amount:s,priority:n}=l,{poolAddresses:o,mintInfo:i,amount:a,priority:u}=d,{address:h}=t||{},p=e.map((e=>({address:e,...c[e]}))),{address:f}=i||{},g=o.map((e=>({address:e,...c[e]})));let x=new ne;if(!Number(s)&&!Number(a)||!m.account.isAddress(h)||!m.account.isAddress(f)||!p.length||!g.length||!t)return r(x);let v=new Array;const y={mints:[h],pools:[]},j=(e=>{const t=new Map;for(const s in e){const n=e[s];1===(null===n||void 0===n?void 0:n.state)&&[n.mint_a,n.mint_b].forEach((e=>{var o;t.has(e)||t.set(e,new Map),null===(o=t.get(e))||void 0===o||o.set(s,n)}))}return t})(c);return ie(v,j,h,f,y),v.length?(x=u<n?await(async(e,t,s,n)=>{let o=new ne;for(let i of t){const t=await ae(e,i.pools,s,n);if(!t.length)continue;let a=s.amount;const r=new Array;t.forEach((e=>{r.push(a),a=le(a,e)}));const l=Number(o.amount);Number(a)>l&&(o={hops:t,amounts:r,amount:a})}return o})(c,v,l,d):await(async(e,t,s,n)=>{let o=new ne;for(let a of t)try{const t=await ae(e,a.pools,s,n);if(!t.length)continue;const i=[...t].reverse();let r=n.amount;const l=new Array;for(const e of i){if(r=de(r,e),Number(r)<0)break;l.unshift(r)}if(Number(r)<0)continue;const d=Number(o.amount);(!d||Number(r)<d)&&(o={hops:t,amounts:l,amount:r})}catch(i){}return o})(c,v,l,d),r(x)):r(x)}),[d,l,c]),p=(0,a.useCallback)((()=>{const e=l.priority,n=d.priority;n<e&&t(Le({amount:s.amount})),e<n&&t(Xe({amount:s.amount})),t(dt({route:{...s}}))}),[d.priority,s,l.priority,t]);return(0,a.useEffect)((()=>{p()}),[p]),(0,a.useEffect)((()=>{h()}),[h]),(0,j.jsxs)(i.Row,{gutter:[e,e],justify:"center",children:[(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(at,{})}),(0,j.jsx)(i.Col,{children:(0,j.jsx)(i.Button,{size:"small",icon:(0,j.jsx)(k,{name:"git-compare-outline"}),onClick:u})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(He,{})})]})},ht=()=>(0,j.jsxs)(i.Row,{gutter:[24,24],children:[(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(i.Row,{gutter:[8,8],justify:"end",align:"middle",wrap:!1,children:(0,j.jsx)(i.Col,{children:(0,j.jsx)(Re,{})})})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(ut,{})})]}),mt=()=>(0,j.jsxs)(i.Row,{gutter:[24,24],children:[(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(i.Card,{bordered:!1,className:"card-swap",children:(0,j.jsx)(ht,{})})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(me,{})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(je,{})})]}),pt={success:[20,224,65],pending:[212,177,6],error:[215,35,17],failed:[215,35,17]},ft=({tag:e})=>{const t=t=>{let s=pt[e];return`rgba(${s[0]},  ${s[1]}, ${s[2]},${t||1})`};return(0,j.jsx)(i.Tag,{style:{margin:0,borderRadius:4,color:t(),textTransform:"capitalize"},color:t(.1),children:e})},gt="0,00.[0000]a",xt=[{title:"TIME",dataIndex:"time"},{title:"TRANSACTION",dataIndex:"transactionId",render:e=>(0,j.jsxs)(i.Space,{align:"baseline",children:[(0,j.jsx)(i.Typography.Text,{onClick:()=>window.open(v(e),"_blank"),style:{fontWeight:700,cursor:"pointer"},children:x(e,3,"...")}),(0,j.jsx)(i.Button,{type:"text",size:"small",onClick:()=>window.open(v(e),"_blank"),icon:(0,j.jsx)(k,{name:"open-outline"})})]})},{title:"BID",dataIndex:"bid",render:(e,t)=>t.from?(0,j.jsxs)(i.Space,{size:8,children:[(0,j.jsx)(fe,{mintAddress:t.from}),y(t.amountFrom).format(gt),(0,j.jsx)(ge,{mintAddress:t.from})]}):"--"},{title:"ASK",dataIndex:"ask",render:(e,t)=>t.to?(0,j.jsxs)(i.Space,{size:8,children:[(0,j.jsx)(fe,{mintAddress:t.to}),y(t.amountTo).format(gt),(0,j.jsx)(ge,{mintAddress:t.to})]}):"--"},{title:"STATUS",dataIndex:"status",width:100,render:(e,t)=>(0,j.jsx)(ft,{tag:t.status})}];class vt{constructor(){this.programId="",this.programInfo=void 0,this.signature="",this.blockTime=0,this.time=0,this.owner="",this.actionType="",this.actionTransfers=[],this.programTransfer=[]}}class yt{constructor(){this.address="",this.mint="",this.decimals=0,this.preBalance="0",this.postBalance="0"}}class jt{constructor(){this.source=void 0,this.destination=void 0,this.amount="0"}}var bt=s(71256);const wt=700;class kt{constructor(){this.conn=window.sentre.splt.connection}async fetchSignatures(e,t,s=700){s>wt&&(s=wt);const n={limit:s,before:t};return this.conn.getConfirmedSignaturesForAddress2(e,n)}async fetchConfirmTransaction(e){let t=[];const s=[];for(let o=0;o<=e.length/150;o++){const t=150*o,n=e.slice(t,t+150);s.push(this.conn.getParsedConfirmedTransactions(n))}const n=await Promise.all(s);for(const o of n)t=t.concat(o);return t}async fetchTransactions(e,t){const s=(new Date).getTime()/1e3;let{secondFrom:n,secondTo:o,lastSignature:i,limit:a}=t;n=Math.floor(n||0),o=Math.floor(o||s);const r=new bt.PublicKey(e);let l=[],d=!1;for(;!d;){const e=await this.fetchSignatures(r,i,a);if(null===e||void 0===e||!e.length||d)break;for(const t of e){const e=t.blockTime;if(e&&!(e>o)){if(e<n){d=!0;break}i=t.signature,l.push(t.signature)}}if(a&&l.length>=a)break;if((null===e||void 0===e?void 0:e.length)<wt)break}return await this.fetchConfirmTransaction(l)}}let Ct;!function(e){e.Transfer="transfer"}(Ct||(Ct={}));const St=1e3;let At;!function(e){e.YMD="YYYYMMDD",e.SortableTimePattern="YYYY-MM-DD HH:mm:ss"}(At||(At={}));class Tt{constructor(){this.milliSeconds=(new Date).valueOf()}setMilliSeconds(e){this.milliSeconds=e}static fromSeconds(e){const t=new Tt,s=e*St;return t.setMilliSeconds(s),t}static fromYmd(e){const t=new Tt,s=l()(e,At.YMD).valueOf();return t.setMilliSeconds(s),t}static getListDate(e,t){const s=[];let n=Tt.fromYmd(e);const o=Tt.fromYmd(t);for(;n.ymd()<=o.ymd();)s.push(n.ymd()),n=n.addDay();return s}format(e){const t=new Date(this.milliSeconds);return l()(t).format(e)}subtractDay(e=1){const t=l()(this.milliSeconds).subtract(e,"days").valueOf();return Tt.fromSeconds(t/St)}addDay(e=1){const t=l()(this.milliSeconds).add(e,"days").valueOf();return Tt.fromSeconds(t/St)}seconds(){return(this.milliSeconds-this.milliSeconds%St)/St}ymd(){return Number(this.format(At.YMD))}static today(e=At.YMD){return l()().format(e)}}class It{constructor(){this.solana=void 0,this.solana=new kt}async collect(e,t,s){let{lastSignature:n,limit:o}=t,i=!1,a=[],r=n;for(;!i;){const n=await this.solana.fetchTransactions(e,{...t,lastSignature:r});for(const e of n){r=e.transaction.signatures[0];const t=this.parseTransLog(e);t&&a.push(t)}if(!s)break;if(a=a.filter((e=>s(e))),!n.length||i)break;if(o&&a.length>=o){i=!0;break}}return a}parseTransLog(e){var t,s;const{blockTime:n,meta:o,transaction:i}=e;if(!n||!o)return;const{postTokenBalances:a,preTokenBalances:r,postBalances:l,preBalances:d}=o,{signatures:c,message:u}=i,h=(null===(t=o.innerInstructions)||void 0===t||null===(s=t[0])||void 0===s?void 0:s.instructions)||[],m=u.instructions[0]||[],p=new vt;p.signature=c[0],p.blockTime=n,p.time=Tt.fromSeconds(n).ymd(),p.programId=m.programId.toString();const f=this.parseAccountInfo(u.accountKeys,a||[],r||[],l,d);return this.isParsedInstruction(m)?(p.programTransfer=this.parseAction([m],f),p):(p.actionTransfers=this.parseAction(h,f),p.programInfo={programId:m.programId.toString(),data:m.data},p)}isParsedInstruction(e){return void 0!==e.parsed}parseAction(e,t){const s=[];for(const n of e){if(!this.isParsedInstruction(n))continue;const e=n.parsed||{};if(e.type===Ct.Transfer){const n=e.info,o=this.parseActionTransfer(n,t);o&&s.push(o)}}return s}parseActionTransfer(e,t){const{source:s,destination:n,amount:o,lamports:i}=e,a=o||i.toString();if(!a||!t.has(s)||!t.has(n))return;const r=new jt;return r.source=t.get(s),r.destination=t.get(n),r.amount=a,r}parseAccountInfo(e,t,s,n,o){const i=new Map;for(const a of t){const{accountIndex:t,mint:s,uiTokenAmount:n}=a,o=new yt;o.address=e[t].pubkey.toString(),o.postBalance=n.amount,o.mint=s,o.decimals=n.decimals,i.set(o.address,o)}for(const a of s){const{accountIndex:t,uiTokenAmount:s}=a,n=e[t].pubkey.toString(),o=i.get(n)||new yt;o.preBalance=s.amount,i.set(o.address,o)}return e.forEach(((e,t)=>{const s=e.pubkey.toString();if(!m.account.isAssociatedAddress(s)){const e=i.get(s)||new yt;e.address=s,e.mint="11111111111111111111111111111111",e.postBalance=String(n[t]||0),e.preBalance=String(o[t]||0),e.decimals=9,i.set(e.address,e)}})),i}}const Mt="history",Rt=e=>!!e.actionTransfers.length,Dt=(0,Ae.createAsyncThunk)("history/fetchHistorySwap",(async({lastSignature:e,isLoadMore:t},{getState:s})=>{var n;const{sol:{swapAddress:o}}=T.Z,{history:{historySwap:i}}=s(),a=await(null===(n=window.sentre.wallet)||void 0===n?void 0:n.getAddress());if(!a)throw Error("Loggin first");const r={limit:20,lastSignature:e},d=new It,c=await d.collect(a,r,Rt);let u=[];t&&(u=[...i]);for(const v of c){var h,p,f,g,x;const e={},t=v.actionTransfers;let s;const n=t[0];t.length>1&&(s=t.at(-1));if(v.programId!==o)continue;const i=new Date(1e3*v.blockTime);e.time=l()(i).format("DD MMM, YYYY hh:mm"),e.amountFrom=n.destination?Number(m.utils.undecimalize(BigInt(n.amount),n.destination.decimals)):void 0,e.amountTo=null!==(h=s)&&void 0!==h&&h.destination?Number(m.utils.undecimalize(BigInt(s.amount),s.destination.decimals)):void 0,e.from=null===(p=n.destination)||void 0===p?void 0:p.mint,e.to=null===(f=s)||void 0===f||null===(g=f.destination)||void 0===g?void 0:g.mint,e.transactionId=v.signature,e.key=v.signature,e.status=n.destination&&null!==(x=s)&&void 0!==x&&x.destination?"success":"failed",u.push(e)}return{historySwap:u}})),Bt=(0,Ae.createSlice)({name:Mt,initialState:{historySwap:[]},reducers:{},extraReducers:e=>{e.addCase(Dt.fulfilled,((e,{payload:t})=>{Object.assign(e,t)}))}}).reducer,Nt=()=>{const[e,t]=(0,a.useState)(5),[s,o]=(0,a.useState)(!1),{historySwap:r}=(0,n.useSelector)((e=>e.history)),l=(0,n.useDispatch)(),d=(0,a.useCallback)((async()=>{o(!0),await l(Dt({})).unwrap(),o(!1)}),[l]);(0,a.useEffect)((()=>{d()}),[d]);return(0,j.jsx)(i.Card,{bordered:!1,style:{height:438},children:(0,j.jsxs)(i.Row,{gutter:[16,24],children:[(0,j.jsx)(i.Col,{flex:"auto",children:(0,j.jsx)(i.Typography.Title,{level:5,children:"Swap history"})}),(0,j.jsx)(i.Col,{children:(0,j.jsx)(i.Button,{onClick:()=>{d(),t(5)},children:"Refresh"})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsxs)(i.Row,{justify:"center",gutter:[16,9],children:[(0,j.jsx)(i.Col,{span:24,style:{height:310},children:(0,j.jsx)(i.Table,{columns:xt,dataSource:r.slice(0,e),loading:s,pagination:!1,rowClassName:(e,t)=>t%2?"odd-row":"even-row",scroll:r.length?{x:800,y:260}:{}})}),(0,j.jsx)(i.Col,{children:(0,j.jsx)(i.Button,{onClick:()=>{const s=r.slice(0,e).length;if(r.length-s<=15){var n;const e=null===(n=r.at(-1))||void 0===n?void 0:n.transactionId;l(Dt({lastSignature:e,isLoadMore:!0}))}t(e+5)},type:"text",icon:(0,j.jsx)(k,{name:"chevron-down-outline"}),disabled:e>=r.length,children:"View more"})})]})})]})})},zt=()=>(0,j.jsxs)(i.Row,{gutter:[24,24],children:[(0,j.jsx)(i.Col,{lg:8,md:12,xs:24,children:(0,j.jsx)(mt,{})}),(0,j.jsx)(i.Col,{lg:16,md:12,xs:24,children:(0,j.jsxs)(i.Row,{gutter:[24,24],children:[(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(V,{})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(Nt,{})})]})})]}),Pt=()=>{var e,t,s,o;const a=(0,n.useSelector)((e=>e.bid)),r=(0,n.useSelector)((e=>e.ask));return(0,j.jsxs)(i.Row,{gutter:[16,24],children:[(0,j.jsx)(i.Col,{span:24,children:(0,j.jsxs)(i.Row,{align:"middle",justify:"space-between",children:[(0,j.jsx)(i.Col,{children:(0,j.jsxs)(i.Space,{direction:"vertical",children:[(0,j.jsx)(i.Typography.Text,{children:"From"}),(0,j.jsx)(i.Typography.Text,{children:(0,j.jsxs)(i.Space,{children:[(0,j.jsx)(i.Avatar,{src:null===(e=a.mintInfo)||void 0===e?void 0:e.logoURI}),null===(t=a.mintInfo)||void 0===t?void 0:t.symbol]})}),(0,j.jsx)(i.Typography.Title,{level:4,children:a.amount})]})}),(0,j.jsx)(i.Col,{children:(0,j.jsx)(k,{name:"arrow-forward-outline",style:{fontSize:24}})}),(0,j.jsx)(i.Col,{children:(0,j.jsxs)(i.Space,{direction:"vertical",children:[(0,j.jsx)(i.Typography.Text,{children:"To"}),(0,j.jsxs)(i.Space,{children:[(0,j.jsx)(i.Avatar,{src:null===(s=r.mintInfo)||void 0===s?void 0:s.logoURI}),null===(o=r.mintInfo)||void 0===o?void 0:o.symbol]}),(0,j.jsx)(i.Typography.Title,{level:4,children:r.amount})]})})]})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(i.Divider,{style:{margin:0}})}),(0,j.jsx)(i.Col,{children:(0,j.jsx)(he,{})})]})},Lt=()=>{const[e,t]=(0,a.useState)(!1),{route:s}=(0,n.useSelector)((e=>e.route)),r=(0,n.useSelector)((e=>e.bid)),l=(0,n.useSelector)((e=>e.ask)),{advanced:d}=(0,n.useSelector)((e=>e.settings)),{accounts:c}=(0,o.useAccount)(),u=ce(),h=(0,a.useMemo)((()=>{const e=r.mintInfo,t=c[r.accountAddress],s=(null===t||void 0===t?void 0:t.amount)||BigInt(0);if(!e||!Number(r.amount))return BigInt(0);if(e.address!==m.DEFAULT_WSOL)return BigInt(0);const n=m.utils.decimalize(r.amount,e.decimals);return n<=s?BigInt(0):n-s}),[c,r.accountAddress,r.amount,r.mintInfo]),p=!d&&100*u>12.5,f=!(null!==s&&void 0!==s&&s.hops.length)||!parseFloat(r.amount)||parseFloat(r.amount)<0||!parseFloat(null===l||void 0===l?void 0:l.amount)||parseFloat(null===l||void 0===l?void 0:l.amount)<0;return(0,j.jsxs)(i.Row,{gutter:[12,12],children:[(0,j.jsx)(i.Col,{span:24,children:(0,j.jsx)(ut,{spacing:12})}),(0,j.jsx)(i.Col,{span:24,children:(0,j.jsxs)(i.Row,{align:"bottom",children:[(0,j.jsx)(i.Col,{flex:"auto",children:(0,j.jsx)(i.Popover,{placement:"bottomLeft",content:(0,j.jsx)(he,{}),trigger:"click",children:(0,j.jsxs)(i.Space,{style:{cursor:"pointer"},direction:"vertical",size:4,children:[(0,j.jsxs)(i.Space,{children:[(0,j.jsx)(i.Typography.Text,{children:(0,j.jsx)(k,{name:"information-circle-outline",style:{color:"#7A7B85"}})}),(0,j.jsx)(i.Typography.Text,{type:"secondary",children:"Price impact"})]}),(0,j.jsxs)(i.Space,{children:[(0,j.jsx)(i.Typography.Text,{style:{color:"#D72311"},children:(0,j.jsx)(k,{name:"arrow-down-outline"})}),(0,j.jsx)(i.Typography.Text,{style:{color:"#D72311"},children:y(Number(u)).format("0.[0000]%")})]})]})})}),(0,j.jsx)(i.Col,{children:(0,j.jsx)(i.Button,{onClick:()=>t(!0),size:"large",block:!0,type:"primary",disabled:f,children:"Review & Swap"})})]})}),(0,j.jsx)(i.Modal,{title:(0,j.jsx)(i.Typography.Title,{level:4,children:" Confirm swap"}),onCancel:()=>t(!1),footer:(0,j.jsx)(X,{hops:(null===s||void 0===s?void 0:s.hops)||[],wrapAmount:h,onCallback:()=>t(!1),hightImpact:p,disabled:f||p}),visible:e,children:(0,j.jsx)(Pt,{})})]})};BigInt.prototype.toJSON=function(){return this.toString()};const Et={serializableCheck:{isSerializable:e=>"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||(e=>{if(null===e)return!1;const t=Object.getPrototypeOf(e);return null!==t&&null===Object.getPrototypeOf(t)})(e)||"bigint"===typeof e}},_t=(0,Ae.configureStore)({middleware:e=>e(Et),devTools:!1,reducer:{ask:Ee,bid:$e,settings:Me,route:ct,history:Bt}}),{manifest:{appId:Ft}}=Oe,Ut=()=>(0,j.jsx)(o.UIProvider,{appId:Ft,antd:!0,children:(0,j.jsx)(o.MintProvider,{children:(0,j.jsx)(o.PoolProvider,{children:(0,j.jsx)(o.AccountProvider,{children:(0,j.jsx)(o.WalletProvider,{children:(0,j.jsx)(n.Provider,{store:_t,children:(0,j.jsx)(zt,{})})})})})})}),qt={size:"small",type:"solid"},Zt=()=>(0,j.jsx)(o.UIProvider,{appId:Ft,antd:!0,children:(0,j.jsx)(o.MintProvider,{children:(0,j.jsx)(o.PoolProvider,{children:(0,j.jsx)(o.AccountProvider,{children:(0,j.jsx)(o.WalletProvider,{children:(0,j.jsx)(n.Provider,{store:_t,children:(0,j.jsx)(Lt,{})})})})})})})},31633:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s(63805),o=s(77566),i=s(77330);const a={sol:o.Z[n.ef],register:i.Z[n.OB]}},77330:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const n={sen_swap:{url:"https://descartesnetwork.github.io/sen-swap/index.js",appId:"sen_swap",name:"Sen Swap",author:{name:"Sentre",email:"hi@sentre.io"},supportedViews:"page,widget".split(",").map((e=>e.trim())).filter((e=>["page","widget"].includes(e))),tags:"solana,dapps,sentre".split(",").map((e=>e.trim())),description:"SPLT Swap for SPL tokens",verified:!1}},o={development:{extra:n,senreg:"https://descartesnetwork.github.io/senreg/register.json"},staging:{extra:n,senreg:"https://descartesnetwork.github.io/senreg/register.json"},production:{extra:{},senreg:"https://descartesnetwork.github.io/senreg/register.json"}}},77566:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const n={spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},o={devnet:{...n,node:"https://api.devnet.solana.com",chainId:103,senAddress:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ",senPoolAddress:"3EUPL7YQLbU6DNU5LZeQeHPXTf1MigJ2yASXA9rH5Ku4",swapAddress:"4erFSLP7oBFSVC1t35jdxmbfxEhYCKfoM6XdG2BLR3UF",taxmanAddress:"8UaZw2jDhJzv5V53569JbCd3bD4BnyCfBH3sjwgajGS9"},testnet:{...n,node:"https://api.testnet.solana.com",chainId:102,senAddress:"",senPoolAddress:"",swapAddress:"",taxmanAddress:""},mainnet:{...n,node:"https://api.mainnet-beta.solana.com",chainId:101,senAddress:"SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M",senPoolAddress:"",swapAddress:"SSW7ooZ1EbEognq5GosbygA3uWW1Hq1NsFq6TsftCFV",taxmanAddress:"9doo2HZQEmh2NgfT3Yx12M89aoBheycYqH1eaR5gKb3e"}}},20418:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var n=s(11796),o=s(67845),i=s(63805),a=s(31633);const r=e=>({symbol:"SOL",name:"Solana",address:"11111111111111111111111111111111",decimals:9,chainId:e,extensions:{coingeckoId:"solana"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"}),l=e=>({symbol:"SEN",name:"Sen",address:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ",decimals:9,chainId:e,extensions:{coingeckoId:"sen"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M/logo.png"}),d=[r(103),l(103),{symbol:"wBTC",name:"Wrapped Bitcoin",address:"8jk4eJymMfNZV9mkRNxJEt2VJ3pRvdJvD5FE94GXGBPM",decimals:9,chainId:103,extensions:{coingeckoId:"bitcoin"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/qfnqNqs3nCAHjnyCgLRDbBtq4p2MtHZxw8YjSyYhPoL/logo.png"},{symbol:"wETH",name:"Ethereum",address:"27hdcZv7RtuMp75vupThR3T4KLsL61t476eosMdoec4c",decimals:9,chainId:103,extensions:{coingeckoId:"ethereum"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/FeGn77dhg1KXRRFeSwwMiykZnZPw5JXW6naf2aQgZDQf/logo.png"},{symbol:"UNI",name:"Uniswap",address:"FVZFSXu3yn17YdcxLD72TFDUqkdE5xZvcW18EUpRQEbe",decimals:9,chainId:103,extensions:{coingeckoId:"uniswap"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/3MVa4e32PaKmPxYUQ6n8vFkWtCma68Ld7e7fTktWDueQ/logo.png"},{symbol:"USDC",name:"USD Coin",address:"2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj",decimals:9,chainId:103,extensions:{coingeckoId:"usd-coin"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png"}],{sol:{chainId:c}}=a.Z,u=/[\W_]+/g,h={tokenize:"full",context:!0,minlength:3},m={document:{id:"address",index:[{field:"symbol",...h},{field:"name",...h}]}};const p=class{constructor(){this.tokenMap=void 0,this.engine=void 0,this.chainId=void 0,this.cluster=void 0,this._init=async()=>{if(this.tokenMap.size)return this.tokenMap;let e=await(await(new o.DK).resolve()).filterByChainId(this.chainId).getList();return"devnet"===this.cluster&&(e=e.concat(d)),e="testnet"===this.cluster?e.concat([l(102),r(102)]):e.concat([r(101)]),e.forEach((e=>this.tokenMap.set(e.address,e))),this.tokenMap},this._engine=async()=>{if(this.engine)return this.engine;const e=await this._init();return this.engine=new n.Document(m),e.forEach((({address:e,...t})=>this.engine.add(e,t))),this.engine},this.all=async()=>{const e=await this._init();return Array.from(e.values())},this.findByAddress=async e=>(await this._init()).get(e),this.find=async(e,t)=>{const s=await this._init(),n=await this._engine();let o=[];return e.split(u).forEach((e=>n.search(e,t).forEach((({result:e})=>e.forEach((e=>{if(o.findIndex((({address:t})=>t===e))<0){const t=s.get(e);t&&o.push(t)}})))))),o},this.tokenMap=new Map,this.engine=void 0,this.chainId=c,this.cluster=i.ef,this._init()}}},63805:(e,t,s)=>{"use strict";s.d(t,{OB:()=>o,ef:()=>i});var n=s(53933);const o="production",i=(()=>{switch(n.Z.get("network")){case"devnet":return"devnet";case"testnet":return"testnet";default:return"mainnet"}})()},53933:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});const n="sentre",o=window.localStorage,i=e=>{if(!e)return null;try{return JSON.parse(e)}catch(t){return null}},a={set:(e,t)=>{let s=i(o.getItem(n));s&&"object"===typeof s||(s={}),s[e]=t,o.setItem(n,JSON.stringify(s))},get:e=>{let t=i(o.getItem(n));return t&&"object"===typeof t?t[e]:null},clear:e=>{a.set(e,null)}},r=a},88677:()=>{},46601:()=>{},89214:()=>{},85568:()=>{},34845:()=>{},52361:()=>{},94616:()=>{},33370:()=>{},55024:()=>{}}]);
//# sourceMappingURL=106.10fe5d17.chunk.js.map