{"version":3,"file":"static/js/425.0c175bcc.chunk.js","mappings":"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","sources":["shared/antd/ionicon/assets/icon-telegram.svg","shared/antd/ionicon/customs.tsx","shared/antd/ionicon/index.tsx","shared/antd/mint/mintAvatar.tsx","shared/antd/mint/mintName.tsx","shared/antd/mint/mintSymbol.tsx","app/view/chart/cross.tsx","app/view/chart/chart.tsx","app/view/chart/chartEmpty.tsx","app/components/poweredByCoingecko.tsx","app/helper/cgk.ts","app/view/chart/index.tsx","app/static/images/jupiter-logo.svg","app/components/poweredByJupiter.tsx","app/model/route.controller.ts","app/components/preview/routeAvatar.tsx","app/components/preview/price.tsx","app/constant/swap.ts","app/helper/utils.ts","app/components/preview/index.tsx","app/hooks/useMintCgk.ts","app/configs/manifest.config.ts","app/configs/sol.config.ts","app/configs/swap.config.ts","app/configs/wormhole.config.ts","app/configs/route.config.ts","app/configs/index.ts","app/components/validateSwap/index.tsx","app/model/bid.controller.ts","app/model/ask.controller.ts","shared/hooks/useMintDecimals.ts","shared/hooks/useAccountBalance.ts","app/hooks/useDisabledSwap.ts","app/hooks/usePoolTvl.ts","app/hooks/useMintTotalValue.ts","app/hooks/senswap/useHandleSwap.ts","app/helper/oracle.ts","app/helper/router.ts","app/hooks/senswap/useBestRoute.ts","app/hooks/senswap/index.ts","app/hooks/jupiter/jupiterWalletWrapper.ts","app/hooks/jupiter/useJupiterAggregator.ts","app/components/swapAction/swapButton.tsx","app/hooks/useWrapSol.ts","app/hooks/senswap/useSenSwapValidator.ts","app/components/swapAction/index.tsx","app/components/confirmSwap.tsx","app/view/swap/swapReview.tsx","app/view/swap/poolInfo/mintPoolInfo.tsx","app/view/swap/poolInfo/index.tsx","app/constant/ethConfig.ts","app/constant/solConfig.ts","app/helper/wormhole.ts","app/components/bid/wormholeSupported.tsx","app/static/images/sen.svg","app/components/poweredBySentre.tsx","app/components/settings/slippage.tsx","app/components/settings/advanced.tsx","app/model/settings.controller.ts","app/components/settings/enhancement.tsx","app/components/settings/index.tsx","app/components/selection/search.tsx","app/components/selection/mint.tsx","app/components/selection/mintSelection.tsx","app/components/selection/index.tsx","shared/antd/numericInput.tsx","app/hooks/useMintSelection.ts","app/components/ask/index.tsx","app/components/bid/index.tsx","app/components/swapForm/swapInput.tsx","app/components/swapForm/index.tsx","app/view/swap/index.tsx","app/view/history/statusTag.tsx","app/view/history/column.tsx","app/lib/stat/helpers/date.ts","app/lib/stat/entities/trans-log.ts","app/lib/stat/adapters/solana/client.ts","app/lib/stat/constants/transaction.ts","app/lib/stat/logic/translogSwap.ts","app/lib/stat/logic/translog.ts","app/lib/stat/constants/sol.ts","app/lib/stat/logic/swap/swap.ts","app/model/history.controller.ts","app/view/history/index.tsx","app/view/index.tsx","app/model/index.ts","app/bootstrap.app.tsx","shared/devTools.ts","shared/pdb/index.ts","shared/pdb/ipfs.ts","shared/runtime.ts","shared/storage.ts","shared/tokenProvider/supplementary.ts","shared/tokenProvider/index.ts","shared/dataloader/constant.ts","shared/dataloader/request.ts","shared/dataloader/cache.ts","shared/dataloader/index.ts","shared/util.ts"],"sourcesContent":["var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgIconTelegram(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"inherit\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 50 50\",\n    width: \"50px\",\n    height: \"50px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M46.137,6.552c-0.75-0.636-1.928-0.727-3.146-0.238l-0.002,0C41.708,6.828,6.728,21.832,5.304,22.445 c-0.259,0.09-2.521,0.934-2.288,2.814c0.208,1.695,2.026,2.397,2.248,2.478l8.893,3.045c0.59,1.964,2.765,9.21,3.246,10.758 c0.3,0.965,0.789,2.233,1.646,2.494c0.752,0.29,1.5,0.025,1.984-0.355l5.437-5.043l8.777,6.845l0.209,0.125 c0.596,0.264,1.167,0.396,1.712,0.396c0.421,0,0.825-0.079,1.211-0.237c1.315-0.54,1.841-1.793,1.896-1.935l6.556-34.077 C47.231,7.933,46.675,7.007,46.137,6.552z M22,32l-3,8l-3-10l23-17L22,32z\"\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconTelegram);\nexport default __webpack_public_path__ + \"static/media/icon-telegram.2450489f40d03000fe65fc1c6f238d85.svg\";\nexport { ForwardRef as ReactComponent };","import IconTele from './assets/icon-telegram.svg'\n\nexport const CUSTOM_ICONS: Record<string, string> = {\n  'logo-telegram': IconTele,\n}\n","/**\n * IonIcon 5\n * Credit https://ionic.io/ionicons\n */\n\nimport { forwardRef } from 'react'\nimport { CUSTOM_ICONS } from './customs'\n\n/**\n * IonIcon\n * @param name The icon name. You can find it here https://ionic.io/ionicons\n * @param className To modify the span class\n */\nconst IonIcon = forwardRef<\n  HTMLElement,\n  { name: string; className?: string } & any\n>(({ name, className, ...props }, ref) => {\n  const cln = className ? 'anticon ' + className : 'anticon'\n\n  return (\n    <span className={cln} {...props}>\n      {CUSTOM_ICONS[name] ? (\n        <ion-icon ref={ref} src={CUSTOM_ICONS[name]} />\n      ) : (\n        <ion-icon ref={ref} name={name} />\n      )}\n    </span>\n  )\n})\n\nexport default IonIcon\n","import { ReactNode, useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { useMint, usePool } from '@senhub/providers'\n\nimport { Avatar } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nconst DEFAULT_AVATARS: Array<string | undefined> = [undefined]\n\nexport type MintAvatarProps = {\n  mintAddress: string\n  size?: number\n  icon?: ReactNode\n  reversed?: boolean\n}\n\n/**\n * Mint/Token avatar, supporting LP tokens\n * @param mintAddress -  Mint address\n * @param size - Avatar size. Default 24px.\n * @param icon - Fallback icon for unknown token\n * @param reversed - (Optional) The default LP token avatar is A-B. The reversed is to change it to B-A\n * @returns name\n */\nconst MintAvatar = ({\n  mintAddress,\n  size = 24,\n  icon = <IonIcon name=\"diamond-outline\" />,\n  reversed = false,\n  ...props\n}: MintAvatarProps) => {\n  const [avatars, setAvatars] = useState(DEFAULT_AVATARS)\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n\n  const deriveAvatar = useCallback(\n    async (address: string) => {\n      const token = await tokenProvider.findByAddress(address)\n      if (token?.logoURI) return token.logoURI\n      return undefined\n    },\n    [tokenProvider],\n  )\n\n  const deriveAvatars = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setAvatars(DEFAULT_AVATARS)\n    // LP mint\n    const poolData = Object.values(pools).find(\n      ({ mint_lpt }) => mint_lpt === mintAddress,\n    )\n    if (poolData) {\n      const { mint_a, mint_b } = poolData\n      const avatars = await Promise.all([mint_a, mint_b].map(deriveAvatar))\n      if (reversed) avatars.reverse()\n      return setAvatars(avatars)\n    }\n    // Normal mint\n    const avatar = await deriveAvatar(mintAddress)\n    return setAvatars([avatar])\n  }, [mintAddress, reversed, deriveAvatar, pools])\n\n  useEffect(() => {\n    deriveAvatars()\n  }, [deriveAvatars])\n\n  if (avatars.length === 1)\n    return (\n      <Avatar\n        src={avatars[0]}\n        size={size}\n        style={{ backgroundColor: '#2D3355', border: 'none' }}\n        {...props}\n      >\n        {icon}\n      </Avatar>\n    )\n  return (\n    <Avatar.Group style={{ display: 'block', whiteSpace: 'nowrap' }} {...props}>\n      {avatars.map((avatar, i) => (\n        <Avatar\n          key={i}\n          src={avatar}\n          size={size}\n          style={{ backgroundColor: '#2D3355', border: 'none' }}\n        >\n          {icon}\n        </Avatar>\n      ))}\n    </Avatar.Group>\n  )\n}\n\nexport default MintAvatar\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { useMint, usePool } from '@senhub/providers'\n\nconst DEFAULT_NAME = 'Unknown Token'\n\n/**\n * Mint/Token name, supporting LP tokens\n * @param mintAddress -  Mint address\n * @param separator - (Optional) In case of LP tokens, the names is combined by 2 token names. The separator is to separate them.\n * @param reversed - (Optional) The default LP token names is A-B. The reversed is to change it to B-A\n * @returns name\n */\nconst MintName = ({\n  mintAddress,\n  separator = ' • ',\n  reversed = false,\n}: {\n  mintAddress: string\n  separator?: string\n  reversed?: boolean\n}) => {\n  const [name, setName] = useState(DEFAULT_NAME)\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n\n  const deriveName = useCallback(\n    async (address: string) => {\n      const token = await tokenProvider.findByAddress(address)\n      if (token?.name) return token.name\n      return DEFAULT_NAME\n    },\n    [tokenProvider],\n  )\n\n  const deriveNames = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setName(DEFAULT_NAME)\n    // LP mint\n    const poolData = Object.values(pools).find(\n      ({ mint_lpt }) => mint_lpt === mintAddress,\n    )\n    if (poolData) {\n      const { mint_a, mint_b } = poolData\n      const names = await Promise.all([mint_a, mint_b].map(deriveName))\n      if (reversed) names.reverse()\n      return setName(`${names.join(separator)} LP`)\n    }\n    // Normal mint\n    const name = await deriveName(mintAddress)\n    return setName(name)\n  }, [mintAddress, reversed, deriveName, pools, separator])\n\n  useEffect(() => {\n    deriveNames()\n  }, [deriveNames])\n\n  return <span>{name}</span>\n}\n\nexport default MintName\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { useMint, usePool } from '@senhub/providers'\n\nconst DEFAULT_SYMBOL = 'TOKN'\n\n/**\n * Mint/Token symbol, supporting LP tokens\n * @param mintAddress -  Mint address\n * @param separator - (Optional) In case of LP tokens, the symbols is combined by 2 token symbols. The separator is to separate them.\n * @param reversed - (Optional) The default LP token symbol is A-B. The reversed is to change it to B-A\n * @returns symbol\n */\nconst MintSymbol = ({\n  mintAddress,\n  separator = ' • ',\n  reversed = false,\n}: {\n  mintAddress: string\n  separator?: string\n  reversed?: boolean\n}) => {\n  const [symbol, setSymbol] = useState(DEFAULT_SYMBOL)\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n\n  const deriveSymbol = useCallback(\n    async (address: string) => {\n      const token = await tokenProvider.findByAddress(address)\n      if (token?.symbol) return token.symbol\n      return address.substring(0, 4)\n    },\n    [tokenProvider],\n  )\n\n  const deriveSymbols = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setSymbol(DEFAULT_SYMBOL)\n    // LP mint\n    const poolData = Object.values(pools).find(\n      ({ mint_lpt }) => mint_lpt === mintAddress,\n    )\n    if (poolData) {\n      const { mint_a, mint_b } = poolData\n      const symbols = await Promise.all([mint_a, mint_b].map(deriveSymbol))\n      if (reversed) symbols.reverse()\n      return setSymbol(symbols.join(separator))\n    }\n    // Normal mint\n    const symbol = await deriveSymbol(mintAddress)\n    return setSymbol(symbol)\n  }, [mintAddress, reversed, deriveSymbol, pools, separator])\n\n  useEffect(() => {\n    deriveSymbols()\n  }, [deriveSymbols])\n\n  return <span>{symbol}</span>\n}\n\nexport default MintSymbol\n","import { useSelector } from 'react-redux'\n\nimport { Avatar, Space, Typography } from 'antd'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\n\nimport { AppState } from 'app/model'\n\nconst Cross = () => {\n  const {\n    bid: { mintInfo: bidMintInfo },\n    ask: { mintInfo: askMintInfo },\n  } = useSelector((state: AppState) => state)\n\n  const bidMintAddress = bidMintInfo?.address || ''\n  const askMintAddress = askMintInfo?.address || ''\n  return (\n    <Space>\n      <Avatar.Group>\n        <MintAvatar mintAddress={askMintAddress} />\n        <MintAvatar mintAddress={bidMintAddress} />\n      </Avatar.Group>\n      <Typography.Text>\n        <MintSymbol mintAddress={askMintAddress} />\n        {' / '}\n        <MintSymbol mintAddress={bidMintAddress} />\n      </Typography.Text>\n    </Space>\n  )\n}\n\nexport default Cross\n","import { useCallback, useState, useRef, useEffect } from 'react'\nimport Chart from 'chart.js'\nimport isEqual from 'react-fast-compare'\n\nimport { numeric } from 'shared/util'\n\nconst DEFAULT_BACKGROUND_COLOR = '#dadada'\n\nexport type SenChartProps = {\n  labels?: (number | string)[]\n  chartData?: (number | string)[]\n  configs?: { backgroundColor?: string } & object\n  type?: string\n  disableAxe?: boolean\n  chartHeight?: string\n  chartId?: string\n}\n\nconst SenChart = ({\n  chartData = [],\n  labels = [],\n  type = 'line',\n  configs,\n  disableAxe = false,\n  chartId = 'sen_chart',\n}: SenChartProps) => {\n  const { backgroundColor } = configs || {}\n  const [isRebuildChart, setRebuildChart] = useState<boolean>(false)\n\n  const formatData = useCallback(\n    (\n      data: Array<number | number[] | undefined | null | any>,\n      label: Array<string | number>,\n      background?: string | CanvasGradient | undefined,\n    ): Chart.ChartData => ({\n      labels: label,\n      datasets: [{ ...configs, data, backgroundColor: background }],\n    }),\n    [configs],\n  )\n  // use a ref to store the chart instance since it it mutable\n  const chartRef = useRef<Chart | null>(null)\n\n  // callback creates the chart on the canvas element\n  const canvasCallback = (canvas: HTMLCanvasElement | null) => {\n    if (!canvas) return\n    const ctx = canvas.getContext('2d')\n    if (ctx && !isRebuildChart) {\n      // create new chart\n      chartRef.current = new Chart(ctx, {\n        type: type,\n        data: {\n          labels: [],\n          datasets: [\n            {\n              data: [],\n            },\n          ],\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          scales: {\n            xAxes: [\n              {\n                gridLines: {\n                  drawBorder: false,\n                  display: false,\n                },\n                ticks: {\n                  display: !disableAxe,\n                },\n              },\n            ],\n            yAxes: [\n              {\n                gridLines: {\n                  drawBorder: false,\n                  display: false,\n                },\n                ticks: {\n                  display: !disableAxe,\n                  beginAtZero: false,\n                  maxTicksLimit: 8,\n                  callback: function (value, index, values) {\n                    return numeric(value).format('0,0.[0]a')\n                  },\n                },\n              },\n            ],\n          },\n          plugins: {\n            legend: false,\n          },\n          hover: {\n            onHover: (event, elements) => {\n              const target = document.getElementById(chartId)\n              if (!target) return\n              target.style.cursor = elements[0] ? 'pointer' : 'default'\n            },\n          },\n        },\n      })\n      setRebuildChart(true)\n    }\n  }\n\n  const getBackground = useCallback(() => {\n    if (!chartRef || !backgroundColor) return DEFAULT_BACKGROUND_COLOR\n    const ctx = chartRef?.current?.canvas?.getContext('2d')\n    const gradient = ctx?.createLinearGradient(0, 0, 0, 180)\n    gradient?.addColorStop(0, backgroundColor)\n    gradient?.addColorStop(1, `${backgroundColor}00`)\n    const background = type === 'line' ? gradient : backgroundColor\n    return background\n  }, [backgroundColor, type])\n\n  useEffect(() => {\n    const chartInstance = chartRef.current\n    const dataInstace = chartInstance?.data.datasets?.find(({ data }) => data)\n    const compareData = isEqual(dataInstace?.data, chartData)\n    if (chartInstance && !compareData) {\n      chartInstance.data = formatData(chartData, labels, getBackground())\n      chartInstance?.update()\n    }\n  }, [chartData, formatData, getBackground, labels])\n\n  return <canvas id={chartId} height=\"180px\" ref={canvasCallback}></canvas>\n}\n\nexport default SenChart\n","import { Col, Empty, Row } from 'antd'\n\nconst ChartEmpty = () => {\n  return (\n    <Row style={{ height: 170 }} align=\"middle\" justify=\"center\">\n      <Col>\n        <Empty />\n      </Col>\n    </Row>\n  )\n}\n\nexport default ChartEmpty\n","import { Avatar, Space, Tooltip, Typography } from 'antd'\nimport CoinGeckoIcon from 'app/static/images/coingecko-logo.png'\n\nexport type PoweredByCoinGeckoProps = {\n  title?: string\n  spacing?: number\n  iconSize?: number\n}\n\nconst PoweredByCoinGecko = ({\n  title = 'Powered by',\n  spacing = 4,\n  iconSize = 20,\n}: PoweredByCoinGeckoProps) => {\n  return (\n    <Space size={spacing} style={{ cursor: 'pointer' }}>\n      <Typography.Text style={{ fontSize: 12, color: '#7A7B85' }}>\n        {title}\n      </Typography.Text>\n      <Tooltip title=\"CoinGecko\">\n        <Avatar src={CoinGeckoIcon} size={iconSize} />\n      </Tooltip>\n    </Space>\n  )\n}\n\nexport default PoweredByCoinGecko\n","import TokenProvider from 'shared/tokenProvider'\nimport { fetchCGK } from 'shared/util'\nimport axios from 'axios'\n\nexport interface MintInfo {\n  address: string\n  symbol: string\n  price: number\n  decimals: number\n}\n\nexport type ChartParamsCGK = {\n  days: number\n  interval: string\n}\n\nconst DEFAULT_TOKEN_INFO = {\n  address: '',\n  chainId: 0,\n  decimals: 0,\n  name: '',\n  symbol: 'TOKEN',\n  extensions: undefined,\n  logoURI: '',\n  tags: [],\n}\n\nconst TOKEN_PROVIDER = new TokenProvider()\n\nconst cgk = {\n  getMintInfos: async (mintsAddress: string[]) => {\n    if (!TOKEN_PROVIDER || !mintsAddress) return\n    const promise = mintsAddress.map(async (mint) => {\n      let tokenInfo = await TOKEN_PROVIDER.findByAddress(mint)\n      if (!tokenInfo) tokenInfo = DEFAULT_TOKEN_INFO\n      const { address, symbol, decimals, extensions } = tokenInfo\n      const ticket = extensions?.coingeckoId\n\n      if (!ticket) return { address, symbol, decimals, price: 0 } // some mints don't have a ticket, so the price in cgk is 0\n\n      const { price } = await fetchCGK(ticket)\n      return { address, symbol, decimals, price }\n    })\n    const mintsDetails = await Promise.all(promise)\n    const mapMintsDetails = new Map<string, MintInfo>()\n    mintsDetails.forEach((mint) => {\n      mapMintsDetails.set(mint.address, mint)\n    })\n    return mapMintsDetails\n  },\n}\nexport default cgk\n\nexport const fetchMarketChart = async (\n  ticket: string,\n  params: ChartParamsCGK,\n) => {\n  try {\n    const data: any = await axios({\n      method: 'get',\n      url: `https://api.coingecko.com/api/v3/coins/${ticket}/market_chart?vs_currency=usd&days=${params.days}&interval=${params.interval}`,\n    })\n    const priceData: [number /*time*/, number /*price*/][] = data.data.prices\n    return priceData.map((data) => ({ time: data[0], val: data[1] }))\n  } catch (error) {\n    return []\n  }\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport moment from 'moment'\nimport { useMint } from '@senhub/providers'\n\nimport { Button, Card, Col, Radio, Row, Typography, Space, Popover } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport Cross from './cross'\nimport SenChart from './chart'\nimport ChartEmpty from './chartEmpty'\nimport PoweredByCoinGecko from 'app/components/poweredByCoingecko'\n\nimport { AppState } from 'app/model'\nimport { ChartParamsCGK, fetchMarketChart } from 'app/helper/cgk'\nimport { numeric } from 'shared/util'\n\ntype ChartData = { label: string; val: number }\nenum Interval {\n  day = 'day',\n  week = 'week',\n  month = 'month',\n  year = 'year',\n}\nconst CHART_DATA_CONFIG: Record<\n  Interval,\n  {\n    amount: number\n    unit: moment.unitOfTime.DurationConstructor\n    format: string\n  }\n> = {\n  day: { amount: 4, unit: 'hours', format: 'HH:00' },\n  week: { amount: 1, unit: 'days', format: 'MMM DD' },\n  month: { amount: 5, unit: 'days', format: 'MMM DD' },\n  year: { amount: 2, unit: 'months', format: 'MMM DD' },\n}\nconst MARKET_CONFIG: Record<Interval, ChartParamsCGK> = {\n  day: { days: 1, interval: 'hourly' },\n  week: { days: 7, interval: 'daily' },\n  month: { days: 31, interval: 'daily' },\n  year: { days: 365, interval: 'daily' },\n}\n\nconst CHART_CONFIGS = {\n  color: '#3E8C6A',\n  radius: 0,\n  hitRadius: 14,\n  tooltip: 'TVL',\n  transparent: 'transparent',\n}\n\nconst SwapChart = () => {\n  const [interval, setInterval] = useState(Interval.week)\n  const [chartData, setChartData] = useState<{ label: string; val: number }[]>(\n    [],\n  )\n  const bidData = useSelector((state: AppState) => state.bid)\n  const askData = useSelector((state: AppState) => state.ask)\n  const { tokenProvider } = useMint()\n\n  const swapChartConfigs = {\n    borderColor: CHART_CONFIGS.transparent,\n    borderRadius: CHART_CONFIGS.radius,\n    pointRadius: CHART_CONFIGS.radius,\n    tooltip: CHART_CONFIGS.tooltip,\n    pointHitRadius: CHART_CONFIGS.hitRadius,\n    pointHoverRadius: CHART_CONFIGS.radius,\n    backgroundColor: CHART_CONFIGS.color,\n  }\n\n  const parseChartDay = useCallback(\n    (marketData: { time: number; val: number }[]) => {\n      const chartData: ChartData[] = []\n      const { format, amount, unit } = CHART_DATA_CONFIG[interval]\n      let displayTime = moment()\n      // parser data\n      for (const data of marketData.reverse()) {\n        const chartTime = moment(data.time).format(format)\n        if (chartTime === displayTime.format(format)) {\n          const now = moment().format(format)\n          let label = chartTime\n          if (chartTime === now) label = moment().format('HH:mm')\n          if (displayTime)\n            chartData.unshift({\n              label: label,\n              val: data.val,\n            })\n          displayTime = displayTime.subtract(amount, unit)\n        } else if (chartTime === '00:00') {\n          chartData.unshift({\n            label: displayTime.format('MMM DD'),\n            val: data.val,\n          })\n        }\n      }\n      setChartData(chartData)\n    },\n    [interval],\n  )\n\n  const parseChartDaily = useCallback(\n    (marketData: { time: number; val: number }[]) => {\n      const chartData: ChartData[] = []\n      const { format, amount, unit } = CHART_DATA_CONFIG[interval]\n      let displayTime = moment()\n      // parser data\n      for (const data of marketData.reverse()) {\n        const chartTime = moment(data.time).format(format)\n        if (chartTime === displayTime.format(format)) {\n          displayTime = displayTime.subtract(amount, unit)\n          chartData.unshift({\n            label: chartTime,\n            val: data.val,\n          })\n          continue\n        }\n      }\n      setChartData(chartData)\n    },\n    [interval],\n  )\n\n  const fetchChartData = useCallback(async () => {\n    // fetch data market from coingecko\n    const bidTokenInfo = await tokenProvider.findByAddress(\n      bidData.mintInfo?.address || '',\n    )\n    const askTokenInfo = await tokenProvider.findByAddress(\n      askData.mintInfo?.address || '',\n    )\n    const bidTicket = bidTokenInfo?.extensions?.coingeckoId\n    const askTicket = askTokenInfo?.extensions?.coingeckoId\n    // return when bid & ask address is same\n    const compareAddress = bidData.accountAddress === askData.accountAddress\n    if (!askTicket || !bidTicket || compareAddress) return setChartData([])\n\n    const marketConfig = MARKET_CONFIG[interval]\n    const [bidChartData, askChartData] = await Promise.all([\n      fetchMarketChart(bidTicket, marketConfig),\n      fetchMarketChart(askTicket, marketConfig),\n    ])\n    // parser market data\n    const marketData: { time: number; val: number }[] = []\n    for (let idx = bidChartData.length - 1; idx >= 0; idx--) {\n      const bidChart = bidChartData[idx]\n      const askChart =\n        askChartData[askChartData.length - bidChartData.length + idx]\n      if (!bidChart || !askChart) continue\n      marketData.unshift({\n        time: bidChart.time,\n        val: askChart.val / bidChart.val,\n      })\n    }\n    if (interval === Interval.day) return parseChartDay(marketData)\n    return parseChartDaily(marketData)\n  }, [\n    askData.accountAddress,\n    askData.mintInfo?.address,\n    bidData.accountAddress,\n    bidData.mintInfo?.address,\n    interval,\n    parseChartDaily,\n    parseChartDay,\n    tokenProvider,\n  ])\n\n  useEffect(() => {\n    fetchChartData()\n  }, [fetchChartData])\n\n  const price = chartData[chartData.length - 1]?.val || 0\n  const priceUI = numeric(price).format(\n    price > 1 ? '0,0.[00]' : '0,0.[00000000]',\n  )\n\n  return (\n    <Card bordered={false} className=\"card-swap\" bodyStyle={{ paddingTop: 28 }}>\n      <Row gutter={[24, 24]}>\n        <Col span={24}>\n          <Row gutter={[20, 20]}>\n            <Col flex=\"auto\">\n              <Space>\n                <Cross />\n                <Popover\n                  content={\n                    <PoweredByCoinGecko title=\"Reference Market Price. Powered by\" />\n                  }\n                >\n                  <Button\n                    type=\"text\"\n                    icon={<IonIcon name=\"information-circle-outline\" />}\n                  />\n                </Popover>\n              </Space>\n            </Col>\n            {chartData && !!chartData.length && (\n              <Col>\n                <Radio.Group\n                  defaultValue={Interval.week}\n                  onChange={(e) => setInterval(e.target.value)}\n                  className=\"chart-radio-btn\"\n                >\n                  <Radio.Button value={Interval.day}>1D</Radio.Button>\n                  <Radio.Button value={Interval.week}>1W</Radio.Button>\n                  <Radio.Button value={Interval.month}>1M</Radio.Button>\n                  <Radio.Button value={Interval.year}>1Y</Radio.Button>\n                </Radio.Group>\n              </Col>\n            )}\n            <Col span={24}>\n              <Typography.Title level={2}>\n                {price ? priceUI : ''}\n              </Typography.Title>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          {chartData && !!chartData.length ? (\n            <SenChart\n              chartData={chartData?.map((data) => data.val)}\n              labels={chartData?.map((data) => data.label)}\n              configs={swapChartConfigs}\n            />\n          ) : (\n            <ChartEmpty />\n          )}\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default SwapChart\n","var _path, _path2, _path3, _path4, _path5, _path6, _defs;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgJupiterLogo(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 100,\n    height: 100,\n    viewBox: \"0 0 100 100\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.57323 77.9508C13.7607 83.7753 19.1321 88.6489 25.3351 92.252C31.5381 95.8551 38.4327 98.1062 45.5668 98.8579C41.8964 93.3346 36.5613 88.2532 29.9008 84.3845C23.2403 80.5159 16.1867 78.4027 9.57323 77.9508Z\",\n    fill: \"url(#paint0_linear)\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M38.8507 68.9805C26.0185 61.5254 12.1297 59.6255 2.19191 62.9818C3.15128 66.1526 4.41654 69.2226 5.96983 72.1486C14.6041 71.9487 24.0313 74.2937 32.8033 79.3886C41.5754 84.4835 48.2846 91.5153 52.3901 99.1165C55.7032 99.0148 58.9986 98.5928 62.2305 97.8566C60.2214 87.5627 51.6795 76.4372 38.8507 68.9805Z\",\n    fill: \"url(#paint1_linear)\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M100 38.7201C98.3685 32.084 95.4165 25.8447 91.3202 20.3748C87.2239 14.9048 82.0673 10.3164 76.1584 6.88349C70.2495 3.45059 63.7094 1.24361 56.9287 0.394327C50.1479 -0.454959 43.2655 0.0708667 36.6925 1.94041C47.6735 3.28427 59.8623 7.40655 71.8159 14.3509C83.7695 21.2953 93.3966 29.8406 100 38.7201Z\",\n    fill: \"url(#paint2_linear)\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M84.0232 63.0577C78.4025 53.7229 68.7738 44.7846 56.9125 37.8939C45.0513 31.0033 32.5198 27.0675 21.6362 26.8071C12.0612 26.5803 4.87495 29.3638 1.92518 34.4419C1.90838 34.4721 1.88486 34.5007 1.86638 34.5309C1.60097 35.4834 1.37251 36.4375 1.16422 37.395C5.28314 35.769 10.0555 34.8635 15.3621 34.7627C27.1628 34.541 40.3696 38.3156 52.5567 45.396C64.7439 52.4765 74.5725 62.0834 80.2234 72.4412C82.7566 77.1077 84.3373 81.702 84.9639 86.0914C85.6929 85.4397 86.4085 84.766 87.1023 84.0656C87.1208 84.0336 87.1325 84 87.151 83.9664C90.1008 78.8833 88.9602 71.2636 84.0232 63.0577Z\",\n    fill: \"url(#paint3_linear)\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M47.8884 53.4254C29.7245 42.8728 9.65227 41.2198 0 48.5842C0.0189591 50.8892 0.195187 53.1903 0.527462 55.4714C3.36682 54.6107 6.29318 54.0687 9.25247 53.8554C20.0386 53.0441 31.9301 56.0493 42.7213 62.3218C53.5125 68.5942 62.0191 77.4402 66.6588 87.205C67.9412 89.8801 68.9193 92.6907 69.5749 95.5839C71.7216 94.7424 73.8088 93.7563 75.8222 92.6325C77.4382 80.5982 66.0574 63.9797 47.8884 53.4254Z\",\n    fill: \"url(#paint4_linear)\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M93.3659 47.4337C87.6814 38.109 77.9687 29.1455 66.0235 22.2095C54.0782 15.2735 41.4981 11.2755 30.5792 10.9547C22.2557 10.7145 15.8085 12.7319 12.4657 16.5434C26.346 14.1917 44.6544 18.1443 62.4001 28.4534C80.1457 38.7625 92.6537 52.7117 97.4815 65.9336C99.1361 61.1444 97.6965 54.5444 93.3659 47.4337Z\",\n    fill: \"url(#paint5_linear)\"\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint1_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint2_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint3_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint4_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint5_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })))));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgJupiterLogo);\nexport default __webpack_public_path__ + \"static/media/jupiter-logo.6553c3779ce16057aa846301783447a2.svg\";\nexport { ForwardRef as ReactComponent };","import { Avatar, Space, Tooltip, Typography } from 'antd'\nimport JupiterIcon from 'app/static/images/jupiter-logo.svg'\n\nexport type PoweredByJupiterProps = {\n  title?: string\n  spacing?: number\n  iconSize?: number\n}\n\nconst PoweredByJupiter = ({\n  title = 'Powered by',\n  spacing = 4,\n  iconSize = 20,\n}: PoweredByJupiterProps) => {\n  return (\n    <Space size={spacing} style={{ cursor: 'pointer' }}>\n      <Typography.Text style={{ fontSize: 12, color: '#7A7B85' }}>\n        {title}\n      </Typography.Text>\n      <Tooltip title=\"Jupiter Aggregator\">\n        <Avatar src={JupiterIcon} size={iconSize} />\n      </Tooltip>\n    </Space>\n  )\n}\n\nexport default PoweredByJupiter\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { RouteTrace } from 'app/helper/router'\n\nexport enum SwapPlatform {\n  SenSwap,\n  JupiterAggregator,\n}\nexport type RouteState = {\n  platform: SwapPlatform\n  best: RouteTrace // The best route\n  amount: bigint\n  priceImpact: number\n  loadingJubRoute?: boolean\n}\n\nconst NAME = 'route'\nconst initialState: RouteState = {\n  platform: SwapPlatform.SenSwap,\n  best: [],\n  amount: BigInt(0),\n  priceImpact: 0,\n  loadingJubRoute: false,\n}\n\n/**\n * Actions\n */\n\nexport const setLoadingJupiterRoute = createAsyncThunk<\n  Partial<RouteState>,\n  Partial<RouteState>,\n  { state: any }\n>(`${NAME}/setLoadingJupiterRoute`, async ({ loadingJubRoute }) => {\n  return { loadingJubRoute }\n})\n\nexport const updateRoute = createAsyncThunk<\n  Partial<RouteState>,\n  Partial<RouteState>,\n  { state: any }\n>(`${NAME}/updateRoute`, async (route) => {\n  if (!route) return {}\n  return { ...route }\n})\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        updateRoute.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        setLoadingJupiterRoute.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { Fragment, useMemo } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Divider, Space } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport PoweredByJupiter from '../poweredByJupiter'\n\nimport { AppState } from 'app/model'\nimport { account } from '@senswap/sen-js'\nimport { MintAvatar } from 'shared/antd/mint'\nimport { SwapPlatform } from 'app/model/route.controller'\n\nconst RouteAvatar = () => {\n  const {\n    bid: { mintInfo },\n    route: { platform, best },\n  } = useSelector((state: AppState) => state)\n\n  const srcMintAddress = mintInfo?.address\n  const chainMintAddresses = useMemo(() => {\n    if (!best.length || !account.isAddress(srcMintAddress)) return []\n    let list = [srcMintAddress]\n    for (const hop of best) {\n      const { dstMintAddress } = hop\n      if (account.isAddress(dstMintAddress)) list.push(dstMintAddress)\n    }\n    return list\n  }, [srcMintAddress, best])\n\n  return (\n    <Space>\n      {chainMintAddresses?.map((mintAddress, i) => (\n        <Fragment key={i}>\n          <MintAvatar mintAddress={mintAddress} />\n          {chainMintAddresses.length > i + 1 && (\n            <IonIcon name=\"chevron-forward-outline\" />\n          )}\n        </Fragment>\n      ))}\n      {platform === SwapPlatform.JupiterAggregator && (\n        <Fragment>\n          <Divider type=\"vertical\" style={{ margin: 0 }} />\n          <PoweredByJupiter />\n        </Fragment>\n      )}\n    </Space>\n  )\n}\nexport default RouteAvatar\n","import { useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Button, Space, Typography } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport { MintSymbol } from 'shared/antd/mint'\n\nimport { numeric } from 'shared/util'\nimport { AppState } from 'app/model'\n\nconst Price = () => {\n  const [reversed, setReversed] = useState(false)\n  const {\n    bid: { mintInfo: bidMintInfo, amount: bidAmount },\n    ask: { mintInfo: askMintInfo, amount: askAmount },\n  } = useSelector((state: AppState) => state)\n\n  const bidMintAddress = bidMintInfo?.address || ''\n  const askMintAddress = askMintInfo?.address || ''\n  const price = numeric(Number(askAmount) / Number(bidAmount)).format(\n    '0,0.[000000]',\n  )\n  const reversedPrice = numeric(Number(bidAmount) / Number(askAmount)).format(\n    '0,0.[000000]',\n  )\n\n  return (\n    <Space>\n      <Button\n        type=\"text\"\n        onClick={() => setReversed(!reversed)}\n        shape=\"circle\"\n        icon={<IonIcon name=\"swap-horizontal-outline\" />}\n      />\n      <Typography.Text>{!reversed ? price : reversedPrice}</Typography.Text>\n      <Typography.Text>\n        {!reversed ? (\n          <MintSymbol mintAddress={askMintAddress} />\n        ) : (\n          <MintSymbol mintAddress={bidMintAddress} />\n        )}\n        {' / '}\n        {!reversed ? (\n          <MintSymbol mintAddress={bidMintAddress} />\n        ) : (\n          <MintSymbol mintAddress={askMintAddress} />\n        )}\n      </Typography.Text>\n    </Space>\n  )\n}\n\nexport default Price\n","export enum PriceImpact {\n  goodSwap = 0.01, // price impact lower than 1%\n  acceptableSwap = 0.05, // price impact lower than 5%\n}\n","import { PriceImpact } from 'app/constant/swap'\n\nexport const priceImpactColor = (priceImpact: number) => {\n  if (priceImpact < PriceImpact.goodSwap) return '#14E041'\n  if (priceImpact > PriceImpact.acceptableSwap) return '#D72311'\n  return '#FA8C16'\n}\n","import { ReactNode } from 'react'\nimport { useSelector } from 'react-redux'\nimport { PoolData } from '@senswap/sen-js'\n\nimport { Col, Row, Skeleton, Typography } from 'antd'\nimport RouteAvatar from './routeAvatar'\n\nimport { AppState } from 'app/model'\nimport { numeric } from 'shared/util'\nimport Price from './price'\nimport { priceImpactColor } from 'app/helper/utils'\n\nexport type LiteMintInfo = {\n  address: string\n  decimals: number\n}\n\nexport type HopData = {\n  poolData: PoolData & { address: string }\n  srcMintAddress: string\n  dstMintAddress: string\n}\n\nconst ExtraTypography = ({\n  label = '',\n  content = '',\n  loading = false,\n}: {\n  label?: string\n  content?: string | ReactNode\n  loading?: boolean\n}) => {\n  return (\n    <Row align=\"middle\">\n      <Col flex=\"auto\">\n        <Typography.Text type=\"secondary\">{label}</Typography.Text>\n      </Col>\n      <Col>\n        {loading ? (\n          <Skeleton.Input style={{ width: 150 }} active size=\"small\" />\n        ) : (\n          <span>{content}</span>\n        )}\n      </Col>\n    </Row>\n  )\n}\n\nconst PreviewSwap = () => {\n  const {\n    route: { priceImpact, loadingJubRoute },\n    settings: { slippage },\n  } = useSelector((state: AppState) => state)\n\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={24}>\n        <ExtraTypography\n          label=\"Price impact\"\n          content={\n            <Typography.Text style={{ color: priceImpactColor(priceImpact) }}>\n              {numeric(Number(priceImpact)).format('0.[0000]%')}\n            </Typography.Text>\n          }\n          loading={loadingJubRoute}\n        />\n      </Col>\n      <Col span={24}>\n        <ExtraTypography\n          label=\"Price\"\n          content={<Price />}\n          loading={loadingJubRoute}\n        />\n      </Col>\n      <Col span={24}>\n        <ExtraTypography\n          label=\"Slippage Tolerance\"\n          content={numeric(slippage).format('0.[00]%')}\n          loading={loadingJubRoute}\n        />\n      </Col>\n      <Col span={24} style={{ minHeight: 24 }}>\n        <ExtraTypography\n          label=\"Route\"\n          content={<RouteAvatar />}\n          loading={loadingJubRoute}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default PreviewSwap\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from '@senhub/providers'\nimport { fetchCGK } from 'shared/util'\n\nconst DEFAULT_DATA = {\n  address: '',\n  icon: '',\n  name: 'TOKEN',\n  price: 0,\n  priceChange: 0,\n  rank: 0,\n  symbol: 'TOKEN',\n  totalVolume: 0,\n}\n\nconst useMintCgk = (mintAddress?: string): CgkData => {\n  const [cgkData, setCgkData] = useState<CgkData>(DEFAULT_DATA)\n  const { tokenProvider } = useMint()\n\n  const fetchCgkData = useCallback(async () => {\n    if (!mintAddress) return setCgkData(DEFAULT_DATA)\n    try {\n      const token = await tokenProvider.findByAddress(mintAddress)\n      const ticket = token?.extensions?.coingeckoId\n      const cgkData = await fetchCGK(ticket)\n      return setCgkData(cgkData)\n    } catch (error) {\n      return setCgkData(DEFAULT_DATA)\n    }\n  }, [mintAddress, tokenProvider])\n\n  useEffect(() => {\n    fetchCgkData()\n  }, [fetchCgkData])\n\n  return cgkData\n}\nexport default useMintCgk\n","import { Env } from 'shared/runtime'\n\nif (\n  typeof process.env.REACT_APP_ID !== 'string' ||\n  typeof process.env.REACT_APP_URL !== 'string'\n)\n  throw new Error('Please add REACT_APP_ID, REACT_APP_URL in .env!')\n\n/**\n * Contructor\n */\n\ntype Conf = {\n  appId: string\n  url: string\n}\n\nconst shared = {\n  appId: process.env.REACT_APP_ID,\n  url: process.env.REACT_APP_URL,\n}\n\nconst conf: Record<Env, Conf> = {\n  /**\n   * Development configurations\n   */\n  development: {\n    ...shared,\n  },\n\n  /**\n   * Staging configurations\n   */\n  staging: {\n    ...shared,\n  },\n\n  /**\n   * Production configurations\n   */\n  production: {\n    ...shared,\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Net } from 'shared/runtime'\n\n/**\n * Contructor\n */\ntype Conf = {\n  node: string\n  cluster: 'devnet' | 'testnet' | 'mainnet-beta'\n  spltAddress: string\n  splataAddress: string\n  swapAddress: string\n}\n\nconst conf: Record<Net, Conf> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    node: 'https://api.devnet.solana.com',\n    cluster: 'devnet',\n    spltAddress: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n    splataAddress: 'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',\n    swapAddress: '4erFSLP7oBFSVC1t35jdxmbfxEhYCKfoM6XdG2BLR3UF',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    node: 'https://api.testnet.solana.com',\n    cluster: 'testnet',\n    spltAddress: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n    splataAddress: 'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',\n    swapAddress: '',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    node: 'https://api.google.mainnet-beta.solana.com',\n    cluster: 'mainnet-beta',\n    spltAddress: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n    splataAddress: 'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',\n    swapAddress: 'SSW7ooZ1EbEognq5GosbygA3uWW1Hq1NsFq6TsftCFV',\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Net } from 'shared/runtime'\n\n/**\n * Contructor\n */\ntype Conf = {\n  bidDefault: string\n  askDefault: string\n}\n\nconst conf: Record<Net, Conf> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    bidDefault: '2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj',\n    askDefault: '5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    bidDefault: '2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj',\n    askDefault: '5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    bidDefault: 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v',\n    askDefault: 'SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M',\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Net } from 'shared/runtime'\n\n/**\n * Contructor\n */\ntype Conf = {\n  wormholeAddress: string\n}\n\nconst conf: Record<Net, Conf> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    wormholeAddress: 'rRsXLHe7sBHdyKU3KY3wbcgWvoT1Ntqudf6e9PKusgb',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    wormholeAddress: 'rRsXLHe7sBHdyKU3KY3wbcgWvoT1Ntqudf6e9PKusgb',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    wormholeAddress: 'rRsXLHe7sBHdyKU3KY3wbcgWvoT1Ntqudf6e9PKusgb',\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Net } from 'shared/runtime'\n\n/**\n * Contructor\n */\ntype Config = {\n  assetsRoute: string\n}\n\nconst config: Record<Net, Config> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    assetsRoute: '/app/sen_assets',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    assetsRoute: '/app/sen_assets',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    assetsRoute: '/app/sen_assets',\n  },\n}\n\nexport default config\n","import { env, net } from 'shared/runtime'\nimport manifest from './manifest.config'\nimport sol from './sol.config'\nimport swap from './swap.config'\nimport wormhole from './wormhole.config'\nimport route from './route.config'\n\nconst configs = {\n  manifest: manifest[env],\n  sol: sol[net],\n  swap: swap[net],\n  wormhole: wormhole[net],\n  route: route[net],\n}\n\n/**\n * Module exports\n */\nexport default configs\n","import { Fragment, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useWallet } from '@senhub/providers'\n\nimport useMintCgk from 'app/hooks/useMintCgk'\nimport { createPDB } from 'shared/pdb'\nimport { AppState } from 'app/model'\nimport configs from 'app/configs'\n\nconst {\n  manifest: { appId },\n} = configs\nconst PDB_KEY = 'validated_swap_transaction'\n\nconst ValidateSwap = ({ txId = '' }: { txId?: string }) => {\n  const {\n    bid: {\n      amount: bidAmount,\n      mintInfo: { address: mintAddress },\n    },\n  } = useSelector((state: AppState) => state)\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const { price } = useMintCgk(mintAddress)\n\n  useEffect(() => {\n    ;(async () => {\n      const db = createPDB(walletAddress, appId)\n      if (!txId || !db) return\n      const prevLogs: { txIds: string[]; amount: number } = (await db.getItem(\n        PDB_KEY,\n      )) || { txIds: [], amount: 0 }\n      let swapAmountSuccess = Number(bidAmount) * price\n      const listTxIds = prevLogs.txIds\n      if (txId && !listTxIds?.includes(txId)) listTxIds.push(txId)\n      if (prevLogs.amount) swapAmountSuccess += prevLogs.amount\n      const swapLogs = { txIds: listTxIds, amount: swapAmountSuccess }\n      await db.setItem(PDB_KEY, swapLogs)\n    })()\n  }, [bidAmount, price, txId, walletAddress])\n\n  return <Fragment />\n}\nexport default ValidateSwap\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { LiteMintInfo } from 'app/components/preview'\n\nexport type BidState = {\n  amount: string // Desired amount\n  accountAddress: string // Associated account to the selected token\n  mintInfo: LiteMintInfo // Selected token\n  poolAddresses: string[] // List of available pools\n  priority: number\n}\n\nconst NAME = 'bid'\nconst initialState: BidState = {\n  amount: '',\n  mintInfo: {\n    address: '',\n    decimals: 0,\n  },\n  accountAddress: '',\n  poolAddresses: [],\n  priority: 0,\n}\n\n/**\n * Actions\n */\n\nexport const updateBidData = createAsyncThunk<\n  Partial<BidState>,\n  Partial<BidState> & { prioritized?: boolean; reset?: boolean },\n  { state: any }\n>(\n  `${NAME}/updateBidData`,\n  async ({ prioritized, reset, ...bidData }, { getState }) => {\n    const {\n      bid: { priority: prevPriority },\n      ask: { priority: refPriority },\n    } = getState()\n    if (Number(bidData.amount) < 0) bidData.amount = ''\n    const priority = reset ? 0 : prioritized ? refPriority + 1 : prevPriority\n    return { ...bidData, priority }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      updateBidData.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { LiteMintInfo } from 'app/components/preview'\n\nexport type AskState = {\n  amount: string // Desired amount\n  accountAddress: string // Associated account to the selected token\n  mintInfo: LiteMintInfo // Selected token\n  poolAddresses: string[] // List of available pools\n  priority: number\n}\n\nconst NAME = 'ask'\nconst initialState: AskState = {\n  amount: '',\n  mintInfo: {\n    address: '',\n    decimals: 0,\n  },\n  accountAddress: '',\n  poolAddresses: [],\n  priority: 0,\n}\n\n/**\n * Actions\n */\n\nexport const updateAskData = createAsyncThunk<\n  Partial<AskState>,\n  Partial<AskState> & { prioritized?: boolean; reset?: boolean },\n  { state: any }\n>(\n  `${NAME}/updateAskData`,\n  async ({ prioritized, reset, ...askData }, { getState }) => {\n    const {\n      bid: { priority: refPriority },\n      ask: { priority: prevPriority },\n    } = getState()\n    if (Number(askData.amount) < 0) askData.amount = ''\n    const priority = reset ? 0 : prioritized ? refPriority + 1 : prevPriority\n    return { ...askData, priority }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      updateAskData.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from '@senhub/providers'\n\n/**\n * Get token decimals from multiple resources. This hook needs MintProvider for work.\n * MintProvider Ref: https://docs.sentre.io/senhub/development/providers/mint-provider\n * @param mintAddress Mint address\n * @returns Decimals\n */\nconst useMintDecimals = (mintAddress: string) => {\n  const [decimals, setDecimals] = useState<number | undefined>(undefined)\n  const { getDecimals } = useMint()\n\n  const fetchDecimals = useCallback(async () => {\n    try {\n      const decimals = await getDecimals(mintAddress)\n      return setDecimals(decimals)\n    } catch (er: any) {\n      return setDecimals(undefined)\n    }\n  }, [mintAddress, getDecimals])\n\n  useEffect(() => {\n    fetchDecimals()\n  }, [fetchDecimals])\n\n  return decimals\n}\n\nexport default useMintDecimals\n","import { useEffect, useState } from 'react'\nimport { account, DEFAULT_EMPTY_ADDRESS, utils } from '@senswap/sen-js'\nimport { useAccount, useWallet } from '@senhub/providers'\n\nimport useMintDecimals from './useMintDecimals'\n\nexport type AccountBalanceReturn = {\n  amount: bigint\n  decimals: number\n  balance: number\n  mintAddress: string\n}\n\nconst buildResult = (\n  mintAddress?: string,\n  amount?: bigint,\n  decimals?: number,\n) => {\n  if (\n    !account.isAddress(mintAddress) ||\n    amount === undefined ||\n    decimals === undefined\n  )\n    return { amount: BigInt(0), decimals: 0, balance: 0 }\n  return {\n    mintAddress,\n    amount,\n    decimals,\n    balance: Number(utils.undecimalize(amount, decimals)),\n  }\n}\n\n/**\n * Get account balance. This hook needs WalletProvider, MintProvider, and AccountProvider for work.\n * WalletProvider Ref: https://docs.sentre.io/senhub/development/providers/wallet-provider\n * MintProvider Ref: https://docs.sentre.io/senhub/development/providers/mint-provider\n * AccountProvider Ref: https://docs.sentre.io/senhub/development/providers/account-provider\n * @param accountAddress Associated account address\n * @returns AccountBalanceReturn\n * - AccountBalanceReturn.amount: The amount with decimals\n * - AccountBalanceReturn.decimals: The corresponding mint decimals\n * - AccountBalanceReturn.balance: The human-readable balance (undecimalized amount)\n * - AccountBalanceReturn.mintAddress: The corresponding mint\n */\nconst useAccountBalance = (accountAddress: string) => {\n  const {\n    wallet: { address: walletAddress, lamports },\n  } = useWallet()\n  const { accounts } = useAccount()\n  const { amount, mint: mintAddress } = accounts[accountAddress] || {}\n  const decimals = useMintDecimals(mintAddress) || 0\n\n  if (!account.isAddress(walletAddress) || !account.isAddress(accountAddress))\n    return buildResult()\n  if (accountAddress === walletAddress)\n    return buildResult(DEFAULT_EMPTY_ADDRESS, lamports, 9)\n\n  return buildResult(mintAddress, amount, decimals)\n}\n\nexport default useAccountBalance\n\n/**\n * The same as useAccountBalance but the input is mint address\n * @param mintAddress Mint address\n * @returns AccountBalanceReturn\n */\nexport const useAccountBalanceByMintAddress = (mintAddress: string) => {\n  const [accountAddress, setAccountAddress] = useState('')\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const data = useAccountBalance(accountAddress)\n\n  useEffect(() => {\n    ;(async () => {\n      if (!account.isAddress(walletAddress) || !account.isAddress(mintAddress))\n        return setAccountAddress('')\n      const {\n        sentre: { splt },\n      } = window\n      try {\n        const address = await splt.deriveAssociatedAddress(\n          walletAddress,\n          mintAddress,\n        )\n        return setAccountAddress(address)\n      } catch (er) {\n        return setAccountAddress('')\n      }\n    })()\n  })\n\n  return data\n}\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { DEFAULT_WSOL, utils } from '@senswap/sen-js'\nimport { useWallet } from '@senhub/providers'\n\nimport { AppState } from 'app/model'\nimport useAccountBalance from 'shared/hooks/useAccountBalance'\n\nexport const useDisabledSwap = () => {\n  const {\n    route: { best, loadingJubRoute },\n    bid: {\n      amount: bidAmount,\n      accountAddress: bidAccountAddress,\n      mintInfo: { address: bidMintAddress, decimals: bidMintDecimals },\n    },\n    ask: {\n      amount: askAmount,\n      mintInfo: { address: askMintAddress },\n    },\n  } = useSelector((state: AppState) => state)\n\n  const {\n    wallet: { lamports },\n  } = useWallet()\n\n  const { amount: bidBalance } = useAccountBalance(bidAccountAddress)\n\n  const availableBid = useMemo((): string => {\n    if (bidMintAddress !== DEFAULT_WSOL)\n      return utils.undecimalize(bidBalance, bidMintDecimals)\n    // So estimate max = 0.01 fee -> multi transaction.\n    const estimateFee = utils.decimalize(0.01, bidMintDecimals)\n    const max = lamports + bidBalance - estimateFee\n    if (max <= bidBalance)\n      return utils.undecimalize(bidBalance, bidMintDecimals)\n    return utils.undecimalize(max, bidMintDecimals)\n  }, [bidBalance, bidMintAddress, bidMintDecimals, lamports])\n\n  const disabled =\n    !best.length ||\n    !Number(bidAmount) ||\n    !Number(askAmount) ||\n    Number(bidAmount) > Number(availableBid) ||\n    bidMintAddress === askMintAddress\n\n  return disabled || loadingJubRoute\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { usePool } from '@senhub/providers'\n\nimport { useMintTotalValue } from './useMintTotalValue'\n\n// Refer: sen-lp\nexport const usePoolTvl = (poolAddress?: string) => {\n  const { pools } = usePool()\n  const [tvl, setTvl] = useState(0)\n  const { getMintTotalValue } = useMintTotalValue()\n\n  const getTvl = useCallback(\n    async (poolAddress: string) => {\n      const poolData = pools[poolAddress]\n      if (!poolData) return 0\n      const { reserve_a, reserve_b, mint_a, mint_b } = poolData\n      const totalA = await getMintTotalValue({\n        mintAddress: mint_a,\n        amount: reserve_a,\n      })\n      const totalB = await getMintTotalValue({\n        mintAddress: mint_b,\n        amount: reserve_b,\n      })\n      return totalA + totalB\n    },\n    [getMintTotalValue, pools],\n  )\n\n  const updateTvl = useCallback(\n    async (poolAddress?: string) => {\n      if (!poolAddress) return setTvl(0)\n      const poolTvl = await getTvl(poolAddress)\n      setTvl(poolTvl)\n    },\n    [getTvl],\n  )\n\n  useEffect(() => {\n    updateTvl(poolAddress)\n  }, [updateTvl, poolAddress])\n\n  return { tvl, getTvl }\n}\n","import { useCallback } from 'react'\nimport { Swap, utils } from '@senswap/sen-js'\nimport { useMint, usePool } from '@senhub/providers'\n\nimport { fetchCGK } from 'shared/util'\n\n// Refer: sen-lp\nexport const useMintTotalValue = () => {\n  const { tokenProvider, getMint } = useMint()\n  const { pools } = usePool()\n\n  const getTokenUsd = useCallback(\n    async (mintAddress: string, amount: bigint) => {\n      try {\n        const tokenInfo = await tokenProvider.findByAddress(mintAddress)\n        const ticket = tokenInfo?.extensions?.coingeckoId\n        if (!ticket) throw new Error('Cant not find coingeckoId')\n\n        const cgkData = await fetchCGK(ticket)\n        return (\n          Number(utils.undecimalize(amount, tokenInfo.decimals)) * cgkData.price\n        )\n      } catch (error) {\n        return 0\n      }\n    },\n    [tokenProvider],\n  )\n\n  const getMintTotalValue = useCallback(\n    async ({\n      mintAddress,\n      amount,\n    }: {\n      mintAddress: string\n      amount: bigint\n    }) => {\n      const tokenInfo = await tokenProvider.findByAddress(mintAddress)\n      if (tokenInfo) return getTokenUsd(mintAddress, amount)\n\n      // Get Mint Lpt total value\n      const poolData = Object.values(pools).find(\n        (pool) => pool.mint_lpt === mintAddress,\n      )\n      if (!poolData) return 0\n      const { reserve_a, reserve_b, mint_a, mint_b } = poolData\n      if (reserve_a * reserve_b === BigInt(0)) return 0\n      const {\n        [mintAddress]: { supply },\n      } = await getMint({ address: mintAddress })\n      const { deltaA, deltaB } = Swap.oracle.withdraw(\n        amount,\n        supply,\n        reserve_a,\n        reserve_b,\n      )\n      const balanceA: number = await getMintTotalValue({\n        mintAddress: mint_a,\n        amount: deltaA,\n      })\n      const balanceB: number = await getMintTotalValue({\n        mintAddress: mint_b,\n        amount: deltaB,\n      })\n      return balanceA + balanceB\n    },\n    [getMint, getTokenUsd, tokenProvider, pools],\n  )\n  return { getMintTotalValue }\n}\n","import { useCallback } from 'react'\nimport { useSelector } from 'react-redux'\nimport { utils } from '@senswap/sen-js'\nimport { useWallet } from '@senhub/providers'\n\nimport { AppState } from 'app/model'\n\nconst PRECISION = BigInt(1000000000)\n\nexport const useHandleSwap = () => {\n  const {\n    route: { best },\n    bid: {\n      amount: _bidAmount,\n      mintInfo: { decimals: bidMintDecimals },\n    },\n    ask: {\n      amount: _askAmount,\n      mintInfo: { decimals: askMintDecimals },\n    },\n    settings: { slippage },\n  } = useSelector((state: AppState) => state)\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const handleSwap = useCallback(async () => {\n    const { swap, splt, wallet } = window.sentre\n    if (!wallet) throw new Error('Wallet is not connected')\n    // Synthetize routings\n    const routingAddresses = await Promise.all(\n      best.map(\n        async ({\n          srcMintAddress,\n          dstMintAddress,\n          poolData: { address: poolAddress },\n        }) => {\n          const srcAddress = await splt.deriveAssociatedAddress(\n            walletAddress,\n            srcMintAddress,\n          )\n          const dstAddress = await splt.deriveAssociatedAddress(\n            walletAddress,\n            dstMintAddress,\n          )\n          return {\n            poolAddress: poolAddress,\n            srcAddress: srcAddress,\n            dstAddress: dstAddress,\n          }\n        },\n      ),\n    )\n    // Compute limit\n    const bidAmount = utils.decimalize(_bidAmount, bidMintDecimals)\n    const askAmount = utils.decimalize(_askAmount, askMintDecimals)\n    const limit =\n      (askAmount * (PRECISION - utils.decimalize(slippage, 9))) / PRECISION\n    // Execute swap\n    return await swap.route(bidAmount, limit, routingAddresses, wallet)\n  }, [\n    best,\n    bidMintDecimals,\n    askMintDecimals,\n    slippage,\n    walletAddress,\n    _bidAmount,\n    _askAmount,\n  ])\n\n  return handleSwap\n}\n","import { Swap } from '@senswap/sen-js'\nimport { HopData } from 'app/components/preview/index'\nimport { extractReserve } from './router'\n\nexport const ORACLE = Swap.oracle\n\nexport const curve = (bidAmount: bigint, hopData: HopData): bigint => {\n  if (!bidAmount) return BigInt(0)\n  const { srcMintAddress, dstMintAddress, poolData } = hopData\n  const { fee_ratio, tax_ratio } = poolData\n  const bidReserve = extractReserve(srcMintAddress, poolData)\n  const askReserve = extractReserve(dstMintAddress, poolData)\n  if (!bidReserve || !askReserve) return BigInt(0)\n\n  const { askAmount } = ORACLE.swap(\n    bidAmount,\n    bidReserve,\n    askReserve,\n    fee_ratio,\n    tax_ratio,\n  )\n  return askAmount\n}\n\nexport const inverseCurve = (askAmount: bigint, hopData: HopData): bigint => {\n  if (!askAmount) return BigInt(0)\n  const { srcMintAddress, dstMintAddress, poolData } = hopData\n  const { fee_ratio, tax_ratio } = poolData\n  const bidReserve = extractReserve(srcMintAddress, poolData)\n  const askReserve = extractReserve(dstMintAddress, poolData)\n  if (!bidReserve || !askReserve) return BigInt(0)\n\n  const bidAmount = ORACLE.inverseSwap(\n    askAmount,\n    bidReserve,\n    askReserve,\n    fee_ratio,\n    tax_ratio,\n  )\n  return bidAmount\n}\n\nexport const slippage = (bidAmount: bigint, hopData: HopData): bigint => {\n  if (!bidAmount) return BigInt(0)\n  const { srcMintAddress, dstMintAddress, poolData } = hopData\n  const { fee_ratio, tax_ratio } = poolData\n  const bidReserve = extractReserve(srcMintAddress, poolData)\n  const askReserve = extractReserve(dstMintAddress, poolData)\n  if (!bidReserve || !askReserve) return BigInt(0)\n\n  const slippage = ORACLE.slippage(\n    bidAmount,\n    bidReserve,\n    askReserve,\n    fee_ratio,\n    tax_ratio,\n  )\n  return slippage\n}\n","import { PoolData, utils } from '@senswap/sen-js'\n\nimport { curve, slippage } from './oracle'\nimport { BidState } from 'app/model/bid.controller'\nimport { AskState } from 'app/model/ask.controller'\nimport { inverseCurve } from './oracle'\nimport { HopData } from 'app/components/preview/index'\nimport { RouteState, SwapPlatform } from 'app/model/route.controller'\n\nconst PRECISION = 9\nconst POOL_ACTIVITY_STATUS = 1\nconst LIMIT_POOL_IN_ROUTE = 3\n\nexport type GraphPool = Map<string, Map<string, PoolData>>\nexport type RouteTrace = HopData[]\n\n/**\n * Extract reserve from pool data\n * @param extractReserve\n * @param poolData\n * @returns\n */\nexport const extractReserve = (\n  mintAddress: string,\n  poolData: PoolData,\n): bigint => {\n  const { mint_a, mint_b, reserve_a, reserve_b } = poolData\n  if (mintAddress === mint_a) return reserve_a\n  if (mintAddress === mint_b) return reserve_b\n  throw new Error('Cannot find reserves')\n}\n\n/**\n *\n * @param param0\n * @param param1\n * @returns\n */\ntype Point = { point: bigint }\nexport const pointSorting = (\n  { point: firstPoint }: Point,\n  { point: secondPoint }: Point,\n) => {\n  if (firstPoint < secondPoint) return 1\n  if (firstPoint > secondPoint) return -1\n  return 0\n}\n\n/**\n * Calculate price impact\n * @param best\n * @param bid\n * @param ask\n * @returns\n */\nexport const calcPriceImpact = (best: RouteTrace, bidAmount: bigint) => {\n  if (!bidAmount) return 0\n  let srcAmount = bidAmount\n  let p = 1\n  best.forEach((hopData) => {\n    const s = Number(\n      utils.undecimalize(slippage(srcAmount, hopData), PRECISION),\n    )\n    p = p * (1 - s)\n    const dstAmount = curve(srcAmount, hopData)\n    srcAmount = dstAmount\n  })\n\n  return 1 - p\n}\n\nexport const buildPoolGraph = (pools: Record<string, PoolData>): GraphPool => {\n  const graph = new Map<\n    /*mint_address*/ string,\n    Map</*pool_address*/ string, PoolData>\n  >()\n  for (const poolAddress in pools) {\n    const pool = pools[poolAddress]\n    if (pool?.state !== POOL_ACTIVITY_STATUS) continue\n    const mints = [pool.mint_a, pool.mint_b]\n    mints.forEach((mint) => {\n      if (!graph.has(mint)) graph.set(mint, new Map<string, PoolData>())\n      graph.get(mint)?.set(poolAddress, pool)\n    })\n  }\n  return graph\n}\n\n// because of Solana is limiting the number of calculation unit, so the system\n// must limit the list pool of root. Currently, the system set 3 pools in route\nexport const findAllRoutes = (\n  graph: GraphPool,\n  bidMintAddress: string,\n  askMintAddress: string,\n  deep = 0,\n) => {\n  const routes: RouteTrace[] = []\n  const clonedGraph = new Map(graph)\n  const pools = graph.get(bidMintAddress)\n\n  // Too deep\n  if (deep >= LIMIT_POOL_IN_ROUTE) return routes\n  clonedGraph.delete(bidMintAddress)\n  pools?.forEach((poolData, poolAddress) => {\n    // Build sub params\n    const srcMintAddress = bidMintAddress\n    const dstMintAddress =\n      srcMintAddress === poolData.mint_a ? poolData.mint_b : poolData.mint_a\n    const hop: HopData = {\n      srcMintAddress,\n      dstMintAddress,\n      poolData: { ...poolData, address: poolAddress },\n    }\n    // Termination\n    if (dstMintAddress === askMintAddress) return routes.push([hop])\n    // Recursive call\n    const subRoutes = findAllRoutes(\n      clonedGraph,\n      dstMintAddress,\n      askMintAddress,\n      deep + 1,\n    )\n    subRoutes.forEach((route) => routes.push([hop, ...route]))\n  })\n\n  return routes\n}\n\nexport const findBestRouteFromBid = (\n  routes: RouteTrace[],\n  bidState: BidState,\n): RouteState => {\n  const { amount: bidAmount, mintInfo } = bidState\n  let bestRoute: RouteState = {\n    platform: SwapPlatform.SenSwap,\n    best: [],\n    amount: BigInt(0),\n    priceImpact: 0,\n  }\n  routes.forEach((route) => {\n    let amount = utils.decimalize(bidAmount, mintInfo.decimals)\n    route.forEach((hop) => {\n      amount = curve(amount, hop)\n    })\n    const maxAskAmount = bestRoute.amount\n    if (amount > maxAskAmount)\n      bestRoute = {\n        platform: SwapPlatform.SenSwap,\n        best: route,\n        amount,\n        priceImpact: 0,\n      }\n  })\n  const amount = utils.decimalize(bidAmount, mintInfo.decimals)\n  bestRoute.priceImpact = calcPriceImpact(bestRoute.best, amount)\n  return bestRoute\n}\n\nexport const findBestRouteFromAsk = (\n  routes: RouteTrace[],\n  { amount: askAmount, mintInfo }: AskState,\n): RouteState => {\n  let bestRoute: RouteState = {\n    platform: SwapPlatform.SenSwap,\n    best: [],\n    amount: BigInt(0),\n    priceImpact: 0,\n  }\n  for (const route of routes) {\n    const reversedRoute = [...route].reverse()\n    let amount = utils.decimalize(askAmount, mintInfo.decimals)\n\n    for (const hop of reversedRoute) {\n      amount = inverseCurve(amount, hop)\n      if (amount <= BigInt(0)) break\n    }\n    if (amount <= BigInt(0)) continue\n    const minBidAmount = bestRoute.amount\n    if (amount < minBidAmount || !minBidAmount)\n      bestRoute = {\n        platform: SwapPlatform.SenSwap,\n        best: route,\n        amount,\n        priceImpact: 0,\n      }\n  }\n  bestRoute.priceImpact = calcPriceImpact(bestRoute.best, bestRoute.amount)\n  return bestRoute\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account, PoolData } from '@senswap/sen-js'\nimport { usePool } from '@senhub/providers'\n\nimport { AppState } from 'app/model'\nimport { RouteState, SwapPlatform } from 'app/model/route.controller'\nimport {\n  buildPoolGraph,\n  findAllRoutes,\n  findBestRouteFromAsk,\n  findBestRouteFromBid,\n} from 'app/helper/router'\nimport { usePoolTvl } from '../usePoolTvl'\n\nconst MIN_TVL = 1000 // $USD\n\nexport const useBestRoute = (fixedPoolAddress?: string) => {\n  const [bestRoute, setBestRoute] = useState<RouteState>({\n    platform: SwapPlatform.SenSwap,\n    best: [],\n    amount: BigInt(0),\n    priceImpact: 0,\n  })\n  const { bid: bidData, ask: askData } = useSelector((state: AppState) => state)\n  const { pools } = usePool()\n  const { getTvl } = usePoolTvl()\n  /**\n   * Find optimal route\n   */\n  const findBestRoute = useCallback(async () => {\n    const {\n      poolAddresses: bidPoolAddresses,\n      mintInfo: { address: bidMintAddress },\n      amount: bidAmount,\n      priority: bidPriority,\n    } = bidData\n    const {\n      poolAddresses: askPoolAddresses,\n      mintInfo: { address: askMintAddress },\n      amount: askAmount,\n      priority: askPriority,\n    } = askData\n\n    // Initialize an instance for the best route\n    // The best route return a route that user can receive maximum ask amount when swap\n    let bestRoute: RouteState = {\n      platform: SwapPlatform.SenSwap,\n      best: [],\n      amount: BigInt(0),\n      priceImpact: 0,\n    }\n    // Return empty default\n    if (\n      (!Number(bidAmount) && !Number(askAmount)) ||\n      !account.isAddress(bidMintAddress) ||\n      !account.isAddress(askMintAddress) ||\n      !bidPoolAddresses.length ||\n      !askPoolAddresses.length ||\n      bidMintAddress === askMintAddress\n    )\n      return setBestRoute(bestRoute)\n    // filter pool tvl\n    let filteredPool: Record<string, PoolData> = {}\n    await Promise.all(\n      Object.keys(pools).map(async (pool) => {\n        let tvl = await getTvl(pool)\n        if (tvl < MIN_TVL) return\n        filteredPool[pool] = pools[pool]\n      }),\n    )\n\n    // All possible routes\n    let allRoutes = findAllRoutes(\n      buildPoolGraph(filteredPool),\n      bidMintAddress,\n      askMintAddress,\n    )\n    // No available route\n    if (!allRoutes.length) return setBestRoute(bestRoute)\n    // When user select original route from senlp\n    if (account.isAddress(fixedPoolAddress))\n      allRoutes = allRoutes.filter(\n        (route) =>\n          route.length === 1 && route[0].poolData.address === fixedPoolAddress,\n      )\n\n    if (askPriority < bidPriority)\n      bestRoute = findBestRouteFromBid(allRoutes, bidData)\n    else bestRoute = findBestRouteFromAsk(allRoutes, askData)\n    return setBestRoute(bestRoute)\n  }, [askData, bidData, fixedPoolAddress, getTvl, pools])\n\n  useEffect(() => {\n    findBestRoute()\n  }, [findBestRoute])\n\n  return bestRoute\n}\n","import { useHandleSwap } from './useHandleSwap'\nimport { useBestRoute } from './useBestRoute'\n\nconst useSenSwap = (fixedPoolAddress?: string) => {\n  const bestRoute = useBestRoute(fixedPoolAddress)\n  const swap = useHandleSwap()\n\n  return { bestRoute, swap }\n}\n\nexport default useSenSwap\n","import { account, WalletInterface } from '@senswap/sen-js'\nimport {\n  PublicKey,\n  Transaction,\n  Connection,\n  TransactionSignature,\n} from '@solana/web3.js'\nimport { SendTransactionOptions } from '@solana/wallet-adapter-base'\n\nclass JupiterWalletWrapper {\n  private _wallet\n  public publicKey: PublicKey\n\n  constructor(address: string, wallet: WalletInterface) {\n    this._wallet = wallet\n    this.publicKey = account.fromAddress(address) || null\n  }\n\n  async sendTransaction(\n    transaction: Transaction,\n    connection: Connection,\n    options?: SendTransactionOptions,\n  ): Promise<TransactionSignature> {\n    transaction = await this.signTransaction(transaction)\n    return await connection.sendRawTransaction(\n      transaction.serializeMessage(),\n      options,\n    )\n  }\n\n  async signTransaction(transaction: Transaction) {\n    return await this._wallet.signTransaction(transaction)\n  }\n\n  async signAllTransactions(transactions: Transaction[]) {\n    const signedTransactions = []\n    for (const transaction of transactions) {\n      const signedTransaction = await this.signTransaction(transaction)\n      signedTransactions.push(signedTransaction)\n    }\n    return signedTransactions\n  }\n}\n\nexport default JupiterWalletWrapper\n","import { useCallback, useEffect, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { account, PoolData } from '@senswap/sen-js'\nimport { useJupiter } from '@jup-ag/react-hook'\nimport { Connection } from '@solana/web3.js'\n\nimport configs from 'app/configs'\nimport { AppDispatch, AppState } from 'app/model'\nimport {\n  RouteState,\n  setLoadingJupiterRoute,\n  SwapPlatform,\n} from 'app/model/route.controller'\nimport { RouteTrace } from 'app/helper/router'\n\nimport JupiterWalletWrapper from 'app/hooks/jupiter/jupiterWalletWrapper'\nimport { useWallet } from '@senhub/providers'\nimport { HopData } from 'app/components/preview'\n\nconst {\n  sol: { node },\n} = configs\nconst connection = new Connection(node)\n\nconst DEFAULT_DATA: RouteState = {\n  platform: SwapPlatform.JupiterAggregator,\n  best: [],\n  amount: BigInt(0),\n  priceImpact: 0,\n}\n\nlet timeout: NodeJS.Timeout\n\nconst useJupiterAggregator = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const {\n    bid: {\n      mintInfo: { address: bidMintAddress, decimals: bidDecimals },\n      amount: bidAmount,\n    },\n    ask: {\n      mintInfo: { address: askMintAddress },\n    },\n    settings: { slippage },\n  } = useSelector((state: AppState) => state)\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const amount = Number(bidAmount) * 10 ** bidDecimals\n  const inputMint = useMemo(\n    () =>\n      account.isAddress(bidMintAddress)\n        ? account.fromAddress(bidMintAddress)\n        : undefined,\n    [bidMintAddress],\n  )\n  const outputMint = useMemo(\n    () =>\n      account.isAddress(askMintAddress)\n        ? account.fromAddress(askMintAddress)\n        : undefined,\n    [askMintAddress],\n  )\n\n  // Jupiter Aggregator\n  const { exchange, routes, loading, refresh } = useJupiter({\n    amount,\n    inputMint,\n    outputMint,\n    slippage: slippage * 100,\n    debounceTime: 250,\n  })\n\n  const swap = useCallback(async () => {\n    const {\n      sentre: { wallet },\n    } = window\n    if (!wallet || !account.isAddress(walletAddress))\n      throw new Error('Wallet is not connected')\n    if (!routes?.length) throw new Error('No available route')\n\n    const wrappedWallet = new JupiterWalletWrapper(walletAddress, wallet)\n    const result: any = await exchange({\n      wallet: wrappedWallet,\n      routeInfo: routes[0],\n      onTransaction: async (txid: string) => {\n        await connection.confirmTransaction(txid, 'confirmed')\n        return await connection.getTransaction(txid, {\n          commitment: 'confirmed',\n        })\n      },\n    })\n    if (result.error) throw new Error(result.error?.message || 'Unknown Error')\n    const { txid, outputAddress } = result\n    return { txId: txid, dstAddress: outputAddress }\n  }, [exchange, routes, walletAddress])\n\n  const bestRoute: RouteState = useMemo(() => {\n    if (!routes?.length) return { ...DEFAULT_DATA }\n    const { outAmount, priceImpactPct, marketInfos } = routes[0]\n    const best: RouteTrace = marketInfos.map(({ inputMint, outputMint }) => {\n      const hop: HopData = {\n        poolData: {} as PoolData & { address: string }, // dummy pool data\n        srcMintAddress: inputMint.toBase58(),\n        dstMintAddress: outputMint.toBase58(),\n      }\n      return hop\n    })\n    return {\n      platform: SwapPlatform.JupiterAggregator,\n      amount: BigInt(outAmount),\n      priceImpact: priceImpactPct,\n      best,\n    }\n  }, [routes])\n\n  useEffect(() => {\n    dispatch(setLoadingJupiterRoute({ loadingJubRoute: loading }))\n  }, [dispatch, loading])\n\n  useEffect(() => {\n    if (!!bidAmount && Number(bidAmount) > 0) {\n      if (timeout) clearTimeout(timeout)\n      timeout = setTimeout(() => {\n        refresh()\n      }, 1000)\n    }\n    // because refresh is not a useCallBack function. So not dependent refresh\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [bidAmount])\n  return { swap, bestRoute }\n}\n\nexport default useJupiterAggregator\n","import { useCallback, useState, useEffect, Fragment, useMemo } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useLocation } from 'react-router-dom'\nimport { utils } from '@senswap/sen-js'\n\nimport { Button } from 'antd'\nimport ValidateSwap from '../validateSwap'\n\nimport { AppState, AppDispatch } from 'app/model'\nimport { explorer } from 'shared/util'\nimport { PriceImpact } from 'app/constant/swap'\nimport { SenLpState } from 'app/constant/senLpState'\nimport { updateBidData } from 'app/model/bid.controller'\nimport { updateAskData } from 'app/model/ask.controller'\nimport { updateRoute } from 'app/model/route.controller'\nimport { useWrapSol } from 'app/hooks/useWrapSol'\nimport { useDisabledSwap } from 'app/hooks/useDisabledSwap'\nimport { useSenSwapValidator } from 'app/hooks/senswap/useSenSwapValidator'\nimport useSenSwap from 'app/hooks/senswap'\nimport useJupiterAggregator from 'app/hooks/jupiter/useJupiterAggregator'\n\nexport type SwapButtonProps = {\n  onCallback?: () => void\n  forceSwap?: boolean\n}\n\nconst SwapButton = ({\n  onCallback = () => {},\n  forceSwap = false,\n}: SwapButtonProps) => {\n  const dispatch = useDispatch<AppDispatch>()\n  const [validSwap, setValidSwap] = useState('')\n  const [loading, setLoading] = useState(false)\n  const {\n    route: { priceImpact, amount: bestAmount },\n    bid: {\n      mintInfo: { decimals: bidMintDecimals },\n      priority: bidPriority,\n    },\n    ask: {\n      mintInfo: { decimals: askMintDecimals },\n      priority: askPriority,\n    },\n    settings: { advanced },\n  } = useSelector((state: AppState) => state)\n\n  const { wrapAmount, wrapSol } = useWrapSol()\n  const { state: senlpState } = useLocation<SenLpState>()\n  const disabled = useDisabledSwap()\n\n  const senswap = useSenSwap(senlpState?.poolAddress)\n  const validSenSwap = useSenSwapValidator(senswap.bestRoute)\n\n  const jupiter = useJupiterAggregator()\n\n  // Jupiter support only with bid->ask\n  const { swap, bestRoute } = useMemo(() => {\n    if (bidPriority < askPriority || validSenSwap) return senswap\n    return jupiter\n  }, [askPriority, bidPriority, jupiter, senswap, validSenSwap])\n\n  const onSwap = async () => {\n    try {\n      setLoading(true)\n      // check wrap sol\n      if (wrapAmount) await wrapSol()\n\n      const { txId } = await swap()\n      window.notify({\n        type: 'success',\n        description: 'Swap successfully. Click to view details.',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n      setValidSwap(txId)\n      dispatch(updateBidData({ amount: '' }))\n      return onCallback()\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    } finally {\n      setValidSwap('')\n      return setLoading(false)\n    }\n  }\n\n  const setRoute = useCallback(() => {\n    if (askPriority < bidPriority) {\n      dispatch(\n        updateAskData({\n          amount: utils.undecimalize(bestAmount, askMintDecimals),\n        }),\n      )\n    }\n    if (bidPriority < askPriority) {\n      dispatch(\n        updateBidData({\n          amount: utils.undecimalize(bestAmount, bidMintDecimals),\n        }),\n      )\n    }\n    dispatch(updateRoute({ ...bestRoute }))\n  }, [\n    askPriority,\n    bidPriority,\n    dispatch,\n    bestRoute,\n    bestAmount,\n    askMintDecimals,\n    bidMintDecimals,\n  ])\n\n  useEffect(() => {\n    setRoute()\n  }, [setRoute])\n\n  const tooHighImpact =\n    !advanced && priceImpact > PriceImpact.acceptableSwap && !forceSwap\n\n  return (\n    <Fragment>\n      <Button\n        type=\"primary\"\n        onClick={onSwap}\n        disabled={disabled || tooHighImpact}\n        loading={loading}\n        block\n      >\n        {tooHighImpact\n          ? 'Too High Price Impact'\n          : forceSwap\n          ? 'Swap Anyway'\n          : 'Swap'}\n      </Button>\n      <ValidateSwap txId={validSwap} />\n    </Fragment>\n  )\n}\n\nexport default SwapButton\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { DEFAULT_WSOL, utils } from '@senswap/sen-js'\n\nimport { AppState } from 'app/model'\nimport useAccountBalance from 'shared/hooks/useAccountBalance'\n\nexport const useWrapSol = () => {\n  const {\n    bid: {\n      amount: bidAmount,\n      mintInfo: { address: bidMintAddress, decimals: bidMintDecimals },\n      accountAddress: bidAccountAddress,\n    },\n  } = useSelector((state: AppState) => state)\n  const { amount: bidBalance } = useAccountBalance(bidAccountAddress)\n\n  const wrapAmount = useMemo(() => {\n    if (!Number(bidAmount) || bidMintAddress !== DEFAULT_WSOL) return BigInt(0)\n    const amount = utils.decimalize(bidAmount, bidMintDecimals)\n    if (amount <= bidBalance) return BigInt(0)\n    return amount - bidBalance\n  }, [bidBalance, bidAmount, bidMintAddress, bidMintDecimals])\n\n  const wrapSol = async () => {\n    const { swap, wallet } = window.sentre\n    if (!wallet) throw new Error('Wallet is not connected')\n    if (wrapAmount) return await swap.wrapSol(wrapAmount, wallet)\n  }\n\n  return { wrapAmount, wrapSol }\n}\n","import { RouteState } from 'app/model/route.controller'\nimport { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { AppState } from 'app/model'\nimport { usePoolTvl } from 'app/hooks/usePoolTvl'\n\nconst MIN_TVL = 1000 // $USD\n\nexport const useSenSwapValidator = ({ best }: RouteState) => {\n  const {\n    bid: { amount: bidAmount },\n    ask: { amount: askAmount },\n  } = useSelector((state: AppState) => state)\n  const [valid, setValid] = useState(false)\n  const { getTvl } = usePoolTvl()\n\n  const checkLiquidity = useCallback(async () => {\n    for (const hop of best) {\n      const poolAddr = hop.poolData.address\n      const tvl = await getTvl(poolAddr)\n      if (tvl < MIN_TVL) return false\n    }\n    return true\n  }, [best, getTvl])\n\n  const validate = useCallback(async () => {\n    if (!Number(bidAmount) && !Number(askAmount)) return setValid(true)\n    // Check hops length\n    if (!best.length) return setValid(false)\n    // Check pool's Liquidity >= MIN_TVL\n    const validLiquidity = await checkLiquidity()\n    if (!validLiquidity) return setValid(false)\n\n    return setValid(true)\n  }, [checkLiquidity, best, askAmount, bidAmount])\n\n  useEffect(() => {\n    validate()\n  }, [validate])\n\n  return valid\n}\n","import { Connection, PublicKey } from '@solana/web3.js'\nimport { JupiterProvider } from '@jup-ag/react-hook'\nimport { useWallet } from '@senhub/providers'\n\nimport SwapButton, { SwapButtonProps } from './swapButton'\n\nimport configs from 'app/configs'\n\nconst {\n  sol: { node, cluster },\n} = configs\nconst connection = new Connection(node)\n\nconst SwapAction = ({\n  onCallback = () => {},\n  forceSwap = false,\n}: SwapButtonProps) => {\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  return (\n    <JupiterProvider\n      connection={connection}\n      cluster={cluster}\n      userPublicKey={new PublicKey(walletAddress)}\n    >\n      <SwapButton onCallback={onCallback} forceSwap={forceSwap} />\n    </JupiterProvider>\n  )\n}\n\nexport default SwapAction\n","import { useCallback, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Row, Col, Space, Typography, Modal, Card, Checkbox } from 'antd'\nimport Preview from 'app/components/preview'\nimport IonIcon from 'shared/antd/ionicon'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport SwapAction from 'app/components/swapAction'\n\nimport { AppState } from 'app/model'\nimport { PriceImpact } from 'app/constant/swap'\n\nconst ConfirmSwap = ({\n  visible = false,\n  onCancel = () => {},\n}: {\n  visible?: boolean\n  onCancel?: (visible: boolean) => void\n}) => {\n  const [checked, setChecked] = useState(false)\n  const {\n    route: { priceImpact },\n    bid: bidData,\n    ask: askData,\n  } = useSelector((state: AppState) => state)\n\n  const tooHighImpact = priceImpact > PriceImpact.acceptableSwap\n\n  const onCloseModal = useCallback(() => {\n    onCancel(false)\n    setChecked(false)\n  }, [onCancel])\n\n  return (\n    <Modal\n      onCancel={onCloseModal}\n      closeIcon={<IonIcon name=\"close\" />}\n      footer={null}\n      visible={visible}\n      forceRender\n    >\n      <Row gutter={[16, 24]}>\n        <Col span={24}>\n          <Typography.Title level={4}> Confirm swaps</Typography.Title>\n        </Col>\n        <Col span={24}>\n          <Row align=\"middle\" justify=\"space-between\">\n            <Col>\n              <Space direction=\"vertical\">\n                <Typography.Text>From</Typography.Text>\n                <Space>\n                  <MintAvatar mintAddress={bidData.mintInfo?.address} />\n                  <Typography.Text>\n                    <MintSymbol mintAddress={bidData.mintInfo?.address} />\n                  </Typography.Text>\n                </Space>\n                <Typography.Title level={4}>{bidData.amount}</Typography.Title>\n              </Space>\n            </Col>\n            <Col>\n              <IonIcon name=\"arrow-forward-outline\" style={{ fontSize: 24 }} />\n            </Col>\n            <Col>\n              <Space direction=\"vertical\" align=\"end\">\n                <Typography.Text>To</Typography.Text>\n                <Space>\n                  <MintAvatar mintAddress={askData.mintInfo?.address} />\n                  <Typography.Text>\n                    <MintSymbol mintAddress={askData.mintInfo?.address} />\n                  </Typography.Text>\n                </Space>\n                <Typography.Title level={4}>{askData.amount}</Typography.Title>\n              </Space>\n            </Col>\n          </Row>\n        </Col>\n        <Col>\n          <Card bordered={false} className=\"confirm-info\">\n            <Preview />\n          </Card>\n        </Col>\n        {tooHighImpact && (\n          <Col span={24}>\n            <Checkbox checked={checked} onChange={() => setChecked(!checked)}>\n              The price impact is currently high. Tick the checkbox to accept\n              the swap.\n            </Checkbox>\n          </Col>\n        )}\n        <Col span={24}>\n          <SwapAction onCallback={onCloseModal} forceSwap={checked} />\n        </Col>\n      </Row>\n    </Modal>\n  )\n}\nexport default ConfirmSwap\n","import { useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Button, Card, Col, Row, Typography } from 'antd'\nimport Preview from 'app/components/preview'\n\nimport ConfirmSwap from 'app/components/confirmSwap'\nimport { useDisabledSwap } from 'app/hooks/useDisabledSwap'\nimport { AppState } from 'app/model'\n\nconst SwapActions = () => {\n  const [visivle, setVisivle] = useState(false)\n  const disabled = useDisabledSwap()\n  const {\n    route: { loadingJubRoute },\n  } = useSelector((state: AppState) => state)\n  const { enhancement } = useSelector((state: AppState) => state.settings)\n  return (\n    <Card bordered={false}>\n      <Row gutter={[24, 24]}>\n        <Col span={24}>\n          <Typography.Title level={5}>Review & Swap</Typography.Title>\n        </Col>\n        <Col span={24}>\n          <Preview />\n        </Col>\n        {enhancement && <Col span={24} />} {/* Safe sapce */}\n        <Col span={24}>\n          <Button\n            type=\"primary\"\n            onClick={() => setVisivle(true)}\n            disabled={disabled}\n            loading={loadingJubRoute}\n            block\n          >\n            Review & Swap\n          </Button>\n        </Col>\n        <ConfirmSwap visible={visivle} onCancel={setVisivle} />\n      </Row>\n    </Card>\n  )\n}\n\nexport default SwapActions\n","import { Space, Typography } from 'antd'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\n\nimport { numeric } from 'shared/util'\n\nconst MintPoolInfo = ({\n  mintAddress,\n  tvl = '',\n  price,\n  format = '0,0.[00]a',\n}: {\n  mintAddress: string\n  tvl?: string | number\n  price?: number\n  format?: string\n}) => {\n  return (\n    <Space direction=\"vertical\" size={4}>\n      <MintAvatar mintAddress={mintAddress} />\n      <Space>\n        <Typography.Text>TVL:</Typography.Text>\n        <Typography.Title level={5}>\n          {numeric(tvl).format(format)}\n        </Typography.Title>\n        <Typography.Title level={5}>\n          <MintSymbol mintAddress={mintAddress} />\n        </Typography.Title>\n      </Space>\n      <Typography.Text className=\"caption\" type=\"secondary\">\n        ~ ${numeric(price).format(format)}\n      </Typography.Text>\n    </Space>\n  )\n}\n\nexport default MintPoolInfo\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account, PoolData, utils } from '@senswap/sen-js'\n\nimport { Card, Col, Divider, Row } from 'antd'\nimport MintPoolInfo from './mintPoolInfo'\n\nimport { AppState } from 'app/model'\nimport { extractReserve } from 'app/helper/router'\nimport useMintCgk from 'app/hooks/useMintCgk'\nimport './index.less'\n\nconst PoolInfo = () => {\n  const {\n    route: { best },\n    bid: { mintInfo: bidMintInfo },\n    ask: { mintInfo: askMintInfo },\n  } = useSelector((state: AppState) => state)\n  const bidCgk = useMintCgk(bidMintInfo.address)\n  const askCgk = useMintCgk(askMintInfo.address)\n\n  const { poolData: bidPoolData } = best[0] || {}\n  const { poolData: askPoolData } = best[best.length - 1] || {}\n\n  const getMintTVL = (mintAddress?: string, poolData?: PoolData) => {\n    try {\n      if (!account.isAddress(mintAddress) || !poolData) return BigInt(0)\n      return extractReserve(mintAddress, poolData)\n    } catch (er) {\n      return BigInt(0)\n    }\n  }\n\n  // Bid TVL\n  const bidTVL = useMemo(() => {\n    if (!bidMintInfo.decimals) return 0\n    const bid = getMintTVL(bidMintInfo.address, bidPoolData)\n    return Number(utils.undecimalize(bid, bidMintInfo.decimals))\n  }, [bidMintInfo, bidPoolData])\n  // Ask TVL\n  const askTVL = useMemo(() => {\n    if (!askMintInfo.decimals) return 0\n    const ask = getMintTVL(askMintInfo.address, askPoolData)\n    return Number(utils.undecimalize(ask, askMintInfo.decimals))\n  }, [askMintInfo, askPoolData])\n\n  const disabled = !bidTVL || !askTVL\n\n  return (\n    <Card\n      bordered={false}\n      className={disabled ? 'disabled-swap-pool-info-card' : undefined}\n    >\n      <Row gutter={[16, 16]} wrap={false}>\n        <Col span={11}>\n          <MintPoolInfo\n            mintAddress={bidMintInfo?.address || ''}\n            tvl={bidTVL}\n            price={bidTVL * bidCgk.price}\n          />\n        </Col>\n        <Col>\n          <Divider type=\"vertical\" style={{ height: '100%' }} />\n        </Col>\n        <Col span={11}>\n          <MintPoolInfo\n            mintAddress={askMintInfo?.address || ''}\n            tvl={askTVL}\n            price={askTVL * askCgk.price}\n          />\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default PoolInfo\n","export type EthAddressConfig = {\n  mainnet: string\n  goerli: string\n  ropsten: string\n}\n\nexport type EthChainIdConfig = {\n  mainnet: number\n  goerli: number\n  ropsten: number\n}\n\nexport type EtherNetwork = 'mainnet' | 'goerli'\n\nexport type EtherConfigSet = {\n  mainnet: string\n  goerli: string\n  ropsten: string\n}\n\nexport type MoralisStructure = {\n  url: string\n  apiKey: string\n}\n\nexport const ETH_BRIDGE_ADDRESS: EthAddressConfig = {\n  mainnet: '0x98f3c9e6E3fAce36bAAd05FE09d375Ef1464288B',\n  goerli: '0x706abc4E45D419950511e474C7B9Ed348A4a716c',\n  ropsten: '0xC89Ce4735882C9F0f0FE26686c53074E09B0D550',\n}\n\nexport const ETH_TOKEN_BRIDGE_ADDRESS: EthAddressConfig = {\n  mainnet: '0x3ee18B2214AFF97000D974cf647E7C347E8fa585',\n  goerli: '0xf890982f9310df57d00f659cf4fd87e65aded8d7',\n  ropsten: '0x0290FB167208Af455bB137780163b7B7a9a10C16',\n}\n\nexport const CHAIN_ID_ETH: EthChainIdConfig = {\n  mainnet: 1,\n  goerli: 5,\n  ropsten: 3,\n}\n\nexport const MORALIS_INFO: MoralisStructure = {\n  url: 'https://deep-index.moralis.io/api/v2',\n  apiKey: 'N6yeIUl1FxCPZWbXyxLHWPAjSr6ahQeJTX3d19pSKCwHsLCzpWE7z1hilon4xDOd',\n}\n\nexport const INFURA_API_KEY: String = '5eb1b92f2065414d9dd21858fac54257'\n\nexport const INFURA_API_HTTP_URL: EtherConfigSet = {\n  mainnet: `https://mainnet.infura.io/v3/${INFURA_API_KEY}`,\n  goerli: `https://goerli.infura.io/v3/${INFURA_API_KEY}`,\n  ropsten: `https://ropsten.infura.io/v3/${INFURA_API_KEY}`,\n}\n\nexport const INFURA_API_WSS_URL: EtherConfigSet = {\n  mainnet: `wss://mainnet.infura.io/ws/v3/${INFURA_API_KEY}`,\n  goerli: `wss://goerli.infura.io/ws/v3/${INFURA_API_KEY}`,\n  ropsten: `wss://ropsten.infura.io/ws/v3/${INFURA_API_KEY}`,\n}\n","export type SolNetWork = 'mainnet' | 'devnet'\n\nexport type SolAddressConfig = {\n  mainnet: string\n  testnet: string\n  devnet: string\n}\n\nexport const SOL_BRIDGE_ADDRESS: SolAddressConfig = {\n  mainnet: 'worm2ZoG2kUd4vFXhvjh93UUH596ayRfgQ2MgjNMTth',\n  testnet: 'Brdguy7BmNB4qwEbcqqMbyV5CyJd2sxQNUn6NEpMSsUb',\n  devnet: '3u8hJUVTA4jH1wYAyUur7FFZVQ8H635K3tSHHF4ssjQ5',\n}\n\nexport const SOL_TOKEN_BRIDGE_ADDRESS: SolAddressConfig = {\n  mainnet: 'wormDTUJ6AWPNvk59vGQbDvGJmqbDTdgWgAqcLBCgUb',\n  testnet: 'A4Us8EhCC76XdGAN17L4KpRNEK423nMivVHZzZqFqqBg',\n  devnet: 'DZnkkTmCiFWfYTfT41X3Rd1kDgozqzxWaHqsw6W4x2oe',\n}\n","import {\n  CHAIN_ID_ETH,\n  CHAIN_ID_SOLANA,\n} from '@certusone/wormhole-sdk'\nimport storage from 'shared/storage'\n\nimport {\n  EtherNetwork,\n  ETH_BRIDGE_ADDRESS,\n  ETH_TOKEN_BRIDGE_ADDRESS,\n} from 'app/constant/ethConfig'\nimport {\n  SolNetWork,\n  SOL_BRIDGE_ADDRESS,\n  SOL_TOKEN_BRIDGE_ADDRESS,\n} from 'app/constant/solConfig'\nimport { getIsWrappedAssetSol } from '@certusone/wormhole-sdk'\n\nexport const getSolNetwork = () => {\n  const solNetwork = storage.get('network') || 'mainnet'\n  return solNetwork\n}\n\nexport const getEtherNetwork = () => {\n  const solNetwork = getSolNetwork()\n  const etherNetwork = solNetwork === 'mainnet' ? 'mainnet' : 'goerli'\n  return etherNetwork\n}\n\nexport const getEtherContext = () => {\n  const etherNetwork: EtherNetwork = getEtherNetwork()\n  return {\n    chainId: CHAIN_ID_ETH,\n    tokenBridgeAddress: ETH_TOKEN_BRIDGE_ADDRESS[etherNetwork],\n    bridgeAddress: ETH_BRIDGE_ADDRESS[etherNetwork],\n  }\n}\n\nexport const getSolContext = () => {\n  const solNetWork: SolNetWork = getSolNetwork()\n  return {\n    chainId: CHAIN_ID_SOLANA,\n    tokenBridgeAddress: SOL_TOKEN_BRIDGE_ADDRESS[solNetWork],\n    bridgeAddress: SOL_BRIDGE_ADDRESS[solNetWork],\n  }\n}\n\nexport const checkAttestedWormhole = async (mintAddress: string) => {\n  const solContext = getSolContext()\n  return getIsWrappedAssetSol(\n    window.sentre.splt.connection,\n    solContext.tokenBridgeAddress,\n    mintAddress,\n  )\n}\n","import { lazy, Suspense, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\n\nimport { Popover, Tag } from 'antd'\n\nimport { AppState } from 'app/model'\nimport { checkAttestedWormhole } from 'app/helper/wormhole'\nimport { randomColor } from 'shared/util'\n\nconst WORMHOLE_COLOR = '#F9575E'\n\nconst FrameWormhole = () => {\n  const FrameWormhole = lazy(() =>\n    // @ts-ignore\n    import('@frame/sen_assets/bootstrap').then((module) => ({\n      default: module.FrameWormhole,\n    })),\n  )\n  return (\n    <Suspense fallback=\"Loading...\">\n      <FrameWormhole />\n    </Suspense>\n  )\n}\n\nconst WormholeSupported = () => {\n  const [wormholeSupported, setWormholeSupported] = useState(false)\n  const {\n    bid: { mintInfo },\n  } = useSelector((state: AppState) => state)\n  const { address: mintAddress } = mintInfo || {}\n\n  useEffect(() => {\n    ;(async () => {\n      if (!account.isAddress(mintAddress)) return setWormholeSupported(false)\n      const wormholeSupported = await checkAttestedWormhole(mintAddress)\n      return setWormholeSupported(wormholeSupported)\n    })()\n  }, [mintAddress])\n\n  if (!wormholeSupported) return null\n  return (\n    <Popover\n      overlayInnerStyle={{\n        background: 'transparent',\n        width: 375,\n        boxShadow: 'none',\n      }}\n      trigger=\"click\"\n      content={<FrameWormhole />}\n    >\n      <Tag\n        style={{\n          margin: 0,\n          borderRadius: 4,\n          color: randomColor(WORMHOLE_COLOR),\n          cursor: 'pointer',\n        }}\n        color={randomColor(WORMHOLE_COLOR, 0.2)}\n      >\n        Wormhole Bridge\n      </Tag>\n    </Popover>\n  )\n}\n\nexport default WormholeSupported\n","var _defs, _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgSen(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    \"data-name\": \"Layer 1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 283.465 283.465\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient\",\n    x1: -1222.504,\n    y1: -2883.343,\n    x2: -1135.428,\n    y2: -2970.419,\n    gradientTransform: \"translate(1300.837 3068.613)\",\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#f9575e\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.27,\n    stopColor: \"#f8555b\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.486,\n    stopColor: \"#f44f51\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.685,\n    stopColor: \"#ee4540\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.871,\n    stopColor: \"#e63728\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#de2a13\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient-2\",\n    x1: 1314.111,\n    y1: -895.144,\n    x2: 1389.882,\n    y2: -811.556,\n    gradientTransform: \"translate(1516.988 -707.868) rotate(180)\",\n    xlinkHref: \"#linear-gradient\"\n  }))), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"Senswap logo FINAL\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M37.179,85.127H114a92.562,92.562,0,0,1,92.562,92.562v20.648a0,0,0,0,1,0,0H129.741a92.562,92.562,0,0,1-92.562-92.562V85.127A0,0,0,0,1,37.179,85.127Z\",\n    transform: \"translate(107.828 328.128) rotate(-135)\",\n    fill: \"url(#linear-gradient)\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M169.462,85.127h76.823a0,0,0,0,1,0,0v20.648a92.562,92.562,0,0,1-92.562,92.562H76.9a0,0,0,0,1,0,0V177.689a92.562,92.562,0,0,1,92.562-92.562Z\",\n    transform: \"translate(-52.89 155.776) rotate(-45)\",\n    fill: \"url(#linear-gradient-2)\"\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgSen);\nexport default __webpack_public_path__ + \"static/media/sen.f2d012c907167ba613b035621b6423cb.svg\";\nexport { ForwardRef as ReactComponent };","import { Avatar, Space, Tooltip, Typography } from 'antd'\nimport SentreIcon from 'app/static/images/sen.svg'\n\nexport type PoweredBySentreProps = {\n  title?: string\n  spacing?: number\n  iconSize?: number\n}\n\nconst PoweredBySentre = ({\n  title = 'Powered by',\n  spacing = 4,\n  iconSize = 20,\n}: PoweredBySentreProps) => {\n  return (\n    <Space size={spacing} style={{ cursor: 'pointer' }}>\n      <Typography.Text style={{ fontSize: 12, color: '#7A7B85' }}>\n        {title}\n      </Typography.Text>\n      <Tooltip title=\"Sentre Protocol\">\n        <Avatar src={SentreIcon} size={iconSize} />\n      </Tooltip>\n    </Space>\n  )\n}\n\nexport default PoweredBySentre\n","import { Row, Col, Button, Typography, Tooltip } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nconst Option = ({\n  label,\n  value,\n  onClick,\n  active = false,\n}: {\n  label: string\n  value: number\n  onClick: (value: number) => void\n  active?: boolean\n}) => {\n  return (\n    <Typography.Text\n      style={{ cursor: 'pointer', color: active ? '#F9575E' : 'inherit' }}\n      onClick={() => onClick(value)}\n    >\n      {label}\n    </Typography.Text>\n  )\n}\n\nconst Slippage = ({\n  value,\n  onChange,\n}: {\n  value: number\n  onChange: (value: number) => void\n}) => {\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Row gutter={[8, 8]} wrap={false}>\n          <Col flex=\"auto\">\n            <Typography.Text type=\"secondary\" style={{ fontSize: 12 }}>\n              Slippage Tolerance\n            </Typography.Text>\n          </Col>\n          <Col>\n            <Tooltip\n              placement=\"right\"\n              title={\n                <span>\n                  Your transaction will be canceled if the confirmed price\n                  breaks the limited range of{' '}\n                  <strong style={{ color: '#f9575e' }}>{`${\n                    value * 100\n                  }%.`}</strong>\n                </span>\n              }\n            >\n              <Button\n                type=\"text\"\n                shape=\"circle\"\n                size=\"small\"\n                icon={<IonIcon name=\"information-circle-outline\" />}\n              />\n            </Tooltip>\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Row gutter={[8, 8]} wrap={false} justify=\"space-between\">\n          {[0.001, 0.005, 0.01, 0.05, 1].map((e, i) => (\n            <Col key={i}>\n              <Option\n                label={e === 1 ? 'Freely' : `${e * 100}%`}\n                value={e}\n                onClick={onChange}\n                active={e === value}\n              />\n            </Col>\n          ))}\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Slippage\n","import { Row, Col, Typography, Switch } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nconst Advanced = ({\n  value,\n  onChange,\n}: {\n  value: boolean\n  onChange: (value: boolean) => void\n}) => {\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Row gutter={[8, 8]} wrap={false}>\n          <Col flex=\"auto\">\n            <Typography.Text>Advanced Mode</Typography.Text>\n          </Col>\n          <Col>\n            <Switch size=\"small\" checked={value} onChange={onChange} />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Typography.Paragraph className=\"caption\">\n          <IonIcon name=\"warning-outline\" /> This advanced mode will disable the\n          automatic protection that often results in bad rates and lost funds.\n          Only use this mode if you know what you are doing.\n        </Typography.Paragraph>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Advanced\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\n\nexport type State = {\n  slippage: number\n  advanced: boolean\n  enhancement: boolean\n}\n\nconst NAME = 'settings'\nconst initialState: State = {\n  slippage: 0.01,\n  advanced: false,\n  enhancement: false,\n}\n\n/**\n * Actions\n */\n\nexport const updateSettings = createAsyncThunk(\n  `${NAME}/updateSettings`,\n  async (settings: Partial<State>) => ({ ...settings }),\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      updateSettings.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { Col, Row, Switch, Typography } from 'antd'\n\nconst Enhancement = ({\n  value,\n  onChange,\n}: {\n  value: boolean\n  onChange: (value: boolean) => void\n}) => {\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Row gutter={[8, 8]} wrap={false}>\n          <Col flex=\"auto\">\n            <Typography.Text>Enhancement UI</Typography.Text>\n          </Col>\n          <Col>\n            <Switch size=\"small\" checked={value} onChange={onChange} />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Typography.Paragraph className=\"caption\">\n          Take advantage of all the familiar tools.\n        </Typography.Paragraph>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Enhancement\n","import { useDispatch, useSelector } from 'react-redux'\n\nimport { Row, Col, Button, Popover, Typography, Divider } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport PoweredBySentre from 'app/components/poweredBySentre'\nimport Slippage from './slippage'\nimport Advanced from './advanced'\n\nimport { updateSettings } from 'app/model/settings.controller'\nimport { AppDispatch, AppState } from 'app/model'\nimport Enhancement from './enhancement'\n\nconst Settings = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const { slippage, advanced, enhancement } = useSelector(\n    (state: AppState) => state.settings,\n  )\n\n  const onSlippage = (slippage: number) => {\n    return dispatch(updateSettings({ slippage }))\n  }\n  const onAdvanced = (advanced: boolean) => {\n    return dispatch(updateSettings({ advanced }))\n  }\n  const onEnhancement = (enhancement: boolean) => {\n    return dispatch(updateSettings({ enhancement }))\n  }\n\n  return (\n    <Row gutter={[4, 4]} justify=\"end\" align=\"middle\" wrap={false}>\n      <Col>\n        <PoweredBySentre />\n      </Col>\n      <Col>\n        <Divider type=\"vertical\" style={{ padding: 0 }} />\n      </Col>\n      <Col>\n        <Popover\n          placement=\"bottomRight\"\n          overlayInnerStyle={{ width: 300 }}\n          content={\n            <Row gutter={[8, 8]}>\n              <Col span={24}>\n                <Typography.Title level={5}>Settings</Typography.Title>\n              </Col>\n              <Col span={24}>\n                <Slippage value={slippage} onChange={onSlippage} />\n              </Col>\n              <Divider style={{ margin: 0 }} />\n              <Col span={24}>\n                <Advanced value={advanced} onChange={onAdvanced} />\n              </Col>\n              <Divider style={{ margin: 0 }} />\n              <Col span={24}>\n                <Enhancement value={enhancement} onChange={onEnhancement} />\n              </Col>\n            </Row>\n          }\n          trigger=\"click\"\n        >\n          <Button\n            type=\"text\"\n            shape=\"circle\"\n            size=\"small\"\n            icon={<IonIcon name=\"settings-outline\" />}\n          />\n        </Popover>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Settings\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { useAccount, useMint, usePool } from '@senhub/providers'\n\nimport { Card, Input, Button } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nconst KEYSIZE = 3\n\nconst Search = ({\n  onChange,\n  disabled = false,\n}: {\n  onChange: (data: string[]) => void\n  disabled?: boolean\n}) => {\n  const [mintAddresses, setMintAddresses] = useState<string[]>([])\n  const [keyword, setKeyword] = useState('')\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n  const { accounts } = useAccount()\n\n  const sortMintAddresses = useCallback(async () => {\n    let sortedMint: Record<string, boolean> = {}\n    // Get all mints in token provider\n    const allMintAddress: Record<string, boolean> = {}\n    const allTokens = await tokenProvider.all()\n    for (const token of allTokens) allMintAddress[token.address] = true\n\n    // get all single token in accounts\n    for (const addr in accounts) {\n      const { mint, amount } = accounts[addr]\n      if (allMintAddress[mint] && amount) sortedMint[mint] = true\n    }\n    sortedMint = { ...sortedMint, ...allMintAddress }\n\n    // Get all mints in pools\n    const inPoolMintAddresses = Object.values(pools)\n      .map(({ mint_a, mint_b }) => [mint_a, mint_b])\n      .flat()\n      .filter((item, pos, self) => self.indexOf(item) === pos)\n    // Check mint addresses (token info, mint lp)\n    inPoolMintAddresses.forEach((mintAddress) => {\n      if (!sortedMint[mintAddress]) sortedMint[mintAddress] = true\n    })\n\n    // Return\n    return setMintAddresses(Object.keys(sortedMint))\n  }, [tokenProvider, pools, accounts])\n\n  useEffect(() => {\n    sortMintAddresses()\n  }, [sortMintAddresses])\n\n  const search = useCallback(async () => {\n    if (!keyword || keyword.length < KEYSIZE) return onChange(mintAddresses)\n    const raw = await tokenProvider.find(keyword)\n    const data = raw\n      .filter(({ address }) => mintAddresses.includes(address))\n      .map(({ address }) => address)\n    // Search by address\n    mintAddresses.forEach((mintAddress) => {\n      if (data.includes(mintAddress)) return\n      if (!mintAddress.toLowerCase().includes(keyword.toLowerCase())) return\n      return data.push(mintAddress)\n    })\n    return onChange(data)\n  }, [keyword, onChange, tokenProvider, mintAddresses])\n\n  useEffect(() => {\n    search()\n  }, [search])\n\n  return (\n    <Card className=\"card-child\" bodyStyle={{ padding: 8 }} bordered={false}>\n      <Input\n        placeholder=\"Search\"\n        value={keyword}\n        size=\"small\"\n        bordered={false}\n        suffix={\n          <Button\n            type=\"text\"\n            style={{ marginRight: -7 }}\n            size=\"small\"\n            onClick={keyword ? () => setKeyword('') : () => {}}\n            icon={\n              <IonIcon name={keyword ? 'close-outline' : 'search-outline'} />\n            }\n            disabled={disabled}\n          />\n        }\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n          setKeyword(e.target.value)\n        }\n        disabled={disabled}\n      />\n    </Card>\n  )\n}\n\nexport default Search\n","import { Row, Col, Space, Typography, Card, Divider } from 'antd'\nimport { MintAvatar, MintName, MintSymbol } from 'shared/antd/mint'\n\nconst Mint = ({\n  mintAddress,\n  onClick,\n  active = false,\n}: {\n  mintAddress: string\n  onClick: () => void\n  active?: boolean\n}) => {\n  return (\n    <Card\n      className={`card-child${active ? ' active' : ''}`}\n      bodyStyle={{ padding: `8px 16px`, cursor: 'pointer' }}\n      bordered={active}\n      onClick={onClick}\n      hoverable\n    >\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Space size={12} style={{ marginLeft: -4 }}>\n            <MintAvatar mintAddress={mintAddress} size={32} />\n            <Typography.Text style={{ margin: 0 }}>\n              <MintSymbol mintAddress={mintAddress} />\n            </Typography.Text>\n            <Divider type=\"vertical\" style={{ margin: 0 }} />\n            <Typography.Text\n              type=\"secondary\"\n              style={{ margin: 0, fontSize: 12 }}\n            >\n              <MintName mintAddress={mintAddress} />\n            </Typography.Text>\n          </Space>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default Mint\n","import { useState, useCallback } from 'react'\nimport { account } from '@senswap/sen-js'\nimport LazyLoad from '@senswap/react-lazyload'\nimport { useMint, usePool } from '@senhub/providers'\n\nimport { Row, Col, Typography, Divider } from 'antd'\nimport Search from './search'\nimport Mint from './mint'\n\nimport { LiteMintInfo } from '../preview'\n\nconst LIMITATION = 100\n\nexport type SelectionInfo = {\n  mintInfo?: LiteMintInfo\n  poolAddresses: string[]\n}\n\nconst MintSelection = ({\n  value,\n  onChange,\n}: {\n  value: SelectionInfo\n  onChange: (value: SelectionInfo) => void\n}) => {\n  const [mintAddresses, setMintAddresses] = useState<string[]>([])\n  const { address: currentMintAddress } = value.mintInfo || {}\n  const { pools } = usePool()\n  const { getDecimals } = useMint()\n\n  // Compute available pools\n  const getAvailablePoolAddresses = useCallback(\n    (mintAddress: string) => {\n      if (!account.isAddress(mintAddress)) return []\n      return Object.keys(pools).filter((poolAddress) => {\n        const { mint_a, mint_b } = pools[poolAddress]\n        return [mint_a, mint_b].includes(mintAddress)\n      })\n    },\n    [pools],\n  )\n\n  // Return data to parent\n  const onMint = useCallback(\n    async (mintAddress: string) => {\n      const poolAddresses = getAvailablePoolAddresses(mintAddress)\n      const decimals = await getDecimals(mintAddress)\n      return onChange({\n        mintInfo: {\n          address: mintAddress,\n          decimals,\n        },\n        poolAddresses,\n      })\n    },\n    [getAvailablePoolAddresses, onChange, getDecimals],\n  )\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Typography.Title level={5}>Token Selection</Typography.Title>\n      </Col>\n      <Col span={24}>\n        <Divider style={{ margin: 0 }} />\n      </Col>\n      <Col span={24}>\n        <Search onChange={setMintAddresses} />\n      </Col>\n      <Col span={24}>\n        <Row gutter={[16, 16]} style={{ height: 300 }} className=\"scrollbar\">\n          <Col span={24}>\n            <Row gutter={[16, 16]}>\n              {mintAddresses.slice(0, LIMITATION).map((mintAddress, i) => (\n                <Col span={24} key={i}>\n                  <LazyLoad height={48} overflow>\n                    <Mint\n                      mintAddress={mintAddress}\n                      onClick={() => onMint(mintAddress)}\n                      active={currentMintAddress === mintAddress}\n                    />\n                  </LazyLoad>\n                </Col>\n              ))}\n            </Row>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default MintSelection\n","import { useState, Fragment, useEffect } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { forceCheck } from '@senswap/react-lazyload'\n\nimport { Row, Col, Typography, Modal, Space } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport MintSelection, { SelectionInfo } from './mintSelection'\n\nimport { SenLpState } from 'app/constant/senLpState'\n\nconst Selection = ({\n  value,\n  onChange,\n}: {\n  value: SelectionInfo\n  onChange: (value: SelectionInfo) => void\n}) => {\n  const [visible, setVisible] = useState(false)\n  const history = useHistory()\n  const { state } = useLocation<SenLpState>()\n  useEffect(() => {\n    if (visible) setTimeout(forceCheck, 500)\n  }, [visible])\n\n  const onSelection = (selectionInfo: SelectionInfo) => {\n    setVisible(false)\n\n    // Clear state of senlp come to\n    if (state) history.replace({ ...history.location, state: {} })\n\n    return onChange(selectionInfo)\n  }\n\n  const mintAddress = value?.mintInfo?.address || ''\n\n  return (\n    <Fragment>\n      <Space className=\"mint-select\" onClick={() => setVisible(true)}>\n        <MintAvatar mintAddress={mintAddress} />\n        <Typography.Text type=\"secondary\">\n          <MintSymbol mintAddress={mintAddress} />\n        </Typography.Text>\n        <Typography.Text type=\"secondary\">\n          <IonIcon name=\"chevron-down-outline\" />\n        </Typography.Text>\n      </Space>\n      <Modal\n        visible={visible}\n        onCancel={() => setVisible(false)}\n        closeIcon={<IonIcon name=\"close\" />}\n        footer={null}\n        destroyOnClose={true}\n        centered={true}\n      >\n        <Row gutter={[16, 16]}>\n          <Col span={24} />\n          <Col span={24}>\n            <MintSelection value={value} onChange={onSelection} />\n          </Col>\n        </Row>\n      </Modal>\n    </Fragment>\n  )\n}\n\nexport default Selection\n","import { ChangeEvent, useState, forwardRef, useCallback, useRef } from 'react'\n\nimport { Input, Tooltip, Space, InputProps } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nlet timeoutId: ReturnType<typeof setTimeout> | undefined\n\n/**\n * Numeric Input\n * - Check balance based on the max\n * - Only accept numeric characters\n * @remarks The props of input follows the same as https://ant.design/components/input/#API. Extra & Overrided props\n * @param max - Maximum\n * @param onValue - A triggerred function if a valid number\n */\nconst NumericInput = forwardRef(\n  (\n    {\n      max,\n      onValue = () => {},\n      onChange = () => {},\n      ...props\n    }: InputProps & {\n      onValue?: (val: string) => void\n      max?: string | number\n    },\n    ref: any,\n  ) => {\n    const [error, setError] = useState('')\n    const [cursor, setCursor] = useState<number | null>(null)\n    const innerRef = useRef(ref)\n\n    // Handle amount\n    const onAmount = useCallback(\n      (val: string) => {\n        const onError = (er: string) => {\n          if (timeoutId) {\n            clearTimeout(timeoutId)\n            timeoutId = undefined\n          }\n          setError(er)\n          timeoutId = setTimeout(() => setError(''), 500)\n        }\n        const reg = /^\\d*(\\.\\d*)?$/\n        if (!reg.test(val)) return onError('Invalid character')\n        if (max && parseFloat(val) > parseFloat(max.toString()))\n          return onError('Not enough balance')\n        return onValue(val)\n      },\n      [max, onValue],\n    )\n\n    // Handle cursor jumping\n    // To prevent autofocus on mobile, we must strictly check cursor different from null\n    if (cursor !== null) innerRef?.current?.setSelectionRange(cursor, cursor)\n\n    return (\n      <Tooltip\n        title={\n          <Space>\n            <IonIcon name=\"warning\" />\n            {error}\n          </Space>\n        }\n        visible={!!error}\n      >\n        <Input\n          {...props}\n          onChange={(e: ChangeEvent<HTMLInputElement>) => {\n            onChange(e)\n            setCursor(e.target.selectionStart)\n            onAmount(e.target.value || '')\n          }}\n          ref={innerRef}\n        />\n      </Tooltip>\n    )\n  },\n)\n\nexport default NumericInput\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { useMint, usePool, useWallet } from '@senhub/providers'\n\nimport { SelectionInfo } from 'app/components/selection/mintSelection'\n\nconst DEFAULT_INFO = {\n  accountAddress: '',\n  poolAddresses: [],\n}\n\ntype MintSelection = SelectionInfo & {\n  accountAddress?: string\n}\n\nexport const useMintSelection = (mintAddress: string): MintSelection => {\n  const { wallet } = useWallet()\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n  const [selectionInfo, setSelectionInfo] =\n    useState<MintSelection>(DEFAULT_INFO)\n\n  const getSelectionInfo = useCallback(async () => {\n    if (!account.isAddress(mintAddress) || !Object.keys(pools).length)\n      return setSelectionInfo(DEFAULT_INFO)\n\n    const mintInfo = await tokenProvider.findByAddress(mintAddress)\n    if (!mintInfo) return setSelectionInfo(DEFAULT_INFO)\n    const { splt } = window.sentre\n    // get mint account\n    const accountAddress = await splt.deriveAssociatedAddress(\n      wallet.address,\n      mintAddress,\n    )\n    // get pools\n    const poolAddresses = Object.keys(pools).filter((poolAddress) => {\n      const { mint_a, mint_b } = pools[poolAddress]\n      return [mint_a, mint_b].includes(mintAddress)\n    })\n    setSelectionInfo({\n      accountAddress,\n      mintInfo,\n      poolAddresses,\n    })\n  }, [mintAddress, pools, tokenProvider, wallet.address])\n\n  useEffect(() => {\n    getSelectionInfo()\n  }, [getSelectionInfo])\n\n  return selectionInfo\n}\n","import { useMemo, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useLocation } from 'react-router-dom'\nimport { account } from '@senswap/sen-js'\nimport { useWallet } from '@senhub/providers'\n\nimport { Row, Col, Typography, Space } from 'antd'\nimport { SelectionInfo } from '../selection/mintSelection'\nimport Selection from '../selection'\nimport NumericInput from 'shared/antd/numericInput'\nimport { MintSymbol } from 'shared/antd/mint'\n\nimport configs from 'app/configs'\nimport { numeric } from 'shared/util'\nimport { AppDispatch, AppState } from 'app/model'\nimport { updateAskData } from 'app/model/ask.controller'\nimport { useMintSelection } from 'app/hooks/useMintSelection'\nimport { SenLpState } from 'app/constant/senLpState'\nimport useAccountBalance from 'shared/hooks/useAccountBalance'\n\nconst Ask = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const { wallet } = useWallet()\n  const {\n    ask: { amount, accountAddress, mintInfo, poolAddresses },\n  } = useSelector((state: AppState) => state)\n  const { state } = useLocation<SenLpState>()\n  const { balance: maxBalance } = useAccountBalance(accountAddress)\n  const selectionDefault = useMintSelection(configs.swap.askDefault)\n  const poolAdress = state?.poolAddress\n\n  // Select default\n  useEffect(() => {\n    if (account.isAddress(accountAddress) || account.isAddress(poolAdress))\n      return\n    dispatch(updateAskData(selectionDefault))\n  }, [accountAddress, dispatch, poolAdress, selectionDefault])\n\n  // Compute selection info\n  const selectionInfo: SelectionInfo = useMemo(\n    () => ({ mintInfo, poolAddresses }),\n    [mintInfo, poolAddresses],\n  )\n\n  // Handle amount\n  const onAmount = (val: string) =>\n    dispatch(updateAskData({ amount: val, prioritized: true }))\n\n  // Update ask data\n  const onSelectionInfo = async (selectionInfo: SelectionInfo) => {\n    const { splt } = window.sentre\n    const { address: mintAddress } = selectionInfo.mintInfo || {}\n    if (!account.isAddress(mintAddress))\n      return dispatch(\n        updateAskData({ amount: '', prioritized: true, ...selectionInfo }),\n      )\n    const accountAddress = await splt.deriveAssociatedAddress(\n      wallet.address,\n      mintAddress,\n    )\n    dispatch(\n      updateAskData({\n        amount: '',\n        prioritized: true,\n        accountAddress,\n        ...selectionInfo,\n      }),\n    )\n  }\n\n  return (\n    <Row gutter={[0, 0]}>\n      <Col flex=\"auto\">\n        <Selection value={selectionInfo} onChange={onSelectionInfo} />\n      </Col>\n      <Col>\n        <NumericInput\n          bordered={false}\n          style={{\n            textAlign: 'right',\n            fontSize: 24,\n            maxWidth: 150,\n            padding: 0,\n          }}\n          placeholder=\"0\"\n          value={amount}\n          onValue={onAmount}\n        />\n      </Col>\n      <Col span={24}>\n        <Space className=\"caption\">\n          <Typography.Text type=\"secondary\">Available:</Typography.Text>\n          <Typography.Text type=\"secondary\">\n            {numeric(maxBalance).format('0,0.[00]')}\n          </Typography.Text>\n          <Typography.Text type=\"secondary\">\n            <MintSymbol mintAddress={selectionInfo.mintInfo?.address || ''} />\n          </Typography.Text>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Ask\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useLocation } from 'react-router-dom'\nimport { account, DEFAULT_WSOL, utils } from '@senswap/sen-js'\nimport { useWallet } from '@senhub/providers'\n\nimport { Row, Col, Typography, Space, Radio } from 'antd'\nimport Selection from '../selection'\nimport NumericInput from 'shared/antd/numericInput'\nimport { MintSymbol } from 'shared/antd/mint'\n\nimport configs from 'app/configs'\nimport { numeric } from 'shared/util'\nimport { AppDispatch, AppState } from 'app/model'\nimport { updateBidData } from 'app/model/bid.controller'\nimport { SelectionInfo } from '../selection/mintSelection'\nimport { useMintSelection } from 'app/hooks/useMintSelection'\nimport { SenLpState } from 'app/constant/senLpState'\nimport useAccountBalance from 'shared/hooks/useAccountBalance'\n\nconst {\n  swap: { bidDefault },\n} = configs\n\nexport enum RATE {\n  FIFTY = 50,\n  HUNDRED = 100,\n}\n\nconst Bid = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const {\n    wallet: { address: walletAddress, lamports },\n  } = useWallet()\n  const {\n    bid: { amount: bidAmount, accountAddress, mintInfo, poolAddresses },\n  } = useSelector((state: AppState) => state)\n  const { amount: balance } = useAccountBalance(accountAddress)\n  const selectionDefault = useMintSelection(bidDefault)\n  const { state } = useLocation<SenLpState>()\n  const poolAdress = state?.poolAddress\n  const { address: mintAddress, decimals } = mintInfo\n  const [activeValue, setActiveValue] = useState(0)\n\n  // Select default\n  useEffect(() => {\n    if (account.isAddress(accountAddress) || account.isAddress(poolAdress))\n      return\n    dispatch(updateBidData(selectionDefault))\n  }, [accountAddress, dispatch, poolAdress, selectionDefault])\n\n  // Compute selection info\n  const selectionInfo: SelectionInfo = useMemo(\n    () => ({ mintInfo, poolAddresses }),\n    [mintInfo, poolAddresses],\n  )\n\n  const fiftyPerBtn = useMemo(() => {\n    if (activeValue === RATE.HUNDRED) return RATE.HUNDRED\n    return RATE.FIFTY\n  }, [activeValue])\n\n  // Compute human-readable balance\n  const maxBalance = useMemo((): string => {\n    if (mintAddress !== DEFAULT_WSOL)\n      return utils.undecimalize(balance, decimals)\n    // So estimate max = 0.01 fee -> multi transaction.\n    const estimateFee = utils.decimalize(0.01, decimals)\n    const max = lamports + balance - estimateFee\n    if (max <= balance) return utils.undecimalize(balance, decimals)\n    return utils.undecimalize(max, decimals)\n  }, [balance, decimals, lamports, mintAddress])\n\n  // Handle amount\n  const onAmount = useCallback(\n    (val: string) => {\n      return dispatch(updateBidData({ amount: val, prioritized: true }))\n    },\n\n    [dispatch],\n  )\n  // All in :)))\n  const onMax = () => onAmount(maxBalance)\n  // set percent balance\n  const onChangePercentAmount = useCallback(\n    (activeValue: RATE) => {\n      if (!maxBalance) return\n      const numMaxBalance = Number(maxBalance)\n      if (numMaxBalance < 5 / 10 ** 6) return onAmount(maxBalance)\n      const percentageBalance = numMaxBalance * (activeValue / 100)\n      return onAmount(`${percentageBalance}`)\n    },\n    [maxBalance, onAmount],\n  )\n\n  const checkActive = useCallback(() => {\n    const numMaxBalance = Number(maxBalance)\n    const amount = Number(bidAmount)\n    if (!numMaxBalance || numMaxBalance === 0) return setActiveValue(0)\n    if (numMaxBalance === amount) return setActiveValue(RATE.HUNDRED)\n    if (numMaxBalance / 2 === amount) return setActiveValue(RATE.FIFTY)\n    return setActiveValue(0)\n  }, [bidAmount, maxBalance])\n\n  // Update bid data\n  const onSelectionInfo = async (selectionInfo: SelectionInfo) => {\n    const { splt } = window.sentre\n    const { address: mintAddress } = selectionInfo.mintInfo || {}\n    if (!account.isAddress(mintAddress))\n      return dispatch(\n        updateBidData({ amount: '', prioritized: true, ...selectionInfo }),\n      )\n    const accountAddress = await splt.deriveAssociatedAddress(\n      walletAddress,\n      mintAddress,\n    )\n    return dispatch(\n      updateBidData({\n        amount: '',\n        prioritized: true,\n        accountAddress,\n        ...selectionInfo,\n      }),\n    )\n  }\n\n  useEffect(() => {\n    checkActive()\n  }, [checkActive])\n\n  return (\n    <Row gutter={[0, 0]} align=\"middle\">\n      <Col flex=\"auto\">\n        <Selection value={selectionInfo} onChange={onSelectionInfo} />\n      </Col>\n      <Col>\n        <NumericInput\n          bordered={false}\n          style={{\n            textAlign: 'right',\n            fontSize: 24,\n            maxWidth: 150,\n            padding: 0,\n          }}\n          placeholder=\"0\"\n          value={bidAmount}\n          onValue={onAmount}\n        />\n      </Col>\n      <Col span={24}>\n        <Row align=\"middle\">\n          <Col flex=\"auto\">\n            <Space className=\"caption\">\n              <Typography.Text type=\"secondary\">Available:</Typography.Text>\n              <Typography.Text\n                type=\"secondary\"\n                style={{ cursor: 'pointer' }}\n                onClick={onMax}\n              >\n                {numeric(maxBalance || 0).format('0,0.[00]')}\n              </Typography.Text>\n              <Typography.Text type=\"secondary\">\n                <MintSymbol\n                  mintAddress={selectionInfo.mintInfo?.address || ''}\n                />\n              </Typography.Text>\n            </Space>\n          </Col>\n          <Col>\n            <Radio.Group value={activeValue} buttonStyle=\"solid\">\n              <Space>\n                <Space size={4} direction=\"vertical\">\n                  <Radio.Button\n                    className=\"rate-btn\"\n                    onClick={() => onChangePercentAmount(RATE.FIFTY)}\n                    value={fiftyPerBtn}\n                  />\n                  <Typography.Text type=\"secondary\" className=\"caption\">\n                    {RATE.FIFTY}%\n                  </Typography.Text>\n                </Space>\n                <Space size={4} direction=\"vertical\">\n                  <Radio.Button\n                    className=\"rate-btn\"\n                    onClick={() => onChangePercentAmount(RATE.HUNDRED)}\n                    value={RATE.HUNDRED}\n                  />\n                  <Typography.Text type=\"secondary\" className=\"caption\">\n                    {RATE.HUNDRED}%\n                  </Typography.Text>\n                </Space>\n              </Space>\n            </Radio.Group>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Bid\n","import { useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Button, Col, Row } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport Ask from '../ask'\nimport Bid from '../bid'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { updateAskData } from 'app/model/ask.controller'\nimport { updateBidData } from 'app/model/bid.controller'\n\nconst SwapInput = ({ widget = false }: { widget?: boolean }) => {\n  const dispatch = useDispatch<AppDispatch>()\n  const { bid: bidData, ask: askData } = useSelector((state: AppState) => state)\n\n  /**\n   * Switch tokens\n   */\n  const onSwitch = useCallback(async () => {\n    const { amount: bidAmount, priority: bidPriority, ...bidRest } = bidData\n    const { amount: askAmount, priority: askPriority, ...askRest } = askData\n    const amount = bidPriority > askPriority ? bidAmount : askAmount\n    const updateData = bidPriority > askPriority ? updateAskData : updateBidData\n    await dispatch(updateBidData({ ...askRest, amount: '', reset: true }))\n    await dispatch(updateAskData({ ...bidRest, amount: '', reset: true }))\n    await dispatch(updateData({ amount, prioritized: true }))\n  }, [dispatch, askData, bidData])\n\n  const bidStyle = widget\n    ? { padding: '16px 16px 40px' }\n    : { padding: '6px 24px 16px' }\n  const askStyle = widget\n    ? { padding: '0 16px 16px' }\n    : { padding: '0 24px 24px' }\n  const wrapStype = widget ? { margin: '0 -12px' } : {}\n\n  return (\n    <Row gutter={[0, 0]} justify=\"center\" style={{ ...wrapStype }}>\n      <Col span={24} style={{ ...bidStyle }} className=\"swap-bid\">\n        <Bid />\n      </Col>\n      <Col style={{ top: -12 }}>\n        <Button\n          className=\"btn-switch-type\"\n          size=\"small\"\n          icon={<IonIcon name=\"git-compare-outline\" />}\n          onClick={onSwitch}\n        />\n      </Col>\n      <Col span={24} style={{ ...askStyle }}>\n        <Ask />\n      </Col>\n    </Row>\n  )\n}\n\nexport default SwapInput\n","import { Col, Row } from 'antd'\nimport WormholeSupported from '../bid/wormholeSupported'\nimport Settings from '../settings'\nimport SwapInput from './swapInput'\n\nconst SwapForm = () => {\n  return (\n    <Row gutter={0}>\n      <Col span={24} className=\"swap-setting\">\n        <Row>\n          <Col flex=\"auto\">\n            <WormholeSupported />\n          </Col>\n          <Col>\n            <Settings />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <SwapInput />\n      </Col>\n    </Row>\n  )\n}\n\nexport default SwapForm\n","import { useSelector } from 'react-redux'\n\nimport { Card, Col, Row } from 'antd'\nimport SwapReview from './swapReview'\nimport PoolInfo from './poolInfo'\nimport SwapForm from 'app/components/swapForm'\nimport { AppState } from 'app/model'\n\nconst Swap = () => {\n  const { enhancement } = useSelector((state: AppState) => state.settings)\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Card bordered={false} className=\"card-swap\" bodyStyle={{ padding: 0 }}>\n          <SwapForm />\n        </Card>\n      </Col>\n      <Col span={24}>\n        <SwapReview />\n      </Col>\n      {enhancement && (\n        <Col span={24}>\n          <PoolInfo />\n        </Col>\n      )}\n    </Row>\n  )\n}\n\nexport default Swap\n","import { Tag } from 'antd'\n\nconst STATUS_COLOR: Record<string, number[]> = {\n  success: [20, 224, 65],\n  pending: [212, 177, 6],\n  error: [215, 35, 17],\n  failed: [215, 35, 17],\n}\n\nconst StatusTag = ({ tag }: { tag: string }) => {\n  const setColorTag = (opacity?: number) => {\n    let color = STATUS_COLOR[tag]\n    return `rgba(${color[0]},  ${color[1]}, ${color[2]},${opacity || 1})`\n  }\n\n  return (\n    <Tag\n      style={{\n        margin: 0,\n        borderRadius: 4,\n        color: setColorTag(),\n        textTransform: 'capitalize',\n      }}\n      color={setColorTag(0.1)}\n    >\n      {tag}\n    </Tag>\n  )\n}\n\nexport default StatusTag\n","import { Button, Space, Typography } from 'antd'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport IonIcon from 'shared/antd/ionicon'\nimport StatusTag from './statusTag'\n\nimport { explorer, numeric, shortenAddress } from 'shared/util'\n\nconst FORMAT_AMOUNT = '0,00.[0000]a'\n\nexport const HISTORY_COLUMN = [\n  {\n    title: 'TIME',\n    dataIndex: 'time',\n  },\n  {\n    title: 'TRANSACTION',\n    dataIndex: 'transactionId',\n    render: (text: string) => (\n      <Space align=\"baseline\">\n        <Typography.Text\n          onClick={() => window.open(explorer(text), '_blank')}\n          style={{ fontWeight: 700, cursor: 'pointer' }}\n        >\n          {shortenAddress(text, 3, '...')}\n        </Typography.Text>\n        <Button\n          type=\"text\"\n          size=\"small\"\n          onClick={() => window.open(explorer(text), '_blank')}\n          icon={<IonIcon name=\"open-outline\" />}\n        />\n      </Space>\n    ),\n  },\n\n  {\n    title: 'BID',\n    dataIndex: 'bid',\n    render: (text: string, record: any) =>\n      !record.from ? (\n        '--'\n      ) : (\n        <Space size={8}>\n          <MintAvatar mintAddress={record.from} />\n          {numeric(record.amountFrom).format(FORMAT_AMOUNT)}\n          <MintSymbol mintAddress={record.from} />\n        </Space>\n      ),\n  },\n  {\n    title: 'ASK',\n    dataIndex: 'ask',\n    render: (text: string, record: any) =>\n      !record.to ? (\n        '--'\n      ) : (\n        <Space size={8}>\n          <MintAvatar mintAddress={record.to} />\n          {numeric(record.amountTo).format(FORMAT_AMOUNT)}\n          <MintSymbol mintAddress={record.to} />\n        </Space>\n      ),\n  },\n  {\n    title: 'STATUS',\n    dataIndex: 'status',\n    width: 100,\n    render: (text: string, record: any) => <StatusTag tag={record.status} />,\n  },\n]\n","import moment from 'moment'\n\nconst SECOND_PER_MILLISECOND = 1000\n\nexport enum TimeFormat {\n  YMD = 'YYYYMMDD',\n  SortableTimePattern = 'YYYY-MM-DD HH:mm:ss',\n}\n\nexport class DateHelper {\n  private milliSeconds: number = new Date().valueOf()\n\n  setMilliSeconds(milliSeconds: number) {\n    this.milliSeconds = milliSeconds\n  }\n\n  static fromSeconds(seconds: number): DateHelper {\n    const date = new DateHelper()\n    const milliSeconds = seconds * SECOND_PER_MILLISECOND\n    date.setMilliSeconds(milliSeconds)\n    return date\n  }\n\n  static fromYmd(ymd: number): DateHelper {\n    const date = new DateHelper()\n    const milliSeconds = moment(ymd, TimeFormat.YMD).valueOf()\n    date.setMilliSeconds(milliSeconds)\n    return date\n  }\n\n  static getListDate(ymdFrom: number, ymdTo: number): number[] {\n    const dates: number[] = []\n    let dateFrom = DateHelper.fromYmd(ymdFrom)\n    const dateTo = DateHelper.fromYmd(ymdTo)\n    while (dateFrom.ymd() <= dateTo.ymd()) {\n      dates.push(dateFrom.ymd())\n      dateFrom = dateFrom.addDay()\n    }\n    return dates\n  }\n\n  format(dateFormat: TimeFormat): string {\n    const date = new Date(this.milliSeconds)\n    return moment(date).format(dateFormat)\n  }\n\n  subtractDay(dayAmount: number = 1): DateHelper {\n    const milliSeconds = moment(this.milliSeconds)\n      .subtract(dayAmount, 'days')\n      .valueOf()\n    const date = DateHelper.fromSeconds(milliSeconds / SECOND_PER_MILLISECOND)\n    return date\n  }\n\n  addDay(dayAmount: number = 1): DateHelper {\n    const milliSeconds = moment(this.milliSeconds)\n      .add(dayAmount, 'days')\n      .valueOf()\n    const date = DateHelper.fromSeconds(milliSeconds / SECOND_PER_MILLISECOND)\n    return date\n  }\n\n  seconds(): number {\n    return (\n      (this.milliSeconds - (this.milliSeconds % SECOND_PER_MILLISECOND)) /\n      SECOND_PER_MILLISECOND\n    )\n  }\n\n  ymd(): number {\n    return Number(this.format(TimeFormat.YMD))\n  }\n\n  static today(format: string = TimeFormat.YMD): string {\n    return moment().format(format)\n  }\n}\n","export class TransLog {\n  programId: string = ''\n\n  programInfo: ProgramInfo | undefined\n\n  signature: string = ''\n\n  blockTime: number = 0\n\n  time: number = 0\n\n  owner: string = ''\n\n  actionType: string = ''\n\n  actionTransfers: Array<ActionTransfer> = []\n\n  programTransfer: Array<ActionTransfer> = []\n}\n\nexport class ActionInfo {\n  address: string = ''\n\n  // pool: string = ''\n\n  mint: string = ''\n\n  decimals: number = 0\n\n  preBalance: string = '0'\n\n  postBalance: string = '0'\n}\n/**\n * Amount is not same postBalance - preBalance\n * @postBalance and @preBalance are balance after all action (transaction)\n * @postBalance = @preBalance +- all @amount (multi amount in transaction)\n * @amount is value in 1 action\n */\nexport class ActionTransfer {\n  source: ActionInfo | undefined\n\n  destination: ActionInfo | undefined\n\n  amount: string = '0'\n}\ntype ProgramInfo = {\n  programId: string\n  data: string\n}\n","import {\n  ConfirmedSignatureInfo,\n  ConfirmedSignaturesForAddress2Options,\n  Connection,\n  ParsedConfirmedTransaction,\n  PublicKey,\n} from '@solana/web3.js'\n\nimport { OptionsFetchSignature } from '../../constants/transaction'\n\nconst DEFAULT_LIMIT = 700\nconst TRANSACTION_LIMIT = 200\n\nexport class Solana {\n  private conn: Connection = window.sentre.splt.connection\n\n  //Search for all signatures from last Signature and earlier\n  //So: If new collection (to now) -> last Signature = null\n  private async fetchSignatures(\n    address: PublicKey,\n    lastSignature?: string,\n    limit: number = DEFAULT_LIMIT,\n  ): Promise<Array<ConfirmedSignatureInfo>> {\n    if (limit > DEFAULT_LIMIT) limit = DEFAULT_LIMIT\n    const options: ConfirmedSignaturesForAddress2Options = {\n      limit: limit,\n      before: lastSignature,\n    }\n    return this.conn.getConfirmedSignaturesForAddress2(address, options)\n  }\n\n  private async fetchConfirmTransaction(signatures: string[]) {\n    let confirmedTransactions: ParsedConfirmedTransaction[] = []\n    let limit = TRANSACTION_LIMIT\n\n    const promiseTransGroup = []\n    for (let offset = 0; offset <= signatures.length / limit; offset++) {\n      const skip = offset * limit\n      const signaturesGroup = signatures.slice(skip, skip + limit)\n      promiseTransGroup.push(\n        this.conn.getParsedConfirmedTransactions(signaturesGroup),\n      )\n    }\n\n    const transGroups = await Promise.all(promiseTransGroup)\n    for (const transGroup of transGroups) {\n      //@ts-ignore\n      confirmedTransactions = confirmedTransactions.concat(transGroup)\n    }\n    return confirmedTransactions\n  }\n\n  async fetchTransactions(\n    programId: string,\n    options: OptionsFetchSignature,\n  ): Promise<ParsedConfirmedTransaction[]> {\n    const currentTime = new Date().getTime() / 1000\n    let { secondFrom, secondTo, lastSignature, limit } = options\n    secondFrom = Math.floor(secondFrom || 0)\n    secondTo = Math.floor(secondTo || currentTime)\n\n    const programPublicKey = new PublicKey(programId)\n    let signatures: string[] = []\n    let isStop = false\n\n    while (!isStop) {\n      const confirmedSignatureInfos: ConfirmedSignatureInfo[] =\n        await this.fetchSignatures(programPublicKey, lastSignature, limit)\n      if (!confirmedSignatureInfos?.length || isStop) break\n      for (const info of confirmedSignatureInfos) {\n        const blockTime = info.blockTime\n        if (!blockTime || blockTime > secondTo) continue\n        if (blockTime < secondFrom) {\n          isStop = true\n          break\n        }\n        lastSignature = info.signature\n        signatures.push(info.signature)\n      }\n\n      if (limit && signatures.length >= limit) break\n      if (confirmedSignatureInfos?.length < DEFAULT_LIMIT) break\n    }\n    const confirmedTransactions = await this.fetchConfirmTransaction(signatures)\n    return confirmedTransactions\n  }\n}\n","export enum ParsedType {\n  Transfer = 'transfer',\n}\n\nexport type ParsedAction = {\n  type: ParsedType\n  info: ParsedInfoTransfer\n}\n\nexport type ParsedInfoTransfer = {\n  source: string\n  destination: string\n  amount: string\n  lamports: number\n}\n\nexport type OptionsFetchSignature = {\n  limit?: number\n  lastSignature?: string\n  secondFrom?: number\n  secondTo?: number\n}\n","import base58 from 'bs58'\n\nimport { TransLog } from '../entities/trans-log'\nimport { TransLogService } from './translog'\n\nconst { struct } = require('soprox-abi')\n\nconst TRANSLOG_PROGRAM_DATA_SCHEMA = { key: 'code', type: 'u8' }\n\nexport enum SwapActionType {\n  Route = 'SWAP',\n}\n\nconst ACTION_TYPE: Record<number, SwapActionType> = {\n  8: SwapActionType.Route,\n}\n\nexport default class SwapTransLogService extends TransLogService {\n  parseAction = (transLog: TransLog) => {\n    const programDataEncode = transLog.programInfo?.data\n    if (!programDataEncode) return ''\n\n    const dataBuffer = base58.decode(programDataEncode)\n    const actionLayout = new struct([TRANSLOG_PROGRAM_DATA_SCHEMA])\n    const programDataDecode: { code: number } = actionLayout.fromBuffer(\n      Buffer.from(dataBuffer),\n    )\n    return ACTION_TYPE[programDataDecode.code] || ''\n  }\n}\n","import {\n  ParsedConfirmedTransaction,\n  ParsedInstruction,\n  ParsedMessageAccount,\n  PartiallyDecodedInstruction,\n  TokenBalance,\n} from '@solana/web3.js'\nimport { account } from '@senswap/sen-js'\n\nimport { ActionInfo, ActionTransfer, TransLog } from '../entities/trans-log'\nimport { Solana } from '../adapters/solana/client'\nimport {\n  OptionsFetchSignature,\n  ParsedAction,\n  ParsedInfoTransfer,\n  ParsedType,\n} from '../constants/transaction'\nimport { DateHelper } from '../helpers/date'\nimport { SOL_ADDRESS, SOL_DECIMALS } from '../constants/sol'\n\ntype InstructionData = ParsedInstruction | PartiallyDecodedInstruction\n\nexport class TransLogService {\n  protected parseAction = (transLog: TransLog) => {\n    return ''\n  }\n\n  async collect(\n    programId: string,\n    configs: OptionsFetchSignature,\n  ): Promise<TransLog[]> {\n    const solana = new Solana()\n    let transLogs: Array<TransLog> = []\n    const confirmedTrans: ParsedConfirmedTransaction[] =\n      await solana.fetchTransactions(programId, configs)\n\n    for (const trans of confirmedTrans) {\n      const log = this.parseTransLog(trans)\n      if (!log) continue\n      transLogs.push(log)\n    }\n    return transLogs\n  }\n\n  private parseTransLog(\n    confirmedTrans: ParsedConfirmedTransaction,\n  ): TransLog | undefined {\n    const { blockTime, meta, transaction } = confirmedTrans\n    if (!blockTime || !meta) return\n    const { postTokenBalances, preTokenBalances, postBalances, preBalances } =\n      meta\n    const { signatures, message } = transaction\n\n    const innerInstructionData = meta.innerInstructions?.[0]?.instructions || []\n    const instructionData = message.instructions[0] || []\n\n    const transLog = new TransLog()\n    transLog.signature = signatures[0]\n    transLog.blockTime = blockTime\n    transLog.time = DateHelper.fromSeconds(blockTime).ymd()\n    transLog.programId = instructionData.programId.toString()\n\n    const mapAccount = this.parseAccountInfo(\n      message.accountKeys,\n      postTokenBalances || [],\n      preTokenBalances || [],\n      postBalances,\n      preBalances,\n    )\n    // system program transaction\n    if (this.isParsedInstruction(instructionData)) {\n      transLog.programTransfer = this.parseListActionTransfer(\n        [instructionData],\n        mapAccount,\n      )\n      return transLog\n    }\n    // smart contract transaction\n    transLog.actionTransfers = this.parseListActionTransfer(\n      innerInstructionData,\n      mapAccount,\n    )\n    transLog.programInfo = {\n      programId: instructionData.programId.toString(),\n      data: (instructionData as PartiallyDecodedInstruction).data,\n    }\n    transLog.actionType = this.parseAction(transLog)\n\n    return transLog\n  }\n\n  private isParsedInstruction(instructionData: InstructionData) {\n    return (instructionData as ParsedInstruction).parsed !== undefined\n  }\n\n  private parseListActionTransfer(\n    actions: InstructionData[],\n    mapAccount: Map<string, ActionInfo>,\n  ) {\n    const actionTransfer: ActionTransfer[] = []\n    for (const action of actions) {\n      if (!this.isParsedInstruction(action)) continue\n      const actionParsed: ParsedAction =\n        (action as ParsedInstruction).parsed || {}\n      switch (actionParsed.type) {\n        case ParsedType.Transfer:\n          const info: ParsedInfoTransfer = actionParsed.info\n          const parsedAction = this.parseActionTransfer(info, mapAccount)\n          if (parsedAction) actionTransfer.push(parsedAction)\n          break\n        default:\n          break\n      }\n    }\n    return actionTransfer\n  }\n\n  private parseActionTransfer(\n    parsedTransfer: ParsedInfoTransfer,\n    mapAccount: Map<string, ActionInfo>,\n  ): ActionTransfer | undefined {\n    const { source, destination, amount, lamports } = parsedTransfer\n    const amountTransfer = amount || lamports.toString()\n\n    if (\n      !amountTransfer ||\n      !mapAccount.has(source) ||\n      !mapAccount.has(destination)\n    )\n      return\n\n    const actionTransfer = new ActionTransfer()\n    actionTransfer.source = mapAccount.get(source)\n    actionTransfer.destination = mapAccount.get(destination)\n    actionTransfer.amount = amountTransfer\n    return actionTransfer\n  }\n\n  private parseAccountInfo(\n    accountKeys: Array<ParsedMessageAccount>,\n    postTokenBalances: Array<TokenBalance>,\n    preTokenBalances: Array<TokenBalance>,\n    postBalances: number[],\n    preBalances: number[],\n  ): Map<string, ActionInfo> {\n    const mapAccountInfo = new Map<string, ActionInfo>()\n\n    // Associated Address\n    for (const postBalance of postTokenBalances) {\n      const { accountIndex, mint, uiTokenAmount } = postBalance\n      const info = new ActionInfo()\n      info.address = accountKeys[accountIndex].pubkey.toString()\n      info.postBalance = uiTokenAmount.amount\n      info.mint = mint\n      info.decimals = uiTokenAmount.decimals\n      mapAccountInfo.set(info.address, info)\n    }\n\n    for (const preBalance of preTokenBalances) {\n      const { accountIndex, uiTokenAmount } = preBalance\n      const address = accountKeys[accountIndex].pubkey.toString()\n      const info = mapAccountInfo.get(address) || new ActionInfo()\n      info.preBalance = uiTokenAmount.amount\n      mapAccountInfo.set(info.address, info)\n    }\n\n    // Wallet address\n    accountKeys.forEach((accountData, idx) => {\n      const address = accountData.pubkey.toString()\n      if (!account.isAssociatedAddress(address)) {\n        const info = mapAccountInfo.get(address) || new ActionInfo()\n        info.address = address\n        info.mint = SOL_ADDRESS\n        info.postBalance = String(postBalances[idx] || 0) // lamports\n        info.preBalance = String(preBalances[idx] || 0) // lamports\n        info.decimals = SOL_DECIMALS\n        mapAccountInfo.set(info.address, info)\n      }\n    })\n\n    return mapAccountInfo\n  }\n}\n","export const SOL_ADDRESS = '11111111111111111111111111111111'\n\nexport const SOL_DECIMALS = 9\n","import { net } from 'shared/runtime'\nimport { createPDB } from 'shared/pdb'\nimport configs from 'app/configs'\n\nimport { TransLog } from '../../entities/trans-log'\nimport { DateHelper } from '../../helpers/date'\nimport SwapTransLogService, { SwapActionType } from '../translogSwap'\nimport IPFS from 'shared/pdb/ipfs'\n\nconst {\n  sol: { swapAddress },\n  manifest: { appId },\n} = configs\n\nconst DATE_RANGE = 30\nconst CACHE_KEY = `translogs-ipfs:${net}`\n\nexport default class SwapService {\n  programId: string\n  transLogService: SwapTransLogService = new SwapTransLogService()\n  constructor(address: string) {\n    this.programId = address\n  }\n\n  private async getPDB() {\n    const walletAddress = await window.sentre.wallet?.getAddress()\n    if (!walletAddress) throw new Error('Invalid wallet address')\n    const db = createPDB(walletAddress, appId)\n    if (!db) throw new Error('Can not create pdb')\n    return db\n  }\n\n  fetchTransLog = async (timeFrom: number, timeTo: number) => {\n    const ipfs = new IPFS()\n    let cacheTransLog: TransLog[] = []\n    const db = await this.getPDB()\n    const keyBackup = await db.getItem<string>(CACHE_KEY)\n    if (keyBackup) cacheTransLog = await ipfs.get(keyBackup)\n\n    const fistTransLog = cacheTransLog[0]\n    const lastTransLog = cacheTransLog[cacheTransLog.length - 1]\n\n    if (fistTransLog && lastTransLog) {\n      const [beginTransLogs] = await Promise.all([\n        this.transLogService.collect(this.programId, {\n          secondFrom: fistTransLog.blockTime,\n          secondTo: timeTo,\n        }),\n      ])\n      cacheTransLog = cacheTransLog.filter(\n        (trans) => trans.blockTime > timeFrom,\n      )\n      cacheTransLog = [...beginTransLogs, ...cacheTransLog]\n    } else {\n      cacheTransLog = await this.transLogService.collect(this.programId, {\n        secondFrom: timeFrom,\n        secondTo: timeTo,\n      })\n    }\n    // Filter transLog swap\n    const mapTransLogs: Record<string, TransLog> = {}\n    for (const log of cacheTransLog) {\n      if (\n        log.actionType === SwapActionType.Route &&\n        log.programId === swapAddress\n      )\n        mapTransLogs[log.signature] = log\n    }\n\n    const newTransLogs = Object.values(mapTransLogs).sort(\n      (a, b) => b.blockTime - a.blockTime,\n    )\n\n    const newIpfsKey = await ipfs.set(newTransLogs)\n    await db.setItem(CACHE_KEY, newIpfsKey)\n    return newTransLogs\n  }\n\n  fetchHistory = async () => {\n    let timeTo = new DateHelper()\n    const timeFrom = new DateHelper().subtractDay(DATE_RANGE)\n    // fetch transLog\n    const transLogs = await this.fetchTransLog(\n      timeFrom.seconds(),\n      timeTo.seconds(),\n    )\n    return transLogs.sort((a, b) => b.blockTime - a.blockTime)\n  }\n}\n","import moment from 'moment'\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { utils } from '@senswap/sen-js'\n\nimport SwapService from 'app/lib/stat/logic/swap/swap'\n\nexport type State = {\n  historySwap: HistorySwap[]\n}\n\n/**\n * Store constructor\n */\n\nexport type HistorySwap = {\n  time: string\n  transactionId: string\n  from?: string\n  to?: string\n  amountFrom?: number\n  amountTo?: number\n  key: string\n  status: string\n  decimals: number\n}\n\nconst NAME = 'history'\nconst initialState: State = {\n  historySwap: [],\n}\n\n/**\n * Actions\n */\nexport const fetchHistorySwap = createAsyncThunk<{\n  historySwap: HistorySwap[]\n}>(`${NAME}/fetchHistorySwap`, async () => {\n  const myWalletAddress = await window.sentre.wallet?.getAddress()\n  if (!myWalletAddress) throw Error('Login first')\n\n  const transLogService = new SwapService(myWalletAddress)\n  const transLogsData = await transLogService.fetchHistory()\n  let history: HistorySwap[] = []\n\n  for (const transLog of transLogsData) {\n    const historyItem = {} as HistorySwap\n    const actionTransfer = transLog.actionTransfers\n    const firstAction = actionTransfer[0]\n    const lastAction = actionTransfer[actionTransfer.length - 1]\n    if (!firstAction || !lastAction) continue\n\n    const time = new Date(transLog.blockTime * 1000)\n    historyItem.time = moment(time).format('MMM DD, YYYY HH:mm')\n    historyItem.amountFrom = firstAction.destination\n      ? Number(\n          utils.undecimalize(\n            BigInt(firstAction.amount),\n            firstAction.destination.decimals,\n          ),\n        )\n      : undefined\n    historyItem.amountTo = lastAction?.destination\n      ? Number(\n          utils.undecimalize(\n            BigInt(lastAction.amount),\n            lastAction.destination.decimals,\n          ),\n        )\n      : undefined\n\n    historyItem.from = firstAction.destination?.mint\n    historyItem.to = lastAction?.destination?.mint\n    historyItem.transactionId = transLog.signature\n    historyItem.key = transLog.signature\n    historyItem.status =\n      !firstAction.destination || !lastAction?.destination\n        ? 'failed'\n        : 'success'\n    history.push(historyItem)\n  }\n  return { historySwap: history }\n})\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      fetchHistorySwap.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Card, Col, Row, Typography, Table, Button } from 'antd'\nimport { HISTORY_COLUMN } from './column'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport { fetchHistorySwap } from 'app/model/history.controller'\nimport { AppDispatch, AppState } from 'app/model'\n\nimport './index.less'\n\nconst ROW_PER_PAGE = 5\nconst TABLE_HEIGHT = 462\n\nconst History = () => {\n  const [amountRow, setAmountRow] = useState(ROW_PER_PAGE)\n  const [loading, setLoading] = useState(false)\n\n  const { historySwap } = useSelector((state: AppState) => state.history)\n  const dispatch = useDispatch<AppDispatch>()\n\n  const fetchHistory = useCallback(async () => {\n    try {\n      setLoading(true)\n      await dispatch(fetchHistorySwap()).unwrap()\n    } catch (er) {\n      return console.warn(er)\n    } finally {\n      setLoading(false)\n    }\n  }, [dispatch])\n\n  useEffect(() => {\n    fetchHistory()\n  }, [fetchHistory])\n\n  const onHandleViewMore = () => setAmountRow(amountRow + ROW_PER_PAGE)\n\n  const onHandleRefeshTable = () => {\n    fetchHistory()\n    setAmountRow(ROW_PER_PAGE)\n  }\n\n  const style = useMemo(() => {\n    return amountRow > 5 ? { height: 'auto' } : { height: TABLE_HEIGHT }\n  }, [amountRow])\n\n  return (\n    <Card bordered={false} style={{ ...style }}>\n      <Row gutter={[16, 24]}>\n        <Col flex=\"auto\">\n          <Typography.Title level={5}>Swap history</Typography.Title>\n        </Col>\n        <Col>\n          <Button onClick={onHandleRefeshTable}>Refresh</Button>\n        </Col>\n        <Col span={24}>\n          <Row justify=\"center\" gutter={[16, 9]}>\n            <Col span={24} style={{ minHeight: 310 }}>\n              <Table\n                columns={HISTORY_COLUMN}\n                dataSource={historySwap.slice(0, amountRow)}\n                loading={loading}\n                pagination={false}\n                rowClassName={(record, index) =>\n                  index % 2 ? 'odd-row' : 'even-row'\n                }\n                scroll={{ x: 800 }}\n              />\n            </Col>\n            <Col>\n              <Button\n                onClick={onHandleViewMore}\n                type=\"text\"\n                icon={<IonIcon name=\"chevron-down-outline\" />}\n                disabled={amountRow >= historySwap.length}\n              >\n                View more\n              </Button>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default History\n","import { useCallback, useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useLocation } from 'react-router-dom'\nimport { account } from '@senswap/sen-js'\nimport { usePool } from '@senhub/providers'\n\nimport { Row, Col } from 'antd'\nimport SwapChart from './chart'\nimport Swap from './swap'\nimport History from './history'\n\nimport { useMintSelection } from 'app/hooks/useMintSelection'\nimport { AppDispatch, AppState } from 'app/model'\nimport { updateBidData } from 'app/model/bid.controller'\nimport { updateAskData } from 'app/model/ask.controller'\nimport { SenLpState } from 'app/constant/senLpState'\n\nconst View = () => {\n  const { pools } = usePool()\n  const dispatch = useDispatch<AppDispatch>()\n  const { state } = useLocation<SenLpState>()\n  const [bid, setBid] = useState('')\n  const [ask, setAsk] = useState('')\n  const bidData = useMintSelection(bid)\n  const askData = useMintSelection(ask)\n  const poolAdress = state?.poolAddress\n  const { enhancement } = useSelector((state: AppState) => state.settings)\n\n  /** Check state when user come from sen LP */\n  const checkIsSenLpCome = useCallback(() => {\n    if (!account.isAddress(poolAdress)) return\n    const poolData = pools[poolAdress]\n    if (!poolData) return\n    setBid(poolData?.mint_a)\n    setAsk(poolData?.mint_b)\n  }, [poolAdress, pools])\n\n  useEffect(() => {\n    checkIsSenLpCome()\n  }, [checkIsSenLpCome])\n\n  useEffect(() => {\n    if (\n      !account.isAddress(bidData.accountAddress) ||\n      !account.isAddress(askData.accountAddress)\n    )\n      return\n    dispatch(updateBidData(bidData))\n    dispatch(updateAskData(askData))\n  }, [askData, bidData, dispatch])\n\n  return (\n    <Row\n      gutter={[24, 24]}\n      style={{ paddingBottom: 12 }}\n      justify={enhancement ? 'start' : 'center'}\n    >\n      <Col lg={8} md={12} xs={24}>\n        <Swap />\n      </Col>\n      {enhancement && (\n        <Col lg={16} md={12} xs={24}>\n          <Row gutter={[24, 24]}>\n            <Col span={24}>\n              <SwapChart />\n            </Col>\n            <Col span={24}>\n              <History />\n            </Col>\n          </Row>\n        </Col>\n      )}\n    </Row>\n  )\n}\n\nexport default View\n","import { configureStore } from '@reduxjs/toolkit'\nimport { devTools, bigintSerializationMiddleware } from 'shared/devTools'\n\nimport ask from './ask.controller'\nimport bid from './bid.controller'\nimport settings from './settings.controller'\nimport route from './route.controller'\nimport history from './history.controller'\n\n/**\n * Isolated store\n */\nconst model = configureStore({\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware(bigintSerializationMiddleware),\n  devTools: devTools(process.env.REACT_APP_ID as string),\n  reducer: {\n    ask,\n    bid,\n    settings,\n    route,\n    history,\n  },\n})\n\nexport type AppState = ReturnType<typeof model.getState>\nexport type AppDispatch = typeof model.dispatch\nexport default model\n","import { Provider } from 'react-redux'\nimport {\n  WalletProvider,\n  UIProvider,\n  AccountProvider,\n  PoolProvider,\n  MintProvider,\n} from '@senhub/providers'\n\nimport View from 'app/view'\n\nimport model from 'app/model'\nimport configs from 'app/configs'\n\nimport 'app/static/styles/dark.less'\nimport 'app/static/styles/light.less'\nimport 'app/static/styles/index.less'\n\nconst {\n  manifest: { appId },\n} = configs\n\nexport const Page = () => {\n  return (\n    <UIProvider appId={appId} antd>\n      <MintProvider>\n        <PoolProvider>\n          <AccountProvider>\n            <WalletProvider>\n              <Provider store={model}>\n                <View />\n              </Provider>\n            </WalletProvider>\n          </AccountProvider>\n        </PoolProvider>\n      </MintProvider>\n    </UIProvider>\n  )\n}\n","// Bugfix performance\n// https://github.com/zalmoxisus/redux-devtools-extension/blob/master/docs/Troubleshooting.md#excessive-use-of-memory-and-cpu\nexport const devTools = (appName: string): any => {\n  if (process.env.REACT_APP_ENV !== 'development') return false\n  return {\n    name: appName,\n    actionSanitizer: ({ payload, type }: { payload: any; type: string }) => ({\n      payload,\n      type,\n    }),\n  }\n}\n\n// BigInt Serialization Middleware\n// https://redux-toolkit.js.org/api/serializabilityMiddleware\nconst isPlain = (val: any): boolean => {\n  const isPlainObject = (obj: object): boolean => {\n    if (obj === null) return false\n    const proto = Object.getPrototypeOf(obj)\n    return proto !== null && Object.getPrototypeOf(proto) === null\n  }\n  return (\n    typeof val === 'undefined' ||\n    val === null ||\n    typeof val === 'string' ||\n    typeof val === 'boolean' ||\n    typeof val === 'number' ||\n    Array.isArray(val) ||\n    isPlainObject(val) ||\n    typeof val === 'bigint'\n  )\n}\nBigInt.prototype.toJSON = function () {\n  return this.toString() // https://github.com/GoogleChromeLabs/jsbi/issues/30\n}\nexport const bigintSerializationMiddleware = {\n  serializableCheck: {\n    isSerializable: isPlain,\n  },\n}\n","import localForage from 'localforage'\nimport { account } from '@senswap/sen-js'\nimport IPFS from './ipfs'\n\n/**\n * Persistent Database\n */\nclass PDB {\n  readonly dbName: string\n  private driver: any\n  private ipfs: IPFS\n\n  constructor(walletAddress: string) {\n    if (!account.isAddress(walletAddress)) throw new Error('Invalid address')\n    this.dbName = walletAddress\n    this.driver = [localForage.WEBSQL, localForage.LOCALSTORAGE]\n    this.ipfs = new IPFS()\n  }\n\n  /**\n   * Local\n   */\n\n  createInstance = (appId: string): LocalForage => {\n    return localForage.createInstance({\n      driver: this.driver,\n      name: this.dbName,\n      storeName: appId,\n    })\n  }\n\n  dropInstance = async (appId: string): Promise<void> => {\n    const instance = this.createInstance(appId)\n    await instance.clear()\n    return await localForage.dropInstance({\n      name: this.dbName,\n      storeName: appId,\n    })\n  }\n\n  all = async (): Promise<any> => {\n    let data: any = {}\n    const appIds = (\n      ((await this.createInstance('sentre').getItem('appIds')) as string[]) ||\n      []\n    )\n      .flat()\n      .concat(['sentre'])\n    for (const appId of appIds) {\n      data[appId] = {}\n      const instance = this.createInstance(appId)\n      await instance.iterate((value: string, key: string) => {\n        data[appId][key] = value\n      })\n    }\n    return data\n  }\n\n  /**\n   * Cloud\n   */\n\n  fetch = async (cid: string) => {\n    return await this.ipfs.get(cid)\n  }\n\n  backup = async () => {\n    const data = await this.all()\n    return await this.ipfs.set(data)\n  }\n\n  restore = async (cid: string) => {\n    // Download data\n    const data = await this.fetch(cid)\n    // Apply to storage\n    for (const appId in data) {\n      const instance = await this.createInstance(appId)\n      for (const key in data[appId]) {\n        const value = data[appId][key]\n        await instance.setItem(key, value)\n      }\n    }\n    return data\n  }\n}\n\nexport default PDB\n\n/**\n * High abtraction pdb for app\n */\nexport const createPDB = (walletArress: string, appId: string) => {\n  return account.isAddress(walletArress)\n    ? new PDB(walletArress).createInstance(appId)\n    : undefined\n}\n","import { create, isIPFS } from 'ipfs-core'\nimport { asyncWait } from 'shared/util'\n\nclass IPFS {\n  private _ipfs: any = async () => {\n    try {\n      if (!window.ipfs) window.ipfs = await create()\n      return window.ipfs\n    } catch (er) {\n      await asyncWait(500)\n      return await this._ipfs()\n    }\n  }\n\n  static isCID = (cid: string | undefined | null): boolean => {\n    try {\n      if (!cid) return false\n      return isIPFS.multihash(cid)\n    } catch (er) {\n      return false\n    }\n  }\n\n  get = async (cid: string) => {\n    if (!IPFS.isCID(cid)) throw new Error('Invalid CID')\n    const ipfs = await this._ipfs()\n    const stream = await ipfs.cat(cid)\n    let raw = ''\n    for await (const chunk of stream) raw += Buffer.from(chunk).toString()\n    const data = JSON.parse(raw)\n    return data\n  }\n\n  set = async (data: object): Promise<string> => {\n    if (!data) throw new Error('Empty data')\n    const raw = JSON.stringify(data)\n    const ipfs = await this._ipfs()\n    const { path: cid } = await ipfs.add(raw)\n    return cid as string\n  }\n}\n\nexport default IPFS\n","import storage from './storage'\n\n/**\n * Environment\n */\nconst getEnv = () => {\n  switch (process.env.REACT_APP_ENV) {\n    case 'development':\n      return 'development'\n    case 'staging':\n      return 'staging'\n    case 'production':\n      return 'production'\n    default:\n      return 'development'\n  }\n}\nexport type Env = 'development' | 'staging' | 'production'\nexport const env: Env = getEnv()\n\n/**\n * Network\n */\nconst getNetwork = () => {\n  switch (storage.get('network')) {\n    case 'devnet':\n      return 'devnet'\n    case 'testnet':\n      return 'testnet'\n    case 'mainnet':\n      return 'mainnet'\n    default:\n      return 'mainnet'\n  }\n}\nexport type Net = 'devnet' | 'testnet' | 'mainnet'\nexport const net: Net = getNetwork()\n\nexport const onSwitchNetwork = (value: Net) => {\n  storage.set('network', value)\n  return window.location.reload()\n}\n\n/**\n * Chain ID\n */\nconst getChainId = () => {\n  switch (net) {\n    case 'devnet':\n      return 103\n    case 'testnet':\n      return 102\n    case 'mainnet':\n      return 101\n    default:\n      return 101\n  }\n}\nexport type ChainId = 101 | 102 | 103\nexport const chainId: ChainId = getChainId()\n","const KEY = 'sentre'\nconst driver = window.localStorage\n\nconst convert = (value: string | null) => {\n  try {\n    if (!value) return null\n    return JSON.parse(value)\n  } catch (e) {\n    return null\n  }\n}\n\nconst storage = {\n  set: (key: string, value: any) => {\n    let data = convert(driver.getItem(KEY))\n    if (!data || typeof data !== 'object') data = {}\n    data[key] = value\n    driver.setItem(KEY, JSON.stringify(data))\n  },\n  get: (key: string) => {\n    let data = convert(driver.getItem(KEY))\n    if (!data || typeof data !== 'object') return null\n    return data[key]\n  },\n  clear: (key: string) => {\n    storage.set(key, null)\n  },\n}\n\nexport default storage\n","// Pseudo native sol info\n// It's for all networks\nexport const sol = (chainId: 101 | 102 | 103) => ({\n  symbol: 'SOL',\n  name: 'Solana',\n  address: '11111111111111111111111111111111',\n  decimals: 9,\n  chainId,\n  extensions: {\n    coingeckoId: 'solana',\n  },\n  logoURI:\n    'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png',\n})\n\n// Pseudo SNTR info\n// Only for devnet and testnet\nexport const sntr = (chainId: 102 | 103) => ({\n  symbol: 'SNTR',\n  name: 'Sentre',\n  address: '5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ',\n  decimals: 9,\n  chainId,\n  extensions: {\n    coingeckoId: 'sentre',\n  },\n  logoURI:\n    'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M/logo.png',\n})\n\n// Pseudo token infos for devnet\nconst supplementary = [\n  sol(103),\n  sntr(103),\n  {\n    symbol: 'wBTC',\n    name: 'Wrapped Bitcoin',\n    address: '8jk4eJymMfNZV9mkRNxJEt2VJ3pRvdJvD5FE94GXGBPM',\n    decimals: 9,\n    chainId: 103,\n    extensions: {\n      coingeckoId: 'bitcoin',\n    },\n    logoURI:\n      'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/qfnqNqs3nCAHjnyCgLRDbBtq4p2MtHZxw8YjSyYhPoL/logo.png',\n  },\n  {\n    symbol: 'wETH',\n    name: 'Ethereum',\n    address: '27hdcZv7RtuMp75vupThR3T4KLsL61t476eosMdoec4c',\n    decimals: 9,\n    chainId: 103,\n    extensions: {\n      coingeckoId: 'ethereum',\n    },\n    logoURI:\n      'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/FeGn77dhg1KXRRFeSwwMiykZnZPw5JXW6naf2aQgZDQf/logo.png',\n  },\n  {\n    symbol: 'UNI',\n    name: 'Uniswap',\n    address: 'FVZFSXu3yn17YdcxLD72TFDUqkdE5xZvcW18EUpRQEbe',\n    decimals: 9,\n    chainId: 103,\n    extensions: {\n      coingeckoId: 'uniswap',\n    },\n    logoURI:\n      'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/3MVa4e32PaKmPxYUQ6n8vFkWtCma68Ld7e7fTktWDueQ/logo.png',\n  },\n  {\n    symbol: 'USDC',\n    name: 'USD Coin',\n    address: '2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj',\n    decimals: 9,\n    chainId: 103,\n    extensions: {\n      coingeckoId: 'usd-coin',\n    },\n    logoURI:\n      'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png',\n  },\n]\n\nexport default supplementary\n","import lunr, { Index } from 'lunr'\nimport { TokenListProvider, TokenInfo } from '@solana/spl-token-registry'\n\nimport { net, chainId, ChainId, Net } from 'shared/runtime'\nimport supplementary, { sntr, sol } from './supplementary'\n\nclass TokenProvider {\n  private tokenMap: Map<string, TokenInfo>\n  private engine: Index | undefined\n  readonly chainId: ChainId\n  readonly cluster: Net\n  private loading: boolean\n  private queue: Array<any>\n\n  constructor() {\n    this.tokenMap = new Map<string, TokenInfo>()\n    this.engine = undefined\n    this.chainId = chainId\n    this.cluster = net\n    this.loading = false\n    this.queue = []\n    // Init\n    this._init()\n  }\n\n  private _init = async (): Promise<[Map<string, TokenInfo>, Index]> => {\n    if (this.tokenMap.size && this.engine) return [this.tokenMap, this.engine]\n    return new Promise(async (resolve) => {\n      // Queue of getters to avoid race condition of multiple _init calling\n      if (this.loading) return this.queue.push(resolve)\n      // Start\n      this.loading = true\n      // Build token list\n      let tokenList = await (await new TokenListProvider().resolve())\n        .filterByChainId(this.chainId)\n        .getList()\n      if (this.cluster === 'devnet') tokenList = tokenList.concat(supplementary)\n      if (this.cluster === 'testnet')\n        tokenList = tokenList.concat([sntr(102), sol(102)])\n      else tokenList = tokenList.concat([sol(101)])\n      // Build token map\n      tokenList.forEach((token) => this.tokenMap.set(token.address, token))\n      // Build search engine\n      this.engine = lunr(function () {\n        this.ref('address')\n        this.field('symbol')\n        this.field('name')\n        tokenList.forEach((doc) => this.add(doc))\n      })\n      // Resolve the main getter\n      resolve([this.tokenMap, this.engine])\n      // Resolve the rest of getters\n      while (this.queue.length) this.queue.shift()([this.tokenMap, this.engine])\n      // Finish\n      this.loading = false\n    })\n  }\n\n  all = async (): Promise<TokenInfo[]> => {\n    const [tokenMap] = await this._init()\n    return Array.from(tokenMap.values())\n  }\n\n  findByAddress = async (addr: string): Promise<TokenInfo | undefined> => {\n    const [tokenMap] = await this._init()\n    return tokenMap.get(addr)\n  }\n\n  find = async (keyword: string, limit = 10): Promise<TokenInfo[]> => {\n    const [tokenMap, engine] = await this._init()\n    let tokens: TokenInfo[] = []\n    if (!keyword) return []\n    engine.search(keyword).forEach(({ ref }) => {\n      if (tokens.findIndex(({ address }) => address === ref) < 0) {\n        const token = tokenMap.get(ref)\n        if (token) tokens.push(token)\n      }\n    })\n    return tokens.slice(0, limit)\n  }\n}\n\nexport default TokenProvider\n","export type LimitConfig = {\n  calls: number\n  time: number\n}\n\nexport type CacheConfig = {\n  ttl: number // millisecond\n}\n\nexport type SingleFlightConfig = {\n  limit?: LimitConfig\n  cache?: CacheConfig\n}\n\n// 10 request per 1 second\nexport const DEFAULT_LIMIT_CONFIG: LimitConfig = {\n  calls: 10,\n  time: 1000,\n}\n\n// 10 request per 1 second\nexport const DEFAULT_CACHE_CONFIG: CacheConfig = {\n  ttl: 30000,\n}\n\nexport const DEFAULT_SINGLE_FLIGHT_CONFIG: SingleFlightConfig = {\n  limit : DEFAULT_LIMIT_CONFIG,\n  cache: DEFAULT_CACHE_CONFIG\n}","export interface IRequestQueue {\n  key: string\n  add(resolve: any, reject: any): void\n  resolves(data: any): void\n  rejects(error: any): void\n}\n\nexport class RequestQueue implements IRequestQueue {\n  key = ''\n  private resolveQueue: any[] = []\n  private rejectQueue: any[] = []\n  constructor(key: string) {\n    this.key = key\n  }\n\n  add(resolve: any, reject: any) {\n    this.resolveQueue.push(resolve)\n    this.rejectQueue.push(reject)\n  }\n\n  resolves(data: any) {\n    while (this.resolveQueue.length > 0) {\n      const resolve = this.resolveQueue.shift()\n      resolve(data)\n    }\n  }\n\n  rejects(error: any) {\n    while (this.rejectQueue.length > 0) {\n      const reject = this.rejectQueue.shift()\n      reject(error)\n    }\n  }\n}\n","import { DEFAULT_CACHE_CONFIG } from './constant'\nimport { CacheConfig } from './constant'\n\nexport class SingleFlightCache {\n  private static mapCache = new Map<string, any>()\n\n  static set(\n    key: string,\n    value: any,\n    configs: CacheConfig = DEFAULT_CACHE_CONFIG,\n  ) {\n    this.mapCache.set(key, value)\n    setTimeout(() => {\n      this.mapCache.delete(key)\n    }, configs.ttl)\n  }\n\n  static get(key: string) {\n    return this.mapCache.get(key)\n  }\n}\n","import { DEFAULT_SINGLE_FLIGHT_CONFIG, SingleFlightConfig } from './constant'\n\nimport { IRequestQueue, RequestQueue } from './request'\nimport { SingleFlightCache } from './cache'\n\nexport class DataLoader {\n  static mapInstance = new Map<string, SingleFlight>()\n\n  private static getSingleFlight(configs: SingleFlightConfig): SingleFlight {\n    const instanceKey = JSON.stringify(configs)\n    if (this.mapInstance.has(instanceKey)) {\n      const instance = this.mapInstance.get(instanceKey)\n      if (instance) return instance\n    }\n\n    let newSingleFlight = new SingleFlight(configs)\n    this.mapInstance.set(instanceKey, newSingleFlight)\n    return newSingleFlight\n  }\n\n  static async load<T>(\n    requestKey: string | object,\n    callback: () => Promise<T>,\n    configs: SingleFlightConfig = {},\n  ): Promise<T> {\n    if (typeof requestKey === 'object') requestKey = JSON.stringify(requestKey)\n\n    let singleFlight = DataLoader.getSingleFlight(configs)\n    DataLoader.mapInstance.set(requestKey, singleFlight)\n    const newRequest = new RequestQueue(requestKey)\n    return singleFlight.load<T>(newRequest, callback)\n  }\n}\n\nclass SingleFlight {\n  private config: SingleFlightConfig\n  private intervalRequest: any\n  private timeLogs: number[] = []\n\n  private mapRequestCalling = new Map<string, IRequestQueue>()\n  private requestQueue: IRequestQueue[] = []\n\n  constructor(configs: SingleFlightConfig) {\n    this.config = Object.assign(DEFAULT_SINGLE_FLIGHT_CONFIG, configs)\n  }\n\n  async load<T>(newRequest: IRequestQueue, callback: () => Promise<T>) {\n    const cacheData = SingleFlightCache.get(newRequest.key)\n    if (cacheData) return Promise.resolve(cacheData)\n\n    let isFetch = false\n    let request = this.mapRequestCalling.get(newRequest.key)\n    if (!request) {\n      request = newRequest\n      isFetch = true\n      this.mapRequestCalling.set(request.key, request)\n    }\n\n    return new Promise((resolve, reject) => {\n      if (!request) return reject('Not found request!')\n      request.add(resolve, reject)\n      if (isFetch) {\n        this.fetch<T>(request, callback)\n      }\n    })\n  }\n\n  private fetch<T>(request: IRequestQueue, callback: () => Promise<T>) {\n    if (!this.validateLimit()) {\n      return this.addRequestQueue(request, callback)\n    }\n    this.createTimeLogs()\n\n    callback()\n      .then((response) => {\n        SingleFlightCache.set(request.key, response, this.config.cache)\n        request.resolves(response)\n      })\n      .catch((error) => {\n        request.rejects(error)\n      })\n      .finally(() => {\n        this.mapRequestCalling.delete(request.key)\n        this.fetchRequestQueue(callback)\n      })\n  }\n\n  private fetchRequestQueue(callback: () => Promise<any>) {\n    if (!this.validateLimit()) return\n    const request = this.requestQueue.shift()\n    if (request) this.load(request, callback)\n\n    if (this.requestQueue.length === 0 && this.intervalRequest) {\n      clearInterval(this.intervalRequest)\n    }\n  }\n\n  private addRequestQueue(\n    request: IRequestQueue,\n    callback: () => Promise<any>,\n  ) {\n    this.requestQueue.push(request)\n    this.intervalRequest = setInterval(() => {\n      this.fetchRequestQueue(callback)\n    }, this.config.limit?.time)\n  }\n\n  private validateLimit(): boolean {\n    return true\n  }\n\n  private createTimeLogs() {\n    if (!this.config.limit) return\n\n    const now = new Date().getTime()\n    this.timeLogs.push(now)\n    if (this.timeLogs.length > this.config.limit?.calls) {\n      this.timeLogs.shift()\n    }\n  }\n}\n","import { account, utils } from '@senswap/sen-js'\nimport numbro from 'numbro'\n\nimport { net } from 'shared/runtime'\nimport { DataLoader } from './dataloader'\n\n/**\n * Delay by async/await\n * @param ms - milisenconds\n * @returns\n */\nexport const asyncWait = (ms: number): Promise<void> => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n\n/**\n * Shorten a long address\n * @param address - The long address\n * @param num - The number of the heading and trailing characters\n * @param delimiter - The delimiter\n * @returns Shortened address\n */\nexport const shortenAddress = (address: string, num = 4, delimiter = '...') => {\n  return (\n    address.substring(0, num) +\n    delimiter +\n    address.substring(address.length - num, address.length)\n  )\n}\n\n/**\n * Build a explorer url by context including addresses or transaction ids\n * @param addressOrTxId - Address or TxId\n * @returns\n */\nexport const explorer = (addressOrTxId: string): string => {\n  if (account.isAddress(addressOrTxId)) {\n    return `https://explorer.solana.com/address/${addressOrTxId}?cluster=${net}`\n  }\n  return `https://explorer.solana.com/tx/${addressOrTxId}?cluster=${net}`\n}\n\n/**\n * Wrapped Numbro - https://numbrojs.com/old-format.html\n * @param value - value\n * @returns\n */\nexport const numeric = (\n  value?: number | string | BigInt,\n): ReturnType<typeof numbro> => {\n  if (!value || !Number.isFinite(Number(value))) return numbro('0')\n  return numbro(value)\n}\n\n/**\n * Generate a random color\n * @param seed - Seed\n * @param opacity - Opacity\n * @returns\n */\nexport const randomColor = (seed?: string, opacity?: string | number) => {\n  let hash = Math.floor(Math.random() * 16777215)\n  if (seed) {\n    hash = 0\n    for (let i = 0; i < seed.length; i++) {\n      hash = seed.charCodeAt(i) + ((hash << 5) - hash)\n    }\n  }\n  var rgb = [0, 0, 0]\n  for (let i = 0; i < 3; i++) {\n    var value = (hash >> (i * 8)) & 255\n    rgb[i] = value\n  }\n  return `rgba(${rgb[0]}, 100, ${rgb[1]},${opacity || 1})`\n}\n\n/**\n * Fetch coingecko data with cache\n * @param ticket - Token ticket\n * @returns\n */\nexport const fetchCGK = async (ticket = '') => {\n  return DataLoader.load('fetchCGK' + ticket, () => utils.parseCGK(ticket))\n}\n"],"names":["CUSTOM_ICONS","forwardRef","ref","name","className","props","cln","src","DEFAULT_AVATARS","undefined","mintAddress","size","icon","reversed","avatars","setAvatars","useState","tokenProvider","useMint","pools","usePool","deriveAvatar","useCallback","async","token","findByAddress","address","logoURI","deriveAvatars","account","poolData","Object","values","find","mint_lpt","mint_a","mint_b","Promise","all","map","reverse","avatar","useEffect","length","Avatar","style","backgroundColor","border","display","whiteSpace","i","DEFAULT_NAME","separator","setName","deriveName","deriveNames","names","join","DEFAULT_SYMBOL","symbol","setSymbol","deriveSymbol","substring","deriveSymbols","symbols","bid","mintInfo","bidMintInfo","ask","askMintInfo","useSelector","state","bidMintAddress","askMintAddress","Space","Typography","chartData","labels","type","configs","disableAxe","chartId","isRebuildChart","setRebuildChart","formatData","data","label","background","datasets","chartRef","useRef","getBackground","ctx","current","canvas","getContext","gradient","createLinearGradient","addColorStop","chartInstance","dataInstace","compareData","isEqual","update","id","height","Chart","options","responsive","maintainAspectRatio","scales","xAxes","gridLines","drawBorder","ticks","yAxes","beginAtZero","maxTicksLimit","callback","value","index","numeric","format","plugins","legend","hover","onHover","event","elements","target","document","getElementById","cursor","Row","align","justify","Col","Empty","title","spacing","iconSize","fontSize","color","Tooltip","CoinGeckoIcon","TokenProvider","fetchMarketChart","ticket","params","axios","method","url","days","interval","prices","time","val","error","Interval","CHART_DATA_CONFIG","day","amount","unit","week","month","year","MARKET_CONFIG","CHART_CONFIGS","setInterval","setChartData","bidData","askData","swapChartConfigs","borderColor","borderRadius","pointRadius","tooltip","pointHitRadius","pointHoverRadius","parseChartDay","marketData","displayTime","moment","chartTime","unshift","subtract","parseChartDaily","fetchChartData","bidTokenInfo","askTokenInfo","bidTicket","extensions","coingeckoId","askTicket","compareAddress","accountAddress","marketConfig","bidChartData","askChartData","idx","bidChart","askChart","price","priceUI","Card","bordered","bodyStyle","paddingTop","gutter","span","flex","Popover","content","Button","Radio","defaultValue","onChange","e","level","JupiterIcon","SwapPlatform","NAME","initialState","platform","SenSwap","best","BigInt","priceImpact","loadingJubRoute","setLoadingJupiterRoute","createAsyncThunk","updateRoute","route","createSlice","reducers","extraReducers","builder","addCase","fulfilled","payload","assign","srcMintAddress","chainMintAddresses","useMemo","list","hop","dstMintAddress","push","Fragment","JupiterAggregator","Divider","margin","setReversed","bidAmount","askAmount","Number","reversedPrice","onClick","shape","PriceImpact","priceImpactColor","goodSwap","acceptableSwap","ExtraTypography","loading","Skeleton","width","active","settings","slippage","minHeight","DEFAULT_DATA","priceChange","rank","totalVolume","cgkData","setCgkData","fetchCgkData","fetchCGK","shared","appId","process","devnet","node","cluster","spltAddress","splataAddress","swapAddress","testnet","mainnet","bidDefault","askDefault","wormholeAddress","assetsRoute","manifest","development","staging","production","env","sol","net","swap","wormhole","PDB_KEY","txId","wallet","walletAddress","useWallet","useMintCgk","db","createPDB","prevLogs","getItem","txIds","swapAmountSuccess","listTxIds","includes","swapLogs","setItem","updateBidData","prioritized","reset","getState","priority","prevPriority","refPriority","decimals","poolAddresses","updateAskData","setDecimals","getDecimals","fetchDecimals","er","buildResult","balance","utils","useAccountBalance","lamports","accounts","useAccount","mint","useMintDecimals","DEFAULT_EMPTY_ADDRESS","useDisabledSwap","bidAccountAddress","bidMintDecimals","bidBalance","availableBid","DEFAULT_WSOL","estimateFee","max","usePoolTvl","poolAddress","tvl","setTvl","getMintTotalValue","getMint","getTokenUsd","tokenInfo","Error","pool","reserve_a","reserve_b","supply","deltaA","deltaB","Swap","useMintTotalValue","getTvl","updateTvl","poolTvl","PRECISION","ORACLE","curve","hopData","fee_ratio","tax_ratio","bidReserve","extractReserve","askReserve","inverseCurve","inverseSwap","calcPriceImpact","srcAmount","p","forEach","s","dstAmount","findAllRoutes","graph","deep","routes","clonedGraph","Map","get","delete","useBestRoute","fixedPoolAddress","bestRoute","setBestRoute","findBestRoute","bidPoolAddresses","bidPriority","askPoolAddresses","askPriority","filteredPool","keys","allRoutes","has","set","buildPoolGraph","filter","bidState","maxAskAmount","findBestRouteFromBid","reversedRoute","minBidAmount","findBestRouteFromAsk","_bidAmount","_askAmount","askMintDecimals","handleSwap","splt","window","sentre","routingAddresses","srcAddress","deriveAssociatedAddress","dstAddress","limit","useHandleSwap","constructor","_wallet","publicKey","this","transaction","connection","signTransaction","sendRawTransaction","serializeMessage","transactions","signedTransactions","signedTransaction","Connection","timeout","dispatch","useDispatch","bidDecimals","inputMint","outputMint","exchange","refresh","useJupiter","debounceTime","wrappedWallet","JupiterWalletWrapper","result","routeInfo","onTransaction","confirmTransaction","txid","getTransaction","commitment","message","outputAddress","outAmount","priceImpactPct","marketInfos","toBase58","clearTimeout","setTimeout","onCallback","forceSwap","validSwap","setValidSwap","setLoading","bestAmount","advanced","wrapAmount","wrapSol","useWrapSol","senlpState","useLocation","disabled","senswap","useSenSwap","validSenSwap","valid","setValid","checkLiquidity","poolAddr","validate","validLiquidity","useSenSwapValidator","jupiter","useJupiterAggregator","setRoute","tooHighImpact","notify","description","open","explorer","block","JupiterProvider","userPublicKey","PublicKey","visible","onCancel","checked","setChecked","onCloseModal","Modal","closeIcon","footer","forceRender","direction","Checkbox","visivle","setVisivle","enhancement","bidCgk","askCgk","bidPoolData","askPoolData","getMintTVL","bidTVL","askTVL","wrap","SOL_BRIDGE_ADDRESS","SOL_TOKEN_BRIDGE_ADDRESS","getSolNetwork","storage","checkAttestedWormhole","solContext","solNetWork","chainId","CHAIN_ID_SOLANA","tokenBridgeAddress","bridgeAddress","getSolContext","getIsWrappedAssetSol","WORMHOLE_COLOR","FrameWormhole","lazy","then","module","default","Suspense","fallback","wormholeSupported","setWormholeSupported","overlayInnerStyle","boxShadow","trigger","Tag","randomColor","SentreIcon","Option","placement","Switch","updateSettings","padding","mintAddresses","setMintAddresses","keyword","setKeyword","sortMintAddresses","sortedMint","allMintAddress","allTokens","addr","flat","item","pos","self","indexOf","search","toLowerCase","Input","placeholder","suffix","marginRight","hoverable","marginLeft","currentMintAddress","getAvailablePoolAddresses","onMint","slice","overflow","setVisible","history","useHistory","forceCheck","destroyOnClose","centered","selectionInfo","replace","location","timeoutId","onValue","setError","setCursor","innerRef","onAmount","onError","test","parseFloat","toString","setSelectionRange","selectionStart","DEFAULT_INFO","useMintSelection","setSelectionInfo","getSelectionInfo","maxBalance","selectionDefault","poolAdress","textAlign","maxWidth","RATE","activeValue","setActiveValue","fiftyPerBtn","HUNDRED","FIFTY","onChangePercentAmount","numMaxBalance","checkActive","buttonStyle","widget","onSwitch","bidRest","askRest","updateData","bidStyle","askStyle","wrapStype","top","STATUS_COLOR","success","pending","failed","tag","setColorTag","opacity","textTransform","FORMAT_AMOUNT","HISTORY_COLUMN","dataIndex","render","text","fontWeight","shortenAddress","record","from","amountFrom","to","amountTo","status","SECOND_PER_MILLISECOND","TimeFormat","DateHelper","milliSeconds","Date","valueOf","setMilliSeconds","seconds","date","ymd","YMD","ymdFrom","ymdTo","dates","dateFrom","fromYmd","dateTo","addDay","dateFormat","subtractDay","dayAmount","fromSeconds","add","TransLog","programId","programInfo","signature","blockTime","owner","actionType","actionTransfers","programTransfer","ActionInfo","preBalance","postBalance","ActionTransfer","source","destination","DEFAULT_LIMIT","Solana","conn","lastSignature","before","getConfirmedSignaturesForAddress2","signatures","confirmedTransactions","promiseTransGroup","offset","skip","signaturesGroup","getParsedConfirmedTransactions","transGroups","transGroup","concat","currentTime","getTime","secondFrom","secondTo","Math","floor","programPublicKey","isStop","confirmedSignatureInfos","fetchSignatures","info","fetchConfirmTransaction","ParsedType","struct","require","TRANSLOG_PROGRAM_DATA_SCHEMA","key","SwapActionType","ACTION_TYPE","Route","SwapTransLogService","parseAction","transLog","solana","transLogs","confirmedTrans","fetchTransactions","trans","log","parseTransLog","meta","postTokenBalances","preTokenBalances","postBalances","preBalances","innerInstructionData","innerInstructions","instructions","instructionData","mapAccount","parseAccountInfo","accountKeys","isParsedInstruction","parseListActionTransfer","parsed","actions","actionTransfer","action","actionParsed","Transfer","parsedAction","parseActionTransfer","parsedTransfer","amountTransfer","mapAccountInfo","accountIndex","uiTokenAmount","pubkey","accountData","String","programDataEncode","dataBuffer","base58","programDataDecode","fromBuffer","Buffer","code","CACHE_KEY","SwapService","transLogService","fetchTransLog","timeFrom","timeTo","ipfs","IPFS","cacheTransLog","getPDB","keyBackup","fistTransLog","lastTransLog","beginTransLogs","collect","mapTransLogs","newTransLogs","sort","a","b","newIpfsKey","fetchHistory","getAddress","fetchHistorySwap","myWalletAddress","transLogsData","historyItem","firstAction","lastAction","transactionId","historySwap","amountRow","setAmountRow","unwrap","console","warn","Table","columns","dataSource","pagination","rowClassName","scroll","x","setBid","setAsk","checkIsSenLpCome","paddingBottom","lg","md","xs","configureStore","middleware","getDefaultMiddleware","bigintSerializationMiddleware","devTools","reducer","Page","UIProvider","antd","MintProvider","PoolProvider","AccountProvider","WalletProvider","Provider","store","model","appName","prototype","toJSON","serializableCheck","isSerializable","Array","isArray","obj","proto","getPrototypeOf","isPlainObject","PDB","dbName","driver","createInstance","localForage","storeName","dropInstance","instance","clear","appIds","iterate","fetch","cid","backup","restore","walletArress","_ipfs","create","asyncWait","isCID","stream","cat","raw","chunk","JSON","parse","stringify","path","isIPFS","getNetwork","getChainId","KEY","localStorage","convert","sntr","tokenMap","engine","queue","_init","resolve","tokenList","TokenListProvider","filterByChainId","getList","supplementary","lunr","field","doc","shift","tokens","findIndex","DEFAULT_CACHE_CONFIG","ttl","DEFAULT_SINGLE_FLIGHT_CONFIG","calls","cache","RequestQueue","resolveQueue","rejectQueue","reject","resolves","rejects","SingleFlightCache","mapCache","DataLoader","instanceKey","mapInstance","newSingleFlight","SingleFlight","requestKey","singleFlight","getSingleFlight","newRequest","load","config","intervalRequest","timeLogs","mapRequestCalling","requestQueue","cacheData","isFetch","request","validateLimit","addRequestQueue","createTimeLogs","response","catch","finally","fetchRequestQueue","clearInterval","now","ms","num","delimiter","addressOrTxId","isFinite","numbro","seed","hash","random","charCodeAt","rgb"],"sourceRoot":""}