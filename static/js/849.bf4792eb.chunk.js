(self.webpackChunksenhub=self.webpackChunksenhub||[]).push([[849],{85755:function(e,n,t){"use strict";t.r(n),t.d(n,{Page:function(){return V},Widget:function(){return _},widgetConfig:function(){return U}});var r=t(55754),s=t(49142),a=t(92950),c=t(37762),i=t(15861),u=t(15671),o=t(87757),f=t.n(o),p=t(15454),l=t.n(p),d=t(95418),h=t(16296),x=t(32642),v=(t(16200),t(63805)),b=function(e){return new Promise((function(n){return setTimeout(n,e)}))},m=t(97429).Buffer,w=function e(){var n=this;(0,u.Z)(this,e),this._ipfs=(0,i.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.ipfs){e.next=5;break}return e.next=4,(0,x.Ue)();case 4:window.ipfs=e.sent;case 5:return e.abrupt("return",window.ipfs);case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,b(500);case 12:return e.next=14,n._ipfs();case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e,null,[[0,8]])}))),this.get=function(){var t=(0,i.Z)(f().mark((function t(r){var s,a,c,i,u,o,p,l,d,x;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isCID(r)){t.next=2;break}throw new Error("Invalid CID");case 2:return t.next=4,n._ipfs();case 4:return s=t.sent,t.next=7,s.cat(r);case 7:a=t.sent,c="",i=!1,u=!1,t.prev=11,p=(0,h.Z)(a);case 13:return t.next=15,p.next();case 15:if(!(i=!(l=t.sent).done)){t.next=21;break}d=l.value,c+=m.from(d).toString();case 18:i=!1,t.next=13;break;case 21:t.next=27;break;case 23:t.prev=23,t.t0=t.catch(11),u=!0,o=t.t0;case 27:if(t.prev=27,t.prev=28,!i||null==p.return){t.next=32;break}return t.next=32,p.return();case 32:if(t.prev=32,!u){t.next=35;break}throw o;case 35:return t.finish(32);case 36:return t.finish(27);case 37:return x=JSON.parse(c),t.abrupt("return",x);case 39:case"end":return t.stop()}}),t,null,[[11,23,27,37],[28,,32,36]])})));return function(e){return t.apply(this,arguments)}}(),this.set=function(){var e=(0,i.Z)(f().mark((function e(t){var r,s,a,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Empty data");case 2:return r=JSON.stringify(t),e.next=5,n._ipfs();case 5:return s=e.sent,e.next=8,s.add(r);case 8:return a=e.sent,c=a.path,e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};w.isCID=function(e){try{return!!e&&x.bf.multihash(e)}catch(n){return!1}};var g=w,k=function e(n){var t=this;if((0,u.Z)(this,e),this.dbName=void 0,this.driver=void 0,this.ipfs=void 0,this.createInstance=function(e){return l().createInstance({driver:t.driver,name:t.dbName,storeName:e})},this.dropInstance=function(){var e=(0,i.Z)(f().mark((function e(n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.createInstance(n),e.next=3,r.clear();case 3:return e.next=5,l().dropInstance({name:t.dbName,storeName:n});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.all=(0,i.Z)(f().mark((function e(){var n,r,s,a,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,t.createInstance("sentre").getItem("appIds");case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:r=e.t0.flat().concat(["sentre"]),s=(0,c.Z)(r),e.prev=8,i=f().mark((function e(){var r,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.value,n[r]={},s=t.createInstance(r),e.next=5,s.iterate((function(e,t){n[r][t]=e}));case 5:case"end":return e.stop()}}),e)})),s.s();case 11:if((a=s.n()).done){e.next=15;break}return e.delegateYield(i(),"t1",13);case 13:e.next=11;break;case 15:e.next=20;break;case 17:e.prev=17,e.t2=e.catch(8),s.e(e.t2);case 20:return e.prev=20,s.f(),e.finish(20);case 23:return e.abrupt("return",n);case 24:case"end":return e.stop()}}),e,null,[[8,17,20,23]])}))),this.fetch=function(){var e=(0,i.Z)(f().mark((function e(n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.ipfs.get(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.backup=(0,i.Z)(f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.all();case 2:return n=e.sent,e.next=5,t.ipfs.set(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),this.restore=function(){var e=(0,i.Z)(f().mark((function e(n){var r,s,a,c,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetch(n);case 2:r=e.sent,e.t0=f().keys(r);case 4:if((e.t1=e.t0()).done){e.next=19;break}return s=e.t1.value,e.next=8,t.createInstance(s);case 8:a=e.sent,e.t2=f().keys(r[s]);case 10:if((e.t3=e.t2()).done){e.next=17;break}return c=e.t3.value,i=r[s][c],e.next=15,a.setItem(c,i);case 15:e.next=10;break;case 17:e.next=4;break;case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),!d.account.isAddress(n))throw new Error("Invalid address");this.dbName=n,this.driver=[l().WEBSQL,l().LOCALSTORAGE],this.ipfs=new g},y=t(78589),j=t(1413),I=t(45987);var Z={"logo-telegram":t.p+"static/media/icon-telegram.2450489f40d03000fe65fc1c6f238d85.svg"},C=t(45263),A=["name","className"],T=(0,a.forwardRef)((function(e,n){var t=e.name,r=e.className,s=(0,I.Z)(e,A),a=r?"anticon "+r:"anticon";return(0,C.jsx)("span",(0,j.Z)((0,j.Z)({className:a},s),{},{children:Z[t]?(0,C.jsx)("ion-icon",{ref:n,src:Z[t]}):(0,C.jsx)("ion-icon",{ref:n,name:t})}))})),N=t(19289),S="main",O=(0,N.createAsyncThunk)("".concat(S,"/increaseCounter"),function(){var e=(0,i.Z)(f().mark((function e(n,t){var r,s,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getState,s=r(),a=s.main.counter,e.abrupt("return",{counter:a+1});case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),P=(0,N.createSlice)({name:S,initialState:{counter:0},reducers:{},extraReducers:function(e){e.addCase(O.fulfilled,(function(e,n){var t=n.payload;Object.assign(e,t)}))}}).reducer;var W={appId:"senhub",url:"https://descartesnetwork.github.io/senhub/index.js",senhub:"senhub@https://descartesnetwork.github.io/senhub/index.js"},B={devnet:{node:"https://api.devnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},testnet:{node:"https://api.testnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},mainnet:{node:"https://api.mainnet-beta.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}},J={manifest:{development:(0,j.Z)({},W),staging:(0,j.Z)({},W),production:(0,j.Z)({},W)}[v.OB],sol:B[v.ef]},G=J.manifest.appId,D=function(){var e=(0,s.useWallet)().wallet.address,n=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.main})).counter,c=(0,a.useMemo)((function(){return function(e,n){return d.account.isAddress(e)?new k(e).createInstance(n):void 0}(e,G)}),[e]),i=(0,a.useCallback)((function(){return n(O())}),[n]);return(0,a.useEffect)((function(){c&&c.setItem("counter",t)}),[c,t]),(0,C.jsxs)(y.Row,{gutter:[24,24],align:"middle",children:[(0,C.jsx)(y.Col,{span:24,children:(0,C.jsxs)(y.Space,{align:"center",children:[(0,C.jsx)(T,{name:"newspaper-outline"}),(0,C.jsx)(y.Typography.Title,{level:4,children:"Page"})]})}),(0,C.jsx)(y.Col,{span:24,children:(0,C.jsxs)(y.Typography.Text,{children:["Address: ",e]})}),(0,C.jsx)(y.Col,{children:(0,C.jsxs)(y.Typography.Text,{children:["Counter: ",t]})}),(0,C.jsx)(y.Col,{children:(0,C.jsx)(y.Button,{onClick:i,children:"Increase"})})]})},L=function(){var e=(0,s.useUI)().ui,n=e.width,t=e.infix,c=(0,r.useDispatch)(),i=(0,r.useSelector)((function(e){return e.main})).counter,u=(0,a.useCallback)((function(){return c(O())}),[c]);return(0,C.jsxs)(y.Row,{gutter:[24,24],children:[(0,C.jsx)(y.Col,{span:24,children:(0,C.jsxs)(y.Space,{align:"center",children:[(0,C.jsx)(T,{name:"apps-outline"}),(0,C.jsx)(y.Typography.Title,{level:4,children:"Widget"})]})}),(0,C.jsx)(y.Col,{span:24,children:(0,C.jsxs)(y.Typography.Text,{children:["Env: ",v.OB," - ",n,"px - ",t]})}),(0,C.jsx)(y.Col,{children:(0,C.jsxs)(y.Typography.Text,{children:["Counter: ",i]})}),(0,C.jsx)(y.Col,{children:(0,C.jsx)(y.Button,{onClick:u,children:"Increase"})})]})};BigInt.prototype.toJSON=function(){return this.toString()};var E={serializableCheck:{isSerializable:function(e){return"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||function(e){if(null===e)return!1;var n=Object.getPrototypeOf(e);return null!==n&&null===Object.getPrototypeOf(n)}(e)||"bigint"===typeof e}}},R=(0,N.configureStore)({middleware:function(e){return e(E)},devTools:!1,reducer:{main:P}}),Q=J.manifest.appId,V=function(){return(0,C.jsx)(s.UIProvider,{appId:Q,children:(0,C.jsx)(s.WalletProvider,{children:(0,C.jsx)(r.Provider,{store:R,children:(0,C.jsx)(D,{})})})})},U={size:"small",type:"solid"},_=function(){return(0,C.jsx)(s.UIProvider,{appId:Q,children:(0,C.jsx)(r.Provider,{store:R,children:(0,C.jsx)(L,{})})})}},63805:function(e,n,t){"use strict";t.d(n,{OB:function(){return s},ef:function(){return a}});var r=t(53933),s="production",a=function(){switch(r.Z.get("network")){case"devnet":return"devnet";case"testnet":return"testnet";default:return"mainnet"}}()},53933:function(e,n){"use strict";var t="sentre",r=window.localStorage,s=function(e){if(!e)return null;try{return JSON.parse(e)}catch(n){return null}},a={set:function(e,n){var a=s(r.getItem(t));a&&"object"===typeof a||(a={}),a[e]=n,r.setItem(t,JSON.stringify(a))},get:function(e){var n=s(r.getItem(t));return n&&"object"===typeof n?n[e]:null},clear:function(e){a.set(e,null)}};n.Z=a},35883:function(){},46601:function(){},89214:function(){},5696:function(){},85568:function(){},64009:function(){},42611:function(){},88795:function(){},89408:function(){},57600:function(){},21724:function(){},62678:function(){},25819:function(){},52361:function(){},94616:function(){},55024:function(){},11752:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(61120);function s(e,n,t){return s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var s=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=(0,r.Z)(e)););return e}(e,n);if(s){var a=Object.getOwnPropertyDescriptor(s,n);return a.get?a.get.call(t):a.value}},s(e,n,t||e)}}}]);
//# sourceMappingURL=849.bf4792eb.chunk.js.map