/*! For license information please see 636.a17ff5a5.chunk.js.LICENSE.txt */
(globalThis.webpackChunksen_swap=globalThis.webpackChunksen_swap||[]).push([[636],{33636:(e,t,n)=>{"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i,o,s=r(n(46694)),a=r(n(86243)),u=r(n(3e4)),c=r(n(1583)),l=r(n(23909)),d=n(16037);(i=t.TradeType||(t.TradeType={}))[i.EXACT_INPUT=0]="EXACT_INPUT",i[i.EXACT_OUTPUT=1]="EXACT_OUTPUT",(o=t.Rounding||(t.Rounding={}))[o.ROUND_DOWN=0]="ROUND_DOWN",o[o.ROUND_HALF_UP=1]="ROUND_HALF_UP",o[o.ROUND_UP=2]="ROUND_UP";var h,p,f=s.BigInt("0xffffffffffffffffffffffffffffffff");function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var w=l(u),b=l(c),v=((h={})[t.Rounding.ROUND_DOWN]=w.ROUND_DOWN,h[t.Rounding.ROUND_HALF_UP]=w.ROUND_HALF_UP,h[t.Rounding.ROUND_UP]=w.ROUND_UP,h),_=((p={})[t.Rounding.ROUND_DOWN]=0,p[t.Rounding.ROUND_HALF_UP]=1,p[t.Rounding.ROUND_UP]=3,p),A=function(){function e(e,t){void 0===t&&(t=s.BigInt(1)),this.numerator=s.BigInt(e),this.denominator=s.BigInt(t)}e.tryParseFraction=function(t){if(t instanceof s||"number"==typeof t||"string"==typeof t)return new e(t);if("numerator"in t&&"denominator"in t)return t;throw new Error("Could not parse fraction")};var n=e.prototype;return n.invert=function(){return new e(this.denominator,this.numerator)},n.add=function(t){var n=e.tryParseFraction(t);return s.equal(this.denominator,n.denominator)?new e(s.add(this.numerator,n.numerator),this.denominator):new e(s.add(s.multiply(this.numerator,n.denominator),s.multiply(n.numerator,this.denominator)),s.multiply(this.denominator,n.denominator))},n.subtract=function(t){var n=e.tryParseFraction(t);return s.equal(this.denominator,n.denominator)?new e(s.subtract(this.numerator,n.numerator),this.denominator):new e(s.subtract(s.multiply(this.numerator,n.denominator),s.multiply(n.numerator,this.denominator)),s.multiply(this.denominator,n.denominator))},n.lessThan=function(t){var n=e.tryParseFraction(t);return s.lessThan(s.multiply(this.numerator,n.denominator),s.multiply(n.numerator,this.denominator))},n.equalTo=function(t){var n=e.tryParseFraction(t);return s.equal(s.multiply(this.numerator,n.denominator),s.multiply(n.numerator,this.denominator))},n.greaterThan=function(t){var n=e.tryParseFraction(t);return s.greaterThan(s.multiply(this.numerator,n.denominator),s.multiply(n.numerator,this.denominator))},n.multiply=function(t){var n=e.tryParseFraction(t);return new e(s.multiply(this.numerator,n.numerator),s.multiply(this.denominator,n.denominator))},n.divide=function(t){var n=e.tryParseFraction(t);return new e(s.multiply(this.numerator,n.denominator),s.multiply(this.denominator,n.numerator))},n.toSignificant=function(e,n,r){void 0===n&&(n={groupSeparator:""}),void 0===r&&(r=t.Rounding.ROUND_HALF_UP),Number.isInteger(e)||a(!1),e>0||a(!1),w.set({precision:e+1,rounding:v[r]});var i=new w(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return i.toFormat(i.decimalPlaces(),n)},n.toFixed=function(e,n,r){return void 0===n&&(n={groupSeparator:""}),void 0===r&&(r=t.Rounding.ROUND_HALF_UP),Number.isInteger(e)||a(!1),e>=0||a(!1),b.DP=e,b.RM=_[r],new b(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,n)},g(e,[{key:"quotient",get:function(){return s.divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new e(s.remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new e(this.numerator,this.denominator)}}]),e}(),S=l(c),k=function(e){function n(t,n,r){var i;return i=e.call(this,n,r)||this,s.lessThanOrEqual(i.quotient,f)||a(!1),i.currency=t,i.decimalScale=s.exponentiate(s.BigInt(10),s.BigInt(t.decimals)),i}y(n,e),n.fromRawAmount=function(e,t){return new n(e,t)},n.fromFractionalAmount=function(e,t,r){return new n(e,t,r)};var r=n.prototype;return r.add=function(t){this.currency.equals(t.currency)||a(!1);var r=e.prototype.add.call(this,t);return n.fromFractionalAmount(this.currency,r.numerator,r.denominator)},r.subtract=function(t){this.currency.equals(t.currency)||a(!1);var r=e.prototype.subtract.call(this,t);return n.fromFractionalAmount(this.currency,r.numerator,r.denominator)},r.multiply=function(t){var r=e.prototype.multiply.call(this,t);return n.fromFractionalAmount(this.currency,r.numerator,r.denominator)},r.divide=function(t){var r=e.prototype.divide.call(this,t);return n.fromFractionalAmount(this.currency,r.numerator,r.denominator)},r.toSignificant=function(n,r,i){return void 0===n&&(n=6),void 0===i&&(i=t.Rounding.ROUND_DOWN),e.prototype.divide.call(this,this.decimalScale).toSignificant(n,r,i)},r.toFixed=function(n,r,i){return void 0===n&&(n=this.currency.decimals),void 0===i&&(i=t.Rounding.ROUND_DOWN),n<=this.currency.decimals||a(!1),e.prototype.divide.call(this,this.decimalScale).toFixed(n,r,i)},r.toExact=function(e){return void 0===e&&(e={groupSeparator:""}),S.DP=this.currency.decimals,new S(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(e)},g(n,[{key:"wrapped",get:function(){return this.currency.isToken?this:n.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}]),n}(A),E=new A(s.BigInt(100));function T(e){return new I(e.numerator,e.denominator)}var I=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isPercent=!0,t}y(t,e);var n=t.prototype;return n.add=function(t){return T(e.prototype.add.call(this,t))},n.subtract=function(t){return T(e.prototype.subtract.call(this,t))},n.multiply=function(t){return T(e.prototype.multiply.call(this,t))},n.divide=function(t){return T(e.prototype.divide.call(this,t))},n.toSignificant=function(t,n,r){return void 0===t&&(t=5),e.prototype.multiply.call(this,E).toSignificant(t,n,r)},n.toFixed=function(t,n,r){return void 0===t&&(t=2),e.prototype.multiply.call(this,E).toFixed(t,n,r)},t}(A),P=function(e){function t(){for(var t,n,r,i,o,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];if(4===u.length)n=u[0],r=u[1],i=u[2],o=u[3];else{var l=u[0].quoteAmount.divide(u[0].baseAmount),d=[u[0].baseAmount.currency,u[0].quoteAmount.currency,l.denominator,l.numerator];n=d[0],r=d[1],i=d[2],o=d[3]}return(t=e.call(this,o,i)||this).baseCurrency=n,t.quoteCurrency=r,t.scalar=new A(s.exponentiate(s.BigInt(10),s.BigInt(n.decimals)),s.exponentiate(s.BigInt(10),s.BigInt(r.decimals))),t}y(t,e);var n=t.prototype;return n.invert=function(){return new t(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},n.multiply=function(n){this.quoteCurrency.equals(n.baseCurrency)||a(!1);var r=e.prototype.multiply.call(this,n);return new t(this.baseCurrency,n.quoteCurrency,r.denominator,r.numerator)},n.quote=function(t){t.currency.equals(this.baseCurrency)||a(!1);var n=e.prototype.multiply.call(this,t);return k.fromFractionalAmount(this.quoteCurrency,n.numerator,n.denominator)},n.toSignificant=function(e,t,n){return void 0===e&&(e=6),this.adjustedForDecimals.toSignificant(e,t,n)},n.toFixed=function(e,t,n){return void 0===e&&(e=4),this.adjustedForDecimals.toFixed(e,t,n)},g(t,[{key:"adjustedForDecimals",get:function(){return e.prototype.multiply.call(this,this.scalar)}}]),t}(A),x=function(e,t,n,r){Number.isSafeInteger(e)||a(!1),t>=0&&t<255&&Number.isInteger(t)||a(!1),this.chainId=e,this.decimals=t,this.symbol=n,this.name=r},M=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isNative=!0,t.isToken=!1,t}return y(t,e),t}(x),O=function(e){function t(t,n,r,i,o){var s;return(s=e.call(this,t,r,i,o)||this).isNative=!1,s.isToken=!0,s.address=n,s}y(t,e);var n=t.prototype;return n.equals=function(e){return e.isToken&&this.chainId===e.chainId&&this.address.equals(e.address)},n.sortsBefore=function(e){this.chainId!==e.chainId&&a(!1),this.address===e.address&&a(!1);var t=new d.BN(this.address.toBuffer()),n=new d.BN(e.address.toBuffer());return t.lt(n)},g(t,[{key:"wrapped",get:function(){return this}}]),t}(x),B=new O(101,new d.web3.PublicKey("So11111111111111111111111111111111111111112"),9,"wSOL","Wrapped SOL"),D=function(e){function t(t){return e.call(this,t,B.decimals,B.symbol,B.name)||this}return y(t,e),t.onChain=function(e){var n;return null!=(n=this._solanaCache[e])?n:this._solanaCache[e]=new t(e)},t.prototype.equals=function(e){return e.isNative&&e.chainId===this.chainId},g(t,[{key:"wrapped",get:function(){return B||a(!1),B}}]),t}(M);D._solanaCache={};var R=s.BigInt(Number.MAX_SAFE_INTEGER),U=s.BigInt(0),L=s.BigInt(1),C=s.BigInt(2);t.CurrencyAmount=k,t.Fraction=A,t.MaxUint128=f,t.NativeCurrency=M,t.Percent=I,t.Price=P,t.Solana=D,t.Token=O,t.WSOL=B,t.computePriceImpact=function(e,t,n){var r=e.quote(t),i=r.subtract(n).divide(r);return new I(i.numerator,i.denominator)},t.sortedInsert=function(e,t,n,r){if(n>0||a(!1),e.length<=n||a(!1),0===e.length)return e.push(t),null;var i=e.length===n;if(i&&r(e[e.length-1],t)<=0)return t;for(var o=0,s=e.length;o<s;){var u=o+s>>>1;r(e[u],t)<=0?o=u+1:s=u}return e.splice(o,0,t),i?e.pop():null},t.sqrt=function(e){if(s.greaterThanOrEqual(e,U)||a(!1),s.lessThan(e,R))return s.BigInt(Math.floor(Math.sqrt(s.toNumber(e))));var t,n;for(t=e,n=s.add(s.divide(e,C),L);s.lessThan(n,t);)t=n,n=s.divide(s.add(s.divide(e,n),n),C);return t}},39487:(e,t,n)=>{"use strict";e.exports=n(33636)},16037:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ACCOUNT_DISCRIMINATOR_SIZE:()=>F,AccountClient:()=>vt,BN:()=>s.a,BorshAccountsCoder:()=>W,BorshCoder:()=>Q,BorshEventCoder:()=>z,BorshInstructionCoder:()=>R,BorshStateCoder:()=>G,EventManager:()=>St,EventParser:()=>kt,IdlError:()=>k,MethodsBuilderFactory:()=>Bt,Program:()=>Rt,ProgramError:()=>E,Provider:()=>v,Spl:()=>Ut,SplTokenCoder:()=>Re,StateClient:()=>wt,eventDiscriminator:()=>j,getProvider:()=>A,parseIdlErrors:()=>Le,setProvider:()=>_,splitArgsAndCtx:()=>ft,stateDiscriminator:()=>Z,toInstruction:()=>Ce,translateAddress:()=>Fe,utils:()=>ht,validateAccounts:()=>Ne,web3:()=>i});var r=n(97429),i=n(71256),o=n(48744),s=n.n(o),a=n(68532),u=n.n(a),c=n(8511),l=n.n(c),d=n(10119),h=n(26434),p=n(12009),f=n(21380),m=n.n(f),g=n(81070),y=n(48449),w=n.n(y),b=n(97429).Buffer;class v{constructor(e,t,n){this.connection=e,this.wallet=t,this.opts=n}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async send(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)}));const r=e.serialize();return await(0,i.sendAndConfirmRawTransaction)(this.connection,r,n)}async sendAll(e,t){void 0===t&&(t=this.opts);const n=await this.connection.getRecentBlockhash(t.preflightCommitment);let r=e.map((e=>{let t=e.tx,r=e.signers;return void 0===r&&(r=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=n.blockhash,r.filter((e=>void 0!==e)).forEach((e=>{t.partialSign(e)})),t}));const o=await this.wallet.signAllTransactions(r),s=[];for(let a=0;a<r.length;a+=1){const e=o[a].serialize();s.push(await(0,i.sendAndConfirmRawTransaction)(this.connection,e,t))}return s}async simulate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.opts;var r,i,o;return void 0===t&&(t=[]),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(r=n.preflightCommitment)&&void 0!==r?r:this.opts.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)})),await async function(e,t,n){t.recentBlockhash=await e._recentBlockhash(e._disableBlockhashCaching);const r=t.serializeMessage(),i=[t._serialize(r).toString("base64"),{encoding:"base64",commitment:n}],o=await e._rpcRequest("simulateTransaction",i);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}(this.connection,e,null!==(o=null!==(i=n.commitment)&&void 0!==i?i:this.opts.commitment)&&void 0!==o?o:"processed")}}function _(e){S=e}function A(){return null===S?v.local():S}let S=null;class k extends Error{constructor(e){super(e),this.name="IdlError"}}class E extends Error{constructor(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];super(...r),this.code=e,this.msg=t}static parse(e,t){const n=e.toString();let r,i;if(n.includes("custom program error:")){let e=n.split("custom program error: ");if(2!==e.length)return null;r=e[1]}else{const e=n.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;r=e[0].match(/([0-9]+)/g)[0]}try{i=parseInt(r)}catch(e){return null}let o=t.get(i);return void 0!==o?new E(i,o,i+": "+o):(o=T.get(i),void 0!==o?new E(i,o,i+": "+o):null)}toString(){return this.msg}}const T=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has_one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exempt constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"A state constraint was violated"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[4e3,"The given state account does not have the correct address"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);var I=function(){return I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},I.apply(this,arguments)},P=function(){return P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},P.apply(this,arguments)};function x(e){return e.toLowerCase()}var M=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],O=/[^A-Z0-9]+/gi;function B(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}class D{static fieldLayout(e,t){const n=void 0!==e.name?l()(e.name):void 0;switch(e.type){case"bool":return h.bool(n);case"u8":return h.u8(n);case"i8":return h.i8(n);case"u16":return h.u16(n);case"i16":return h.i16(n);case"u32":return h.u32(n);case"i32":return h.i32(n);case"f32":return h.f32(n);case"u64":return h.u64(n);case"i64":return h.i64(n);case"f64":return h.f64(n);case"u128":return h.u128(n);case"i128":return h.i128(n);case"bytes":return h.vecU8(n);case"string":return h.str(n);case"publicKey":return h.publicKey(n);default:if("vec"in e.type)return h.vec(D.fieldLayout({name:void 0,type:e.type.vec},t),n);if("option"in e.type)return h.option(D.fieldLayout({name:void 0,type:e.type.option},t),n);if("defined"in e.type){const r=e.type.defined;if(void 0===t)throw new k("User defined types not provided");const i=t.filter((e=>e.name===r));if(1!==i.length)throw new k(`Type not found: ${JSON.stringify(e)}`);return D.typeDefLayout(i[0],t,n)}if("array"in e.type){let r=e.type.array[0],i=e.type.array[1],o=D.fieldLayout({name:void 0,type:r},t);return h.array(o,i,n)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if("struct"===e.type.kind){const r=e.type.fields.map((e=>D.fieldLayout(e,t)));return h.struct(r,n)}if("enum"===e.type.kind){let r=e.type.variants.map((e=>{const n=l()(e.name);if(void 0===e.fields)return h.struct([],n);const r=e.fields.map((e=>{if(!e.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return D.fieldLayout(e,t)}));return h.struct(r,n)}));return void 0!==n?h.rustEnum(r).replicate(n):h.rustEnum(r,n)}throw new Error(`Unknown type kint: ${e}`)}}class R{constructor(e){this.idl=e,this.ixLayout=R.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const n=L("global",e.name);t.set(u().encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),e.state&&e.state.methods.map((e=>{const n=L("state",e.name);t.set(u().encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t){return this._encode("global",e,t)}encodeState(e,t){return this._encode("state",e,t)}_encode(e,t,n){const i=r.Buffer.alloc(1e3),o=l()(t),s=this.ixLayout.get(o);if(!s)throw new Error(`Unknown method: ${o}`);const a=s.encode(n,i),u=i.slice(0,a);return r.Buffer.concat([L(e,t),u])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map((t=>{let n=t.args.map((t=>{var n,r;return D.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=l()(t.name);return[r,h.struct(n,r)]})).concat(e.instructions.map((t=>{let n=t.args.map((t=>{var n,r;return D.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=l()(t.name);return[r,h.struct(n,r)]})));return new Map(t)}decode(e){"string"==typeof e&&(e="hex"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex")?r.Buffer.from(e,"hex"):u().decode(e));let t=u().encode(e.slice(0,8)),n=e.slice(8);const i=this.sighashLayouts.get(t);return i?{data:i.layout.decode(n),name:i.name}:null}format(e,t){return U.format(e,t,this.idl)}}class U{static format(e,t,n){const r=n.instructions.filter((t=>e.name===t.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((t=>({name:t.name,type:U.formatIdlType(t.type),data:U.formatIdlData(t,e.data[t.name],n.types)}))),o=U.flattenIdlAccounts(r.accounts);return{args:i,accounts:t.map(((e,t)=>t<o.length?{name:o[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){if("string"==typeof e)return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,n){if("string"==typeof e.type)return t.toString();if(e.type.hasOwnProperty("vec"))return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t))).join(", ")+"]";if(e.type.hasOwnProperty("option"))return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t);if(e.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((t=>t.name===e.type.defined));if(1!==r.length)throw new Error(`Type not found: ${e.type.defined}`);return U.formatIdlDataDefined(r[0],t,n)}return"unknown"}static formatIdlDataDefined(e,t,n){if("struct"===e.type.kind){const r=e.type;return"{ "+Object.keys(t).map((e=>{const i=r.fields.filter((t=>t.name===e))[0];if(void 0===i)throw new Error("Unable to find type");return e+": "+U.formatIdlData(i,t[e],n)})).join(", ")+" }"}if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const r=e.type.variants,i=Object.keys(t)[0],o=t[i],s=Object.keys(o).map((e=>{var t;const s=o[e],a=null===(t=r[i])||void 0===t?void 0:t.filter((t=>t.name===e))[0];if(void 0===a)throw new Error("Unable to find variant");return e+": "+U.formatIdlData(a,s,n)})).join(", "),a=l()(i,{pascalCase:!0});return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map((e=>{const n=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.hasOwnProperty("accounts")){const r=t?`${t} > ${n}`:n;return U.flattenIdlAccounts(e.accounts,r)}return{...e,name:t?`${t} > ${n}`:n}})).flat()}}function L(e,t){var n;let i=`${e}:${void 0===n&&(n={}),function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?M:n,i=t.stripRegexp,o=void 0===i?O:i,s=t.transform,a=void 0===s?x:s,u=t.delimiter,c=void 0===u?" ":u,l=B(B(e,r,"$1\0$2"),o,"\0"),d=0,h=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(h-1);)h--;return l.slice(d,h).split("\0").map(a).join(c)}(e,P({delimiter:"."},t))}(t,I({delimiter:"_"},n))}`;return r.Buffer.from(d.sha256.digest(i)).slice(0,8)}function C(e,t){if("enum"===t.type.kind){let n=t.type.variants.map((t=>void 0===t.fields?0:t.fields.map((t=>{if("object"!=typeof t||!("name"in t))throw new Error("Tuple enum variants not yet implemented.");return N(e,t.type)})).reduce(((e,t)=>e+t))));return Math.max(...n)+1}return void 0===t.type.fields?0:t.type.fields.map((t=>N(e,t.type))).reduce(((e,t)=>e+t),0)}function N(e,t){var n,r;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in t)return 1;if("option"in t)return 1+N(e,t.option);if("coption"in t)return 4+N(e,t.coption);if("defined"in t){const i=null!==(r=null===(n=e.types)||void 0===n?void 0:n.filter((e=>e.name===t.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new k(`Type not found: ${JSON.stringify(t)}`);return C(e,i[0])}if("array"in t){let n=t.array[0],r=t.array[1];return N(e,n)*r}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}const F=8;class W{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,D.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t),this.idl=e}async encode(e,t){const n=r.Buffer.alloc(1e3),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);const o=i.encode(t,n);let s=n.slice(0,o),a=W.accountDiscriminator(e);return r.Buffer.concat([a,s])}decode(e,t){if(W.accountDiscriminator(e).compare(t.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){const n=t.slice(8),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);return r.decode(n)}memcmp(e,t){const n=W.accountDiscriminator(e);return{offset:0,bytes:u().encode(t?r.Buffer.concat([n,t]):n)}}size(e){var t;return 8+(null!==(t=C(this.idl,e))&&void 0!==t?t:0)}static accountDiscriminator(e){return r.Buffer.from(d.sha256.digest(`account:${l()(e,{pascalCase:!0})}`)).slice(0,8)}}class z{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let n={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,D.typeDefLayout(n,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>[p.fromByteArray(j(e.name)),e.name])))}decode(e){let t;try{t=r.Buffer.from(p.toByteArray(e))}catch(st){return null}const n=p.fromByteArray(t.slice(0,8)),i=this.discriminators.get(n);if(void 0===i)return null;const o=this.layouts.get(i);if(!o)throw new Error(`Unknown event: ${i}`);return{data:o.decode(t.slice(8)),name:i}}}function j(e){return r.Buffer.from(d.sha256.digest(`event:${e}`)).slice(0,8)}const q=new Set(["anchor-deprecated-state","debug-logs"]),K=new Map;function V(e){return void 0!==K.get(e)}var H=Object.freeze({__proto__:null,set:function(e){if(!q.has(e))throw new Error("Invalid feature");K.set(e,!0)},isSet:V});class G{constructor(e){if(void 0===e.state)throw new Error("Idl state not defined.");this.layout=D.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const n=r.Buffer.alloc(1e3),i=this.layout.encode(t,n),o=await Z(e),s=n.slice(0,i);return r.Buffer.concat([o,s])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function Z(e){let t=V("anchor-deprecated-state")?"account":"state";return r.Buffer.from(d.sha256.digest(`${t}:${e}`)).slice(0,8)}class Q{constructor(e){this.instruction=new R(e),this.accounts=new W(e),this.events=new z(e),e.state&&(this.state=new G(e))}}var X="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};class J{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var Y=J;class $ extends J{isCount(){throw new Error("ExternalLayout is abstract")}}class ee extends ${constructor(e,t,n){if(!(e instanceof J))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof te||this.layout instanceof ne}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class te extends J{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class ne extends J{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}const re=Math.pow(2,32);class ie extends J{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return function(e,t){return e*re+t}(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=function(e){const t=Math.floor(e/re);return{hi32:t,lo32:e-t*re}}(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class oe extends J{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof J),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const i of e)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const s of this.fields){let r=s.span;if(o=0<r?r:0,void 0!==s.property){const i=e[s.property];void 0!==i&&(o=s.encode(i,t,n),0>r&&(r=s.getSpan(t,n)))}i=n,n+=r}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class se{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class ae extends se{constructor(e,t){if(!(e instanceof $&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class ue extends J{constructor(e,t,n){const r=e instanceof te||e instanceof ne;if(r)e=new ae(new ee(e));else if(e instanceof $&&e.isCount())e=new ae(e);else if(!(e instanceof se))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof J))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&r&&(i+=e.layout.span)),super(i,n),this.discriminator=e,this.usesPrefixDiscriminator=r,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(e,t+s)}else n=o.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new ce(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return b.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class ce extends J{constructor(e,t,n,r){if(!(e instanceof ue))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof J))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class le extends J{constructor(e,t){if(!(e instanceof $&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof $||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof $&&(r=e.length),!b.isBuffer(e)||r!==e.length)throw new TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+r+") Buffer as src"));var i;if(n+r>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,r,"hex"),this.length instanceof $&&this.length.encode(r,t,n),r}}var de=e=>new te(1,e),he=e=>new ie(e),pe=(e,t,n)=>new oe(e,t,n),fe=(e,t)=>new le(e,t);class me{constructor(e){}encode(e,t){switch(l()(e)){case"initializeMint":return function(e){let{decimals:t,mintAuthority:n,freezeAuthority:r}=e;return be({initializeMint:{decimals:t,mintAuthority:n.toBuffer(),freezeAuthorityOption:!!r,freezeAuthority:(r||i.PublicKey.default).toBuffer()}})}(t);case"initializeAccount":return be({initializeAccount:{}});case"initializeMultisig":return function(e){let{m:t}=e;return be({initializeMultisig:{m:t}})}(t);case"transfer":return function(e){let{amount:t}=e;return be({transfer:{amount:t}})}(t);case"approve":return function(e){let{amount:t}=e;return be({approve:{amount:t}})}(t);case"revoke":return be({revoke:{}});case"setAuthority":return function(e){let{authorityType:t,newAuthority:n}=e;return be({setAuthority:{authorityType:t,newAuthority:n}})}(t);case"mintTo":return function(e){let{amount:t}=e;return be({mintTo:{amount:t}})}(t);case"burn":return function(e){let{amount:t}=e;return be({burn:{amount:t}})}(t);case"closeAccount":return be({closeAccount:{}});case"freezeAccount":return be({freezeAccount:{}});case"thawAccount":return be({thawAccount:{}});case"transferChecked":return function(e){let{amount:t,decimals:n}=e;return be({transferChecked:{amount:t,decimals:n}})}(t);case"approvedChecked":return function(e){let{amount:t,decimals:n}=e;return be({approveChecked:{amount:t,decimals:n}})}(t);case"mintToChecked":return function(e){let{amount:t,decimals:n}=e;return be({mintToChecked:{amount:t,decimals:n}})}(t);case"burnChecked":return function(e){let{amount:t,decimals:n}=e;return be({burnChecked:{amount:t,decimals:n}})}(t);case"intializeAccount2":return function(e){let{authority:t}=e;return be({initilaizeAccount2:{authority:t}})}(t);case"syncNative":return be({syncNative:{}});case"initializeAccount3":return function(e){let{authority:t}=e;return be({initializeAccount3:{authority:t}})}(t);case"initializeMultisig2":return function(e){let{m:t}=e;return be({initializeMultisig2:{m:t}})}(t);case"initializeMint2":return function(e){let{decimals:t,mintAuthority:n,freezeAuthority:r}=e;return be({encodeInitializeMint2:{decimals:t,mintAuthority:n,freezeAuthority:r}})}(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("SPL token does not have state")}}const ge=(ye=de("instruction"),new ue(ye,undefined,undefined));var ye;function we(e){return fe(32,e)}function be(e){let t=b.alloc(ve),n=ge.encode(e,t);return t.slice(0,n)}ge.addVariant(0,pe([de("decimals"),fe(32,"mintAuthority"),de("freezeAuthorityOption"),we("freezeAuthority")]),"initializeMint"),ge.addVariant(1,pe([]),"initializeAccount"),ge.addVariant(2,pe([de("m")]),"initializeMultisig"),ge.addVariant(3,pe([he("amount")]),"transfer"),ge.addVariant(4,pe([he("amount")]),"approve"),ge.addVariant(5,pe([]),"revoke"),ge.addVariant(6,pe([de("authorityType"),de("newAuthorityOption"),we("newAuthority")]),"setAuthority"),ge.addVariant(7,pe([he("amount")]),"mintTo"),ge.addVariant(8,pe([he("amount")]),"burn"),ge.addVariant(9,pe([]),"closeAccount"),ge.addVariant(10,pe([]),"freezeAccount"),ge.addVariant(11,pe([]),"thawAccount"),ge.addVariant(12,pe([he("amount"),de("decimals")]),"transferChecked"),ge.addVariant(13,pe([he("amount"),de("decimals")]),"approvedChecked"),ge.addVariant(14,pe([he("amount"),de("decimals")]),"mintToChecked"),ge.addVariant(15,pe([he("amount"),de("decimals")]),"burnedChecked"),ge.addVariant(16,pe([we("authority")]),"InitializeAccount2"),ge.addVariant(17,pe([]),"syncNative"),ge.addVariant(18,pe([we("authority")]),"initializeAccount3"),ge.addVariant(19,pe([de("m")]),"initializeMultisig2"),ge.addVariant(20,pe([de("decimals"),we("mintAuthority"),de("freezeAuthorityOption"),we("freezeAuthority")]),"initializeMint2");const ve=Math.max(...Object.values(ge.registry).map((e=>e.span)));class _e{constructor(e){}encode(e,t){throw new Error("SPL token does not have state")}decode(e){throw new Error("SPL token does not have state")}}function Ae(e){return new Ee(fe(8),(e=>xe.fromBuffer(e)),(e=>e.toBuffer()),e)}function Se(e){return new Ee(fe(32),(e=>new i.PublicKey(e)),(e=>e.toBuffer()),e)}function ke(e,t){return new Te(e,t)}class Ee extends Y{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}class Te extends Y{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=new te(4,void 0)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null==e?this.layout.span+this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+4)+4)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.property)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.layout.getSpan(e,t+4)+4}}function Ie(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}function Pe(e){return e?1:0}class xe extends(s()){toBuffer(){const e=super.toArray().reverse(),t=b.from(e);if(8===t.length)return t;if(t.length>=8)throw new Error("u64 too large");const n=b.alloc(8);return t.copy(n),n}static fromBuffer(e){if(8!==e.length)throw new Error(`Invalid buffer length: ${e.length}`);return new xe([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}class Me{constructor(e){this.idl=e}async encode(e,t){switch(e){case"Token":{const e=b.alloc(165),n=Be.encode(t,e);return e.slice(0,n)}case"Mint":{const e=b.alloc(82),n=Oe.encode(t,e);return e.slice(0,n)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){switch(e){case"Token":return function(e){return Be.decode(e)}(t);case"Mint":return function(e){return Oe.decode(e)}(t);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,t){switch(e){case"Token":return{dataSize:165};case"Mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var t;return null!==(t=C(this.idl,e))&&void 0!==t?t:0}}const Oe=pe([ke(Se(),"mintAuthority"),Ae("supply"),de("decimals"),new Ee(de(),Ie,Pe,"isInitialized"),ke(Se(),"freezeAuthority")]),Be=pe([Se("mint"),Se("authority"),Ae("amount"),ke(Se(),"delegate"),de("state"),ke(Ae(),"isNative"),Ae("delegatedAmount"),ke(Se(),"closeAuthority")]);class De{constructor(e){}decode(e){throw new Error("SPL token program does not have events")}}class Re{constructor(e){this.instruction=new me(e),this.accounts=new Me(e),this.events=new De(e),this.state=new _e(e)}}var Ue=Object.freeze({__proto__:null,hash:function(e){return(0,d.sha256)(e)}});function Le(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var n;let r=null!==(n=e.msg)&&void 0!==n?n:e.name;t.set(e.code,r)})),t}function Ce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e.args.length!=n.length)throw new Error("Invalid argument length");const i={};let o=0;return e.args.forEach((e=>{i[e.name]=n[o],o+=1})),i}function Ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((e=>{if("accounts"in e)Ne(e.accounts,t[e.name]);else if(void 0===t[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function Fe(e){return e instanceof i.PublicKey?e:new i.PublicKey(e)}async function We(e,t,n){if(t.length<=99)return await ze(e,t,n);{const i=(r=t,99,Array.apply(0,new Array(Math.ceil(r.length/99))).map(((e,t)=>r.slice(99*t,99*(t+1)))));return(await Promise.all(i.map((t=>ze(e,t,n))))).flat()}var r}async function ze(e,t,n){const o=null!=n?n:e.commitment,s=[t.map((e=>e.toBase58()))];o&&s.push({commitment:o});const a=await e._rpcRequest("getMultipleAccounts",s);if(a.error)throw new Error("failed to get info about accounts "+t.map((e=>e.toBase58())).join(", ")+": "+a.error.message);m()(void 0!==a.result);const u=[];for(const c of a.result.value){let e=null;if(null!==c){if(a.result.value){const{executable:t,owner:n,lamports:o,data:s}=c;m()("base64"===s[1]),e={executable:t,owner:new i.PublicKey(n),lamports:o,data:r.Buffer.from(s[0],"base64")}}if(null===e)throw new Error("Invalid response");u.push(e)}else u.push(null)}return u.map(((e,n)=>null===e?null:{publicKey:t[n],account:e}))}var je=Object.freeze({__proto__:null,invoke:async function(e,t,n,r){e=Fe(e),r||(r=A());const o=new i.Transaction;return o.add(new i.TransactionInstruction({programId:e,keys:null!=t?t:[],data:n})),await r.send(o)},getMultipleAccounts:We});function qe(e,t,n){const o=r.Buffer.concat([e.toBuffer(),r.Buffer.from(t),n.toBuffer()]),s=d.sha256.digest(o);return new i.PublicKey(r.Buffer.from(s))}function Ke(e,t){let n=r.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=r.Buffer.concat([n,He(e)])})),n=r.Buffer.concat([n,t.toBuffer(),r.Buffer.from("ProgramDerivedAddress")]);let o=(0,d.sha256)(new Uint8Array(n)),a=new(s())(o,16).toArray(void 0,32);if(i.PublicKey.isOnCurve(new Uint8Array(a)))throw new Error("Invalid seeds, address must fall off the curve");return new i.PublicKey(a)}function Ve(e,t){let n,i=255;for(;0!=i;){try{n=Ke(e.concat(r.Buffer.from([i])),t)}catch(st){if(st instanceof TypeError)throw st;i--;continue}return[n,i]}throw new Error("Unable to find a viable program address nonce")}const He=e=>e instanceof r.Buffer?e:e instanceof Uint8Array?r.Buffer.from(e.buffer,e.byteOffset,e.byteLength):r.Buffer.from(e);async function Ge(e){let t=[r.Buffer.from([97,110,99,104,111,114])];for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];o.forEach((e=>{t.push(e instanceof r.Buffer?e:Fe(e).toBuffer())}));const[a]=await i.PublicKey.findProgramAddress(t,Fe(e));return a}var Ze=Object.freeze({__proto__:null,createWithSeedSync:qe,createProgramAddressSync:Ke,findProgramAddressSync:Ve,associated:Ge}),Qe=Object.freeze({__proto__:null,encode:function(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")},decode:function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?r.Buffer.from([]):r.Buffer.from(t.map((e=>parseInt(e,16))))}});function Xe(e){return new TextDecoder("utf-8").decode(e)}function Je(e){return(new TextEncoder).encode(e)}var Ye=Object.freeze({__proto__:null,decode:Xe,encode:Je}),$e=Object.freeze({__proto__:null,encode:function(e){return u().encode(e)},decode:function(e){return u().decode(e)}}),et=Object.freeze({__proto__:null,encode:function(e){return p.fromByteArray(e)},decode:function(e){return r.Buffer.from(p.toByteArray(e))}}),tt=Object.freeze({__proto__:null,hex:Qe,utf8:Ye,bs58:$e,base64:et});const nt=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),rt=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var it=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:nt,ASSOCIATED_PROGRAM_ID:rt,associatedAddress:async function(e){let{mint:t,owner:n}=e;return(await i.PublicKey.findProgramAddress([n.toBuffer(),nt.toBuffer(),t.toBuffer()],rt))[0]}}),ot={exports:{}};!function(e,t){var n="undefined"!=typeof self?self:X,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=f(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=l(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),w.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var A=[301,302,303,307,308];_.redirect=function(e,t){if(-1===A.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise((function(r,o){var s=new b(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new _(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=h,e.Request=b,e.Response=_),t.Headers=h,t.Request=b,t.Response=_,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(ot,ot.exports);var st,at=(st=ot.exports)&&st.__esModule&&Object.prototype.hasOwnProperty.call(st,"default")?st.default:st;async function ut(e,t){const n=await e.getAccountInfo(t);if(null===n)throw new Error("program account not found");const{program:r}=lt(n.data),i=await e.getAccountInfo(r.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=lt(i.data);return o}const ct=h.rustEnum([h.struct([],"uninitialized"),h.struct([h.option(h.publicKey(),"authorityAddress")],"buffer"),h.struct([h.publicKey("programdataAddress")],"program"),h.struct([h.u64("slot"),h.option(h.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,h.u32());function lt(e){return ct.decode(e)}var dt=Object.freeze({__proto__:null,verifiedBuild:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const r=`https://anchor.projectserum.com/api/v0/program/${t.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([ut(e,t),at(r)]),s=(await o.json()).filter((e=>!e.aborted&&"Built"===e.state&&"Verified"===e.verified));if(0===s.length)return null;const a=s[0];return i.slot.toNumber()!==a.verified_slot?null:a},fetchData:ut,decodeUpgradeableLoaderState:lt}),ht=Object.freeze({__proto__:null,sha256:Ue,rpc:je,publicKey:Ze,bytes:tt,token:it,features:H,registry:dt});const pt=h.struct([h.publicKey("authority"),h.vecU8("data")]);function ft(e,t){var n,r;let i={};const o=e.args?e.args.length:0;if(t.length>o){if(t.length!==o+1)throw new Error(`provided too many arguments ${t} to instruction ${null==e?void 0:e.name} expecting: ${null!==(r=null===(n=e.args)||void 0===n?void 0:n.map((e=>e.name)))&&void 0!==r?r:[]}`);i=t.pop()}return[t,i]}class mt{static build(e,t,n){if("_inner"===e.name)throw new k("the _inner name is reserved");const r=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const[u,c]=ft(e,[...s]);Ne(e.accounts,c.accounts);const l=r.accounts(c.accounts);return void 0!==c.remainingAccounts&&l.push(...c.remainingAccounts),V("debug-logs")&&console.log("Outgoing account metas:",l),new i.TransactionInstruction({keys:l,programId:n,data:t(e.name,Ce(e,...u))})};return r.accounts=t=>mt.accountsArray(t,e.accounts,e.name),r}static accountsArray(e,t,n){return e?t.map((t=>{if(void 0!==("accounts"in t?t.accounts:void 0)){const r=e[t.name];return mt.accountsArray(r,t.accounts,n).flat()}{const r=t;let i;try{i=Fe(e[t.name])}catch(e){throw new Error(`Wrong input type for account "${t.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}return{pubkey:i,isWritable:r.isMut,isSigner:r.isSigner}}})).flat():[]}}class gt{static build(e,t,n,r){return async function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];const a=t(...o),[,u]=ft(e,[...o]);try{return await r.send(a,u.signers,u.options)}catch(e){V("debug-logs")&&console.log("Translating error:",e);let r=E.parse(e,n);if(null===r)throw e;throw r}}}}class yt{static build(e,t){return function(){for(var n,r,o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];const[,c]=ft(e,[...a]),l=new i.Transaction;if(c.preInstructions&&c.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(n=c.preInstructions)||void 0===n||n.forEach((e=>l.add(e))),null===(r=c.instructions)||void 0===r||r.forEach((e=>l.add(e))),l.add(t(...a)),null===(o=c.postInstructions)||void 0===o||o.forEach((e=>l.add(e))),l}}}class wt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Q(e);this.provider=n,this.coder=r,this._idl=e,this._programId=t,this._address=bt(t),this._sub=null;const[o,s,a]=(()=>{var o;let s={},a={},u={};return null===(o=e.state)||void 0===o||o.methods.forEach((o=>{const c=mt.build(o,((e,t)=>r.instruction.encodeState(e,t)),t);c.accounts=e=>{const r=function(e,t,n,r){if("new"===n.name){const[n]=Ve([],e);return[{pubkey:t.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:bt(e),isWritable:!0,isSigner:!1},{pubkey:n,isWritable:!1,isSigner:!1},{pubkey:i.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e,isWritable:!1,isSigner:!1}]}return Ne(n.accounts,r),[{pubkey:bt(e),isWritable:!0,isSigner:!1}]}(t,n,o,e);return r.concat(mt.accountsArray(e,o.accounts,o.name))};const d=yt.build(o,c),h=gt.build(o,d,Le(e),n),p=l()(o.name);s[p]=c,a[p]=d,u[p]=h})),[s,a,u]})();this.instruction=o,this.transaction=s,this.rpc=a}get programId(){return this._programId}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(null===t)throw new Error(`Account does not exist ${e.toString()}`);const n=this._idl.state;if(!n)throw new Error("State is not specified in IDL.");if((await Z(n.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(null!==this._sub)return this._sub.ee;const t=new(w()),n=this.provider.connection.onAccountChange(this.address(),(e=>{const n=this.coder.state.decode(e.data);t.emit("change",n)}),e);return this._sub={ee:t,listener:n},t}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function bt(e){let[t]=Ve([],e);return qe(t,"unversioned",e)}class vt{constructor(e,t,n,r,i){this._idlAccount=t,this._programId=n,this._provider=null!=r?r:A(),this._coder=null!=i?i:new Q(e),this._size=this._coder.accounts.size(t)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,t){const n=await this.getAccountInfo(e,t);return null===n?null:this._coder.accounts.decode(this._idlAccount.name,n.data)}async fetch(e,t){const n=await this.fetchNullable(e,t);if(null===n)throw new Error(`Account does not exist ${e.toString()}`);return n}async fetchMultiple(e,t){return(await We(this._provider.connection,e.map((e=>Fe(e))),t)).map((e=>null==e?null:this._coder.accounts.decode(this._idlAccount.name,null==e?void 0:e.account.data)))}async all(e){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,e instanceof b?e:void 0)},...Array.isArray(e)?e:[]]})).map((e=>{let{pubkey:t,account:n}=e;return{publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,n.data)}}))}subscribe(e,t){const n=_t.get(e.toString());if(n)return n.ee;const r=new(w());e=Fe(e);const i=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);r.emit("change",t)}),t);return _t.set(e.toString(),{ee:r,listener:i}),r}async unsubscribe(e){let t=_t.get(e.toString());t?_t&&await this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{_t.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const n=this.size;return i.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:n),programId:this._programId})}async associated(){const e=await this.associatedAddress(...arguments);return await this.fetch(e)}async associatedAddress(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return await Ge(this._programId,...t)}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(Fe(e),t)}}const _t=new Map,At="Program log: ".length;class St{constructor(e,t,n){this._programId=e,this._provider=t,this._eventParser=new kt(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!==(n=this._eventListeners.get(e))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((e,t)=>{e.err||this._eventParser.parseLogs(e.logs,(e=>{const n=this._eventListeners.get(e.name);n&&n.forEach((n=>{const r=this._eventCallbacks.get(n);if(r){const[,n]=r;n(e.data,t.slot)}}))}))}))),r}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=t;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(e),r=r.filter((t=>t!==e)),0===r.length&&this._eventListeners.delete(n),0==this._eventCallbacks.size&&(f.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class kt{constructor(e,t){this.coder=t,this.programId=e}parseLogs(e,t){const n=new Tt(e),r=new Et(n.next());let i=n.next();for(;null!==i;){let[e,o,s]=this.handleLog(r,i);e&&t(e),o&&r.push(o),s&&r.pop(),i=n.next()}}handleLog(e,t){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log:")){const t=e.slice(At);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class Et{constructor(e){var t;const n=null===(t=/^Program (.*) invoke.*$/g.exec(e))||void 0===t?void 0:t[1];if(!n)throw new Error("Could not find program invocation log line");this.stack=[n]}program(){return f.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){f.ok(this.stack.length>0),this.stack.pop()}}class Tt{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}const It=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function Pt(){return new Re(xt)}const xt={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class Mt{constructor(e,t,n,r,i,o){this._args=e,this._accounts=t,this._provider=n,this._programId=r,this._idlIx=i,this._accountStore=new Ot(n,o)}async resolve(){for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],n=l()(t.name);if(t.pda&&t.pda.seeds.length>0&&void 0===this._accounts[n])await this.autoPopulatePda(t);else if(t.isSigner&&void 0===this._accounts[n])this._accounts[n]=this._provider.wallet.publicKey;else switch(n){case"systemProgram":void 0===this._accounts[n]&&(this._accounts[n]=i.SystemProgram.programId);case"rent":void 0===this._accounts[n]&&(this._accounts[n]=i.SYSVAR_RENT_PUBKEY);case"tokenProgram":void 0===this._accounts[n]&&(this._accounts[n]=nt);case"associatedTokenProgram":void 0===this._accounts[n]&&(this._accounts[n]=rt)}}}async autoPopulatePda(e){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const t=await Promise.all(e.pda.seeds.map((e=>this.toBuffer(e)))),n=await this.parseProgramId(e),[r]=await i.PublicKey.findProgramAddress(t,n);this._accounts[l()(e.name)]=r}async parseProgramId(e){var t;if(!(null===(t=e.pda)||void 0===t?void 0:t.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new i.PublicKey(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}toBufferConst(e){return this.toBufferValue(e.type,e.value)}async toBufferArg(e){const t=this.argValue(e);return this.toBufferValue(e.type,t)}argValue(e){const t=l()(e.path.split(".")[0]),n=this._idlIx.args.findIndex((e=>e.name===t));if(-1===n)throw new Error(`Unable to find argument for seed: ${t}`);return this._args[n]}async toBufferAccount(e){const t=await this.accountValue(e);return this.toBufferValue(e.type,t)}async accountValue(e){const t=e.path.split("."),n=t[0],r=this._accounts[l()(n)];if(1===t.length)return r;const i=await this._accountStore.fetchAccount(e.account,r);return this.parseAccountValue(i,t.slice(1))}parseAccountValue(e,t){let n;for(;t.length>0;)n=e[l()(t[0])],t=t.slice(1);return n}toBufferValue(e,t){switch(e){case"u8":return b.from([t]);case"u16":let n=b.alloc(2);return n.writeUInt16LE(t),n;case"u32":let r=b.alloc(4);return r.writeUInt32LE(t),r;case"u64":let i=b.alloc(8);return i.writeBigUInt64LE(BigInt(t)),i;case"string":return b.from(Je(t));case"publicKey":return t.toBuffer();default:if(e.array)return b.from(t);throw new Error(`Unexpected seed type: ${e}`)}}}class Ot{constructor(e,t){this._provider=e,this._accounts=t,this._cache=new Map}async fetchAccount(e,t){const n=t.toString();if(void 0===this._cache.get(n))if("TokenAccount"===e){const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error(`invalid account info for ${n}`);const r=Pt().accounts.decode("Token",e.data);this._cache.set(n,r)}else{const r=this._accounts[l()(e)].fetch(t);this._cache.set(n,r)}return this._cache.get(n)}}class Bt{static build(e,t,n,r,i,o,s,a){return function(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];return new Dt(c,r,i,o,s,e,t,n,a)}}}class Dt{constructor(e,t,n,r,i,o,s,a,u){this._args=e,this._ixFn=t,this._txFn=n,this._rpcFn=r,this._simulateFn=i,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._accountsResolver=new Mt(e,this._accounts,o,s,a,u)}accounts(e){return Object.assign(this._accounts,e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class Rt{constructor(e,t,n,r){t=Fe(t),n||(n=A()),this._idl=e,this._provider=n,this._programId=t,this._coder=null!=r?r:new Q(e),this._events=new St(this._programId,n,this._coder);const[i,o,s,a,u,c,d]=class{static build(e,t,n,r){const i={},o={},s={},a={},u={},c=Le(e),d=e.accounts?class{static build(e,t,n,r){var i;const o={};return null===(i=e.accounts)||void 0===i||i.forEach((i=>{const s=l()(i.name);o[s]=new vt(e,i,n,r,t)})),o}}.build(e,t,n,r):{},h=class{static build(e,t,n,r){if(void 0!==e.state)return new wt(e,n,r,t)}}.build(e,t,n,r);return e.instructions.forEach((h=>{const p=mt.build(h,((e,n)=>t.instruction.encode(e,n)),n),f=yt.build(h,p),m=gt.build(h,f,c,r),g=class{static build(e,t,n,r,i,o,s){return async function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];const l=t(...u),[,d]=ft(e,[...u]);let h;try{h=await r.simulate(l,d.signers,d.options)}catch(e){V("debug-logs")&&console.log("Translating error:",e);let r=E.parse(e,n);if(null===r)throw e;throw r}if(void 0===h)throw new Error("Unable to simulate transaction");if(h.value.err)throw new Error(`Simulate error: ${h.value.err.toString()}`);const p=h.value.logs;if(!p)throw new Error("Simulated logs not found");const f=[];return s.events&&new kt(o,i).parseLogs(p,(e=>{f.push(e)})),{events:f,raw:p}}}}.build(h,f,c,r,t,n,e),y=Bt.build(r,n,h,p,f,m,g,d),w=l()(h.name);o[w]=p,s[w]=f,i[w]=m,a[w]=g,u[w]=y})),[i,o,s,d,a,u,h]}}.build(e,this._coder,t,n);this.rpc=i,this.instruction=o,this.transaction=s,this.account=a,this.simulate=u,this.methods=c,this.state=d}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const n=Fe(e),r=await Rt.fetchIdl(n,t);if(!r)throw new Error(`IDL not found for program: ${e.toString()}`);return new Rt(r,n,t)}static async fetchIdl(e,t){t=null!=t?t:A();const n=Fe(e),r=await async function(e){const t=(await i.PublicKey.findProgramAddress([],e))[0];return await i.PublicKey.createWithSeed(t,"anchor:idl",e)}(n),o=await t.connection.getAccountInfo(r);if(!o)return null;let s=(a=o.data.slice(8),pt.decode(a));var a;const u=(0,g.rr)(s.data);return JSON.parse(Xe(u))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}class Ut{static token(){return new Rt(xt,It,undefined,Pt())}}},4594:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ALDRIN_SWAP_PROGRAM_ID:()=>bo,ALDRIN_SWAP_V2_PROGRAM_ID:()=>vo,AldrinAmm:()=>js,CREMA_PROGRAM_ID:()=>Eo,CROPPER_PROGRAM_ID:()=>Ao,CYKURA_FACTORY_STATE_ADDRESS:()=>Mo,CYKURA_PROGRAM_ID:()=>xo,CropperAmm:()=>$s,CykuraAmm:()=>da,DEVNET_SERUM_DEX_PROGRAM:()=>fo,IS_DEV:()=>Do,JUPITER_ERRORS:()=>Bo,JUPITER_WALLET:()=>To,Jupiter:()=>$a,LAMPORTS_PER_SIGNATURE:()=>yo,LIFINITY_PROGRAM_ID:()=>ko,MAINNET_SERUM_DEX_PROGRAM:()=>po,MARKETS_URL:()=>mo,MERCURIAL_SWAP_PROGRAM_ID:()=>Io,MercurialAmm:()=>Ys,RAYDIUM_AMM_V4_PROGRAM_ID:()=>wo,RaydiumAmm:()=>Es,SABER_ADD_DECIMALS_PROGRAM_ID:()=>_o,SENCHA_PROGRAM_ID:()=>So,SWAP_PROTOCOL_TOKENS:()=>Oo,SaberAddDecimalsAmm:()=>ws,SaberAmm:()=>Ds,SenchaAmm:()=>ra,SerumAmm:()=>Ms,SplTokenSwapAmm:()=>Zs,SplitTradeAmm:()=>Os,TOKEN_LIST_URL:()=>go,TransactionBuilder:()=>xa,WHIRLPOOL_PROGRAM_ID:()=>Po,WRAPPED_SOL_MINT:()=>ho,WhirlpoolAmm:()=>sa,getEmptyInstruction:()=>wa,getPlatformFeeAccounts:()=>Pa,getRouteInfoUniqueId:()=>ma,getSaberWrappedDecimalsAmms:()=>gs,transactionSenderAndConfirmationWaiter:()=>La});var r=n(93038),i=n(71256),o=n(94706),s=n(25047);s.n_([s.u8("instruction"),s.Jq("units"),s.Jq("additionalFee")]),s.n_([s.u8("instruction"),s.Jq("bytes")]);n(97429).Buffer;new i.PublicKey("ComputeBudget111111111111111111111111111111");var a=n(48744),u=n.n(a);n(97429).Buffer;new i.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr");Error;Error;new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");i.SystemProgram.programId;new Map([["GenericError","generic instruction error"],["InvalidArgument","invalid program argument"],["InvalidInstructionData","invalid instruction data"],["InvalidAccountData","invalid account data for instruction"],["AccountDataTooSmall","account data too small for instruction"],["InsufficientFunds","insufficient funds for instruction"],["IncorrectProgramId","incorrect program id for instruction"],["MissingRequiredSignature","missing required signature for instruction"],["AccountAlreadyInitialized","instruction requires an uninitialized account"],["UninitializedAccount","instruction requires an initialized account"],["UnbalancedInstruction","sum of account balances before and after instruction do not match"],["ModifiedProgramId","instruction modified the program id of an account"],["ExternalAccountLamportSpend","instruction spent from the balance of an account it does not own"],["ExternalAccountDataModified","instruction modified data of an account it does not own"],["ReadonlyLamportChange","instruction changed the balance of a read-only account"],["ReadonlyDataModified","instruction modified data of a read-only account"],["DuplicateAccountIndex","instruction contains duplicate accounts"],["ExecutableModified","instruction changed executable bit of an account"],["RentEpochModified","instruction modified rent epoch of an account"],["NotEnoughAccountKeys","insufficient account keys for instruction"],["AccountDataSizeChanged","non-system instruction changed account size"],["AccountNotExecutable","instruction expected an executable account"],["AccountBorrowFailed","instruction tries to borrow reference for an account which is already borrowed"],["AccountBorrowOutstanding","instruction left account with an outstanding borrowed reference"],["DuplicateAccountOutOfSync","instruction modifications of multiply-passed account differ"],["Custom","custom program error: {0}"],["InvalidError","program returned invalid error code"],["ExecutableDataModified","instruction changed executable accounts data"],["ExecutableLamportChange","instruction changed the balance of a executable account"],["ExecutableAccountNotRentExempt","executable accounts must be rent exempt"],["UnsupportedProgramId","Unsupported program id"],["CallDepth","Cross-program invocation call depth too deep"],["MissingAccount","An account required by the instruction is missing"],["ReentrancyNotAllowed","Cross-program invocation reentrancy not allowed for this instruction"],["MaxSeedLengthExceeded","Length of the seed is too long for address generation"],["InvalidSeeds","Provided seeds do not result in a valid address"],["InvalidRealloc","Failed to reallocate account data"],["ComputationalBudgetExceeded","Computational budget exceeded"],["PrivilegeEscalation","Cross-program invocation with unauthorized signer or writable account"],["ProgramEnvironmentSetupFailure","Failed to create program execution environment"],["ProgramFailedToComplete","Program failed to complete"],["ProgramFailedToCompile","Program failed to compile"],["Immutable","Account is immutable"],["IncorrectAuthority","Incorrect authority provided"],["BorshIoError","Failed to serialize or deserialize account data: {0}"],["AccountNotRentExempt","An account does not have enough lamports to be rent-exempt"],["InvalidAccountOwner","Invalid account owner"],["ArithmeticOverflow","Program arithmetic overflowed"],["UnsupportedSysvar","Unsupported sysvar"],["IllegalOwner","Provided owner is not allowed"]]);n(51105);const c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return s.Ik(32,e)},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint64";return s.Ik(8,e)},d=r.MintLayout,h=e=>{if(e.length!==d.span)throw new Error("Not a valid Mint");const t=d.decode(e);let n;n=0===t.mintAuthorityOption?null:new i.PublicKey(t.mintAuthority);const o=r.u64.fromBuffer(t.supply),s=0!==t.isInitialized;let a;return a=0===t.freezeAuthorityOption?null:new i.PublicKey(t.freezeAuthority),{mintAuthority:n,supply:o,decimals:t.decimals,isInitialized:s,freezeAuthority:a}};var p=n(46694),f=n.n(p);const m=f().BigInt(0);f().BigInt(1),f().BigInt(10);var g;!function(e){e[e.ROUND_DOWN=0]="ROUND_DOWN",e[e.ROUND_HALF_UP=1]="ROUND_HALF_UP",e[e.ROUND_UP=2]="ROUND_UP"}(g||(g={}));f().BigInt("0xffffffffffffffff"),f().BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var y=n(56249),w=n.n(y),b=n(69101),v=n.n(b),_=n(86243),A=n(23909),S=n.n(A);function k(e){return e instanceof f()?e:"bigint"===typeof e||u().isBN(e)?f().BigInt(e.toString()):f().BigInt(e)}const E=S()(v()),T=S()(w()),I={[g.ROUND_DOWN]:v().ROUND_DOWN,[g.ROUND_HALF_UP]:v().ROUND_HALF_UP,[g.ROUND_UP]:v().ROUND_UP},P={[g.ROUND_DOWN]:0,[g.ROUND_HALF_UP]:1,[g.ROUND_UP]:3};class x{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f().BigInt(1);this.isFraction=!0,this.numerator=f().BigInt(k(e)),this.denominator=f().BigInt(k(t))}static isFraction(e){return"object"===typeof e&&null!==e&&"numerator"in e&&"denominator"in e}compareTo(e){return this.equalTo(e)?0:this.greaterThan(e)?1:-1}static fromNumber(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const n=Math.pow(10,t);return new x(Math.floor(e*n),n)}static tryParseFraction(e){if(x.isFraction(e))return e;try{return new x(k(e))}catch(t){if(t instanceof Error)throw new Error(`Could not parse fraction: ${t.message}`);throw new Error("Could not parse fraction")}}get quotient(){return f().divide(this.numerator,this.denominator)}get remainder(){return new x(f().remainder(this.numerator,this.denominator),this.denominator)}invert(){return new x(this.denominator,this.numerator)}add(e){const t=x.tryParseFraction(e);return f().equal(this.denominator,t.denominator)?new x(f().add(this.numerator,t.numerator),this.denominator):new x(f().add(f().multiply(this.numerator,t.denominator),f().multiply(t.numerator,this.denominator)),f().multiply(this.denominator,t.denominator))}subtract(e){const t=x.tryParseFraction(e);return f().equal(this.denominator,t.denominator)?new x(f().subtract(this.numerator,t.numerator),this.denominator):new x(f().subtract(f().multiply(this.numerator,t.denominator),f().multiply(t.numerator,this.denominator)),f().multiply(this.denominator,t.denominator))}lessThan(e){const t=x.tryParseFraction(e);return f().lessThan(f().multiply(this.numerator,t.denominator),f().multiply(t.numerator,this.denominator))}equalTo(e){const t=x.tryParseFraction(e);return f().equal(f().multiply(this.numerator,t.denominator),f().multiply(t.numerator,this.denominator))}greaterThan(e){const t=x.tryParseFraction(e);return f().greaterThan(f().multiply(this.numerator,t.denominator),f().multiply(t.numerator,this.denominator))}multiply(e){const t=x.tryParseFraction(e);return new x(f().multiply(this.numerator,t.numerator),f().multiply(this.denominator,t.denominator))}divide(e){const t=x.tryParseFraction(e);return new x(f().multiply(this.numerator,t.denominator),f().multiply(this.denominator,t.numerator))}toSignificant(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{groupSeparator:""},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.ROUND_HALF_UP;(0,_.default)(Number.isInteger(e),`${e} is not an integer.`),(0,_.default)(e>0,`${e} is not positive.`),E.set({precision:e+1,rounding:I[n]});const r=new E(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return r.toFormat(r.decimalPlaces(),t)}toFixed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{groupSeparator:""},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.ROUND_HALF_UP;return(0,_.default)(Number.isInteger(e),`${e} is not an integer.`),(0,_.default)(e>=0,`${e} is negative.`),T.DP=e,T.RM=P[n],new T(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}get asFraction(){return new x(this.numerator,this.denominator)}get asNumber(){if(f().equal(this.denominator,m))return f().greaterThan(this.numerator,m)?Number.POSITIVE_INFINITY:f().lessThan(this.numerator,m)?Number.NEGATIVE_INFINITY:Number.NaN;const e=f().toNumber(this.numerator)/f().toNumber(this.denominator);return Number.isNaN(e)?parseFloat(this.toFixed(10)):e}isZero(){return f().EQ(this.numerator,m)&&f().NE(this.denominator,m)}isNonZero(){return!this.isZero()}}x.ZERO=new x(0),x.ONE=new x(1);const M=new x(f().BigInt(100));function O(e){return new B(e.numerator,e.denominator)}class B extends x{constructor(){super(...arguments),this.isPercent=!0}static fromNumber(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const n=x.fromNumber(e,t);return new B(n.numerator,n.denominator)}static fromBPS(e){return new B(e,1e4)}add(e){return O(super.add(e))}subtract(e){return O(super.subtract(e))}multiply(e){return O(super.multiply(e))}divide(e){return O(super.divide(e))}toSignificant(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return super.multiply(M).toSignificant(e,t,n)}toFixed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return super.multiply(M).toFixed(e,t,n)}static isPercent(e){return x.isFraction(e)&&!0===(null===e||void 0===e?void 0:e.isPercent)}}B.ZERO=new B(0),B.ONE=new B(1,100),B.ONE_HUNDRED=new B(1);RangeError;RangeError;var D;!function(e){e[e.MainnetBeta=101]="MainnetBeta",e[e.Testnet=102]="Testnet",e[e.Devnet=103]="Devnet"}(D||(D={}));const R=new i.PublicKey("RawSo11111111111111111111111111111111111112");class U{constructor(e){var t;this.info=e,this._mintAccount=null,this.network=null!==(t=q(e.chainId))&&void 0!==t?t:"localnet"}get mintAccount(){return this._mintAccount||(this._mintAccount=new i.PublicKey(this.info.address)),this._mintAccount}get isRawSOL(){return this.mintAccount.equals(R)}get address(){return this.info.address}get chainId(){return this.info.chainId}get decimals(){return this.info.decimals}get name(){return this.info.name}get symbol(){return this.info.symbol}get icon(){return this.info.logoURI}equals(e){return L(this,e)}toString(){return`Token[mint=${this.address}, decimals=${this.decimals}, network=${this.network}]`}toJSON(){return this.info}hasTag(e){var t;return!!(null===(t=this.info.tags)||void 0===t?void 0:t.includes(e))}}U.fromMint=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r,i,o;return new U({...n,address:e.toString(),decimals:t,name:null!==(r=n.name)&&void 0!==r?r:`Token ${e.toString().slice(0,4)}`,symbol:null!==(i=n.symbol)&&void 0!==i?i:e.toString().slice(0,5),chainId:null!==(o=n.chainId)&&void 0!==o?o:W.Localnet})},U.load=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("number"===typeof n.decimals)return U.fromMint(t,n.decimals,n);const r=await e.getAccountInfo(t);if(!r)return null;const i=h(r.data);return U.fromMint(t,i.decimals,n)};const L=(e,t)=>void 0!==e&&void 0!==t&&e.address===t.address&&e.network===t.network,C={address:R.toString(),name:"Solana",symbol:"SOL",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},N={address:r.NATIVE_MINT.toString(),name:"Wrapped SOL",symbol:"SOL",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},F=e=>({"mainnet-beta":new U({...e,chainId:W.MainnetBeta}),devnet:new U({...e,chainId:W.Devnet}),testnet:new U({...e,chainId:W.Testnet}),localnet:new U({...e,chainId:W.Localnet})});var W;!function(e){e[e.MainnetBeta=101]="MainnetBeta",e[e.Testnet=102]="Testnet",e[e.Devnet=103]="Devnet",e[e.Localnet=104]="Localnet"}(W||(W={}));const z={"mainnet-beta":W.MainnetBeta,devnet:W.Devnet,testnet:W.Testnet,localnet:104},j=Object.entries(z).reduce(((e,t)=>{let[n,r]=t;return{...e,[r]:n}}),{}),q=e=>j[e];F(C),F(N);new i.PublicKey("shmem4EWT2sPdVGvTZCzXXRAURL9G5vpPxNwSeKhHUL");n(50498);f().BigInt(2),f().BigInt(2);const K=new i.PublicKey("SSwpkEEcbUqx4vtoEByFjSkhKdCT862DNVb52nZg1UZ");var V=n(97429).Buffer;new B(0,1e4);const H=50,G=100,Z=50,Q=100,X=50,J=1e4,Y=(new B(20,1e4),new B(X,J),new B(H,G),new B(Z,Q),e=>{let{config:{swapProgramID:t},keys:n,data:r}=e;return new i.TransactionInstruction({keys:n,programId:t,data:r})});var $;n(97429).Buffer;!function(e){e[e.RAMP_A=100]="RAMP_A",e[e.STOP_RAMP_A=101]="STOP_RAMP_A",e[e.PAUSE=102]="PAUSE",e[e.UNPAUSE=103]="UNPAUSE",e[e.SET_FEE_ACCOUNT=104]="SET_FEE_ACCOUNT",e[e.APPLY_NEW_ADMIN=105]="APPLY_NEW_ADMIN",e[e.COMMIT_NEW_ADMIN=106]="COMMIT_NEW_ADMIN",e[e.SET_NEW_FEES=107]="SET_NEW_FEES"}($||($={}));const ee=s.n_([l("adminTradeFeeNumerator"),l("adminTradeFeeDenominator"),l("adminWithdrawFeeNumerator"),l("adminWithdrawFeeDenominator"),l("tradeFeeNumerator"),l("tradeFeeDenominator"),l("withdrawFeeNumerator"),l("withdrawFeeDenominator")],"fees"),te=s.n_([s.u8("isInitialized"),s.u8("isPaused"),s.u8("nonce"),l("initialAmpFactor"),l("targetAmpFactor"),s.gM("startRampTs"),s.gM("stopRampTs"),s.gM("futureAdminDeadline"),c("futureAdminAccount"),c("adminAccount"),c("tokenAccountA"),c("tokenAccountB"),c("tokenPool"),c("mintA"),c("mintB"),c("adminFeeAccountA"),c("adminFeeAccountB"),ee]),ne=(s.n_([s.u8("instruction"),s.u8("nonce"),l("ampFactor"),ee]),s.n_([s.u8("instruction"),l("amountIn"),l("minimumAmountOut")])),re=s.n_([s.u8("instruction"),l("tokenAmountA"),l("tokenAmountB"),l("minimumPoolTokenAmount")]),ie=s.n_([s.u8("instruction"),l("poolTokenAmount"),l("minimumTokenA"),l("minimumTokenB")]),oe=s.n_([s.u8("instruction"),l("poolTokenAmount"),l("minimumTokenAmount")]);s.n_([s.u8("instruction"),l("targetAmp"),s.gM("stopRampTS")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction"),ee]);var se=n(97429).Buffer;const ae=e=>{const t=te.decode(e);if(!t.isInitialized)throw new Error("Invalid token swap state");const n=new i.PublicKey(t.adminAccount),o=new i.PublicKey(t.adminFeeAccountA),s=new i.PublicKey(t.adminFeeAccountB),a=new i.PublicKey(t.tokenAccountA),u=new i.PublicKey(t.tokenAccountB),c=new i.PublicKey(t.tokenPool),l=new i.PublicKey(t.mintA),d=new i.PublicKey(t.mintB),h=r.u64.fromBuffer(se.from(t.initialAmpFactor)),p=r.u64.fromBuffer(se.from(t.targetAmpFactor)),f=t.startRampTs,m=t.stopRampTs,g=(y=t.fees,{adminTrade:new B(r.u64.fromBuffer(V.from(y.adminTradeFeeNumerator)).toString(),r.u64.fromBuffer(V.from(y.adminTradeFeeDenominator)).toString()),adminWithdraw:new B(r.u64.fromBuffer(V.from(y.adminWithdrawFeeNumerator)).toString(),r.u64.fromBuffer(V.from(y.adminWithdrawFeeDenominator)).toString()),trade:new B(r.u64.fromBuffer(V.from(y.tradeFeeNumerator)).toString(),r.u64.fromBuffer(V.from(y.tradeFeeDenominator)).toString()),withdraw:new B(r.u64.fromBuffer(V.from(y.withdrawFeeNumerator)).toString(),r.u64.fromBuffer(V.from(y.withdrawFeeDenominator)).toString())});var y;return{isInitialized:!!t.isInitialized,isPaused:!!t.isPaused,nonce:t.nonce,futureAdminDeadline:t.futureAdminDeadline,futureAdminAccount:new i.PublicKey(t.futureAdminAccount),adminAccount:n,tokenA:{adminFeeAccount:o,reserve:a,mint:l},tokenB:{adminFeeAccount:s,reserve:u,mint:d},poolTokenMint:c,initialAmpFactor:h,targetAmpFactor:p,startRampTimestamp:f,stopRampTimestamp:m,fees:g}};var ue,ce=n(97429).Buffer;!function(e){e[e.INITIALIZE=0]="INITIALIZE",e[e.SWAP=1]="SWAP",e[e.DEPOSIT=2]="DEPOSIT",e[e.WITHDRAW=3]="WITHDRAW",e[e.WITHDRAW_ONE=4]="WITHDRAW_ONE"}(ue||(ue={}));var le=n(97429).Buffer;class de{constructor(e,t){this.config=e,this.state=t}static async getMinBalanceRentForExemptStableSwap(e){return await e.getMinimumBalanceForRentExemption(te.span)}static async load(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K;const r=await(async(e,t,n)=>{const r=await e.getAccountInfo(t);if(null===r)throw new Error("Failed to find account");if(!r.owner.equals(n))throw new Error(`Invalid owner: expected ${n.toBase58()}, found ${r.owner.toBase58()}`);return le.from(r.data)})(e,t,n),[i]=await he(t,n);return de.loadWithData(t,r,i,n)}static async loadFromExchange(e,t){return de.load(e,t.swapAccount,t.programID)}static loadWithData(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:K;try{const o=ae(t);if(!o.isInitialized)throw new Error("Invalid token swap state");return new de({swapAccount:e,swapProgramID:i,tokenProgramID:r.TOKEN_PROGRAM_ID,authority:n},o)}catch(o){throw Error(o)}}swap(e){const t=e.poolDestination.equals(this.state.tokenA.reserve)?this.state.tokenA.adminFeeAccount:this.state.tokenB.adminFeeAccount;return(e=>{let{config:t,userAuthority:n,userSource:r,poolSource:i,poolDestination:o,userDestination:s,adminDestination:a,amountIn:u,minimumAmountOut:c}=e;const l=ce.alloc(ne.span);ne.encode({instruction:ue.SWAP,amountIn:u.toBuffer(),minimumAmountOut:c.toBuffer()},l);const d=[{pubkey:t.swapAccount,isSigner:!1,isWritable:!1},{pubkey:t.authority,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:t.tokenProgramID,isSigner:!1,isWritable:!1}];return Y({config:t,keys:d,data:l})})({config:this.config,...e,adminDestination:t})}deposit(e){return(e=>{let{config:t,userAuthority:n,sourceA:r,sourceB:i,tokenAccountA:o,tokenAccountB:s,poolTokenMint:a,poolTokenAccount:u,tokenAmountA:c,tokenAmountB:l,minimumPoolTokenAmount:d}=e;const h=ce.alloc(re.span);re.encode({instruction:ue.DEPOSIT,tokenAmountA:c.toBuffer(),tokenAmountB:l.toBuffer(),minimumPoolTokenAmount:d.toBuffer()},h);const p=[{pubkey:t.swapAccount,isSigner:!1,isWritable:!1},{pubkey:t.authority,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:t.tokenProgramID,isSigner:!1,isWritable:!1}];return Y({config:t,keys:p,data:h})})({config:this.config,tokenAccountA:this.state.tokenA.reserve,tokenAccountB:this.state.tokenB.reserve,poolTokenMint:this.state.poolTokenMint,...e})}withdraw(e){return(e=>{let{config:t,userAuthority:n,poolMint:r,sourceAccount:i,tokenAccountA:o,tokenAccountB:s,userAccountA:a,userAccountB:u,adminFeeAccountA:c,adminFeeAccountB:l,poolTokenAmount:d,minimumTokenA:h,minimumTokenB:p}=e;const f=ce.alloc(ie.span);ie.encode({instruction:ue.WITHDRAW,poolTokenAmount:d.toBuffer(),minimumTokenA:h.toBuffer(),minimumTokenB:p.toBuffer()},f);const m=[{pubkey:t.swapAccount,isSigner:!1,isWritable:!1},{pubkey:t.authority,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:t.tokenProgramID,isSigner:!1,isWritable:!1}];return Y({config:t,keys:m,data:f})})({config:this.config,poolMint:this.state.poolTokenMint,tokenAccountA:this.state.tokenA.reserve,tokenAccountB:this.state.tokenB.reserve,adminFeeAccountA:this.state.tokenA.adminFeeAccount,adminFeeAccountB:this.state.tokenB.adminFeeAccount,...e})}withdrawOne(e){const[t,n]=e.baseTokenAccount.equals(this.state.tokenA.reserve)?[this.state.tokenB.reserve,this.state.tokenA.adminFeeAccount]:[this.state.tokenA.reserve,this.state.tokenB.adminFeeAccount];return(e=>{let{config:t,userAuthority:n,poolMint:r,sourceAccount:i,baseTokenAccount:o,quoteTokenAccount:s,destinationAccount:a,adminDestinationAccount:u,poolTokenAmount:c,minimumTokenAmount:l}=e;const d=ce.alloc(oe.span);oe.encode({instruction:ue.WITHDRAW_ONE,poolTokenAmount:c.toBuffer(),minimumTokenAmount:l.toBuffer()},d);const h=[{pubkey:t.swapAccount,isSigner:!1,isWritable:!1},{pubkey:t.authority,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:t.tokenProgramID,isSigner:!1,isWritable:!1}];return Y({config:t,keys:h,data:d})})({config:this.config,poolMint:this.state.poolTokenMint,quoteTokenAccount:t,adminDestinationAccount:n,...e})}}const he=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K;return i.PublicKey.findProgramAddress([e.toBuffer()],t)};var pe=n(97429),fe=n(68532),me=n.n(fe),ge=n(12009),ye=n(8511),we=n.n(ye),be=n(10119),ve=n(26434),_e=n(21380),Ae=n.n(_e),Se=n(81070),ke=n(48449),Ee=n.n(ke),Te=n(97429).Buffer,Ie=Object.freeze({__proto__:null,encode:function(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")},decode:function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?pe.Buffer.from([]):pe.Buffer.from(t.map((e=>parseInt(e,16))))}});function Pe(e){return new TextDecoder("utf-8").decode(e)}function xe(e){return(new TextEncoder).encode(e)}var Me=Object.freeze({__proto__:null,decode:Pe,encode:xe});function Oe(e){return me().encode(e)}var Be=Object.freeze({__proto__:null,encode:Oe,decode:function(e){return me().decode(e)}}),De=Object.freeze({__proto__:null,encode:function(e){return ge.fromByteArray(e)},decode:function(e){return pe.Buffer.from(ge.toByteArray(e))}}),Re=Object.freeze({__proto__:null,hex:Ie,utf8:Me,bs58:Be,base64:De});class Ue{constructor(e,t,n){this.connection=e,this.wallet=t,this.opts=n}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async send(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,e=await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)}));const o=e.serialize();try{return await Le(this.connection,o,n)}catch(t){if(t instanceof Ce){const n=await this.connection.getTransaction(Oe(e.signature),{commitment:"confirmed"});if(n){const e=null===(r=n.meta)||void 0===r?void 0:r.logMessages;throw e?new i.SendTransactionError(t.message,e):t}throw t}throw t}}async sendAll(e,t){void 0===t&&(t=this.opts);const n=await this.connection.getRecentBlockhash(t.preflightCommitment);let r=e.map((e=>{let t=e.tx,r=e.signers;return void 0===r&&(r=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=n.blockhash,r.filter((e=>void 0!==e)).forEach((e=>{t.partialSign(e)})),t}));const i=await this.wallet.signAllTransactions(r),o=[];for(let s=0;s<r.length;s+=1){const e=i[s].serialize();o.push(await Le(this.connection,e,t))}return o}async simulate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.opts;var r,i,o;return void 0===t&&(t=[]),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(r=n.preflightCommitment)&&void 0!==r?r:this.opts.preflightCommitment)).blockhash,e=await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)})),await async function(e,t,n){t.recentBlockhash=await e._recentBlockhash(e._disableBlockhashCaching);const r=t.serializeMessage(),i=[t._serialize(r).toString("base64"),{encoding:"base64",commitment:n}],o=await e._rpcRequest("simulateTransaction",i);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}(this.connection,e,null!==(o=null!==(i=n.commitment)&&void 0!==i?i:this.opts.commitment)&&void 0!==o?o:"processed")}}async function Le(e,t,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},i=await e.sendRawTransaction(t,r),o=(await e.confirmTransaction(i,n&&n.commitment)).value;if(o.err)throw new Ce(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}class Ce extends Error{constructor(e){super(e)}}function Ne(){return null===Fe?Ue.local():Fe}let Fe=null;const We=new Set(["anchor-deprecated-state","debug-logs"]),ze=new Map;function je(e){return void 0!==ze.get(e)}var qe=Object.freeze({__proto__:null,set:function(e){if(!We.has(e))throw new Error("Invalid feature");ze.set(e,!0)},isSet:je});class Ke extends Error{constructor(e){super(e),this.name="IdlError"}}class Ve{constructor(e){this.stack=e}static parse(e){var t;const n=/^Program (\w*) invoke/,r=/^Program \w* success/,o=[];for(let s=0;s<e.length;s++){if(r.exec(e[s])){o.pop();continue}const a=null===(t=n.exec(e[s]))||void 0===t?void 0:t[1];a&&o.push(new i.PublicKey(a))}return new Ve(o)}}class He extends Error{constructor(e,t,n,r,i,o){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:e,errorMessage:t,comparedValues:o,origin:i},this._programErrorStack=Ve.parse(r)}static parse(e){if(!e)return null;const t=e.findIndex((e=>e.startsWith("Program log: AnchorError")));if(-1===t)return null;const n=e[t],r=[n];let o;if(t+1<e.length)if("Program log: Left:"===e[t+1]){const n=/^Program log: (.*)$/,s=n.exec(e[t+2])[1],a=n.exec(e[t+4])[1];o=[new i.PublicKey(s),new i.PublicKey(a)],r.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const n=/^Program log: (Left|Right): (.*)$/,i=n.exec(e[t+1])[2],s=n.exec(e[t+2])[2];r.push(...e.slice(t+1,t+3)),o=[i,s]}const s=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),u=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(s){const[t,n,i]=s.slice(1,4),a={code:t,number:parseInt(n)};return new He(a,i,r,e,void 0,o)}if(a){const[t,n,i,s,u]=a.slice(1,6),c={code:i,number:parseInt(s)},l={file:t,line:parseInt(n)};return new He(c,u,r,e,l,o)}if(u){const[t,n,i,s]=u.slice(1,5),a=t,c={code:n,number:parseInt(i)};return new He(c,s,r,e,a,o)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Ge extends Error{constructor(e,t,n){super(),this.code=e,this.msg=t,this.logs=n,n&&(this._programErrorStack=Ve.parse(n))}static parse(e,t){const n=e.toString();let r,i;if(n.includes("custom program error:")){let e=n.split("custom program error: ");if(2!==e.length)return null;r=e[1]}else{const e=n.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;r=e[0].match(/([0-9]+)/g)[0]}try{i=parseInt(r)}catch(e){return null}let o=t.get(i);return void 0!==o?new Ge(i,o,e.logs):(o=Qe.get(i),void 0!==o?new Ge(i,o,e.logs):null)}get program(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack}toString(){return this.msg}}function Ze(e,t){je("debug-logs")&&console.log("Translating error:",e);const n=He.parse(e.logs);if(n)return n;const r=Ge.parse(e,t);if(r)return r;if(e.logs){const t={get:function(t,n){return"programErrorStack"===n?t.programErrorStack.stack:"program"===n?t.programErrorStack.stack[e.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return e.programErrorStack=Ve.parse(e.logs),new Proxy(e,t)}return e}const Qe=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has_one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exemption constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"A state constraint was violated"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[2500,"A require expression was violated"],[2501,"A require_eq expression was violated"],[2502,"A require_keys_eq expression was violated"],[2503,"A require_neq expression was violated"],[2504,"A require_keys_neq expression was violated"],[2505,"A require_gt expression was violated"],[2506,"A require_gte expression was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[3015,"The given public key does not match the required sysvar"],[4e3,"The given state account does not have the correct address"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);var Xe=function(){return Xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Xe.apply(this,arguments)},Je=function(){return Je=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Je.apply(this,arguments)};function Ye(e){return e.toLowerCase()}var $e=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],et=/[^A-Z0-9]+/gi;function tt(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}class nt{static fieldLayout(e,t){const n=void 0!==e.name?we()(e.name):void 0;switch(e.type){case"bool":return ve.bool(n);case"u8":return ve.u8(n);case"i8":return ve.i8(n);case"u16":return ve.u16(n);case"i16":return ve.i16(n);case"u32":return ve.u32(n);case"i32":return ve.i32(n);case"f32":return ve.f32(n);case"u64":return ve.u64(n);case"i64":return ve.i64(n);case"f64":return ve.f64(n);case"u128":return ve.u128(n);case"i128":return ve.i128(n);case"bytes":return ve.vecU8(n);case"string":return ve.str(n);case"publicKey":return ve.publicKey(n);default:if("vec"in e.type)return ve.vec(nt.fieldLayout({name:void 0,type:e.type.vec},t),n);if("option"in e.type)return ve.option(nt.fieldLayout({name:void 0,type:e.type.option},t),n);if("defined"in e.type){const r=e.type.defined;if(void 0===t)throw new Ke("User defined types not provided");const i=t.filter((e=>e.name===r));if(1!==i.length)throw new Ke(`Type not found: ${JSON.stringify(e)}`);return nt.typeDefLayout(i[0],t,n)}if("array"in e.type){let r=e.type.array[0],i=e.type.array[1],o=nt.fieldLayout({name:void 0,type:r},t);return ve.array(o,i,n)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if("struct"===e.type.kind){const r=e.type.fields.map((e=>nt.fieldLayout(e,t)));return ve.struct(r,n)}if("enum"===e.type.kind){let r=e.type.variants.map((e=>{const n=we()(e.name);if(void 0===e.fields)return ve.struct([],n);const r=e.fields.map((e=>{if(!e.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return nt.fieldLayout(e,t)}));return ve.struct(r,n)}));return void 0!==n?ve.rustEnum(r).replicate(n):ve.rustEnum(r,n)}throw new Error(`Unknown type kint: ${e}`)}}class rt{constructor(e){this.idl=e,this.ixLayout=rt.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const n=ot("global",e.name);t.set(me().encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),e.state&&e.state.methods.map((e=>{const n=ot("state",e.name);t.set(me().encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t){return this._encode("global",e,t)}encodeState(e,t){return this._encode("state",e,t)}_encode(e,t,n){const r=pe.Buffer.alloc(1e3),i=we()(t),o=this.ixLayout.get(i);if(!o)throw new Error(`Unknown method: ${i}`);const s=o.encode(n,r),a=r.slice(0,s);return pe.Buffer.concat([ot(e,t),a])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map((t=>{let n=t.args.map((t=>{var n,r;return nt.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=we()(t.name);return[r,ve.struct(n,r)]})).concat(e.instructions.map((t=>{let n=t.args.map((t=>{var n,r;return nt.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=we()(t.name);return[r,ve.struct(n,r)]})));return new Map(t)}decode(e){"string"==typeof e&&(e="hex"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex")?pe.Buffer.from(e,"hex"):me().decode(e));let t=me().encode(e.slice(0,8)),n=e.slice(8);const r=this.sighashLayouts.get(t);return r?{data:r.layout.decode(n),name:r.name}:null}format(e,t){return it.format(e,t,this.idl)}}class it{static format(e,t,n){const r=n.instructions.filter((t=>e.name===t.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((t=>({name:t.name,type:it.formatIdlType(t.type),data:it.formatIdlData(t,e.data[t.name],n.types)}))),o=it.flattenIdlAccounts(r.accounts);return{args:i,accounts:t.map(((e,t)=>t<o.length?{name:o[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){if("string"==typeof e)return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,n){if("string"==typeof e.type)return t.toString();if(e.type.hasOwnProperty("vec"))return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t))).join(", ")+"]";if(e.type.hasOwnProperty("option"))return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t,n);if(e.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((t=>t.name===e.type.defined));if(1!==r.length)throw new Error(`Type not found: ${e.type.defined}`);return it.formatIdlDataDefined(r[0],t,n)}return"unknown"}static formatIdlDataDefined(e,t,n){if("struct"===e.type.kind){const r=e.type;return"{ "+Object.keys(t).map((e=>{const i=r.fields.filter((t=>t.name===e))[0];if(void 0===i)throw new Error("Unable to find type");return e+": "+it.formatIdlData(i,t[e],n)})).join(", ")+" }"}if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const r=e.type.variants,i=Object.keys(t)[0],o=t[i],s=Object.keys(o).map((e=>{var t;const s=o[e],a=null===(t=r[i])||void 0===t?void 0:t.filter((t=>t.name===e))[0];if(void 0===a)throw new Error("Unable to find variant");return e+": "+it.formatIdlData(a,s,n)})).join(", "),a=we()(i,{pascalCase:!0});return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map((e=>{const n=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.hasOwnProperty("accounts")){const r=t?`${t} > ${n}`:n;return it.flattenIdlAccounts(e.accounts,r)}return{...e,name:t?`${t} > ${n}`:n}})).flat()}}function ot(e,t){var n;let r=`${e}:${void 0===n&&(n={}),function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?$e:n,i=t.stripRegexp,o=void 0===i?et:i,s=t.transform,a=void 0===s?Ye:s,u=t.delimiter,c=void 0===u?" ":u,l=tt(tt(e,r,"$1\0$2"),o,"\0"),d=0,h=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(h-1);)h--;return l.slice(d,h).split("\0").map(a).join(c)}(e,Je({delimiter:"."},t))}(t,Xe({delimiter:"_"},n))}`;return pe.Buffer.from(be.sha256.digest(r)).slice(0,8)}function st(e,t){if("enum"===t.type.kind){let n=t.type.variants.map((t=>void 0===t.fields?0:t.fields.map((t=>{if("object"!=typeof t||!("name"in t))throw new Error("Tuple enum variants not yet implemented.");return at(e,t.type)})).reduce(((e,t)=>e+t))));return Math.max(...n)+1}return void 0===t.type.fields?0:t.type.fields.map((t=>at(e,t.type))).reduce(((e,t)=>e+t),0)}function at(e,t){var n,r;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in t)return 1;if("option"in t)return 1+at(e,t.option);if("coption"in t)return 4+at(e,t.coption);if("defined"in t){const i=null!==(r=null===(n=e.types)||void 0===n?void 0:n.filter((e=>e.name===t.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new Ke(`Type not found: ${JSON.stringify(t)}`);return st(e,i[0])}if("array"in t){let n=t.array[0],r=t.array[1];return at(e,n)*r}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}class ut{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,nt.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t),this.idl=e}async encode(e,t){const n=pe.Buffer.alloc(1e3),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);const i=r.encode(t,n);let o=n.slice(0,i),s=ut.accountDiscriminator(e);return pe.Buffer.concat([s,o])}decode(e,t){if(ut.accountDiscriminator(e).compare(t.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){const n=t.slice(8),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);return r.decode(n)}memcmp(e,t){const n=ut.accountDiscriminator(e);return{offset:0,bytes:me().encode(t?pe.Buffer.concat([n,t]):n)}}size(e){var t;return 8+(null!==(t=st(this.idl,e))&&void 0!==t?t:0)}static accountDiscriminator(e){return pe.Buffer.from(be.sha256.digest(`account:${we()(e,{pascalCase:!0})}`)).slice(0,8)}}class ct{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let n={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,nt.typeDefLayout(n,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>[ge.fromByteArray(lt(e.name)),e.name])))}decode(e){let t;try{t=pe.Buffer.from(ge.toByteArray(e))}catch(wn){return null}const n=ge.fromByteArray(t.slice(0,8)),r=this.discriminators.get(n);if(void 0===r)return null;const i=this.layouts.get(r);if(!i)throw new Error(`Unknown event: ${r}`);return{data:i.decode(t.slice(8)),name:r}}}function lt(e){return pe.Buffer.from(be.sha256.digest(`event:${e}`)).slice(0,8)}class dt{constructor(e){if(void 0===e.state)throw new Error("Idl state not defined.");this.layout=nt.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const n=pe.Buffer.alloc(1e3),r=this.layout.encode(t,n),i=await ht(e),o=n.slice(0,r);return pe.Buffer.concat([i,o])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function ht(e){let t=je("anchor-deprecated-state")?"account":"state";return pe.Buffer.from(be.sha256.digest(`${t}:${e}`)).slice(0,8)}class pt{constructor(e){this.instruction=new rt(e),this.accounts=new ut(e),this.events=new ct(e),e.state&&(this.state=new dt(e))}}var ft="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};class mt{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var gt=mt;class yt extends mt{isCount(){throw new Error("ExternalLayout is abstract")}}class wt extends yt{constructor(e,t,n){if(!(e instanceof mt))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof bt||this.layout instanceof vt}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class bt extends mt{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class vt extends mt{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}const _t=Math.pow(2,32);class At extends mt{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return function(e,t){return e*_t+t}(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=function(e){const t=Math.floor(e/_t);return{hi32:t,lo32:e-t*_t}}(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class St extends mt{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof mt),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const i of e)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const s of this.fields){let r=s.span;if(o=0<r?r:0,void 0!==s.property){const i=e[s.property];void 0!==i&&(o=s.encode(i,t,n),0>r&&(r=s.getSpan(t,n)))}i=n,n+=r}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class kt{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Et extends kt{constructor(e,t){if(!(e instanceof yt&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class Tt extends mt{constructor(e,t,n){const r=e instanceof bt||e instanceof vt;if(r)e=new Et(new wt(e));else if(e instanceof yt&&e.isCount())e=new Et(e);else if(!(e instanceof kt))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof mt))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&r&&(i+=e.layout.span)),super(i,n),this.discriminator=e,this.usesPrefixDiscriminator=r,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(e,t+s)}else n=o.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new It(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return Te.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class It extends mt{constructor(e,t,n,r){if(!(e instanceof Tt))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof mt))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class Pt extends mt{constructor(e,t){if(!(e instanceof yt&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof yt||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof yt&&(r=e.length),!Te.isBuffer(e)||r!==e.length)throw new TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+r+") Buffer as src"));var i;if(n+r>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,r,"hex"),this.length instanceof yt&&this.length.encode(r,t,n),r}}var xt=e=>new bt(1,e),Mt=e=>new At(e),Ot=(e,t,n)=>new St(e,t,n),Bt=(e,t)=>new Pt(e,t);class Dt{constructor(e){}encode(e,t){switch(we()(e)){case"initializeMint":return function(e){let{decimals:t,mintAuthority:n,freezeAuthority:r}=e;return Ct({initializeMint:{decimals:t,mintAuthority:n.toBuffer(),freezeAuthorityOption:!!r,freezeAuthority:(r||i.PublicKey.default).toBuffer()}})}(t);case"initializeAccount":return Ct({initializeAccount:{}});case"initializeMultisig":return function(e){let{m:t}=e;return Ct({initializeMultisig:{m:t}})}(t);case"transfer":return function(e){let{amount:t}=e;return Ct({transfer:{amount:t}})}(t);case"approve":return function(e){let{amount:t}=e;return Ct({approve:{amount:t}})}(t);case"revoke":return Ct({revoke:{}});case"setAuthority":return function(e){let{authorityType:t,newAuthority:n}=e;return Ct({setAuthority:{authorityType:t,newAuthority:n}})}(t);case"mintTo":return function(e){let{amount:t}=e;return Ct({mintTo:{amount:t}})}(t);case"burn":return function(e){let{amount:t}=e;return Ct({burn:{amount:t}})}(t);case"closeAccount":return Ct({closeAccount:{}});case"freezeAccount":return Ct({freezeAccount:{}});case"thawAccount":return Ct({thawAccount:{}});case"transferChecked":return function(e){let{amount:t,decimals:n}=e;return Ct({transferChecked:{amount:t,decimals:n}})}(t);case"approvedChecked":return function(e){let{amount:t,decimals:n}=e;return Ct({approveChecked:{amount:t,decimals:n}})}(t);case"mintToChecked":return function(e){let{amount:t,decimals:n}=e;return Ct({mintToChecked:{amount:t,decimals:n}})}(t);case"burnChecked":return function(e){let{amount:t,decimals:n}=e;return Ct({burnChecked:{amount:t,decimals:n}})}(t);case"intializeAccount2":return function(e){let{authority:t}=e;return Ct({initilaizeAccount2:{authority:t}})}(t);case"syncNative":return Ct({syncNative:{}});case"initializeAccount3":return function(e){let{authority:t}=e;return Ct({initializeAccount3:{authority:t}})}(t);case"initializeMultisig2":return function(e){let{m:t}=e;return Ct({initializeMultisig2:{m:t}})}(t);case"initializeMint2":return function(e){let{decimals:t,mintAuthority:n,freezeAuthority:r}=e;return Ct({encodeInitializeMint2:{decimals:t,mintAuthority:n,freezeAuthority:r}})}(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("SPL token does not have state")}}const Rt=(Ut=xt("instruction"),new Tt(Ut,undefined,undefined));var Ut;function Lt(e){return Bt(32,e)}function Ct(e){let t=Te.alloc(Nt),n=Rt.encode(e,t);return t.slice(0,n)}Rt.addVariant(0,Ot([xt("decimals"),Bt(32,"mintAuthority"),xt("freezeAuthorityOption"),Lt("freezeAuthority")]),"initializeMint"),Rt.addVariant(1,Ot([]),"initializeAccount"),Rt.addVariant(2,Ot([xt("m")]),"initializeMultisig"),Rt.addVariant(3,Ot([Mt("amount")]),"transfer"),Rt.addVariant(4,Ot([Mt("amount")]),"approve"),Rt.addVariant(5,Ot([]),"revoke"),Rt.addVariant(6,Ot([xt("authorityType"),xt("newAuthorityOption"),Lt("newAuthority")]),"setAuthority"),Rt.addVariant(7,Ot([Mt("amount")]),"mintTo"),Rt.addVariant(8,Ot([Mt("amount")]),"burn"),Rt.addVariant(9,Ot([]),"closeAccount"),Rt.addVariant(10,Ot([]),"freezeAccount"),Rt.addVariant(11,Ot([]),"thawAccount"),Rt.addVariant(12,Ot([Mt("amount"),xt("decimals")]),"transferChecked"),Rt.addVariant(13,Ot([Mt("amount"),xt("decimals")]),"approvedChecked"),Rt.addVariant(14,Ot([Mt("amount"),xt("decimals")]),"mintToChecked"),Rt.addVariant(15,Ot([Mt("amount"),xt("decimals")]),"burnedChecked"),Rt.addVariant(16,Ot([Lt("authority")]),"InitializeAccount2"),Rt.addVariant(17,Ot([]),"syncNative"),Rt.addVariant(18,Ot([Lt("authority")]),"initializeAccount3"),Rt.addVariant(19,Ot([xt("m")]),"initializeMultisig2"),Rt.addVariant(20,Ot([xt("decimals"),Lt("mintAuthority"),xt("freezeAuthorityOption"),Lt("freezeAuthority")]),"initializeMint2");const Nt=Math.max(...Object.values(Rt.registry).map((e=>e.span)));class Ft{constructor(e){}encode(e,t){throw new Error("SPL token does not have state")}decode(e){throw new Error("SPL token does not have state")}}function Wt(e){return new qt(Bt(8),(e=>Gt.fromBuffer(e)),(e=>e.toBuffer()),e)}function zt(e){return new qt(Bt(32),(e=>new i.PublicKey(e)),(e=>e.toBuffer()),e)}function jt(e,t){return new Kt(e,t)}class qt extends gt{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}class Kt extends gt{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=new bt(4,void 0)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null==e?this.layout.span+this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+4)+4)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.layout.getSpan(e,t+4)+4}}function Vt(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}function Ht(e){return e?1:0}class Gt extends(u()){toBuffer(){const e=super.toArray().reverse(),t=Te.from(e);if(8===t.length)return t;if(t.length>=8)throw new Error("u64 too large");const n=Te.alloc(8);return t.copy(n),n}static fromBuffer(e){if(8!==e.length)throw new Error(`Invalid buffer length: ${e.length}`);return new Gt([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}class Zt{constructor(e){this.idl=e}async encode(e,t){switch(e){case"token":{const e=Te.alloc(165),n=Xt.encode(t,e);return e.slice(0,n)}case"mint":{const e=Te.alloc(82),n=Qt.encode(t,e);return e.slice(0,n)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){switch(e){case"token":return function(e){return Xt.decode(e)}(t);case"mint":return function(e){return Qt.decode(e)}(t);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,t){switch(e){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var t;return null!==(t=st(this.idl,e))&&void 0!==t?t:0}}const Qt=Ot([jt(zt(),"mintAuthority"),Wt("supply"),xt("decimals"),new qt(xt(),Vt,Ht,"isInitialized"),jt(zt(),"freezeAuthority")]),Xt=Ot([zt("mint"),zt("authority"),Wt("amount"),jt(zt(),"delegate"),xt("state"),jt(Wt(),"isNative"),Wt("delegatedAmount"),jt(zt(),"closeAuthority")]);class Jt{constructor(e){}decode(e){throw new Error("SPL token program does not have events")}}class Yt{constructor(e){this.instruction=new Dt(e),this.accounts=new Zt(e),this.events=new Jt(e),this.state=new Ft(e)}}var $t=Object.freeze({__proto__:null,hash:function(e){return(0,be.sha256)(e)}});function en(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var n;let r=null!==(n=e.msg)&&void 0!==n?n:e.name;t.set(e.code,r)})),t}function tn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e.args.length!=n.length)throw new Error("Invalid argument length");const i={};let o=0;return e.args.forEach((e=>{i[e.name]=n[o],o+=1})),i}function nn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((e=>{if("accounts"in e)nn(e.accounts,t[e.name]);else if(void 0===t[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function rn(e){return e instanceof i.PublicKey?e:new i.PublicKey(e)}async function on(e,t,n){if(t.length<=99)return await sn(e,t,n);{const i=(r=t,99,Array.apply(0,new Array(Math.ceil(r.length/99))).map(((e,t)=>r.slice(99*t,99*(t+1)))));return(await Promise.all(i.map((t=>sn(e,t,n))))).flat()}var r}async function sn(e,t,n){const r=null!=n?n:e.commitment,o=[t.map((e=>e.toBase58()))];r&&o.push({commitment:r});const s=await e._rpcRequest("getMultipleAccounts",o);if(s.error)throw new Error("failed to get info about accounts "+t.map((e=>e.toBase58())).join(", ")+": "+s.error.message);Ae()(void 0!==s.result);const a=[];for(const u of s.result.value){let e=null;if(null!==u){if(s.result.value){const{executable:t,owner:n,lamports:r,data:o}=u;Ae()("base64"===o[1]),e={executable:t,owner:new i.PublicKey(n),lamports:r,data:pe.Buffer.from(o[0],"base64")}}if(null===e)throw new Error("Invalid response");a.push(e)}else a.push(null)}return a.map(((e,n)=>null===e?null:{publicKey:t[n],account:e}))}var an=Object.freeze({__proto__:null,invoke:async function(e,t,n,r){e=rn(e),r||(r=Ne());const o=new i.Transaction;return o.add(new i.TransactionInstruction({programId:e,keys:null!=t?t:[],data:n})),await r.send(o)},getMultipleAccounts:on});function un(e,t,n){const r=pe.Buffer.concat([e.toBuffer(),pe.Buffer.from(t),n.toBuffer()]),o=be.sha256.digest(r);return new i.PublicKey(pe.Buffer.from(o))}function cn(e,t){let n=pe.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=pe.Buffer.concat([n,dn(e)])})),n=pe.Buffer.concat([n,t.toBuffer(),pe.Buffer.from("ProgramDerivedAddress")]);let r=(0,be.sha256)(new Uint8Array(n)),o=new(u())(r,16).toArray(void 0,32);if(i.PublicKey.isOnCurve(new Uint8Array(o)))throw new Error("Invalid seeds, address must fall off the curve");return new i.PublicKey(o)}function ln(e,t){let n,r=255;for(;0!=r;){try{n=cn(e.concat(pe.Buffer.from([r])),t)}catch(wn){if(wn instanceof TypeError)throw wn;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}const dn=e=>e instanceof pe.Buffer?e:e instanceof Uint8Array?pe.Buffer.from(e.buffer,e.byteOffset,e.byteLength):pe.Buffer.from(e);async function hn(e){let t=[pe.Buffer.from([97,110,99,104,111,114])];for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];r.forEach((e=>{t.push(e instanceof pe.Buffer?e:rn(e).toBuffer())}));const[s]=await i.PublicKey.findProgramAddress(t,rn(e));return s}var pn=Object.freeze({__proto__:null,createWithSeedSync:un,createProgramAddressSync:cn,findProgramAddressSync:ln,associated:hn});const fn=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),mn=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var gn=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:fn,ASSOCIATED_PROGRAM_ID:mn,associatedAddress:async function(e){let{mint:t,owner:n}=e;return(await i.PublicKey.findProgramAddress([n.toBuffer(),fn.toBuffer(),t.toBuffer()],mn))[0]}}),yn={exports:{}};!function(e,t){var n="undefined"!=typeof self?self:ft,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=f(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=l(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),w.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var A=[301,302,303,307,308];_.redirect=function(e,t){if(-1===A.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise((function(r,o){var s=new b(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new _(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=h,e.Request=b,e.Response=_),t.Headers=h,t.Request=b,t.Response=_,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(yn,yn.exports);var wn,bn=(wn=yn.exports)&&wn.__esModule&&Object.prototype.hasOwnProperty.call(wn,"default")?wn.default:wn;async function vn(e,t){const n=await e.getAccountInfo(t);if(null===n)throw new Error("program account not found");const{program:r}=An(n.data),i=await e.getAccountInfo(r.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=An(i.data);return o}const _n=ve.rustEnum([ve.struct([],"uninitialized"),ve.struct([ve.option(ve.publicKey(),"authorityAddress")],"buffer"),ve.struct([ve.publicKey("programdataAddress")],"program"),ve.struct([ve.u64("slot"),ve.option(ve.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,ve.u32());function An(e){return _n.decode(e)}var Sn=Object.freeze({__proto__:null,verifiedBuild:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const r=`https://anchor.projectserum.com/api/v0/program/${t.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([vn(e,t),bn(r)]),s=(await o.json()).filter((e=>!e.aborted&&"Built"===e.state&&"Verified"===e.verified));if(0===s.length)return null;const a=s[0];return i.slot.toNumber()!==a.verified_slot?null:a},fetchData:vn,decodeUpgradeableLoaderState:An}),kn=Object.freeze({__proto__:null,sha256:$t,rpc:an,publicKey:pn,bytes:Re,token:gn,features:qe,registry:Sn});const En=ve.struct([ve.publicKey("authority"),ve.vecU8("data")]);function Tn(e,t){var n,r;let i={};const o=e.args?e.args.length:0;if(t.length>o){if(t.length!==o+1)throw new Error(`provided too many arguments ${t} to instruction ${null==e?void 0:e.name} expecting: ${null!==(r=null===(n=e.args)||void 0===n?void 0:n.map((e=>e.name)))&&void 0!==r?r:[]}`);i=t.pop()}return[t,i]}class In{static build(e,t,n){if("_inner"===e.name)throw new Ke("the _inner name is reserved");const r=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const[u,c]=Tn(e,[...s]);nn(e.accounts,c.accounts);const l=r.accounts(c.accounts);return void 0!==c.remainingAccounts&&l.push(...c.remainingAccounts),je("debug-logs")&&console.log("Outgoing account metas:",l),new i.TransactionInstruction({keys:l,programId:n,data:t(e.name,tn(e,...u))})};return r.accounts=t=>In.accountsArray(t,e.accounts,e.name),r}static accountsArray(e,t,n){return e?t.map((t=>{if(void 0!==("accounts"in t?t.accounts:void 0)){const r=e[t.name];return In.accountsArray(r,t.accounts,n).flat()}{const r=t;let i;try{i=rn(e[t.name])}catch(e){throw new Error(`Wrong input type for account "${t.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}return{pubkey:i,isWritable:r.isMut,isSigner:r.isSigner}}})).flat():[]}}class Pn{static build(e,t,n,r){return async function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];const a=t(...o),[,u]=Tn(e,[...o]);try{return await r.send(a,u.signers,u.options)}catch(e){throw Ze(e,n)}}}}class xn{static build(e,t){return function(){for(var n,r,o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];const[,c]=Tn(e,[...a]),l=new i.Transaction;if(c.preInstructions&&c.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(n=c.preInstructions)||void 0===n||n.forEach((e=>l.add(e))),null===(r=c.instructions)||void 0===r||r.forEach((e=>l.add(e))),l.add(t(...a)),null===(o=c.postInstructions)||void 0===o||o.forEach((e=>l.add(e))),l}}}class Mn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ne(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new pt(e);this.provider=n,this.coder=r,this._idl=e,this._programId=t,this._address=On(t),this._sub=null;const[o,s,a]=(()=>{var o;let s={},a={},u={};return null===(o=e.state)||void 0===o||o.methods.forEach((o=>{const c=In.build(o,((e,t)=>r.instruction.encodeState(e,t)),t);c.accounts=e=>{const r=function(e,t,n,r){if("new"===n.name){const[n]=ln([],e);return[{pubkey:t.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:On(e),isWritable:!0,isSigner:!1},{pubkey:n,isWritable:!1,isSigner:!1},{pubkey:i.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e,isWritable:!1,isSigner:!1}]}return nn(n.accounts,r),[{pubkey:On(e),isWritable:!0,isSigner:!1}]}(t,n,o,e);return r.concat(In.accountsArray(e,o.accounts,o.name))};const l=xn.build(o,c),d=Pn.build(o,l,en(e),n),h=we()(o.name);s[h]=c,a[h]=l,u[h]=d})),[s,a,u]})();this.instruction=o,this.transaction=s,this.rpc=a}get programId(){return this._programId}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(null===t)throw new Error(`Account does not exist ${e.toString()}`);const n=this._idl.state;if(!n)throw new Error("State is not specified in IDL.");if((await ht(n.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(null!==this._sub)return this._sub.ee;const t=new(Ee()),n=this.provider.connection.onAccountChange(this.address(),(e=>{const n=this.coder.state.decode(e.data);t.emit("change",n)}),e);return this._sub={ee:t,listener:n},t}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function On(e){let[t]=ln([],e);return un(t,"unversioned",e)}class Bn{constructor(e,t,n,r,i){this._idlAccount=t,this._programId=n,this._provider=null!=r?r:Ne(),this._coder=null!=i?i:new pt(e),this._size=this._coder.accounts.size(t)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,t){const n=await this.getAccountInfo(e,t);return null===n?null:this._coder.accounts.decode(this._idlAccount.name,n.data)}async fetch(e,t){const n=await this.fetchNullable(e,t);if(null===n)throw new Error(`Account does not exist ${e.toString()}`);return n}async fetchMultiple(e,t){return(await on(this._provider.connection,e.map((e=>rn(e))),t)).map((e=>null==e?null:this._coder.accounts.decode(this._idlAccount.name,null==e?void 0:e.account.data)))}async all(e){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Te?e:void 0)},...Array.isArray(e)?e:[]]})).map((e=>{let{pubkey:t,account:n}=e;return{publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,n.data)}}))}subscribe(e,t){const n=Dn.get(e.toString());if(n)return n.ee;const r=new(Ee());e=rn(e);const i=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);r.emit("change",t)}),t);return Dn.set(e.toString(),{ee:r,listener:i}),r}async unsubscribe(e){let t=Dn.get(e.toString());t?Dn&&await this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{Dn.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const n=this.size;return i.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:n),programId:this._programId})}async associated(){const e=await this.associatedAddress(...arguments);return await this.fetch(e)}async associatedAddress(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return await hn(this._programId,...t)}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(rn(e),t)}}const Dn=new Map,Rn="Program log: ".length,Un="Program data: ".length;class Ln{constructor(e,t,n){this._programId=e,this._provider=t,this._eventParser=new Cn(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!==(n=this._eventListeners.get(e))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((e,t)=>{e.err||this._eventParser.parseLogs(e.logs,(e=>{const n=this._eventListeners.get(e.name);n&&n.forEach((n=>{const r=this._eventCallbacks.get(n);if(r){const[,n]=r;n(e.data,t.slot)}}))}))}))),r}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=t;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(e),r=r.filter((t=>t!==e)),0===r.length&&this._eventListeners.delete(n),0==this._eventCallbacks.size&&(_e.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class Cn{constructor(e,t){this.coder=t,this.programId=e}parseLogs(e,t){const n=new Fn(e),r=new Nn(n.next());let i=n.next();for(;null!==i;){let[e,o,s]=this.handleLog(r,i);e&&t(e),o&&r.push(o),s&&r.pop(),i=n.next()}}handleLog(e,t){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log: ")||e.startsWith("Program data: ")){const t=e.startsWith("Program log: ")?e.slice(Rn):e.slice(Un);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class Nn{constructor(e){var t;const n=null===(t=/^Program (.*) invoke.*$/g.exec(e))||void 0===t?void 0:t[1];if(!n)throw new Error("Could not find program invocation log line");this.stack=[n]}program(){return _e.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){_e.ok(this.stack.length>0),this.stack.pop()}}class Fn{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function Wn(){return new Yt(zn)}const zn={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class jn{constructor(e,t,n,r,i,o){this._args=e,this._accounts=t,this._provider=n,this._programId=r,this._idlIx=i,this._accountStore=new qn(n,o)}async resolve(){for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],n=we()(t.name);t.pda&&t.pda.seeds.length>0&&!this._accounts[n]?await this.autoPopulatePda(t):!t.isSigner||this._accounts[n]?Reflect.has(jn.CONST_ACCOUNTS,n)&&!this._accounts[n]&&(this._accounts[n]=jn.CONST_ACCOUNTS[n]):this._accounts[n]=this._provider.wallet.publicKey}}async autoPopulatePda(e){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const t=await Promise.all(e.pda.seeds.map((e=>this.toBuffer(e)))),n=await this.parseProgramId(e),[r]=await i.PublicKey.findProgramAddress(t,n);this._accounts[we()(e.name)]=r}async parseProgramId(e){var t;if(!(null===(t=e.pda)||void 0===t?void 0:t.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new i.PublicKey(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}toBufferConst(e){return this.toBufferValue(e.type,e.value)}async toBufferArg(e){const t=this.argValue(e);return this.toBufferValue(e.type,t)}argValue(e){const t=we()(e.path.split(".")[0]),n=this._idlIx.args.findIndex((e=>e.name===t));if(-1===n)throw new Error(`Unable to find argument for seed: ${t}`);return this._args[n]}async toBufferAccount(e){const t=await this.accountValue(e);return this.toBufferValue(e.type,t)}async accountValue(e){const t=e.path.split("."),n=t[0],r=this._accounts[we()(n)];if(1===t.length)return r;const i=await this._accountStore.fetchAccount(e.account,r);return this.parseAccountValue(i,t.slice(1))}parseAccountValue(e,t){let n;for(;t.length>0;)n=e[we()(t[0])],t=t.slice(1);return n}toBufferValue(e,t){switch(e){case"u8":return Te.from([t]);case"u16":let n=Te.alloc(2);return n.writeUInt16LE(t),n;case"u32":let r=Te.alloc(4);return r.writeUInt32LE(t),r;case"u64":let i=Te.alloc(8);return i.writeBigUInt64LE(BigInt(t)),i;case"string":return Te.from(xe(t));case"publicKey":return t.toBuffer();default:if(e.array)return Te.from(t);throw new Error(`Unexpected seed type: ${e}`)}}}jn.CONST_ACCOUNTS={systemProgram:i.SystemProgram.programId,tokenProgram:fn,associatedTokenProgram:mn,rent:i.SYSVAR_RENT_PUBKEY};class qn{constructor(e,t){this._provider=e,this._accounts=t,this._cache=new Map}async fetchAccount(e,t){const n=t.toString();if(!this._cache.has(n))if("TokenAccount"===e){const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error(`invalid account info for ${n}`);const r=Wn().accounts.decode("token",e.data);this._cache.set(n,r)}else{const r=this._accounts[we()(e)].fetch(t);this._cache.set(n,r)}return this._cache.get(n)}}class Kn{constructor(e,t,n,r,i,o,s,a,u){this._args=e,this._ixFn=t,this._txFn=n,this._rpcFn=r,this._simulateFn=i,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._accountsResolver=new jn(e,this._accounts,o,s,a,u)}accounts(e){return Object.assign(this._accounts,e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class Vn{constructor(e,t,n,r){t=rn(t),n||(n=Ne()),this._idl=e,this._provider=n,this._programId=t,this._coder=null!=r?r:new pt(e),this._events=new Ln(this._programId,n,this._coder);const[i,o,s,a,u,c,l]=class{static build(e,t,n,r){const i={},o={},s={},a={},u={},c=en(e),l=e.accounts?class{static build(e,t,n,r){var i;const o={};return null===(i=e.accounts)||void 0===i||i.forEach((i=>{const s=we()(i.name);o[s]=new Bn(e,i,n,r,t)})),o}}.build(e,t,n,r):{},d=class{static build(e,t,n,r){if(void 0!==e.state)return new Mn(e,n,r,t)}}.build(e,t,n,r);return e.instructions.forEach((d=>{const h=In.build(d,((e,n)=>t.instruction.encode(e,n)),n),p=xn.build(d,h),f=Pn.build(d,p,c,r),m=class{static build(e,t,n,r,i,o,s){return async function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];const l=t(...u),[,d]=Tn(e,[...u]);let h;try{h=await r.simulate(l,d.signers,d.options)}catch(e){throw Ze(e,n)}if(void 0===h)throw new Error("Unable to simulate transaction");if(h.value.err)throw new Error(`Simulate error: ${h.value.err.toString()}`);const p=h.value.logs;if(!p)throw new Error("Simulated logs not found");const f=[];return s.events&&new Cn(o,i).parseLogs(p,(e=>{f.push(e)})),{events:f,raw:p}}}}.build(d,p,c,r,t,n,e),g=class{static build(e,t,n,r,i,o,s,a){return function(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];return new Kn(c,r,i,o,s,e,t,n,a)}}}.build(r,n,d,h,p,f,m,l),y=we()(d.name);o[y]=h,s[y]=p,i[y]=f,a[y]=m,u[y]=g})),[i,o,s,l,a,u,d]}}.build(e,this._coder,t,n);this.rpc=i,this.instruction=o,this.transaction=s,this.account=a,this.simulate=u,this.methods=c,this.state=l}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const n=rn(e),r=await Vn.fetchIdl(n,t);if(!r)throw new Error(`IDL not found for program: ${e.toString()}`);return new Vn(r,n,t)}static async fetchIdl(e,t){t=null!=t?t:Ne();const n=rn(e),r=await async function(e){const t=(await i.PublicKey.findProgramAddress([],e))[0];return await i.PublicKey.createWithSeed(t,"anchor:idl",e)}(n),o=await t.connection.getAccountInfo(r);if(!o)return null;let s=(a=o.data.slice(8),En.decode(a));var a;const u=(0,Se.rr)(s.data);return JSON.parse(Pe(u))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}var Hn=n(94328),Gn=n(3e4),Zn=n.n(Gn);function Qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qn(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Jn=f().BigInt(0),Yn=f().BigInt(1),$n=f().BigInt(2);function er(e){return f().GE(e,Jn)?e:f().unaryMinus(e)}function tr(e){return e.reduce((function(e,t){return f().add(e,t)}),Jn)}function nr(e,t){return void 0===t&&(t=0),new(Zn())(e.toString()).div(new(Zn())(10).pow(t))}var rr=function(){function e(e,t,n){this.numberOfCurrencies=void 0,this.amplificationFactor=void 0,this.targetPrices=void 0,this.numberOfCurrencies=e,this.amplificationFactor=t,this.targetPrices=n}var t=e.prototype;return t.exchange=function(e,t,n,r,i){if(void 0===i&&(i=!0),e.length!==f().toNumber(this.numberOfCurrencies))throw new Error("Number of currencies does not match");var o=this.xp(e),s=f().multiply(r,this.targetPrices[t]),a=f().add(o[t],s),u=this.computeY(e,t,n,a),c=f().subtract(o[n],u);return i&&(c=f().subtract(c,Yn)),f().divide(c,this.targetPrices[n])},t.computeBaseY=function(e,t,n,r){var i=this.computeD(e),o=this.xp(e),s=f().exponentiate(this.numberOfCurrencies,this.numberOfCurrencies),a=tr(o),u=o.reduce((function(e,t){return f().multiply(e,t)}),Yn),c=f().subtract(f().add(f().multiply(f().multiply(this.amplificationFactor,s),a),i),f().multiply(f().multiply(this.amplificationFactor,i),s)),l=f().multiply(f().multiply(f().multiply(this.amplificationFactor,s),s),u),d=f().multiply(f().multiply(s,u),c),h=f().add(l,f().divide(d,o[t])),p=f().add(l,f().divide(d,o[n])),m=Math.log10(f().toNumber(this.targetPrices[t])),g=Math.log10(f().toNumber(this.targetPrices[n])),y=Math.abs(g-m);return m>=g?f().BigInt(new(Zn())(h.toString()).mul(new(Zn())(r.toString())).div(new(Zn())(p.toString())).mul(Math.pow(10,y)).floor().toString()):f().BigInt(new(Zn())(h.toString()).mul(new(Zn())(r.toString())).div(new(Zn())(p.toString())).div(Math.pow(10,y)).floor().toString())},t.computeY=function(e,t,n,r){var i=this.computeD(e),o=this.xp(e);o[t]=r,o.splice(n,1);for(var s,a=f().multiply(this.amplificationFactor,this.numberOfCurrencies),u=i,c=Xn(o);!(s=c()).done;){var l=s.value;u=f().divide(f().multiply(u,i),f().multiply(l,this.numberOfCurrencies))}u=f().divide(f().multiply(u,i),f().multiply(this.numberOfCurrencies,a));for(var d=f().subtract(f().add(tr(o),f().divide(i,a)),i),h=Jn,p=i;f().greaterThan(er(f().subtract(p,h)),Yn);)h=p,p=f().divide(f().add(f().exponentiate(p,$n),u),f().add(f().multiply($n,p),d));return p},t.computeD=function(e){for(var t=Jn,n=this.xp(e),r=tr(n),i=r,o=f().multiply(this.amplificationFactor,this.numberOfCurrencies);f().greaterThan(er(f().subtract(i,t)),Yn);){for(var s,a=i,u=Xn(n);!(s=u()).done;){var c=s.value;a=f().divide(f().multiply(a,i),f().multiply(this.numberOfCurrencies,c))}t=i;var l=f().multiply(f().add(f().multiply(o,r),f().multiply(a,this.numberOfCurrencies)),i),d=f().add(f().multiply(f().subtract(o,Yn),i),f().multiply(f().add(this.numberOfCurrencies,Yn),a));i=f().divide(l,d)}return i},t.xp=function(e){var t=this;return e.map((function(e,n){return f().multiply(e,t.targetPrices[n])}))},e}(),ir=function(){function e(e,t,n,r){this.targetPrices=void 0,this.traderFee=void 0,this.curve=void 0,this.targetPrices=n,this.traderFee=r,this.curve=new rr(e,t,this.targetPrices)}var t=e.prototype;return t.exchange=function(e,t,n,r){var i=this.getOutputAmount(e,t,n,r),o=this.getFees(i),s=f().subtract(i,o);return{priceImpact:this.getPriceImpact(e,t,s,n,r),fees:o,expectedOutputAmount:s}},t.getPriceImpact=function(e,t,n,r,i){if(f().equal(t,Jn)||f().equal(e[r],Jn)||f().equal(e[i],Jn))return new(Zn())(0);var o=nr(this.getOutputAmountWithNoSlippage(e,t,r,i)),s=nr(n);return o.sub(s).div(o)},t.getFees=function(e){return f().equal(this.traderFee.numerator,Jn)?Jn:f().divide(f().multiply(e,this.traderFee.numerator),this.traderFee.denominator)},t.getOutputAmount=function(e,t,n,r){return this.curve.exchange(e,n,r,t)},t.getOutputAmountWithNoSlippage=function(e,t,n,r){return this.curve.computeBaseY(e,n,r,t)},e}();function or(e,t){if(f().equal(t.numerator,Jn)||f().equal(e,Jn))return Jn;var n=f().divide(f().multiply(e,t.numerator),t.denominator);return f().equal(n,Jn)?Yn:n}var sr=function(){function e(e,t,n){this.traderFee=void 0,this.ownerFee=void 0,this.curve=void 0,this.traderFee=t,this.ownerFee=n,this.curve=new rr($n,e,[Yn,Yn])}var t=e.prototype;return t.exchange=function(e,t,n){var r=0===n?1:0,i=this.getExpectedOutputAmount(e,t,r,n);return{priceImpact:this.getPriceImpact(e,t,i,r,n),fees:this.getFees(t),expectedOutputAmount:i}},t.getPriceImpact=function(e,t,n,r,i){if(f().equal(t,Jn)||f().equal(e[r],Jn)||f().equal(e[i],Jn))return new(Zn())(0);var o=nr(this.getExpectedOutputAmountWithNoSlippage(e,t,r,i)),s=nr(n);return o.sub(s).div(o)},t.getFees=function(e){var t=or(e,this.traderFee),n=or(e,this.ownerFee);return f().add(t,n)},t.getExpectedOutputAmount=function(e,t,n,r){var i=this.getInputAmountLessFees(t);return this.getOutputAmount(e,i,n,r)},t.getExpectedOutputAmountWithNoSlippage=function(e,t,n,r){var i=this.getInputAmountLessFees(t);return this.getOutputAmountWithNoSlippage(e,i,n,r)},t.getInputAmountLessFees=function(e){return f().subtract(e,this.getFees(e))},t.getOutputAmount=function(e,t,n,r){return this.curve.exchange(e,n,r,t,!1)},t.getOutputAmountWithNoSlippage=function(e,t,n,r){return this.curve.computeBaseY(e,n,r,t)},e}(),ar=function(){function e(e,t,n){void 0===n&&(n=!0),this.traderFee=void 0,this.ownerFee=void 0,this.feesOnInput=void 0,this.traderFee=e,this.ownerFee=t,this.feesOnInput=n}var t=e.prototype;return t.exchange=function(e,t,n){var r=0===n?1:0,i=this.feesOnInput?this.getAmountLessFees(t):t,o=this.getExpectedOutputAmount(e,i,r,n),s=this.getFees(this.feesOnInput?t:o);return this.feesOnInput||(o=this.getAmountLessFees(o)),{priceImpact:this.getPriceImpact(e,i,o,r,n),fees:s,expectedOutputAmount:o}},t.getPriceImpact=function(e,t,n,r,i){if(f().equal(t,Jn)||f().equal(e[r],Jn)||f().equal(e[i],Jn))return new(Zn())(0);var o=nr(this.getExpectedOutputAmountWithNoSlippage(e,t,r,i)),s=nr(n);return o.sub(s).div(o)},t.getFees=function(e){var t=or(e,this.traderFee),n=or(e,this.ownerFee);return f().add(t,n)},t.getExpectedOutputAmount=function(e,t,n,r){return this.getOutputAmount(e,t,n,r)},t.getExpectedOutputAmountWithNoSlippage=function(e,t,n,r){if(f().equal(e[n],Jn))return e[r];var i=f().divide(f().multiply(t,e[r]),e[n]);return this.feesOnInput?i:this.getAmountLessFees(i)},t.getAmountLessFees=function(e){return f().subtract(e,this.getFees(e))},t.getOutputAmount=function(e,t,n,r){var i=[e[n],e[r]],o=i[0],s=i[1],a=function(e,t){var n=f().divide(e,t);if(f().equal(n,Jn))return[Jn,Jn];var r=f().remainder(e,t);return f().greaterThan(r,Jn)&&(n=f().add(n,Yn),t=f().divide(e,n),r=f().remainder(e,n),f().greaterThan(r,Jn)&&(t=f().add(t,Yn))),[n,t]}(this.getInvariant(e),f().add(o,t))[0];return f().subtract(s,a)},t.getInvariant=function(e){return f().multiply(e[0],e[1])},e}(),ur=function(e,t){this.numerator=void 0,this.denominator=void 0,this.numerator=e,this.denominator=t},cr=new ur(f().BigInt(0),f().BigInt(1)),lr=n(46995),dr=n.n(lr),hr=n(53853),pr=n(97429).Buffer;function fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return fr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fr(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var gr,yr;gr=function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(O){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),s=new P(r||[]);return o._invoke=function(e,t,n){var r=d;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw o;return M()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=E(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?f:h,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=f,n.method="throw",n.arg=u.arg)}}}(e,n,s),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var d="suspendedStart",h="suspendedYield",p="executing",f="completed",m={};function g(){}function y(){}function w(){}var b={};u(b,o,(function(){return this}));var v=Object.getPrototypeOf,_=v&&v(v(x([])));_&&_!==n&&r.call(_,o)&&(b=_);var A=w.prototype=g.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,o,s,a){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function x(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:M}}function M(){return{value:t,done:!0}}return y.prototype=w,u(A,"constructor",w),u(w,"constructor",y),y.displayName=u(w,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,a,"GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new k(c(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},S(A),u(A,a,"Generator"),u(A,o,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:x(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},gr(yr={exports:{}},yr.exports);Zn().config({precision:64,rounding:Zn().ROUND_DOWN,toExpNeg:-64,toExpPos:64});var wr,br=new(Zn())(10),vr=new(Zn())(2).pow(64),_r=vr.div(2).sub(1),Ar=vr.div(2).neg(),Sr=vr.sub(1),kr=vr.pow(63).sub(1),Er=kr.neg(),Tr=vr.pow(64).sub(1),Ir=40,Pr=function(){function e(){}return e.from64Buffer=function(e,t){if(void 0===t&&(t=0),8!==e.length&&(0,_.default)(!1),Math.abs(t)<Ir||(0,_.default)(!1),e[7]>=128){for(var n,r=[],i=mr(e);!(n=i()).done;){var o=n.value;r.push(("00"+Math.abs(255&~o).toString(16)).slice(-2))}var s=new(u())(r.join(""),16,"le").add(new(u())(1)).neg();return new(Zn())(s.toString()).div(br.pow(t))}return new(Zn())(new(u())(e,"le").toString()).div(br.pow(t))},e.fromU64Buffer=function(e,t){return void 0===t&&(t=0),8!==e.length&&(0,_.default)(!1),Math.abs(t)<Ir||(0,_.default)(!1),new(Zn())(new(u())(e,16,"le").toString()).div(br.pow(t))},e.from128Buffer=function(e,t){if(void 0===t&&(t=0),16!==e.length&&(0,_.default)(!1),Math.abs(t)<Ir||(0,_.default)(!1),e[15]>=128){for(var n,r=[],i=mr(e);!(n=i()).done;){var o=n.value;r.push(("00"+Math.abs(255&~o).toString(16)).slice(-2))}var s=new(u())(r.join(""),16,"le").add(new(u())(1)).neg();return new(Zn())(s.toString()).div(br.pow(t))}return new(Zn())(new(u())(e,"le").toString()).div(br.pow(t))},e.fromU128Buffer=function(e,t){return void 0===t&&(t=0),16!==e.length&&(0,_.default)(!1),Math.abs(t)<Ir||(0,_.default)(!1),new(Zn())(new(u())(e,"le").toString()).div(br.pow(t))},e.to64Buffer=function(e,t){void 0===t&&(t=0),Math.abs(t)<Ir||(0,_.default)(!1),(e=e.mul(br.pow(t)).round()).greaterThanOrEqualTo(Ar)&&e.lessThanOrEqualTo(_r)||(0,_.default)(!1);var n=new(u())(e.toString());if(n.isNeg()){var r=n.add(new(u())(1)).toBuffer("le",8);return r.forEach((function(e,t,n){n[t]=255&~e})),r}return n.toBuffer("le",8)},e.toU64Buffer=function(e,t){return void 0===t&&(t=0),Math.abs(t)<Ir||(0,_.default)(!1),(e=e.mul(br.pow(t)).round()).greaterThanOrEqualTo(0)&&e.lessThanOrEqualTo(Sr)||(0,_.default)(!1),new(u())(e.toString()).toBuffer("le",8)},e.to128Buffer=function(e,t){void 0===t&&(t=0),Math.abs(t)<Ir||(0,_.default)(!1),(e=e.mul(br.pow(t)).round()).greaterThanOrEqualTo(Er)&&e.lessThanOrEqualTo(kr)||(0,_.default)(!1);var n=new(u())(e.toString());if(n.isNeg()){var r=n.add(new(u())(1)).toBuffer("le",16);return r.forEach((function(e,t,n){n[t]=255&~e})),r}return n.toBuffer("le",16)},e.toU128Buffer=function(e,t){return void 0===t&&(t=0),Math.abs(t)<Ir||(0,_.default)(!1),(e=e.mul(br.pow(t)).round()).greaterThanOrEqualTo(0)&&e.lessThanOrEqualTo(Tr)||(0,_.default)(!1),new(u())(e.toString()).toBuffer("le",16)},e}(),xr=function(e){void 0===e&&(e="publicKey");var t=(0,s.Ik)(32,e),n=function(e){return{decode:e.decode.bind(e),encode:e.encode.bind(e)}}(t),r=n.encode,o=n.decode,a=t;return a.decode=function(e,t){var n=o(e,t);return new i.PublicKey(n)},a.encode=function(e,t,n){var i=e.toBuffer();return r(i,t,n)},a},Mr=function(e,t){void 0===e&&(e="uint64"),void 0===t&&(t=0);var n=(0,s.Ik)(8,e),r=n.decode.bind(n),i=n.encode.bind(n),o=n;return o.decode=function(e,n){var i=pr.from(r(e,n));return Pr.fromU64Buffer(i,t)},o.encode=function(e,n,r){var o=Pr.toU64Buffer(e,t);return i(o,n,r)},o},Or=function(e,t){void 0===e&&(e="uint64"),void 0===t&&(t=0);var n=(0,s.Ik)(16,e),r=n.decode.bind(n),i=n.encode.bind(n),o=n;return o.decode=function(e,n){var i=pr.from(r(e,n));return Pr.from128Buffer(i,t)},o.encode=function(e,n,r){var o=Pr.to128Buffer(e,t);return i(o,n,r)},o},Br=function(e,t){void 0===e&&(e="uint64"),void 0===t&&(t=0);var n=(0,s.Ik)(16,e),r=n.decode.bind(n),i=n.encode.bind(n),o=n;return o.decode=function(e,n){var i=pr.from(r(e,n));return Pr.fromU128Buffer(i,t)},o.encode=function(e,n,r){var o=Pr.toU128Buffer(e,t);return i(o,n,r)},o};!function(e){e[e.Initialize=0]="Initialize",e[e.Swap=1]="Swap",e[e.DepositAllTokenTypes=2]="DepositAllTokenTypes",e[e.WithdrawAllTokenTypes=3]="WithdrawAllTokenTypes",e[e.Claim=4]="Claim",e[e.ManagerClaim=5]="ManagerClaim",e[e.AddUserPosition=6]="AddUserPosition",e[e.UpdateFee=7]="UpdateFee",e[e.SimulateSwap=8]="SimulateSwap"}(wr||(wr={}));var Dr=504e3,Rr=(0,s.n_)([(0,s.Xo)("tick"),Br("tickPrice",12),Br("liquityGross"),Or("liquityNet"),Br("feeGrowthOutside0",16),Br("feeGrowthOutside1",16)],"tickInfo"),Ur=(0,s.n_)([(0,s.u8)("swapVersion"),xr("tokenSwapKey"),(0,s.u8)("accountType"),(0,s.Xo)("len"),(0,s.Ik)(503962,"dataFlat")],"ticksAccount"),Lr=function(e){return e.data.length===Dr},Cr=function(e,t){if(Lr(t)){var n=pr.from(t.data),r=Ur.decode(n),i=r.swapVersion,o=r.tokenSwapKey,a=r.accountType,u=r.len,c=r.dataFlat,l=u*Rr.span,d=c.slice(0,l);return{pubkey:e,info:t,data:{swapVersion:i,tokenSwapKey:o,accountType:a,len:u,ticks:(0,s.A9)(Rr,u).decode(d)}}}},Nr=(0,s.n_)([xr("nftTokenId"),(0,s.Xo)("lowerTick"),(0,s.Xo)("upperTick"),Br("liquity"),Br("feeGrowthInsideALast",16),Br("feeGrowthInsideBLast",16),Br("tokenAFee",16),Br("tokenBFee",16)],"position"),Fr=(Nr.span,(0,s.n_)([xr("tokenSwapKey"),(0,s.u8)("accountType"),(0,s.u8)("version"),(0,s.u8)("isInitialized"),(0,s.u8)("nonce"),xr("tokenProgramId"),xr("manager"),xr("managerTokenA"),xr("managerTokenB"),xr("swapTokenA"),xr("swapTokenB"),xr("tokenAMint"),xr("tokenBMint"),xr("ticksKey"),xr("positionsKey"),(0,s.u8)("curveType"),Mr("fee",12),Mr("managerFee",12),(0,s.Jq)("tickSpace"),Br("currentSqrtPrice",12),Br("currentLiquity"),Br("feeGrowthGlobal0",16),Br("feeGrowthGlobal1",16),Br("managerFeeA"),Br("managerFeeB")],"tokenSwapAccount")),Wr=(Fr.span,new Gn.Decimal("1e-12"));function zr(e,t,n,r,i){i.greaterThan(new Gn.Decimal(0))||(0,_.default)(!1),r.greaterThanOrEqualTo(new Gn.Decimal(0))||(0,_.default)(!1),e.length>0||(0,_.default)(!1),t>e[0].tickPrice||(0,_.default)(!1);for(var o=r,s=new Gn.Decimal(0),a=i,u=new Gn.Decimal(0),c=new Gn.Decimal(0),l=new Gn.Decimal(0),d=e.length-1;d>=0;d--)if(o.equals(new Gn.Decimal(0)))t=e[d].tickPrice.sub(Wr),o=o.sub(e[d].liquityNet);else if(!(t<e[d].tickPrice)){var h=t,p=e[d].tickPrice,f=qr(p,t,o),m=f.mul(n).toDP(0,Gn.Decimal.ROUND_DOWN);if(u=a.lessThan(m)?a:a.sub(m),f.greaterThanOrEqualTo(u)){var g=Vr(h,o,u=a.mul(new Gn.Decimal(1).sub(n)).toDP(0,Gn.Decimal.ROUND_UP)),y=g.amountOut,w=g.afterSqrtPrice;return l=l.add(a),c=c.add(a.sub(u)),{amountOut:s.add(y),amountUsed:l,feeUsed:c,afterPrice:w,afterLiquity:o}}a=u.sub(f),l=l.add(f).add(m),c=c.add(m),s=s.add(Kr(p,h,o)),o=o.sub(e[d].liquityNet),t=e[d].tickPrice.sub(Wr)}return{amountOut:s,amountUsed:l,feeUsed:c,afterPrice:t,afterLiquity:o}}function jr(e,t,n,r,i){i.greaterThan(new Gn.Decimal(0))||(0,_.default)(!1),r.greaterThanOrEqualTo(new Gn.Decimal(0))||(0,_.default)(!1),e.length>0||(0,_.default)(!1),t.lessThan(e[e.length-1].tickPrice)||(0,_.default)(!1);for(var o=r,s=new Gn.Decimal(0),a=i,u=new Gn.Decimal(0),c=new Gn.Decimal(0),l=new Gn.Decimal(0),d=0;d<e.length;d++)if(o.equals(new Gn.Decimal(0)))t=e[d].tickPrice.add(Wr),o=o.add(e[d].liquityNet);else if(!(t>e[d].tickPrice)){var h=e[d].tickPrice,p=Kr(t,h,o),f=p.mul(n).toDP(0,Gn.Decimal.ROUND_DOWN);if(u=a.lessThan(f)?a:a.sub(f),p.greaterThanOrEqualTo(u)){var m=Hr(t,o,u=a.mul(new Gn.Decimal(1).sub(n)).toDP(0,Gn.Decimal.ROUND_UP)),g=m.amountOut,y=m.afterSqrtPrice;return c=c.add(a),l=l.add(a.sub(u)),{amountOut:s.add(g),feeUsed:l,amountUsed:c,afterPrice:y.pow(2),afterLiquity:o}}a=u.sub(p),c=c.add(p).add(f),l=l.add(f),s=s.add(qr(t,h,o)),o=o.add(e[d].liquityNet),t=e[d].tickPrice.add(Wr)}return{amountOut:s,amountUsed:c,feeUsed:l,afterPrice:t,afterLiquity:o}}function qr(e,t,n){return n.div(e).toDP(0,Gn.Decimal.ROUND_DOWN).sub(n.div(t).toDP(0,Gn.Decimal.ROUND_DOWN))}function Kr(e,t,n){return n.mul(t.sub(e)).toDP(0,Gn.Decimal.ROUND_DOWN)}function Vr(e,t,n){var r=t.div(n.add(t.div(e))),i=n.add(t.div(e).toDP(0,Gn.Decimal.ROUND_DOWN));return{amountOut:t.mul(e).toDP(0,Gn.Decimal.ROUND_DOWN).sub(t.mul(t).div(i).toDP(0,Gn.Decimal.ROUND_DOWN)),afterSqrtPrice:r}}function Hr(e,t,n){var r=n.div(t).add(e),i=n.add(t.mul(e).toDP(0,Gn.Decimal.ROUND_DOWN));return{amountOut:t.div(e).toDP(0,Gn.Decimal.ROUND_DOWN).sub(t.mul(t).div(i).toDP(0,Gn.Decimal.ROUND_DOWN)),afterSqrtPrice:r}}Zn().config({precision:64,rounding:Zn().ROUND_HALF_DOWN,toExpNeg:-64,toExpPos:64});var Gr=n(45103),Zr=n(97429).Buffer,Qr=Object.defineProperty;Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function Xr(e,t){const[n,r]=kn.publicKey.findProgramAddressSync(e,t);return{publicKey:n,bump:r}}new i.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");function Jr(e,t,n){return Xr([Zr.from("tick_array"),t.toBuffer(),Zr.from(n.toString())],e)}var Yr={};((e,t)=>{for(var n in t)Qr(e,n,{get:t[n],enumerable:!0})})(Yr,{accounts:()=>ni,default:()=>oi,errors:()=>ii,instructions:()=>ti,name:()=>ei,types:()=>ri,version:()=>$r});var $r="0.1.0",ei="whirlpool",ti=[{name:"initializeConfig",accounts:[{name:"config",isMut:!0,isSigner:!0},{name:"funder",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"feeAuthority",type:"publicKey"},{name:"collectProtocolFeesAuthority",type:"publicKey"},{name:"rewardEmissionsSuperAuthority",type:"publicKey"},{name:"defaultProtocolFeeRate",type:"u16"}]},{name:"initializePool",accounts:[{name:"whirlpoolsConfig",isMut:!1,isSigner:!1},{name:"tokenMintA",isMut:!1,isSigner:!1},{name:"tokenMintB",isMut:!1,isSigner:!1},{name:"funder",isMut:!0,isSigner:!0},{name:"whirlpool",isMut:!0,isSigner:!1},{name:"tokenVaultA",isMut:!0,isSigner:!0},{name:"tokenVaultB",isMut:!0,isSigner:!0},{name:"feeTier",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"bumps",type:{defined:"WhirlpoolBumps"}},{name:"tickSpacing",type:"u16"},{name:"initialSqrtPrice",type:"u128"}]},{name:"initializeTickArray",accounts:[{name:"whirlpool",isMut:!1,isSigner:!1},{name:"funder",isMut:!0,isSigner:!0},{name:"tickArray",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"startTickIndex",type:"i32"}]},{name:"initializeFeeTier",accounts:[{name:"config",isMut:!1,isSigner:!1},{name:"feeTier",isMut:!0,isSigner:!1},{name:"funder",isMut:!0,isSigner:!0},{name:"feeAuthority",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"tickSpacing",type:"u16"},{name:"defaultFeeRate",type:"u16"}]},{name:"initializeReward",accounts:[{name:"rewardAuthority",isMut:!1,isSigner:!0},{name:"funder",isMut:!0,isSigner:!0},{name:"whirlpool",isMut:!0,isSigner:!1},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"rewardVault",isMut:!0,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"rewardIndex",type:"u8"}]},{name:"setRewardEmissions",accounts:[{name:"whirlpool",isMut:!0,isSigner:!1},{name:"rewardAuthority",isMut:!1,isSigner:!0},{name:"rewardVault",isMut:!1,isSigner:!1}],args:[{name:"rewardIndex",type:"u8"},{name:"emissionsPerSecondX64",type:"u128"}]},{name:"openPosition",accounts:[{name:"funder",isMut:!0,isSigner:!0},{name:"owner",isMut:!1,isSigner:!1},{name:"position",isMut:!0,isSigner:!1},{name:"positionMint",isMut:!0,isSigner:!0},{name:"positionTokenAccount",isMut:!0,isSigner:!1},{name:"whirlpool",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"bumps",type:{defined:"OpenPositionBumps"}},{name:"tickLowerIndex",type:"i32"},{name:"tickUpperIndex",type:"i32"}]},{name:"openPositionWithMetadata",accounts:[{name:"funder",isMut:!0,isSigner:!0},{name:"owner",isMut:!1,isSigner:!1},{name:"position",isMut:!0,isSigner:!1},{name:"positionMint",isMut:!0,isSigner:!0},{name:"positionMetadataAccount",isMut:!0,isSigner:!1},{name:"positionTokenAccount",isMut:!0,isSigner:!1},{name:"whirlpool",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"metadataProgram",isMut:!1,isSigner:!1},{name:"metadataUpdateAuth",isMut:!1,isSigner:!1}],args:[{name:"bumps",type:{defined:"OpenPositionWithMetadataBumps"}},{name:"tickLowerIndex",type:"i32"},{name:"tickUpperIndex",type:"i32"}]},{name:"increaseLiquidity",accounts:[{name:"whirlpool",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"positionAuthority",isMut:!1,isSigner:!0},{name:"position",isMut:!0,isSigner:!1},{name:"positionTokenAccount",isMut:!1,isSigner:!1},{name:"tokenOwnerAccountA",isMut:!0,isSigner:!1},{name:"tokenOwnerAccountB",isMut:!0,isSigner:!1},{name:"tokenVaultA",isMut:!0,isSigner:!1},{name:"tokenVaultB",isMut:!0,isSigner:!1},{name:"tickArrayLower",isMut:!0,isSigner:!1},{name:"tickArrayUpper",isMut:!0,isSigner:!1}],args:[{name:"liquidityAmount",type:"u128"},{name:"tokenMaxA",type:"u64"},{name:"tokenMaxB",type:"u64"}]},{name:"decreaseLiquidity",accounts:[{name:"whirlpool",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"positionAuthority",isMut:!1,isSigner:!0},{name:"position",isMut:!0,isSigner:!1},{name:"positionTokenAccount",isMut:!1,isSigner:!1},{name:"tokenOwnerAccountA",isMut:!0,isSigner:!1},{name:"tokenOwnerAccountB",isMut:!0,isSigner:!1},{name:"tokenVaultA",isMut:!0,isSigner:!1},{name:"tokenVaultB",isMut:!0,isSigner:!1},{name:"tickArrayLower",isMut:!0,isSigner:!1},{name:"tickArrayUpper",isMut:!0,isSigner:!1}],args:[{name:"liquidityAmount",type:"u128"},{name:"tokenMaxA",type:"u64"},{name:"tokenMaxB",type:"u64"}]},{name:"updateFeesAndRewards",accounts:[{name:"whirlpool",isMut:!0,isSigner:!1},{name:"position",isMut:!0,isSigner:!1},{name:"tickArrayLower",isMut:!1,isSigner:!1},{name:"tickArrayUpper",isMut:!1,isSigner:!1}],args:[]},{name:"collectFees",accounts:[{name:"whirlpool",isMut:!1,isSigner:!1},{name:"positionAuthority",isMut:!1,isSigner:!0},{name:"position",isMut:!0,isSigner:!1},{name:"positionTokenAccount",isMut:!1,isSigner:!1},{name:"tokenOwnerAccountA",isMut:!0,isSigner:!1},{name:"tokenVaultA",isMut:!0,isSigner:!1},{name:"tokenOwnerAccountB",isMut:!0,isSigner:!1},{name:"tokenVaultB",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"collectReward",accounts:[{name:"whirlpool",isMut:!1,isSigner:!1},{name:"positionAuthority",isMut:!1,isSigner:!0},{name:"position",isMut:!0,isSigner:!1},{name:"positionTokenAccount",isMut:!1,isSigner:!1},{name:"rewardOwnerAccount",isMut:!0,isSigner:!1},{name:"rewardVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"rewardIndex",type:"u8"}]},{name:"collectProtocolFees",accounts:[{name:"whirlpoolsConfig",isMut:!1,isSigner:!1},{name:"whirlpool",isMut:!0,isSigner:!1},{name:"collectProtocolFeesAuthority",isMut:!1,isSigner:!0},{name:"tokenVaultA",isMut:!0,isSigner:!1},{name:"tokenVaultB",isMut:!0,isSigner:!1},{name:"tokenDestinationA",isMut:!0,isSigner:!1},{name:"tokenDestinationB",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"swap",accounts:[{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"tokenAuthority",isMut:!1,isSigner:!0},{name:"whirlpool",isMut:!0,isSigner:!1},{name:"tokenOwnerAccountA",isMut:!0,isSigner:!1},{name:"tokenVaultA",isMut:!0,isSigner:!1},{name:"tokenOwnerAccountB",isMut:!0,isSigner:!1},{name:"tokenVaultB",isMut:!0,isSigner:!1},{name:"tickArray0",isMut:!0,isSigner:!1},{name:"tickArray1",isMut:!0,isSigner:!1},{name:"tickArray2",isMut:!0,isSigner:!1},{name:"oracle",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"},{name:"otherAmountThreshold",type:"u64"},{name:"sqrtPriceLimit",type:"u128"},{name:"exactInput",type:"bool"},{name:"aToB",type:"bool"}]},{name:"closePosition",accounts:[{name:"positionAuthority",isMut:!1,isSigner:!0},{name:"receiver",isMut:!0,isSigner:!1},{name:"position",isMut:!0,isSigner:!1},{name:"positionMint",isMut:!0,isSigner:!1},{name:"positionTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"setDefaultFeeRate",accounts:[{name:"whirlpoolsConfig",isMut:!1,isSigner:!1},{name:"feeTier",isMut:!0,isSigner:!1},{name:"feeAuthority",isMut:!1,isSigner:!0}],args:[{name:"defaultFeeRate",type:"u16"}]},{name:"setDefaultProtocolFeeRate",accounts:[{name:"whirlpoolsConfig",isMut:!0,isSigner:!1},{name:"feeAuthority",isMut:!1,isSigner:!0}],args:[{name:"defaultProtocolFeeRate",type:"u16"}]},{name:"setFeeRate",accounts:[{name:"whirlpoolsConfig",isMut:!1,isSigner:!1},{name:"whirlpool",isMut:!0,isSigner:!1},{name:"feeAuthority",isMut:!1,isSigner:!0}],args:[{name:"feeRate",type:"u16"}]},{name:"setProtocolFeeRate",accounts:[{name:"whirlpoolsConfig",isMut:!1,isSigner:!1},{name:"whirlpool",isMut:!0,isSigner:!1},{name:"feeAuthority",isMut:!1,isSigner:!0}],args:[{name:"protocolFeeRate",type:"u16"}]},{name:"setFeeAuthority",accounts:[{name:"whirlpoolsConfig",isMut:!0,isSigner:!1},{name:"feeAuthority",isMut:!1,isSigner:!0},{name:"newFeeAuthority",isMut:!1,isSigner:!1}],args:[]},{name:"setCollectProtocolFeesAuthority",accounts:[{name:"whirlpoolsConfig",isMut:!0,isSigner:!1},{name:"collectProtocolFeesAuthority",isMut:!1,isSigner:!0},{name:"newCollectProtocolFeesAuthority",isMut:!1,isSigner:!1}],args:[]},{name:"setRewardAuthority",accounts:[{name:"whirlpool",isMut:!0,isSigner:!1},{name:"rewardAuthority",isMut:!1,isSigner:!0},{name:"newRewardAuthority",isMut:!1,isSigner:!1}],args:[{name:"rewardIndex",type:"u8"}]},{name:"setRewardAuthorityBySuperAuthority",accounts:[{name:"whirlpoolsConfig",isMut:!1,isSigner:!1},{name:"whirlpool",isMut:!0,isSigner:!1},{name:"rewardEmissionsSuperAuthority",isMut:!1,isSigner:!0},{name:"newRewardAuthority",isMut:!1,isSigner:!1}],args:[{name:"rewardIndex",type:"u8"}]},{name:"setRewardEmissionsSuperAuthority",accounts:[{name:"whirlpoolsConfig",isMut:!0,isSigner:!1},{name:"rewardEmissionsSuperAuthority",isMut:!1,isSigner:!0},{name:"newRewardEmissionsSuperAuthority",isMut:!1,isSigner:!1}],args:[]}],ni=[{name:"WhirlpoolsConfig",type:{kind:"struct",fields:[{name:"feeAuthority",type:"publicKey"},{name:"collectProtocolFeesAuthority",type:"publicKey"},{name:"rewardEmissionsSuperAuthority",type:"publicKey"},{name:"defaultProtocolFeeRate",type:"u16"}]}},{name:"FeeTier",type:{kind:"struct",fields:[{name:"whirlpoolsConfig",type:"publicKey"},{name:"tickSpacing",type:"u16"},{name:"defaultFeeRate",type:"u16"}]}},{name:"Position",type:{kind:"struct",fields:[{name:"whirlpool",type:"publicKey"},{name:"positionMint",type:"publicKey"},{name:"liquidity",type:"u128"},{name:"tickLowerIndex",type:"i32"},{name:"tickUpperIndex",type:"i32"},{name:"feeGrowthCheckpointA",type:"u128"},{name:"feeOwedA",type:"u64"},{name:"feeGrowthCheckpointB",type:"u128"},{name:"feeOwedB",type:"u64"},{name:"rewardInfos",type:{array:[{defined:"PositionRewardInfo"},3]}}]}},{name:"TickArray",type:{kind:"struct",fields:[{name:"startTickIndex",type:"i32"},{name:"ticks",type:{array:[{defined:"Tick"},88]}},{name:"whirlpool",type:"publicKey"}]}},{name:"Whirlpool",type:{kind:"struct",fields:[{name:"whirlpoolsConfig",type:"publicKey"},{name:"whirlpoolBump",type:{array:["u8",1]}},{name:"tickSpacing",type:"u16"},{name:"tickSpacingSeed",type:{array:["u8",2]}},{name:"feeRate",type:"u16"},{name:"protocolFeeRate",type:"u16"},{name:"liquidity",type:"u128"},{name:"sqrtPrice",type:"u128"},{name:"tickCurrentIndex",type:"i32"},{name:"protocolFeeOwedA",type:"u64"},{name:"protocolFeeOwedB",type:"u64"},{name:"tokenMintA",type:"publicKey"},{name:"tokenVaultA",type:"publicKey"},{name:"feeGrowthGlobalA",type:"u128"},{name:"tokenMintB",type:"publicKey"},{name:"tokenVaultB",type:"publicKey"},{name:"feeGrowthGlobalB",type:"u128"},{name:"rewardLastUpdatedTimestamp",type:"u64"},{name:"rewardInfos",type:{array:[{defined:"WhirlpoolRewardInfo"},3]}}]}}],ri=[{name:"OpenPositionBumps",type:{kind:"struct",fields:[{name:"positionBump",type:"u8"}]}},{name:"OpenPositionWithMetadataBumps",type:{kind:"struct",fields:[{name:"positionBump",type:"u8"},{name:"metadataBump",type:"u8"}]}},{name:"PositionRewardInfo",type:{kind:"struct",fields:[{name:"growthInsideCheckpoint",type:"u128"},{name:"amountOwed",type:"u64"}]}},{name:"Tick",type:{kind:"struct",fields:[{name:"initialized",type:"bool"},{name:"liquidityNet",type:"i128"},{name:"liquidityGross",type:"u128"},{name:"feeGrowthOutsideA",type:"u128"},{name:"feeGrowthOutsideB",type:"u128"},{name:"rewardGrowthsOutside",type:{array:["u128",3]}}]}},{name:"WhirlpoolRewardInfo",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"vault",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"emissionsPerSecondX64",type:"u128"},{name:"growthGlobalX64",type:"u128"}]}},{name:"WhirlpoolBumps",type:{kind:"struct",fields:[{name:"whirlpoolBump",type:"u8"}]}},{name:"CurrIndex",type:{kind:"enum",variants:[{name:"Below"},{name:"Inside"},{name:"Above"}]}},{name:"TickLabel",type:{kind:"enum",variants:[{name:"Upper"},{name:"Lower"}]}},{name:"Direction",type:{kind:"enum",variants:[{name:"Left"},{name:"Right"}]}}],ii=[{code:6e3,name:"InvalidEnum",msg:"Enum value could not be converted"},{code:6001,name:"InvalidStartTick",msg:"Invalid start tick index provided."},{code:6002,name:"TickArrayExistInPool",msg:"Tick-array already exists in this whirlpool"},{code:6003,name:"TickArrayIndexOutofBounds",msg:"Attempt to search for a tick-array failed"},{code:6004,name:"InvalidTickSpacing",msg:"Tick-spacing is not supported"},{code:6005,name:"ClosePositionNotEmpty",msg:"Position is not empty It cannot be closed"},{code:6006,name:"DivideByZero",msg:"Unable to divide by zero"},{code:6007,name:"NumberCastError",msg:"Unable to cast number into BigInt"},{code:6008,name:"NumberDownCastError",msg:"Unable to down cast number"},{code:6009,name:"TickNotFound",msg:"Tick not found within tick array"},{code:6010,name:"InvalidTickIndex",msg:"Provided tick index is either out of bounds or uninitializable"},{code:6011,name:"SqrtPriceOutOfBounds",msg:"Provided sqrt price out of bounds"},{code:6012,name:"LiquidityZero",msg:"Liquidity amount must be greater than zero"},{code:6013,name:"LiquidityTooHigh",msg:"Liquidity amount must be less than i64::MAX"},{code:6014,name:"LiquidityOverflow",msg:"Liquidity overflow"},{code:6015,name:"LiquidityUnderflow",msg:"Liquidity underflow"},{code:6016,name:"LiquidityNetError",msg:"Tick liquidity net underflowed or overflowed"},{code:6017,name:"TokenMaxExceeded",msg:"Exceeded token max"},{code:6018,name:"TokenMinSubceeded",msg:"Did not meet token min"},{code:6019,name:"MissingOrInvalidDelegate",msg:"Position token account has a missing or invalid delegate"},{code:6020,name:"InvalidPositionTokenAmount",msg:"Position token amount must be 1"},{code:6021,name:"InvalidTimestampConversion",msg:"Timestamp should be convertible from i64 to u64"},{code:6022,name:"InvalidTimestamp",msg:"Timestamp should be greater than the last updated timestamp"},{code:6023,name:"InvalidTickArraySequence",msg:"Invalid tick array sequence provided for instruction."},{code:6024,name:"InvalidTokenMintOrder",msg:"Token Mint in wrong order"},{code:6025,name:"RewardNotInitialized",msg:"Reward not initialized"},{code:6026,name:"InvalidRewardIndex",msg:"Invalid reward index"},{code:6027,name:"RewardVaultAmountInsufficient",msg:"Reward vault requires amount to support emissions for at least one day"},{code:6028,name:"FeeRateMaxExceeded",msg:"Exceeded max fee rate"},{code:6029,name:"ProtocolFeeRateMaxExceeded",msg:"Exceeded max protocol fee rate"},{code:6030,name:"MultiplicationShiftRightOverflow",msg:"Multiplication with shift right overflow"},{code:6031,name:"MulDivOverflow",msg:"Muldiv overflow"},{code:6032,name:"MulDivInvalidInput",msg:"Invalid div_u256 input"},{code:6033,name:"MultiplicationOverflow",msg:"Multiplication overflow"},{code:6034,name:"InvalidSqrtPriceLimitDirection",msg:"Provided SqrtPriceLimit not in the same direction as the swap."},{code:6035,name:"ZeroTradableAmount",msg:"There are no tradable amount to swap."},{code:6036,name:"AmountOutBelowMinimum",msg:"Amount out below minimum threshold"},{code:6037,name:"AmountInAboveMaximum",msg:"Amount in above maximum threshold"}],oi={version:$r,name:ei,instructions:ti,accounts:ni,types:ri,errors:ii},si=new pt(Yr);function ai(e){return di("WhirlpoolsConfig",e)}function ui(e){return di("Whirlpool",e)}function ci(e){return di("Position",e)}function li(e){return di("TickArray",e)}function di(e,t){if(ut.accountDiscriminator(e).compare(t.slice(0,8)))return console.error("incorrect account name during parsing"),null;try{return si.accounts.decode(e,t)}catch(Tn){return console.error("unknown account name during parsing"),null}}var hi=443636,pi=-443636,fi=88,mi="79226673515401279992447579055",gi="4295048016";function yi(e){if(e>hi||e<pi)throw new Error("Provided tick index does not fit within supported tick index range.");return e>0?new(u())(function(e){let t;t=0!=(1&e)?new(u())("79232123823359799118286999567"):new(u())("79228162514264337593543950336");0!=(2&e)&&(t=bi(t.mul(new(u())("79236085330515764027303304731")),96,256));0!=(4&e)&&(t=bi(t.mul(new(u())("79244008939048815603706035061")),96,256));0!=(8&e)&&(t=bi(t.mul(new(u())("79259858533276714757314932305")),96,256));0!=(16&e)&&(t=bi(t.mul(new(u())("79291567232598584799939703904")),96,256));0!=(32&e)&&(t=bi(t.mul(new(u())("79355022692464371645785046466")),96,256));0!=(64&e)&&(t=bi(t.mul(new(u())("79482085999252804386437311141")),96,256));0!=(128&e)&&(t=bi(t.mul(new(u())("79736823300114093921829183326")),96,256));0!=(256&e)&&(t=bi(t.mul(new(u())("80248749790819932309965073892")),96,256));0!=(512&e)&&(t=bi(t.mul(new(u())("81282483887344747381513967011")),96,256));0!=(1024&e)&&(t=bi(t.mul(new(u())("83390072131320151908154831281")),96,256));0!=(2048&e)&&(t=bi(t.mul(new(u())("87770609709833776024991924138")),96,256));0!=(4096&e)&&(t=bi(t.mul(new(u())("97234110755111693312479820773")),96,256));0!=(8192&e)&&(t=bi(t.mul(new(u())("119332217159966728226237229890")),96,256));0!=(16384&e)&&(t=bi(t.mul(new(u())("179736315981702064433883588727")),96,256));0!=(32768&e)&&(t=bi(t.mul(new(u())("407748233172238350107850275304")),96,256));0!=(65536&e)&&(t=bi(t.mul(new(u())("2098478828474011932436660412517")),96,256));0!=(131072&e)&&(t=bi(t.mul(new(u())("55581415166113811149459800483533")),96,256));0!=(262144&e)&&(t=bi(t.mul(new(u())("38992368544603139932233054999993551")),96,256));return bi(t,32,256)}(e)):new(u())(function(e){let t,n=Math.abs(e);t=0!=(1&n)?new(u())("18445821805675392311"):new(u())("18446744073709551616");0!=(2&n)&&(t=bi(t.mul(new(u())("18444899583751176498")),64,256));0!=(4&n)&&(t=bi(t.mul(new(u())("18443055278223354162")),64,256));0!=(8&n)&&(t=bi(t.mul(new(u())("18439367220385604838")),64,256));0!=(16&n)&&(t=bi(t.mul(new(u())("18431993317065449817")),64,256));0!=(32&n)&&(t=bi(t.mul(new(u())("18417254355718160513")),64,256));0!=(64&n)&&(t=bi(t.mul(new(u())("18387811781193591352")),64,256));0!=(128&n)&&(t=bi(t.mul(new(u())("18329067761203520168")),64,256));0!=(256&n)&&(t=bi(t.mul(new(u())("18212142134806087854")),64,256));0!=(512&n)&&(t=bi(t.mul(new(u())("17980523815641551639")),64,256));0!=(1024&n)&&(t=bi(t.mul(new(u())("17526086738831147013")),64,256));0!=(2048&n)&&(t=bi(t.mul(new(u())("16651378430235024244")),64,256));0!=(4096&n)&&(t=bi(t.mul(new(u())("15030750278693429944")),64,256));0!=(8192&n)&&(t=bi(t.mul(new(u())("12247334978882834399")),64,256));0!=(16384&n)&&(t=bi(t.mul(new(u())("8131365268884726200")),64,256));0!=(32768&n)&&(t=bi(t.mul(new(u())("3584323654723342297")),64,256));0!=(65536&n)&&(t=bi(t.mul(new(u())("696457651847595233")),64,256));0!=(131072&n)&&(t=bi(t.mul(new(u())("26294789957452057")),64,256));0!=(262144&n)&&(t=bi(t.mul(new(u())("37481735321082")),64,256));return t}(e))}function wi(e){if(e.gt(new(u())(mi))||e.lt(new(u())(gi)))throw new Error("Provided sqrtPrice is not within the supported sqrtPrice range.");const t=e.bitLength()-1,n=function(e,t,n){let r=e.toTwos(n).shln(t);return r.imaskn(n+1),r.fromTwos(n)}(new(u())(t-64),32,128);let r=new(u())("8000000000000000","hex"),i=0,o=new(u())(0),s=t>=64?e.shrn(t-63):e.shln(63-t);for(;r.gt(new(u())(0))&&i<14;){s=s.mul(s);let e=s.shrn(127);s=s.shrn(63+e.toNumber()),o=o.add(r.mul(e)),r=r.shrn(1),i+=1}const a=o.shrn(32),c=n.add(a).mul(new(u())("59543866431248")),l=bi(c.sub(new(u())("184467440737095516")),64,128).toNumber(),d=bi(c.add(new(u())("15793534762490258745")),64,128).toNumber();if(l==d)return l;return yi(d).lte(e)?d:l}function bi(e,t,n){let r=e.toTwos(n).shrn(t);return r.imaskn(n-t+1),r.fromTwos(n-t)}Gn.Decimal.set({precision:40,toExpPos:40,toExpNeg:-20,rounding:1});n(62800);var vi=n(97429).Buffer,_i=Object.defineProperty,Ai=Object.getOwnPropertyDescriptor,Si=(Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,(e,t,n,r)=>{for(var i,o=r>1?void 0:r?Ai(t,n):t,s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&_i(t,n,o),o});function ki(e){return rn(e)}var Ei=e=>{if(!e)return null;const t=r.AccountLayout.decode(e);return t.mint=new i.PublicKey(t.mint),t.owner=new i.PublicKey(t.owner),t.amount=r.u64.fromBuffer(t.amount),0===t.delegateOption?(t.delegate=null,t.delegatedAmount=new r.u64(0)):(t.delegate=new i.PublicKey(t.delegate),t.delegatedAmount=r.u64.fromBuffer(t.delegatedAmount)),t.isInitialized=0!==t.state,t.isFrozen=2===t.state,1===t.isNativeOption?(t.rentExemptReserve=r.u64.fromBuffer(t.isNative),t.isNative=!0):(t.rentExemptReserve=null,t.isNative=!1),0===t.closeAuthorityOption?t.closeAuthority=null:t.closeAuthority=new i.PublicKey(t.closeAuthority),t};var Ti=class{constructor(e,t){this.toString=()=>`${this.numerator.toString()}/${this.denominator.toString()}`,this.numerator=e,this.denominator=t}static fromDecimal(e){return Ti.fromFraction(e.toDecimalPlaces(1).mul(10).toNumber(),1e3)}static fromFraction(e,t){const n="number"===typeof e?new r.u64(e.toString()):e,i="number"===typeof t?new r.u64(t.toString()):t;return new Ti(n,i)}toDecimal(){return this.denominator.eq(new r.u64(0))?new Gn(0):new Gn(this.numerator.toString()).div(new Gn(this.denominator.toString()))}add(e){const t=this.denominator.gcd(e.denominator),n=this.denominator.div(t).mul(e.denominator),i=n.div(this.denominator),o=n.div(e.denominator),s=this.numerator.mul(i),a=e.numerator.mul(o),u=s.add(a);return new Ti(new r.u64(u.toString()),new r.u64(n.toString()))}},Ii=Ti.fromFraction(1,1e3);var Pi=class{constructor(){}static parse(e){if(!e)return null;try{return ai(e)}catch(t){return console.error(`error while parsing WhirlpoolsConfig: ${t}`),null}}};Pi=Si([e=>{}],Pi);var xi=class{constructor(){}static parse(e){if(!e)return null;try{return ui(e)}catch(t){return console.error(`error while parsing Whirlpool: ${t}`),null}}};xi=Si([e=>{}],xi);var Mi=class{constructor(){}static parse(e){if(!e)return null;try{return ci(e)}catch(t){return console.error(`error while parsing Position: ${t}`),null}}};Mi=Si([e=>{}],Mi);var Oi=class{constructor(){}static parse(e){if(!e)return null;try{return li(e)}catch(t){return console.error(`error while parsing TickArray: ${t}`),null}}};Oi=Si([e=>{}],Oi);var Bi=class{constructor(){}static parse(e){if(!e)return null;try{return Ei(e)}catch(t){return console.error(`error while parsing TokenAccount: ${t}`),null}}};Bi=Si([e=>{}],Bi);var Di=class{constructor(){}static parse(e){if(!e)return null;try{const t=r.MintLayout.decode(e);return{mintAuthority:0===t.mintAuthorityOption?null:new i.PublicKey(t.mintAuthority),supply:r.u64.fromBuffer(t.supply),decimals:t.decimals,isInitialized:0!==t.isInitialized,freezeAuthority:0===t.freezeAuthority?null:new i.PublicKey(t.freezeAuthority)}}catch(t){return console.error(`error while parsing MintInfo: ${t}`),null}}};Di=Si([e=>{}],Di);var Ri=new(u())(0),Ui=new(u())(1),Li=new(u())(2),Ci=(Li.pow(new(u())(128)),Li.pow(new(u())(64)).sub(Ui));function Ni(e){let t=e.shrn(64);return e.mod(Ci).gt(Ri)&&(t=t.add(Ui)),t}function Fi(e,t){return!e.mod(t).eq(Ri)?e.div(t).add(new(u())(1)):e.div(t)}var Wi=class{constructor(){}static isRewardInitialized(e){return!i.PublicKey.default.equals(e.mint)&&!i.PublicKey.default.equals(e.vault)}static getFeeRate(e){return Ti.fromFraction(e,1e6)}static getProtocolFeeRate(e){return Ti.fromFraction(e,1e4)}static orderMints(e,t){let n,r;return vi.compare(ki(e).toBuffer(),ki(t).toBuffer())<0?(n=e,r=t):(n=t,r=e),[n,r]}},zi=class{constructor(){}static toValid(e,t){return e-e%t}static getTick(e,t,n){const r=zi.tickIndexToTickArrayIndex(e,t,n),i=e.ticks[r];return(0,_.default)(!!i,"tick realIndex out of range"),i}static getLowerAndUpperTickArrayAddresses(e,t,n,r,i){return[zi.getPdaWithTickIndex(e,n,r,i).publicKey,zi.getPdaWithTickIndex(t,n,r,i).publicKey]}static getPdaWithTickIndex(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const o=zi.getStartTickIndex(e,t,i);return Jr(ki(r),ki(n),o)}static getPDAWithSqrtPrice(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const o=wi(e);return zi.getPdaWithTickIndex(o,t,n,r,i)}static getStartTickIndex(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=(Math.floor(e/t/fi)+n)*t*fi,i=fi*t,o=pi-(pi%i+i);return(0,_.default)(r>=o,"startTickIndex is too small"),(0,_.default)(r<=hi,"startTickIndex is too large"),r}static getPrevInitializedTickIndex(e,t,n){return zi.findInitializedTick(e,t,n,0)}static getNextInitializedTickIndex(e,t,n){return zi.findInitializedTick(e,t,n,1)}static findInitializedTick(e,t,n,r){var i;const o=zi.tickIndexToTickArrayIndex(e,t,n),s=1===r?1:-1;let a=1===r?o+s:o;for(;a>=0&&a<e.ticks.length;){if(null==(i=e.ticks[a])?void 0:i.initialized)return zi.tickArrayIndexToTickIndex(e,a,n);a+=s}return null}static tickIndexToTickArrayIndex(e,t,n){let{startTickIndex:r}=e;return Math.floor((t-r)/n)}static tickArrayIndexToTickIndex(e,t,n){let{startTickIndex:r}=e;return r+t*n}static getNextInitializableTickIndex(e,t,n){return n?e:e+t}};function ji(e,t){return e.mul(t.denominator.sub(t.numerator)).div(t.denominator)}function qi(e,t){return Fi(e.mul(t.numerator),t.denominator.sub(t.numerator))}function Ki(e,t,n){return"Swap A to B"==n&&(t=t.neg()),e.add(t)}function Vi(e,t,n){return"Specified input amount"==n?[e,t]:[t,e]}function Hi(e,t,n,r){let{numerator:i,denominator:o}=n;return"Specified input amount"===r?t.mul(o).div(o.add(i)):e.mul(o.add(i)).div(o)}function Gi(e,t){return e.lt(t)?[e,t]:[t,e]}function Zi(e,t,n,r){const[i,o]=Gi(t,n),s=e.mul(o.sub(i)).shln(64),a=o.mul(i);return r?Fi(s,a):s.div(a)}function Qi(e,t,n,r){const[i,o]=Gi(t,n),s=e.mul(o.sub(i));return r?Ni(s):s.shrn(64)}function Xi(e,t,n,r,i){return"Specified input amount"==r==("Swap A to B"==i)?Zi(n,e,t,"Specified input amount"==r):Qi(n,e,t,"Specified input amount"==r)}function Ji(e,t,n,r,i){return"Specified input amount"==r==("Swap A to B"==i)?Qi(n,e,t,"Specified output amount"==r):Zi(n,e,t,"Specified output amount"==r)}function Yi(e,t,n,r,i){return"Specified input amount"===r&&"Swap A to B"===i?function(e,t,n){return Fi(t.mul(n).shln(64),t.shln(64).add(e.mul(n)))}(n,t,e):"Specified output amount"===r&&"Swap B to A"===i?function(e,t,n){return Fi(t.mul(n).shln(64),t.shln(64).sub(e.mul(n)))}(n,t,e):"Specified input amount"===r&&"Swap B to A"===i?function(e,t,n){return n.add(e.shln(64).div(t))}(n,t,e):function(e,t,n){return n.sub(Fi(e.shln(64),t))}(n,t,e)}Gn.set({precision:40,toExpPos:40,toExpNeg:-20,rounding:1});var $i=new i.PublicKey("whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc");function eo(e){const{poolAddress:t,whirlpool:n,tickArrays:r,tokenMint:i,tokenAmount:o,isInput:s,slippageTolerance:u=Ii}=e,c=i.equals(n.tokenMintA)===s?"Swap A to B":"Swap B to A",l=s?"Specified input amount":"Specified output amount",{amountIn:d,amountOut:h,sqrtPriceLimitX64:p}=function(e,t){const{amountSpecified:n,swapDirection:r}=e;let{currentTickIndex:i,currentLiquidity:o,amount:s,currentSqrtPriceX64:u}=t;(0,_.default)(!s.eq(Ri),"amount must be nonzero");let c,l=Ri,d=0;for(;s.gt(Ri);){if(d>2)throw Error("Crossed the maximum number of tick arrays");const t=ro(e,{sqrtPriceX64:u,amountRemaining:s,tickIndex:i,liquidity:o,tickArraysCrossed:d}),{input:a,output:h,nextSqrtPriceX64:p,nextTickIndex:f,hasReachedNextTick:m}=t,[g,y]=Vi(a,h,n);if(s=s.sub(g),l=l.add(y),m){o=Ki(o,to(e,f).liquidityNet,r),i="Swap A to B"==r?f-1:f}u=p,d=t.tickArraysCrossed,d>2&&(c=yi(f))}const[h,p]=Vi(t.amount.sub(s),l,n);c||(c=new a("Swap A to B"===r?gi:mi));return{amountIn:h,amountOut:p,sqrtPriceLimitX64:c}}({poolAddress:t,whirlpoolData:n,tickArrays:r,amountSpecified:l,swapDirection:c},{amount:o,currentSqrtPriceX64:n.sqrtPrice,currentTickIndex:n.tickCurrentIndex,currentLiquidity:n.liquidity});return{otherAmountThreshold:Hi(d,h,u,l),sqrtPriceLimitX64:p,amountIn:d,amountOut:h,aToB:"Swap A to B"===c,fixedInput:s}}function to(e,t){const n=no(e,t),{whirlpoolData:{tickSpacing:r}}=e;return zi.getTick(n,t,r)}function no(e,t){const{poolAddress:n,whirlpoolData:{tickSpacing:r}}=e,i=zi.getPdaWithTickIndex(t,r,n,$i).publicKey,o=e.tickArrays.get(i.toBase58());return(0,_.default)(!!o,"tickArray is null"),o}function ro(e,t){const{whirlpoolData:n,amountSpecified:r,swapDirection:i}=e,{feeRate:o}=n,s=Wi.getFeeRate(o),{amountRemaining:a,liquidity:u,sqrtPriceX64:c,tickIndex:l,tickArraysCrossed:d}=t,{tickIndex:h,tickArraysCrossed:p}=function(e,t,n){const{whirlpoolData:{tickSpacing:r},swapDirection:i}=e;let o;for(;void 0===o;){const s=no(e,t);let a;a="Swap A to B"==i?zi.getPrevInitializedTickIndex(s,t,r):zi.getNextInitializedTickIndex(s,t,r),a?o=a:2===n?(o="Swap A to B"===i?s.startTickIndex:s.startTickIndex+fi*r,n++):(t="Swap A to B"===i?s.startTickIndex-1:s.startTickIndex+fi*r,n++)}return{tickIndex:o,tickArraysCrossed:n}}(e,l,d),f=yi(h);let m=Xi(c,f,u,r,i),g=a;"Specified input amount"==r&&(g=ji(a,s));const y=g.gte(m)?f:Yi(c,u,g,r,i),w=y.eq(f),b=Ji(c,y,u,r,i);w||(m=Xi(c,y,u,r,i));let[v,_]=Vi(m,b,r);return"Specified output amount"==r&&_.gt(a)&&(_=a),v="Specified input amount"!=r||w?v.add(qi(v,s)):a,{nextTickIndex:h,nextSqrtPriceX64:y,input:v,output:_,tickArraysCrossed:p,hasReachedNextTick:w}}function io(e,t){const n=[];for(let r=-3;r<=2;r++){const i=zi.getPdaWithTickIndex(t.tickCurrentIndex,t.tickSpacing,e,$i,r).publicKey;n.push(i)}return n}var oo=n(19706),so=n(10128),ao=n(7867),uo=n(97429).Buffer,co=[{wrapper:"2B5Qedoo95Pjpv9xVPw82bbmcGDGCNHroKpzQE2CNHRZ",underlying:"CASHVDm2wsJXfhj6VWxb7GiMdoLc17Du7paH4bNr5woT",underlyingDecimals:6,wrapperUnderlyingTokens:"3YCGgStAV9H7TdPYdBnRP8yoH4Zqdmyt7xo6KB4Wa8xt",mint:"C9xqJe3gMTUDKidZsZ6jJ7tL9zSLimDUKVpgUbLZnNbi",decimals:9},{wrapper:"2ffwMLE4dxSv59eYXhfhfuS81kz6gzf6DZjdBxRHZz9A",underlying:"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3",underlyingDecimals:6,wrapperUnderlyingTokens:"H5tnZcfHCzHueNnfd6foeBBUUW4g7qXKt6rKzT7wg6oP",mint:"FTT9rBBrYwcHam4qLvkzzzhrsihYMbZ3k6wJbdoahxAt",decimals:9},{wrapper:"3A85wiQg2REhBVxVS1CjDaS333TBNM2g37BbdNGSMheg",underlying:"CDJWUqTcYTVAKXAVXoQZFes5JUFc7owSeq7eMQcDSbo5",underlyingDecimals:8,wrapperUnderlyingTokens:"764FaQrrREvNTpaH2yXyrPZgVBaXA7AXM8vyCaevXitD",mint:"BtX7AfzEJLnU8KQR1AgHrhGH5s2AHUTbfjhUQP8BhPvi",decimals:10},{wrapper:"7hWjnVC6FNkmmgjq88LEnRycrKvxVB1MsJ6FQcrvxe4n",underlying:"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E",underlyingDecimals:6,wrapperUnderlyingTokens:"B22gDMgN2tNWmvyzhb5tamJKanWcUUUw2zN3h3qjgQg8",mint:"9999j2A8sXUtHtDoQdk528oVzhaKBsXyRGZ67FKGoi7H",decimals:9},{wrapper:"8zooyPZrq2mth917VrHLtNTk6GvAhc2KgdB4DGBXYyke",underlying:"AUrMpCDYYcPuHhyNX8gEEqbmDPFUpBpHrNW3vPeCFn5Z",underlyingDecimals:9,wrapperUnderlyingTokens:"7ZZyhVde6ZmnVMuFnrg3mRPHhvfBixLdEo7RnwxTtpF7",mint:"EY3s4nXTzHDiiysmjvj7zWP6yAX3n4xHmXkJWD1w1tGP",decimals:15},{wrapper:"93qsLbASEG8DmtSB2MEVaa25KvEm2afh5rzbaAJHLi5A",underlying:"7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs",underlyingDecimals:8,wrapperUnderlyingTokens:"4fUL9yLbFZEuG32SaCjWqJXwDTBFNnipteBWxMvvFoC8",mint:"KNVfdSJyq1pRQk9AKKv1g5uyGuk6wpm4WG16Bjuwdma",decimals:9},{wrapper:"ACvLVgR3UKdDB3b1QapsbJsPXaUrBPdJGDfiFnMYMXoz",underlying:"F6v4wfAdJB8D8p77bMXZgYt8TDKsYxLYxH5AFhUkYx9W",underlyingDecimals:6,wrapperUnderlyingTokens:"AvqMJWHsZscPWTAUcj8dZi2ch6XQEHMpiCMprfFovaU",mint:"LUNGEjUXyP48nrC1GYY5o4eTAkwm4RdX8BxFUxWJBLB",decimals:9},{wrapper:"AnKLLfpMcceM6YXtJ9nGxYekVXqfWy8WNsMZXoQTCVQk",underlying:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",underlyingDecimals:6,wrapperUnderlyingTokens:"77XHXCWYQ76E9Q3uCuz1geTaxsqJZf9RfX5ZY7yyLDYt",mint:"JEFFSQ3s8T3wKsvp4tnRAsUBW7Cqgnf8ukBZC4C8XBm1",decimals:9},{wrapper:"CGxMr5UrTjApBjU656N9NBAsGby4fWs1KgVtueQ8WKt6",underlying:"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3",underlyingDecimals:6,wrapperUnderlyingTokens:"7dVPR6jx3hKyNfuHPo3WtWdUpH4eh4Up4rfFhLHZqwy3",mint:"FTT8cGNp3rfTC6c44uPTuEFLqmsVDhjd2BhH65v2uppr",decimals:8},{wrapper:"D231Uoh24bXtUtWN51ZbFAFSBmGT3zuuEAHZNuCmtRjN",underlying:"CDJWUqTcYTVAKXAVXoQZFes5JUFc7owSeq7eMQcDSbo5",underlyingDecimals:8,wrapperUnderlyingTokens:"C39Wq6X98TLcrnYCMkcHQhwUurkQMUdibUCpf2fVBDsm",mint:"FACTQhZBfRzC7A76antnpAoZtiwYmUfdAN8wz7e8rxC5",decimals:9},{wrapper:"EhQqUmkUXXnxmV7yA6PDrQWvLgSd9HkrwdDKk1B5m6Tc",underlying:"CbNYA9n3927uXUukee2Hf4tm3xxkffJPPZvGazc2EAH1",underlyingDecimals:8,wrapperUnderlyingTokens:"8YC5eCS99umbK9K9LnHnTMMjnr7EWg1gam5maNB6uf9d",mint:"EU9aLffrTckFCs16da6CppHy63fAxMPF9ih1erQTuuRt",decimals:9},{wrapper:"EwWpia5t9Twiwdi8ghK8e8JHaf6ShNU9jmoYpvdZhBwC",underlying:"9vMJfxuKxXBoEa7rM12mYLMwTacLMLDJqHozw96WQL8i",underlyingDecimals:6,wrapperUnderlyingTokens:"9YB1zRL4ETuQFG8ZK1yD4GHBVDmH81EzwuSj75zdnKhK",mint:"UST8SCn7jrqsq51odVLqcmvnC658HkqrKrPL3w2hHQ7",decimals:8},{wrapper:"F9TsAsh5RirU3LqyTJECLQEGXnF4RQT7ckvexCP1KNTu",underlying:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",underlyingDecimals:6,wrapperUnderlyingTokens:"BSTjdztBrsptuxfz9JHS31Wc9CknpLeL1wqZjeVs1Ths",mint:"AEUT5uFm1D575FVCoQd5Yq891FJEqkncZUbBFoFcAhTV",decimals:9},{wrapper:"FCgoT8RpsopdM5QT6AB98NUfUnDnu7y865MFpRx93JrS",underlying:"EzfgjvkSwthhgHaceR3LnKXUoRkP6NUhfghdaHAj1tUv",underlyingDecimals:8,wrapperUnderlyingTokens:"5yugfArBAUZJJBUCRWPuiLyi6CWp1f67H9xgg3hcgSkx",mint:"FTT9GrHBVHvDeUTgLU8FxVJouGqg9uiWGmmjETdm32Sx",decimals:9},{wrapper:"FDGtFWVhEb1zxnaW2FzogeGDxLoAV7Cu9XdNYPEVwqt",underlying:"8wv2KAykQstNAj2oW6AHANGBiFKVFhvMiyyzzjhkmGvE",underlyingDecimals:6,wrapperUnderlyingTokens:"4R6PmC8BJcPDBsEMGpXpLCnFFkUZhEgZy6pMNtc2LqA4",mint:"KUANeD8EQvwpT1W7QZDtDqctLEh2FfSTy5pThE9CogT",decimals:9},{wrapper:"FPuYMuodknZuQKHA8Wp4PBbp52Qu8nK2oAuwedp2WfM3",underlying:"9vMJfxuKxXBoEa7rM12mYLMwTacLMLDJqHozw96WQL8i",underlyingDecimals:6,wrapperUnderlyingTokens:"GxpyQZi5VkZDSq5TUycMau11sCkQkVCa8xYhBgiPMsyK",mint:"UST98bfV6EASdTFQrRwCBczpehdMFwYCUdLT5tEbhpW",decimals:9},{wrapper:"Ffxi5TSpFV9NeV5KyNDCC7fWnFoFd2bDcL1eViSAE2M2",underlying:"CASHVDm2wsJXfhj6VWxb7GiMdoLc17Du7paH4bNr5woT",underlyingDecimals:6,wrapperUnderlyingTokens:"5s2et753hMXV945U3p5uz6RQqMkZGCPEjKjNPdUcCLLF",mint:"CASHedBw9NfhsLBXq1WNVfueVznx255j8LLTScto3S6s",decimals:8},{wrapper:"G4gRGymKo7MGzGZup12JS39YVCvy8YMM6KY9AmcKi5iw",underlying:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",underlyingDecimals:6,wrapperUnderlyingTokens:"AQhP39mE4o6BYNwnwYqnz7ZobkPBSLpCg8WvEESq1viZ",mint:"88881Hu2jGMfCs9tMu5Rr7Ah7WBNBuXqde4nR5ZmKYYy",decimals:8},{wrapper:"GiLSv94Wwyd6suH57Fu6HjEKsMxhNGfEwKn9vT22me1p",underlying:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",underlyingDecimals:6,wrapperUnderlyingTokens:"3cjAWoyDcco8UVCN17keNUNHoyz37ctgDa7G6zkeb81Y",mint:"T8KdT8hDzNhbGx5sjpEUxepnbDB1TZoCa7vtC5JjsMw",decimals:8},{wrapper:"GpkFF2nPfjUcsavgDGscxaUEQ2hYJ563AXXtU8ohiZ7c",underlying:"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E",underlyingDecimals:6,wrapperUnderlyingTokens:"6hYDFhZ5ddfzoqaAbzRHm8mzG2MQzYQV9295sQHsvNBV",mint:"SBTCB6pWqeDo6zGi9WVRMLCsKsN6JiR1RMUqvLtgSRv",decimals:8},{wrapper:"fvSvtHNFuDHrAN82YEyBApRs3U6vUGCLzKGMuPmCaF8",underlying:"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk",underlyingDecimals:6,wrapperUnderlyingTokens:"4JWyJ4ZYsQ8uiYue2tTEqcHcFXrDuaQ1rsyjNFfrZm65",mint:"SL819j8K9FuFPL84UepVcFkEZqDUUvVzwDmJjCHySYj",decimals:8}];const lo={version:"0.1.0",name:"jupiter",instructions:[{name:"mercurialExchange",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"swapState",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"poolAuthority",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"sourceTokenAccount",isMut:!0,isSigner:!1},{name:"destinationTokenAccount",isMut:!0,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"saberExchange",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"swap",isMut:!1,isSigner:!1},{name:"swapAuthority",isMut:!1,isSigner:!1},{name:"userAuthority",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"inputUserAccount",isMut:!0,isSigner:!1},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"outputUserAccount",isMut:!0,isSigner:!1},{name:"outputTokenAccount",isMut:!0,isSigner:!1},{name:"feesTokenAccount",isMut:!0,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"saberSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"swap",isMut:!1,isSigner:!1},{name:"swapAuthority",isMut:!1,isSigner:!1},{name:"userAuthority",isMut:!1,isSigner:!1},{name:"inputUserAccount",isMut:!0,isSigner:!1},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"outputUserAccount",isMut:!0,isSigner:!1},{name:"outputTokenAccount",isMut:!0,isSigner:!1},{name:"feesTokenAccount",isMut:!0,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"saberAddDecimalsDeposit",accounts:[{name:"addDecimalsProgram",isMut:!1,isSigner:!1},{name:"wrapper",isMut:!1,isSigner:!1},{name:"wrapperMint",isMut:!0,isSigner:!1},{name:"wrapperUnderlyingTokens",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!0},{name:"userUnderlyingTokens",isMut:!0,isSigner:!1},{name:"userWrappedTokens",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"saberAddDecimalsWithdraw",accounts:[{name:"addDecimalsProgram",isMut:!1,isSigner:!1},{name:"wrapper",isMut:!1,isSigner:!1},{name:"wrapperMint",isMut:!0,isSigner:!1},{name:"wrapperUnderlyingTokens",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!0},{name:"userUnderlyingTokens",isMut:!0,isSigner:!1},{name:"userWrappedTokens",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"senchaExchange",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"swap",isMut:!0,isSigner:!1},{name:"userAuthority",isMut:!1,isSigner:!1},{name:"inputUserAccount",isMut:!0,isSigner:!1},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"inputFeesAccount",isMut:!0,isSigner:!1},{name:"outputUserAccount",isMut:!0,isSigner:!1},{name:"outputTokenAccount",isMut:!0,isSigner:!1},{name:"outputFeesAccount",isMut:!0,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"serumSwap",accounts:[{name:"market",accounts:[{name:"market",isMut:!0,isSigner:!1},{name:"openOrders",isMut:!0,isSigner:!1},{name:"requestQueue",isMut:!0,isSigner:!1},{name:"eventQueue",isMut:!0,isSigner:!1},{name:"bids",isMut:!0,isSigner:!1},{name:"asks",isMut:!0,isSigner:!1},{name:"coinVault",isMut:!0,isSigner:!1},{name:"pcVault",isMut:!0,isSigner:!1},{name:"vaultSigner",isMut:!1,isSigner:!1}]},{name:"authority",isMut:!1,isSigner:!0},{name:"orderPayerTokenAccount",isMut:!0,isSigner:!1},{name:"coinWallet",isMut:!0,isSigner:!1},{name:"pcWallet",isMut:!0,isSigner:!1},{name:"dexProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"side",type:{defined:"Side"}},{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"tokenSwap",accounts:[{name:"tokenSwapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"swap",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"source",isMut:!0,isSigner:!1},{name:"swapSource",isMut:!0,isSigner:!1},{name:"swapDestination",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"poolFee",isMut:!0,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"stepTokenSwap",accounts:[{name:"tokenSwapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"swap",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"source",isMut:!0,isSigner:!1},{name:"swapSource",isMut:!0,isSigner:!1},{name:"swapDestination",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"poolFee",isMut:!0,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"cropperTokenSwap",accounts:[{name:"tokenSwapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"swap",isMut:!1,isSigner:!1},{name:"swapState",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"source",isMut:!0,isSigner:!1},{name:"swapSource",isMut:!0,isSigner:!1},{name:"swapDestination",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"poolFee",isMut:!0,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"raydiumSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"ammId",isMut:!0,isSigner:!1},{name:"ammAuthority",isMut:!1,isSigner:!1},{name:"ammOpenOrders",isMut:!0,isSigner:!1},{name:"ammTargetOrders",isMut:!0,isSigner:!1},{name:"poolCoinTokenAccount",isMut:!0,isSigner:!1},{name:"poolPcTokenAccount",isMut:!0,isSigner:!1},{name:"serumProgramId",isMut:!1,isSigner:!1},{name:"serumMarket",isMut:!0,isSigner:!1},{name:"serumBids",isMut:!0,isSigner:!1},{name:"serumAsks",isMut:!0,isSigner:!1},{name:"serumEventQueue",isMut:!0,isSigner:!1},{name:"serumCoinVaultAccount",isMut:!0,isSigner:!1},{name:"serumPcVaultAccount",isMut:!0,isSigner:!1},{name:"serumVaultSigner",isMut:!1,isSigner:!1},{name:"userSourceTokenAccount",isMut:!0,isSigner:!1},{name:"userDestinationTokenAccount",isMut:!0,isSigner:!1},{name:"userSourceOwner",isMut:!1,isSigner:!0}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"raydiumSwapV2",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"ammId",isMut:!0,isSigner:!1},{name:"ammAuthority",isMut:!1,isSigner:!1},{name:"ammOpenOrders",isMut:!0,isSigner:!1},{name:"poolCoinTokenAccount",isMut:!0,isSigner:!1},{name:"poolPcTokenAccount",isMut:!0,isSigner:!1},{name:"serumProgramId",isMut:!1,isSigner:!1},{name:"serumMarket",isMut:!0,isSigner:!1},{name:"serumBids",isMut:!0,isSigner:!1},{name:"serumAsks",isMut:!0,isSigner:!1},{name:"serumEventQueue",isMut:!0,isSigner:!1},{name:"serumCoinVaultAccount",isMut:!0,isSigner:!1},{name:"serumPcVaultAccount",isMut:!0,isSigner:!1},{name:"serumVaultSigner",isMut:!1,isSigner:!1},{name:"userSourceTokenAccount",isMut:!0,isSigner:!1},{name:"userDestinationTokenAccount",isMut:!0,isSigner:!1},{name:"userSourceOwner",isMut:!1,isSigner:!0}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"aldrinSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"pool",isMut:!1,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"baseTokenVault",isMut:!0,isSigner:!1},{name:"quoteTokenVault",isMut:!0,isSigner:!1},{name:"feePoolTokenAccount",isMut:!0,isSigner:!1},{name:"walletAuthority",isMut:!1,isSigner:!0},{name:"userBaseTokenAccount",isMut:!0,isSigner:!1},{name:"userQuoteTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"side",type:{defined:"Side"}},{name:"platformFeeBps",type:"u8"}]},{name:"aldrinV2Swap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"pool",isMut:!1,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"baseTokenVault",isMut:!0,isSigner:!1},{name:"quoteTokenVault",isMut:!0,isSigner:!1},{name:"feePoolTokenAccount",isMut:!0,isSigner:!1},{name:"walletAuthority",isMut:!1,isSigner:!0},{name:"userBaseTokenAccount",isMut:!0,isSigner:!1},{name:"userQuoteTokenAccount",isMut:!0,isSigner:!1},{name:"curve",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"side",type:{defined:"Side"}},{name:"platformFeeBps",type:"u8"}]},{name:"cremaTokenSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"pool",isMut:!0,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"userSourceTokenAccount",isMut:!0,isSigner:!1},{name:"userDestinationTokenAccount",isMut:!0,isSigner:!1},{name:"poolSourceTokenAccount",isMut:!0,isSigner:!1},{name:"poolDestinationTokenAccount",isMut:!0,isSigner:!1},{name:"poolTicksAccount",isMut:!0,isSigner:!1},{name:"walletAuthority",isMut:!1,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"lifinityTokenSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"amm",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"sourceInfo",isMut:!0,isSigner:!1},{name:"destinationInfo",isMut:!0,isSigner:!1},{name:"swapSource",isMut:!0,isSigner:!1},{name:"swapDestination",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"feeAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"pythAccount",isMut:!1,isSigner:!1},{name:"pythPcAccount",isMut:!1,isSigner:!1},{name:"configAccount",isMut:!0,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"cykuraSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"signer",isMut:!1,isSigner:!0},{name:"factoryState",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"outputTokenAccount",isMut:!0,isSigner:!1},{name:"inputVault",isMut:!0,isSigner:!1},{name:"outputVault",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"whirlpoolSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"tokenAuthority",isMut:!1,isSigner:!0},{name:"whirlpool",isMut:!0,isSigner:!1},{name:"tokenOwnerAccountA",isMut:!0,isSigner:!1},{name:"tokenVaultA",isMut:!0,isSigner:!1},{name:"tokenOwnerAccountB",isMut:!0,isSigner:!1},{name:"tokenVaultB",isMut:!0,isSigner:!1},{name:"tickArray0",isMut:!0,isSigner:!1},{name:"tickArray1",isMut:!0,isSigner:!1},{name:"tickArray2",isMut:!0,isSigner:!1},{name:"oracle",isMut:!1,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"aToB",type:"bool"},{name:"platformFeeBps",type:"u8"}]},{name:"riskCheckAndFee",accounts:[{name:"tokenLedger",isMut:!0,isSigner:!1},{name:"userDestinationTokenAccount",isMut:!0,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"initializeTokenLedger",accounts:[{name:"tokenLedger",isMut:!0,isSigner:!0},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"setTokenLedger",accounts:[{name:"tokenLedger",isMut:!0,isSigner:!1},{name:"tokenAccount",isMut:!1,isSigner:!1}],args:[]},{name:"createOpenOrders",accounts:[{name:"openOrders",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"dexProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"market",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"tokenLedger",type:{kind:"struct",fields:[{name:"tokenAccount",type:"publicKey"},{name:"amount",type:"u64"}]}}],types:[{name:"Swap",type:{kind:"struct",fields:[{name:"tokens",type:"u64"},{name:"minTokens",type:"u64"},{name:"side",type:{defined:"Side"}}]}},{name:"Swap",type:{kind:"struct",fields:[{name:"tokens",type:"u64"},{name:"minTokens",type:"u64"},{name:"side",type:{defined:"Side"}}]}},{name:"Swap",type:{kind:"struct",fields:[{name:"amountIn",type:"u64"},{name:"minimumAmountOut",type:"u64"}]}},{name:"Swap",type:{kind:"struct",fields:[{name:"amount",type:"u64"},{name:"otherAmountThreshold",type:"u64"},{name:"sqrtPriceLimit",type:"u128"},{name:"amountSpecifiedIsInput",type:"bool"},{name:"aToB",type:"bool"}]}},{name:"SwapInstrution",type:{kind:"enum",variants:[{name:"Swap",fields:[{defined:"Swap"}]}]}},{name:"Side",type:{kind:"enum",variants:[{name:"Bid"},{name:"Ask"}]}},{name:"Direction",type:{kind:"enum",variants:[{name:"LeftToRight"},{name:"RightToLeft"}]}}],errors:[{code:6e3,name:"SlippageToleranceExceeded",msg:"Slippage tolerance exceeded"},{code:6001,name:"InvalidTokenLedger",msg:"Invalid token ledger"},{code:6002,name:"MissingTokenLedger",msg:"Missing token ledger"},{code:6003,name:"MissingMercurialExchangeTokenAccount",msg:"Missing mercurial exchange token account"},{code:6004,name:"LedgerTokenAccountDoesNotMatch",msg:"Ledger token account does not match"},{code:6005,name:"MissingPlatformFeeAccount",msg:"Missing platform fee account"},{code:6006,name:"InvalidCalculation",msg:"Invalid calculation"}]},ho=new i.PublicKey("So11111111111111111111111111111111111111112"),po=new i.PublicKey("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),fo=new i.PublicKey("DESVgJVGajEgKGXhb6XmqDHGz3VjdgP7rEVESBgxmroY"),mo={devnet:"https://api.jup.ag/api/markets/cache/devnet","mainnet-beta":"https://cache.jup.ag/markets?v=3",testnet:"https://api.jup.ag/api/markets/cache/devnet"},go={devnet:"https://api.jup.ag/api/tokens/devnet",testnet:"https://api.jup.ag/api/markets/devnet","mainnet-beta":"https://cache.jup.ag/tokens"},yo=5e3,wo=new i.PublicKey("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),bo=new i.PublicKey("AMM55ShdkoGRB5jVYPjWziwk8m5MpwyDgsMWHaMSQWH6"),vo=new i.PublicKey("CURVGoZn8zycx6FXwwevgBTB2gVvdbGTEpvMJDbgs2t4"),_o=new i.PublicKey("DecZY86MU5Gj7kppfUCEmd4LbXXuyZH1yHaP2NTqdiZB"),Ao=new i.PublicKey("CTMAxxk34HjKWxQ3QLZK1HpaLXmBveao3ESePXbiyfzh"),So=new i.PublicKey("SCHAtsf8mbjyjiv4LkhLKutTf6JnZAbdJKFkXQNMFHZ"),ko=new i.PublicKey("EewxydAPCCVuNEyrVN68PuSYdQ7wKn27V9Gjeoi8dy3S"),Eo=new i.PublicKey("6MLxLqiXaaSUpkgMnWDTuejNZEz3kE7k2woyHGVFw319"),To=new i.PublicKey("BUX7s2ef2htTGb2KKoPHWkmzxPj4nTWMWRgs5CSbQxf9"),Io=new i.PublicKey("MERLuDFBMmsHnsBPZw2sDQZHvXFMwp8EdjudcU2HKky"),Po=new i.PublicKey("whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc"),xo=new i.PublicKey("cysPXAjehMpVKUapzbMCCnpFxUFFryEWEaLgnb9NrR8"),Mo=new i.PublicKey("DBsMwKfeoUHhxMi9x6wd2AsT12UwUCssjNbUzu1aKgqj"),Oo=["StepAscQoEioFxxWGnh2sLBDFp9d8rvKz2Yp39iDpyT","DubwWZNWiNGMMeeQHPnMATNj77YZPZSAz2WVR5WjLJqz"],Bo=Object.freeze({TransactionNotConfirmed:{code:7e3,name:"TransactionNotConfirmed",msg:"Transaction was not confirmed"},BalancesNotExtractedProperly:{code:7001,name:"BalancesNotExtractedProperly",msg:"Balances cannot be extracted properly"},...lo.errors.reduce(((e,t)=>({...e,[t.name]:t})),{})}),Do=!1;class Ro extends s.Ar{constructor(e){const t=(0,s.Ik)(32);super(t.span,e),this.layout=void 0,this.layout=t}getSpan(e,t){return this.layout.getSpan(e,t)}decode(e,t){return new i.PublicKey(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(e.toBuffer(),t,n)}}const Uo=e=>new Ro(e);class Lo extends s.Ar{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1?arguments[1]:void 0;const n=(0,s.Ik)(e);super(n.span,t),this.layout=void 0,this.layout=n}getSpan(e,t){return this.layout.getSpan(e,t)}decode(e,t){return new r.u64(this.layout.decode(e,t),10,"le")}encode(e,t,n){return this.layout.encode(e.toArrayLike(uo,"le",this.layout.span),t,n)}}const Co=e=>new Lo(8,e),No=e=>new Lo(16,e),Fo=(0,s.n_)([(0,s.u8)("version"),(0,s.u8)("isInitialized"),(0,s.u8)("nonce"),Uo("ammId"),Uo("serumProgramId"),Uo("serumMarket"),Uo("tokenProgramId"),Uo("tokenAAccount"),Uo("tokenBAccount"),Uo("poolMint"),Uo("mintA"),Uo("mintB")]),Wo=(0,s.n_)([(0,s.u8)("isInitialized"),Uo("stateOwner"),Uo("feeOwner"),Co("initialSupply"),Co("returnFeeNumerator"),Co("fixedFeeNumerator"),Co("feeDenominator"),(0,s.u8)("curveType"),(0,s.Ik)(32,"curveParameters")]),zo=new i.PublicKey("3hsU1VgsBgBgz5jWiqdw9RfGU6TpWdCmdah1oi4kF3Tq"),jo=(e,t)=>{const n=t.owner,r=Fo.decode(t.data),[i]=(0,Hn.findProgramAddressSync)([e.toBuffer()],n);return{programId:n,authority:i,version:r.version,isInitialized:Boolean(r.isInitialized),nonce:r.nonce,ammId:r.ammId,serumProgramId:r.serumProgramId,tokenProgramId:r.tokenProgramId,tokenAAccount:r.tokenAAccount,tokenBAccount:r.tokenBAccount,serumMarket:r.serumMarket,poolMint:r.poolMint,mintA:r.mintA,mintB:r.mintB}},qo={Bid:{bid:{}},Ask:{ask:{}}},Ko=new i.PublicKey("JUP2jxvXaqu7NQY1GmNF4m1vodw12LVXYxbFL2uJvfo"),Vo=new Vn(lo,Ko,{}),Ho=[new i.PublicKey("7h51TX1pNvSaNyjg4koKroJqoe7atKB7xWUfir7ZqX81"),new i.PublicKey("HgeLVK1nJ1kNdWSUNCKj6DfGqfhwgx67dfGPRcBSdE2d"),new i.PublicKey("8ME9HwwchNknEVrcCSKYAQCa1YAYi3LZrEXJrY4ZNkkg"),new i.PublicKey("Edg9J3CMky9AVJq2WrSar2JR38jFkg4S7vAW7Xsix8oV"),new i.PublicKey("B5mW68TkDewnKvWNc2trkmmdSRxcCjZz3Yd9BWxQTSRU"),new i.PublicKey("7E3TDrnS2zEp8uVri8EtPU8MyQ3qjLTc6cCGJAnAM48p")],Go=Ho[Math.floor(Math.random()*Ho.length)];function Zo(e,t,n,i){return{swapProgram:Io,swapState:e.ammId,tokenProgram:r.TOKEN_PROGRAM_ID,poolAuthority:e.authority,userTransferAuthority:i,sourceTokenAccount:t,destinationTokenAccount:n}}function Qo(e,t,n,i){const[o]=(0,Hn.findProgramAddressSync)([new Uint8Array(uo.from("amm authority".replace("\xa0"," "),"utf-8"))],wo);if(!e.serumMarketKeys)throw new Error("RaydiumAmm is missing serumMarketKeys");return{swapProgram:wo,tokenProgram:r.TOKEN_PROGRAM_ID,ammId:e.ammId,ammAuthority:o,ammOpenOrders:e.ammOpenOrders,poolCoinTokenAccount:e.poolCoinTokenAccount,poolPcTokenAccount:e.poolPcTokenAccount,serumProgramId:e.serumProgramId,serumMarket:e.serumMarket,serumBids:e.serumMarketKeys.serumBids,serumAsks:e.serumMarketKeys.serumAsks,serumEventQueue:e.serumMarketKeys.serumEventQueue,serumCoinVaultAccount:e.serumMarketKeys.serumCoinVaultAccount,serumPcVaultAccount:e.serumMarketKeys.serumPcVaultAccount,serumVaultSigner:e.serumMarketKeys.serumVaultSigner,userSourceTokenAccount:t,userDestinationTokenAccount:n,userSourceOwner:i}}function Xo(e,t,n,o,s,a){const u=(0,Hn.createProgramAddressSync)([e.address.toBuffer(),e.decoded.vaultSignerNonce.toArrayLike(uo,"le",8)],e.programId);return{market:{market:e.address,openOrders:t,requestQueue:e.decoded.requestQueue,eventQueue:e.decoded.eventQueue,bids:e.bidsAddress,asks:e.asksAddress,coinVault:e.decoded.baseVault,pcVault:e.decoded.quoteVault,vaultSigner:u},authority:a,orderPayerTokenAccount:n,coinWallet:o,pcWallet:s,dexProgram:e.programId,tokenProgram:r.TOKEN_PROGRAM_ID,rent:i.SYSVAR_RENT_PUBKEY}}function Jo(e){let{swapLayout:t,userSourceTokenAccount:n,userDestinationTokenAccount:r,userTransferAuthority:i,inAmount:o,minimumOutAmount:s,tokenLedger:u,platformFee:c}=e;var l;const d=[];for(const a of t.tokenAccounts)d.push({pubkey:a,isSigner:!1,isWritable:!0});return d.push(...ms(o,u,null===c||void 0===c?void 0:c.feeAccount)),Vo.instruction.mercurialExchange(o?new a.BN(o):o,new a.BN(s),null!==(l=null===c||void 0===c?void 0:c.feeBps)&&void 0!==l?l:0,{accounts:Zo(t,n,r,i),remainingAccounts:d})}function Yo(e){let{market:t,sourceMint:n,openOrdersAddress:r,userSourceTokenAccount:i,userDestinationTokenAccount:o,userTransferAuthority:s,inAmount:u,minimumOutAmount:c,tokenLedger:l,platformFee:d,referrer:h}=e;var p;const{side:f,coinWallet:m,pcWallet:g}=n.equals(t.baseMintAddress)?{side:qo.Ask,coinWallet:i,pcWallet:o}:{side:qo.Bid,coinWallet:o,pcWallet:i};let y=ms(u,l,null===d||void 0===d?void 0:d.feeAccount);return h&&y.push({pubkey:h,isSigner:!1,isWritable:!0}),Vo.instruction.serumSwap(f,u?new a.BN(u):u,new a.BN(c),null!==(p=null===d||void 0===d?void 0:d.feeBps)&&void 0!==p?p:0,{accounts:Xo(t,r,i,m,g,s),remainingAccounts:y})}function $o(e){let{tokenSwapState:t,sourceMint:n,userSourceTokenAccount:i,userDestinationTokenAccount:o,userTransferAuthority:s,inAmount:u,minimumOutAmount:c,tokenLedger:l,platformFee:d,isStep:h}=e;var p;const[f,m]=n.equals(t.mintA)?[t.tokenAccountA,t.tokenAccountB]:[t.tokenAccountB,t.tokenAccountA];return(h?Vo.instruction.stepTokenSwap:Vo.instruction.tokenSwap)(u?new a.BN(u):u,new a.BN(c),null!==(p=null===d||void 0===d?void 0:d.feeBps)&&void 0!==p?p:0,{accounts:{tokenSwapProgram:t.programId,tokenProgram:r.TOKEN_PROGRAM_ID,swap:t.address,authority:t.authority,userTransferAuthority:s,source:i,swapSource:f,swapDestination:m,destination:o,poolMint:t.poolToken,poolFee:t.feeAccount},remainingAccounts:ms(u,l,null===d||void 0===d?void 0:d.feeAccount)})}function es(e){let{poolState:t,sourceMint:n,userSourceTokenAccount:i,userDestinationTokenAccount:o,userTransferAuthority:s,inAmount:u,minimumOutAmount:c,tokenLedger:l,platformFee:d}=e;var h;const[p,f]=n.equals(t.token0Mint)?[t.token0Reserves,t.token1Reserves]:[t.token1Reserves,t.token0Reserves],[m,g]=n.equals(t.token0Mint)?[t.token0Fees,t.token1Fees]:[t.token1Fees,t.token0Fees];return Vo.instruction.senchaExchange(u?new a.BN(u):u,new a.BN(c),null!==(h=null===d||void 0===d?void 0:d.feeBps)&&void 0!==h?h:0,{accounts:{swapProgram:t.programId,tokenProgram:r.TOKEN_PROGRAM_ID,swap:t.ammId,userAuthority:s,inputUserAccount:i,inputTokenAccount:p,inputFeesAccount:m,outputUserAccount:o,outputTokenAccount:f,outputFeesAccount:g},remainingAccounts:ms(u,l,null===d||void 0===d?void 0:d.feeAccount)})}function ts(e){let{poolState:t,feeAccount:n,sourceMint:i,userSourceTokenAccount:o,userDestinationTokenAccount:s,userTransferAuthority:u,inAmount:c,minimumOutAmount:l,tokenLedger:d,platformFee:h}=e;var p;const[f,m]=i.equals(t.mintA)?[t.tokenAAccount,t.tokenBAccount]:[t.tokenBAccount,t.tokenAAccount];return Vo.instruction.cropperTokenSwap(c?new a.BN(c):c,new a.BN(l),null!==(p=null===h||void 0===h?void 0:h.feeBps)&&void 0!==p?p:0,{accounts:{tokenSwapProgram:t.programId,tokenProgram:r.TOKEN_PROGRAM_ID,swap:t.ammId,swapState:zo,authority:t.authority,userTransferAuthority:u,source:o,swapSource:f,swapDestination:m,destination:s,poolMint:t.poolMint,poolFee:n},remainingAccounts:ms(c,d,null===h||void 0===h?void 0:h.feeAccount)})}function ns(e){let{raydiumAmm:t,userSourceTokenAccount:n,userDestinationTokenAccount:r,userTransferAuthority:i,inAmount:o,minimumOutAmount:s,tokenLedger:u,platformFee:c}=e;var l;return Vo.instruction.raydiumSwapV2(o?new a.BN(o):o,new a.BN(s),null!==(l=null===c||void 0===c?void 0:c.feeBps)&&void 0!==l?l:0,{accounts:Qo(t,n,r,i),remainingAccounts:ms(o,u,null===c||void 0===c?void 0:c.feeAccount)})}function rs(e){let{poolState:t,sourceMint:n,userSourceTokenAccount:i,userDestinationTokenAccount:o,userTransferAuthority:s,inAmount:u,minimumOutAmount:c,tokenLedger:l,platformFee:d}=e;var h;const[p,f,m]=n.equals(t.baseTokenMint)?[qo.Ask,i,o]:[qo.Bid,o,i];return Vo.instruction.aldrinSwap(u?new a.BN(u):u,new a.BN(c),p,null!==(h=null===d||void 0===d?void 0:d.feeBps)&&void 0!==h?h:0,{accounts:{swapProgram:bo,pool:t.address,poolSigner:t.poolSigner,poolMint:t.poolMint,baseTokenVault:t.baseTokenVault,quoteTokenVault:t.quoteTokenVault,feePoolTokenAccount:t.feePoolTokenAccount,walletAuthority:s,userBaseTokenAccount:f,userQuoteTokenAccount:m,tokenProgram:r.TOKEN_PROGRAM_ID},remainingAccounts:ms(u,l,null===d||void 0===d?void 0:d.feeAccount)})}function is(e){let{poolState:t,sourceMint:n,userSourceTokenAccount:i,userDestinationTokenAccount:o,curve:s,userTransferAuthority:u,inAmount:c,minimumOutAmount:l,tokenLedger:d,platformFee:h}=e;var p;const[f,m,g]=n.equals(t.baseTokenMint)?[qo.Ask,i,o]:[qo.Bid,o,i];return Vo.instruction.aldrinV2Swap(c?new a.BN(c):c,new a.BN(l),f,null!==(p=null===h||void 0===h?void 0:h.feeBps)&&void 0!==p?p:0,{accounts:{swapProgram:vo,pool:t.address,poolSigner:t.poolSigner,poolMint:t.poolMint,baseTokenVault:t.baseTokenVault,quoteTokenVault:t.quoteTokenVault,feePoolTokenAccount:t.feePoolTokenAccount,walletAuthority:u,userBaseTokenAccount:m,userQuoteTokenAccount:g,curve:s,tokenProgram:r.TOKEN_PROGRAM_ID},remainingAccounts:ms(c,d,null===h||void 0===h?void 0:h.feeAccount)})}function os(e){let{poolState:t,sourceMint:n,userSourceTokenAccount:i,userDestinationTokenAccount:o,userTransferAuthority:s,inAmount:u,minimumOutAmount:c,tokenLedger:l,platformFee:d}=e;var h;const[p,f]=n.equals(t.mintA)?[t.tokenAAccount,t.tokenBAccount]:[t.tokenBAccount,t.tokenAAccount];return Vo.instruction.cremaTokenSwap(u?new a.BN(u):u,new a.BN(c),null!==(h=null===d||void 0===d?void 0:d.feeBps)&&void 0!==h?h:0,{accounts:{swapProgram:t.programId,pool:t.ammId,poolSigner:t.authority,userSourceTokenAccount:i,userDestinationTokenAccount:o,poolSourceTokenAccount:p,poolDestinationTokenAccount:f,poolTicksAccount:t.ticksKey,walletAuthority:s,tokenProgram:r.TOKEN_PROGRAM_ID},remainingAccounts:ms(u,l,null===d||void 0===d?void 0:d.feeAccount)})}function ss(e,t,n,i,o){var s;const u=[];return null!==o&&void 0!==o&&o.feeAccount&&u.push({pubkey:o.feeAccount,isSigner:!1,isWritable:!0}),Vo.instruction.riskCheckAndFee(new a.BN(n),null!==(s=null===o||void 0===o?void 0:o.feeBps)&&void 0!==s?s:0,{accounts:{tokenLedger:i,userDestinationTokenAccount:e,userTransferAuthority:t,tokenProgram:r.TOKEN_PROGRAM_ID},remainingAccounts:u})}function as(e,t){return Vo.instruction.setTokenLedger({accounts:{tokenLedger:e,tokenAccount:t}})}function us(e,t,n,i,o){const s=t.equals(e.state.tokenA.mint)?e.state.tokenB.adminFeeAccount:e.state.tokenA.adminFeeAccount,[a,u]=t.equals(e.state.tokenA.mint)?[e.state.tokenA.reserve,e.state.tokenB.reserve]:[e.state.tokenB.reserve,e.state.tokenA.reserve];return{swapProgram:e.config.swapProgramID,tokenProgram:r.TOKEN_PROGRAM_ID,swap:e.config.swapAccount,swapAuthority:e.config.authority,userAuthority:o,inputUserAccount:n,inputTokenAccount:a,outputUserAccount:i,outputTokenAccount:u,feesTokenAccount:s}}function cs(e){let{stableSwap:t,sourceMint:n,userSourceTokenAccount:r,userDestinationTokenAccount:i,userTransferAuthority:o,inAmount:s,minimumOutAmount:u,tokenLedger:c,platformFee:l}=e;var d;const h=ms(s,c,null===l||void 0===l?void 0:l.feeAccount);return Vo.instruction.saberSwap(s?new a.BN(s):s,new a.BN(u),null!==(d=null===l||void 0===l?void 0:l.feeBps)&&void 0!==d?d:0,{accounts:us(t,n,r,i,o),remainingAccounts:h})}function ls(e){let{addDecimals:t,userSourceTokenAccount:n,userDestinationTokenAccount:i,userTransferAuthority:o,inAmount:s,minimumOutAmount:u,tokenLedger:c,platformFee:l}=e;var d;const h=ms(s,c,null===l||void 0===l?void 0:l.feeAccount);return Vo.instruction.saberAddDecimalsDeposit(s?new a.BN(s):s,new a.BN(u),null!==(d=null===l||void 0===l?void 0:l.feeBps)&&void 0!==d?d:0,{accounts:{addDecimalsProgram:_o,wrapper:t.wrapper,wrapperMint:t.mint,wrapperUnderlyingTokens:t.wrapperUnderlyingTokens,owner:o,userUnderlyingTokens:n,userWrappedTokens:i,tokenProgram:r.TOKEN_PROGRAM_ID},remainingAccounts:h})}function ds(e){let{addDecimals:t,userSourceTokenAccount:n,userDestinationTokenAccount:i,userTransferAuthority:o,inAmount:s,minimumOutAmount:u,tokenLedger:c,platformFee:l}=e;var d;const h=ms(s,c,null===l||void 0===l?void 0:l.feeAccount);return Vo.instruction.saberAddDecimalsWithdraw(s?new a.BN(s):s,new a.BN(u),null!==(d=null===l||void 0===l?void 0:l.feeBps)&&void 0!==d?d:0,{accounts:{addDecimalsProgram:_o,wrapper:t.wrapper,wrapperMint:t.mint,wrapperUnderlyingTokens:t.wrapperUnderlyingTokens,owner:o,userUnderlyingTokens:i,userWrappedTokens:n,tokenProgram:r.TOKEN_PROGRAM_ID},remainingAccounts:h})}function hs(e){let{swapState:t,sourceMint:n,userSourceTokenAccount:i,userDestinationTokenAccount:o,userTransferAuthority:s,inAmount:u,minimumOutAmount:c,tokenLedger:l,platformFee:d}=e;var h;const[p,f]=n.equals(t.tokenAMint)?[t.poolCoinTokenAccount,t.poolPcTokenAccount]:[t.poolPcTokenAccount,t.poolCoinTokenAccount];return Vo.instruction.lifinityTokenSwap(u?new a.BN(u):u,new a.BN(c),null!==(h=null===d||void 0===d?void 0:d.feeBps)&&void 0!==h?h:0,{accounts:{swapProgram:t.programId,authority:t.authority,amm:t.amm,userTransferAuthority:s,sourceInfo:i,destinationInfo:o,swapSource:p,swapDestination:f,poolMint:t.poolMint,feeAccount:t.feeAccount,tokenProgram:r.TOKEN_PROGRAM_ID,pythAccount:t.pythAccount,pythPcAccount:t.pythPcAccount,configAccount:t.configAccount},remainingAccounts:ms(u,l,null===d||void 0===d?void 0:d.feeAccount)})}function ps(e){let{additionalArgs:t,userSourceTokenAccount:n,userDestinationTokenAccount:i,userTransferAuthority:o,inAmount:s,minimumOutAmount:u,tokenLedger:c,platformFee:l}=e;var d;const h=ms(s,c,null===l||void 0===l?void 0:l.feeAccount);return Vo.instruction.cykuraSwap(s?new a.BN(s):s,new a.BN(u),null!==(d=null===l||void 0===l?void 0:l.feeBps)&&void 0!==d?d:0,{accounts:{swapProgram:xo,signer:o,factoryState:Mo,poolState:t.poolAddress,inputTokenAccount:n,outputTokenAccount:i,inputVault:t.inputVault,outputVault:t.outputVault,lastObservationState:t.lastObservationState,coreProgram:xo,tokenProgram:r.TOKEN_PROGRAM_ID},remainingAccounts:h.concat([...t.swapAccountMetas,{pubkey:t.nextObservationState,isSigner:!1,isWritable:!0}])})}function fs(e){let{additionalArgs:t,userSourceTokenAccount:n,userDestinationTokenAccount:i,userTransferAuthority:o,inAmount:s,minimumOutAmount:u,tokenLedger:c,platformFee:l}=e;var d;const[h,p]=t.aToB?[n,i]:[i,n];return Vo.instruction.whirlpoolSwap(s?new a.BN(s):s,new a.BN(u),t.aToB,null!==(d=null===l||void 0===l?void 0:l.feeBps)&&void 0!==d?d:0,{accounts:{swapProgram:Po,tokenProgram:r.TOKEN_PROGRAM_ID,tokenAuthority:o,whirlpool:t.whirlpool,tokenOwnerAccountA:h,tokenVaultA:t.tokenVaultA,tokenOwnerAccountB:p,tokenVaultB:t.tokenVaultB,tickArray0:t.tickArray0,tickArray1:t.tickArray1,tickArray2:t.tickArray2,oracle:t.oracle},remainingAccounts:ms(s,c,null===l||void 0===l?void 0:l.feeAccount)})}function ms(e,t,n){const r=[];return null===e&&r.push({pubkey:t,isSigner:!1,isWritable:!0}),n&&r.push({pubkey:n,isSigner:!1,isWritable:!0}),r}function gs(){return co.map((e=>{const t={wrapper:new i.PublicKey(e.wrapper),underlying:new i.PublicKey(e.underlying),underlyingDecimals:e.underlyingDecimals,wrapperUnderlyingTokens:new i.PublicKey(e.wrapperUnderlyingTokens),mint:new i.PublicKey(e.mint),decimals:e.decimals};return new ws(new ys(t))}))}class ys{constructor(e){this.addDecimals=void 0,this.addDecimals=e}get multiplier(){return 10**(this.addDecimals.decimals-this.addDecimals.underlyingDecimals)}getOutputAmount(e,t){if(this.addDecimals.mint.equals(t))return this.calculateWithdrawOutputAmount(e);if(this.addDecimals.underlying.equals(t))return this.calculateDepositOutputAmount(e);throw new Error(`unknown input token: ${t.toString()}`)}calculateDepositOutputAmount(e){return f().multiply(f().BigInt(e),f().BigInt(this.multiplier))}calculateWithdrawOutputAmount(e){return f().divide(f().BigInt(e),f().BigInt(this.multiplier))}}class ws{constructor(e){this.wrappedToken=void 0,this.id=void 0,this.label="Saber (Decimals)",this.shouldPrefetch=!1,this.wrappedToken=e,this.id=this.wrappedToken.addDecimals.wrapper.toBase58()}getAccountsForUpdate(){return new Array}update(e){}getQuote(e){let{sourceMint:t,amount:n}=e;return{notEnoughLiquidity:!1,inAmount:n,outAmount:f().toNumber(this.wrappedToken.getOutputAmount(n,t)),feeAmount:0,feeMint:t.toBase58(),feePct:0,priceImpactPct:0}}createSwapInstructions(e){return this.wrappedToken.addDecimals.underlying.equals(e.sourceMint)?[ls({addDecimals:this.wrappedToken.addDecimals,...e})]:[ds({addDecimals:this.wrappedToken.addDecimals,...e})]}get reserveTokenMints(){return[this.wrappedToken.addDecimals.underlying,this.wrappedToken.addDecimals.mint]}}function bs(e){return e.reduce(((t,n)=>(e.forEach((e=>{n!==e&&t.push([n,e])})),t)),new Array)}function vs(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map(((n,r)=>e.slice(r*t,(r+1)*t)))}async function _s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return(await Promise.all(vs(t,n).map((t=>{const n=e._buildArgs([t],e.commitment,"base64");return e._rpcRequest("getMultipleAccounts",n).then((e=>{const t=e.result.value;return t.forEach((e=>{if(e){const t=e;t.data=uo.from(e.data[0],e.data[1]),t.owner=new i.PublicKey(t.owner)}})),t})).catch((e=>(console.error("Failed to fetch account infos",e),t.map((()=>null)))))})))).flat()}const As=(e,t)=>t.map((t=>{const n=e.get(t.toString());if(!n)throw new Error(`Account info ${t.toBase58()} missing`);return n})),Ss=e=>e.map((e=>f().BigInt(e.amount))),ks=(0,s.n_)([(0,s._O)("status"),(0,s._O)("nonce"),(0,s._O)("orderNum"),(0,s._O)("depth"),(0,s._O)("coinDecimals"),(0,s._O)("pcDecimals"),(0,s._O)("state"),(0,s._O)("resetFlag"),(0,s._O)("minSize"),(0,s._O)("volMaxCutRatio"),(0,s._O)("amountWaveRatio"),(0,s._O)("coinLotSize"),(0,s._O)("pcLotSize"),(0,s._O)("minPriceMultiplier"),(0,s._O)("maxPriceMultiplier"),(0,s._O)("systemDecimalsValue"),(0,s._O)("minSeparateNumerator"),(0,s._O)("minSeparateDenominator"),(0,s._O)("tradeFeeNumerator"),(0,s._O)("tradeFeeDenominator"),(0,s._O)("pnlNumerator"),(0,s._O)("pnlDenominator"),(0,s._O)("swapFeeNumerator"),(0,s._O)("swapFeeDenominator"),(0,s._O)("needTakePnlCoin"),(0,s._O)("needTakePnlPc"),(0,s._O)("totalPnlPc"),(0,s._O)("totalPnlCoin"),No("poolTotalDepositPc"),No("poolTotalDepositCoin"),No("swapCoinInAmount"),No("swapPcOutAmount"),(0,s._O)("swapCoin2PcFee"),No("swapPcInAmount"),No("swapCoinOutAmount"),(0,s._O)("swapPc2CoinFee"),Uo("poolCoinTokenAccount"),Uo("poolPcTokenAccount"),Uo("coinMintAddress"),Uo("pcMintAddress"),Uo("lpMintAddress"),Uo("ammOpenOrders"),Uo("serumMarket"),Uo("serumProgramId"),Uo("ammTargetOrders"),Uo("poolWithdrawQueue"),Uo("poolTempLpTokenAccount"),Uo("ammOwner"),Uo("pnlOwner")]);class Es{constructor(e,t,n){this.ammId=void 0,this.id=void 0,this.label="Raydium",this.shouldPrefetch=!1,this.coinMint=void 0,this.pcMint=void 0,this.status=void 0,this.serumProgramId=void 0,this.serumMarket=void 0,this.ammOpenOrders=void 0,this.ammTargetOrders=void 0,this.poolCoinTokenAccount=void 0,this.poolPcTokenAccount=void 0,this.serumMarketKeys=void 0,this.coinReserve=void 0,this.pcReserve=void 0,this.feePct=void 0,this.calculator=void 0,this.ammId=e,this.id=e.toBase58();const r=ks.decode(t.data);this.status=r.status,this.coinMint=new i.PublicKey(r.coinMintAddress),this.pcMint=new i.PublicKey(r.pcMintAddress),this.poolCoinTokenAccount=new i.PublicKey(r.poolCoinTokenAccount),this.poolPcTokenAccount=new i.PublicKey(r.poolPcTokenAccount),this.serumProgramId=new i.PublicKey(r.serumProgramId),this.serumMarket=new i.PublicKey(r.serumMarket),this.ammOpenOrders=new i.PublicKey(r.ammOpenOrders),this.ammTargetOrders=new i.PublicKey(r.ammTargetOrders),this.serumMarketKeys=Object.keys(n).reduce(((e,t)=>{if(!n[t])throw new Error(`Could not find ${t} in params`);return e[t]=new i.PublicKey(n[t]),e}),{});const o=r.swapFeeNumerator,s=r.swapFeeDenominator;this.feePct=new(Zn())(o.toString()).div(s.toString()),this.calculator=new ar(new ur(f().BigInt(o),f().BigInt(s)),cr)}static decodeSerumMarketKeysString(e,t,n){const r=o.Market.getLayout(e).decode(n.data),i=(0,Hn.createProgramAddressSync)([t.toBuffer(),r.vaultSignerNonce.toArrayLike(uo,"le",8)],e);return{serumBids:r.bids.toBase58(),serumAsks:r.asks.toBase58(),serumEventQueue:r.eventQueue.toBase58(),serumCoinVaultAccount:r.baseVault.toBase58(),serumPcVaultAccount:r.quoteVault.toBase58(),serumVaultSigner:i.toBase58()}}getAccountsForUpdate(){return[this.ammId,this.poolCoinTokenAccount,this.poolPcTokenAccount,this.ammOpenOrders]}update(e){const[t,n,i,s]=As(e,this.getAccountsForUpdate()),[a,u]=[Es.tokenAmountAccessor(n),Es.tokenAmountAccessor(i)],c=o.OpenOrders.fromAccountInfo(this.ammOpenOrders,s,s.owner),l=ks.decode(t.data);this.coinReserve=a.add(c.baseTokenTotal).sub(new r.u64(String(l.needTakePnlCoin))),this.pcReserve=u.add(c.quoteTokenTotal).sub(new r.u64(String(l.needTakePnlPc)))}static tokenAmountAccessor(e){return r.u64.fromBuffer(e.data.slice(64,72))}getQuote(e){let{sourceMint:t,amount:n}=e;const{coinReserve:r,pcReserve:i}=this;if(!r||!i)throw new Error("Pool token accounts balances not refreshed or empty");const o=this.coinMint.equals(t)?1:0,s=this.calculator.exchange([f().BigInt(r),f().BigInt(i)],f().BigInt(n),o);return{notEnoughLiquidity:!1,inAmount:n,outAmount:f().toNumber(s.expectedOutputAmount),feeAmount:f().toNumber(s.fees),feeMint:t.toBase58(),feePct:this.feePct.toNumber(),priceImpactPct:s.priceImpact.toNumber()}}createSwapInstructions(e){return[ns({raydiumAmm:this,...e})]}get reserveTokenMints(){return[this.coinMint,this.pcMint]}}const Ts=["77quYg4MGneUdjgXCunt9GgM1usmrxKY31twEy3WHwcS","5cLrMai1DsLRYc1Nio9qMTicsWtvzjzZfJPXyAoF4t1Z","EERNEEnBqdGzBS8dd46wwNY5F2kwnaCQ3vsq2fNKGogZ","8sFf9TW3KzxLiBXcDcjAxqabEsRroo4EiRr3UG1xbJ9m","2iDSTGhjJEiRxNaLF27CY6daMYPs5hgYrP2REHd5YD62"];function Is(e){let{market:t,asks:n,bids:r,fromAmount:i,fromMint:o,toMint:s}=e;const a=Ts.includes(t.address.toBase58())?1e-4:4e-4;return o.equals(t.quoteMintAddress)&&s.equals(t.baseMintAddress)?function(e,t,n,r){let i=f().BigInt(0),o=f().BigInt(0),s=f().BigInt(0),a=f().BigInt(0),c=f().BigInt(0);const l=e.quoteSizeLotsToNumber(new(u())(1));let d=l?f().BigInt(Math.floor(n/(1+r)/l)):Jn;const h=f().BigInt(e.baseSizeLotsToNumber(new(u())(1)).toString());for(let[u,w]of Ps(t)){f().equal(o,Jn)&&(o=u),s=u;const e=f().multiply(w,h),t=f().multiply(w,u);if(c=f().add(c,e),f().greaterThanOrEqual(t,d)){const e=f().divide(d,u);a=f().add(a,f().multiply(u,e)),i=f().add(i,f().multiply(h,e)),d=Jn;break}a=f().add(a,f().multiply(u,w)),i=f().add(i,e),d=f().subtract(d,t)}const p=new(Zn())(o.toString()),m=new(Zn())(s.toString()).sub(p).div(p).toNumber(),g=xs(e,new(u())(o.toString())),y=xs(e,new(u())(a.toString()));return{side:"buy",notEnoughLiquidity:f().lessThanOrEqual(c,i),minimum:{in:new(Zn())(g.toString()).mul(h.toString()).mul(1+r).ceil().toNumber(),out:f().toNumber(h)},inAmount:new(Zn())(y.toString()).mul(h.toString()).mul(1+r).ceil().toNumber(),outAmount:f().toNumber(i),feeAmount:new(Zn())(a.toString()).mul(r).toNumber(),priceImpactPct:m,feePct:r}}(t,n,i,a):function(e,t,n,r){let i=f().BigInt(0),o=f().BigInt(0),s=f().BigInt(0),a=f().BigInt(0),c=f().BigInt(n),l=f().BigInt(0);const d=f().BigInt(e.baseSizeLotsToNumber(new(u())(1))),h=f().BigInt(e.quoteSizeLotsToNumber(new(u())(1)));for(const[u,w]of Ps(t)){f().equal(o,Jn)&&(o=u),s=u;const e=f().multiply(d,w),t=f().multiply(w,f().multiply(u,h));if(a=f().add(a,e),f().greaterThanOrEqual(e,c)){const e=f().divide(c,d),t=f().multiply(e,u);i=f().add(i,f().multiply(t,h)),c=f().subtract(c,t),l=f().add(l,f().multiply(e,d));break}i=f().add(i,t),c=f().subtract(c,e),l=f().add(l,e)}let p=new(Zn())(i.toString()).mul(1-r).floor().toNumber();const m=xs(e,new(u())(o.toString())),g=xs(e,new(u())(s.toString())),y=m.minus(g).div(m).toNumber();return{side:"sell",notEnoughLiquidity:f().greaterThan(f().BigInt(n),a),minimum:{in:f().toNumber(d),out:m.mul(f().toNumber(d)).mul(1-r).floor().toNumber()},inAmount:f().toNumber(l),outAmount:p,feeAmount:new(Zn())(f().toNumber(i)).mul(r).round().toNumber(),priceImpactPct:y,feePct:r}}(t,r,i,a)}function*Ps(e){const t=e.isBids;for(const{key:n,quantity:r}of e.slab.items(t)){const e=f().BigInt(n.ushrn(64).toString());yield[e,f().BigInt(r.toString())]}}function xs(e,t){const n=e._decoded.baseLotSize;return n.isZero()?new(Zn())(0):function(e,t){const n=new(Zn())(e.div(t).toString()),r=e.umod(t),i=r.gcd(t);return n.add(new(Zn())(r.div(i).toString()).div(new(Zn())(t.div(i).toString())))}(t.mul(e._decoded.quoteLotSize).mul(e._baseSplTokenMultiplier),n.mul(e._quoteSplTokenMultiplier))}class Ms{constructor(e){this.market=void 0,this.id=void 0,this.label="Serum",this.shouldPrefetch=!1,this._orderbooks=void 0,this.market=e,this.id=e.address.toBase58()}get orderbooks(){return this._orderbooks}getAccountsForUpdate(){return[this.market.asksAddress,this.market.bidsAddress]}update(e){const[t,n]=As(e,this.getAccountsForUpdate()),r=o.Orderbook.decode(this.market,t.data),i=o.Orderbook.decode(this.market,n.data);this._orderbooks={asks:r,bids:i}}getQuote(e){let{sourceMint:t,destinationMint:n,amount:r}=e;if(!this.orderbooks)throw new Error("Failed to find orderbooks");const i=Is({market:this.market,asks:this.orderbooks.asks,bids:this.orderbooks.bids,fromMint:t,toMint:n,fromAmount:r});return{notEnoughLiquidity:i.notEnoughLiquidity,minInAmount:i.minimum.in,minOutAmount:i.minimum.out,inAmount:i.inAmount,outAmount:i.outAmount,feeAmount:i.feeAmount,feeMint:this.market.quoteMintAddress.toBase58(),feePct:i.feePct,priceImpactPct:i.priceImpactPct}}createSwapInstructions(e){var t;if(!e.openOrdersAddress)throw new Error("Missing open orders");return[Yo({market:this.market,openOrdersAddress:e.openOrdersAddress,referrer:null===e||void 0===e||null===(t=e.quoteMintToReferrer)||void 0===t?void 0:t.get(this.market.quoteMintAddress.toBase58()),...e})]}get reserveTokenMints(){return[this.market.baseMintAddress,this.market.quoteMintAddress]}}Ms.getL2=Ps;class Os{constructor(e,t,n){this.firstAmm=void 0,this.secondAmm=void 0,this.reserveTokenMints=void 0,this.shouldSplitSetup=void 0,this.market=void 0,this.shouldPrefetch=!1,this.portion1=0,this.portion2=0,this.firstAmm=e,this.secondAmm=t,this.reserveTokenMints=n,this.shouldSplitSetup=function(e,t){return e instanceof Es||t instanceof Es||e instanceof Ms&&t instanceof Ms}(e,t),this.market=e instanceof Ms?e.market:t instanceof Ms?t.market:null}static create(e,t){if(!function(e,t){return!(e instanceof Ms&&t instanceof Es||e instanceof Es&&t instanceof Ms||e instanceof Ms&&t instanceof Ms)}(e,t))return;const n=bs(e.reserveTokenMints),r=bs(t.reserveTokenMints);for(const i of n)for(const n of r)if(i.every(((e,t)=>e.equals(n[t]))))return new Os(e,t,i)}get id(){return`${this.firstAmm.id}-${this.secondAmm.id}`}get label(){const e=[{label:this.firstAmm.label,portion:this.portion1},{label:this.secondAmm.label,portion:this.portion2}].sort(((e,t)=>t.portion-e.portion));return e.map((e=>{let{label:t,portion:n}=e;return`${t} (${n}%)`})).join(" + ")}getAccountsForUpdate(){return[]}update(e){}getQuote(e){var t,n,r,i;const o=e.sourceMint.toBase58(),s=e.amount;let a={outAmount:0,portion:0,firstQuote:void 0,secondQuote:void 0};for(let v=100;v-=5;v>0){const t=Math.floor(s*v/100),n=s-t,r=this.firstAmm.getQuote({...e,amount:t}),i=this.secondAmm.getQuote({...e,amount:n}),o=r.outAmount+i.outAmount;if(o<a.outAmount)break;a={outAmount:o,portion:v,firstQuote:r,secondQuote:i}}if(!a.firstQuote||!a.secondQuote)throw new Error("Unreachable: There was no better solution than getting 0 outAmount");const{outAmount:u,portion:c,firstQuote:l,secondQuote:d}=a,h=c,p=100-h;this.portion1=h,this.portion2=p;let f={amount:l.feeAmount,mint:l.feeMint},m={amount:d.feeAmount,mint:d.feeMint};f.mint!==m.mint&&(f.mint!==o&&(f={amount:Math.floor(f.amount*s*h/100/a.outAmount),mint:o}),m.mint!==o&&(m={amount:Math.floor(m.amount*s*p/100/a.outAmount),mint:o}));const g=(h*l.feePct+p*d.feePct)/100,y=(h*l.priceImpactPct+p*d.priceImpactPct)/100,w=l.minInAmount||d.minInAmount?(null!==(t=l.minInAmount)&&void 0!==t?t:0)+(null!==(n=d.minInAmount)&&void 0!==n?n:0):void 0,b=l.minOutAmount||d.minOutAmount?(null!==(r=l.minOutAmount)&&void 0!==r?r:0)+(null!==(i=d.minOutAmount)&&void 0!==i?i:0):void 0;return{notEnoughLiquidity:!1,inAmount:e.amount,outAmount:u,minInAmount:w,minOutAmount:b,feeAmount:f.amount+m.amount,feeMint:f.mint,feePct:g,priceImpactPct:y}}createSwapInstructions(e){const t=e.inAmount;if(null===t)throw new Error("Split trade cannot be used with a null inAmount");const n=Math.floor(t*this.portion1/100),r=t-n;return[...this.firstAmm.createSwapInstructions({...e,inAmount:n,minimumOutAmount:0,platformFee:void 0}),...this.secondAmm.createSwapInstructions({...e,inAmount:r,minimumOutAmount:0,platformFee:void 0}),ss(e.userDestinationTokenAccount,e.userTransferAuthority,e.minimumOutAmount,e.tokenLedger,e.platformFee)]}}const Bs=(e,t)=>e.id!==t.id&&(!(e instanceof ws&&t instanceof ws)&&!(e instanceof Os||t instanceof Os));class Ds{constructor(e){this.stableSwap=void 0,this.id=void 0,this.label="Saber",this.shouldPrefetch=!1,this.tokenAccounts=[],this.calculator=void 0,this.stableSwap=e,this.id=e.config.swapAccount.toBase58(),this.calculator=new ir($n,f().BigInt(this.stableSwap.state.targetAmpFactor.toString()),[Yn,Yn],new ur(this.stableSwap.state.fees.trade.numerator,this.stableSwap.state.fees.trade.denominator))}getAccountsForUpdate(){return[this.stableSwap.state.tokenA.reserve,this.stableSwap.state.tokenB.reserve]}update(e){let t=As(e,this.getAccountsForUpdate());this.tokenAccounts=t.map((e=>{const t=(0,hr.deserializeAccount)(e.data);if(!t)throw new Error("Invalid token account data");return t}))}getQuote(e){let{sourceMint:t,destinationMint:n,amount:r}=e;if(0===this.tokenAccounts.length)throw new Error("Unable to fetch accounts for specified tokens.");const i=new(Zn())(this.stableSwap.state.fees.trade.asFraction.toFixed(4)),[o,s]=this.tokenAccounts[0].mint.equals(t)?[0,1]:[1,0],a=this.calculator.exchange(Ss(this.tokenAccounts),f().BigInt(r),o,s);return{notEnoughLiquidity:!1,inAmount:r,outAmount:f().toNumber(a.expectedOutputAmount),feeAmount:f().toNumber(a.fees),feeMint:n.toBase58(),feePct:i.toNumber(),priceImpactPct:a.priceImpact.toNumber()}}createSwapInstructions(e){return[cs({stableSwap:this.stableSwap,...e})]}get reserveTokenMints(){return[this.stableSwap.state.tokenA.mint,this.stableSwap.state.tokenB.mint]}}const Rs=new r.u64(0);class Us{constructor(e,t){this.numerator=void 0,this.denominator=void 0,this.toString=()=>`${this.numerator.toString()}/${this.denominator.toString()}`,this.numerator=e,this.denominator=t}static fromDecimal(e){return Us.fromFraction(e.toDecimalPlaces(1).mul(10).toNumber(),1e3)}static fromFraction(e,t){const n="number"===typeof e?new r.u64(e.toString()):e,i="number"===typeof t?new r.u64(t.toString()):t;return new Us(n,i)}toDecimal(){return this.denominator.eq(Rs)?new(Zn())(0):new(Zn())(this.numerator.toString()).div(new(Zn())(this.denominator.toString()))}add(e){const t=this.denominator.gcd(e.denominator),n=this.denominator.div(t).mul(e.denominator),i=n.div(this.denominator),o=n.div(e.denominator),s=this.numerator.mul(i),a=e.numerator.mul(o),u=s.add(a);return new Us(new r.u64(u.toString()),new r.u64(n.toString()))}}const Ls=(0,s.n_)([Co("tradeFeeNumerator"),Co("tradeFeeDenominator"),Co("ownerTradeFeeNumerator"),Co("ownerTradeFeeDenominator"),Co("ownerWithdrawFeeNumerator"),Co("ownerWithdrawFeeDenominator")],"fees"),Cs=[(0,s.Ik)(8,"padding"),Uo("lpTokenFreezeVault"),Uo("poolMint"),Uo("baseTokenVault"),Uo("baseTokenMint"),Uo("quoteTokenVault"),Uo("quoteTokenMint"),Uo("poolSigner"),(0,s.u8)("poolSignerNonce"),Uo("authority"),Uo("initializerAccount"),Uo("feeBaseAccount"),Uo("feeQuoteAccount"),Uo("feePoolTokenAccount"),Ls],Ns=(0,s.n_)(Cs),Fs=(0,s.n_)([...Cs,(0,s.u8)("curveType"),Uo("curve")]),Ws=(0,s.n_)([(0,s.Ik)(8,"padding"),Co("amp")]);function zs(e,t){const n=!!t.owner.equals(vo),r=(n?Fs:Ns).decode(t.data),i="curveType"in r?{curveType:r.curveType,curve:r.curve}:{};return{isV2:n,address:e,poolMint:r.poolMint,baseTokenVault:r.baseTokenVault,baseTokenMint:r.baseTokenMint,quoteTokenVault:r.quoteTokenVault,quoteTokenMint:r.quoteTokenMint,poolSigner:r.poolSigner,feeBaseAccount:r.feeBaseAccount,feeQuoteAccount:r.feeQuoteAccount,feePoolTokenAccount:r.feePoolTokenAccount,fees:{traderFee:Us.fromFraction(r.fees.tradeFeeNumerator,r.fees.tradeFeeDenominator),ownerFee:Us.fromFraction(r.fees.ownerTradeFeeNumerator,r.fees.ownerTradeFeeDenominator)},...i}}class js{constructor(e,t,n){if(this.params=void 0,this.id=void 0,this.label="Aldrin",this.shouldPrefetch=!1,this.poolState=void 0,this.tokenAccounts=[],this.calculator=void 0,this.params=n,this.poolState=zs(e,t),this.id=e.toBase58(),1===this.poolState.curveType){const{amp:e}=this.params;if(!e)throw new Error("Amp is required for a stable curve");this.calculator=new sr(f().BigInt(e),new ur(f().BigInt(this.poolState.fees.traderFee.numerator.toString()),f().BigInt(this.poolState.fees.traderFee.denominator.toString())),new ur(f().BigInt(this.poolState.fees.ownerFee.numerator.toString()),f().BigInt(this.poolState.fees.ownerFee.denominator.toString())))}else this.calculator=new ar(new ur(f().BigInt(this.poolState.fees.traderFee.numerator.toString()),f().BigInt(this.poolState.fees.traderFee.denominator.toString())),new ur(f().BigInt(this.poolState.fees.ownerFee.numerator.toString()),f().BigInt(this.poolState.fees.ownerFee.denominator.toString())))}static decodeStableCurveAmp(e){const{amp:t}=Ws.decode(e.data);return 2*t.toNumber()}getAccountsForUpdate(){return[this.poolState.quoteTokenVault,this.poolState.baseTokenVault]}update(e){const t=As(e,this.getAccountsForUpdate());this.tokenAccounts=t.map((e=>{const t=(0,hr.deserializeAccount)(e.data);if(!t)throw new Error("Invalid token account");return t}))}getQuote(e){let{sourceMint:t,amount:n}=e;if(0===this.tokenAccounts.length)throw new Error("Unable to fetch accounts for specified tokens.");let r=new(Zn())(this.poolState.fees.traderFee.numerator.toString()).div(this.poolState.fees.traderFee.denominator.toString()).add(new(Zn())(this.poolState.fees.ownerFee.numerator.toString()).div(this.poolState.fees.ownerFee.denominator.toString()));const i=this.tokenAccounts[0].mint.equals(t)?1:0;let o=this.calculator.exchange(Ss(this.tokenAccounts),f().BigInt(n),i);return{notEnoughLiquidity:!1,inAmount:n,outAmount:f().toNumber(o.expectedOutputAmount),feeAmount:f().toNumber(o.fees),feeMint:t.toBase58(),feePct:r.toNumber(),priceImpactPct:o.priceImpact.toNumber()}}createSwapInstructions(e){if(this.poolState.isV2){if(!this.poolState.curve)throw new Error("Unable to fetch curve account.");const t=this.poolState.curve;return[is({poolState:this.poolState,curve:t,...e})]}return[rs({poolState:this.poolState,...e})]}get reserveTokenMints(){return[this.poolState.baseTokenMint,this.poolState.quoteTokenMint]}}js.accountInfoToAldrinPoolState=zs;const qs=new i.PublicKey("SSwpMgqNDsyV7mAgN9ady4bDVu5ySjmmXejXvy2vLt1"),Ks=new Map([["9W959DqEETiGZocYWCQPaJ6sBmUzgfxXfqGeTEdp3aQP","Orca"],[qs.toBase58(),"Step"],["PSwapMdSai8tjrEXcxFeQth87xC4rRsa4VA5mhGhXkP","Penguin"],["SSwapUtytfBdBn1b9NUGG6foMVPtcWgpRU32HToDUZr","Saros"]]),Vs=(0,s.n_)([(0,s.u8)("version"),(0,s.u8)("isInitialized"),(0,s.u8)("bumpSeed"),Uo("tokenProgramId"),Uo("tokenAccountA"),Uo("tokenAccountB"),Uo("tokenPool"),Uo("mintA"),Uo("mintB"),Uo("feeAccount"),Co("tradeFeeNumerator"),Co("tradeFeeDenominator"),Co("ownerTradeFeeNumerator"),Co("ownerTradeFeeDenominator"),Co("ownerWithdrawFeeNumerator"),Co("ownerWithdrawFeeDenominator"),Co("hostFeeNumerator"),Co("hostFeeDenominator"),(0,s.u8)("curveType"),(0,s.Ik)(32,"curveParameters")]),Hs=(0,s.n_)([(0,s.u8)("version"),(0,s.u8)("isInitialized"),(0,s.u8)("bumpSeed"),Uo("tokenProgramId"),Uo("tokenAccountA"),Uo("tokenAccountB"),Uo("tokenPool"),Uo("mintA"),Uo("mintB"),Uo("feeAccount"),Co("tradeFeeNumerator"),Co("tradeFeeDenominator"),Co("ownerTradeFeeNumerator"),Co("ownerTradeFeeDenominator"),Co("ownerWithdrawFeeNumerator"),Co("ownerWithdrawFeeDenominator"),(0,s.u8)("curveType"),(0,s.Ik)(32,"curveParameters"),(0,s.u8)("poolNonce")]);var Gs;!function(e){e[e.ConstantProduct=0]="ConstantProduct",e[e.Stable=2]="Stable"}(Gs||(Gs={}));class Zs{constructor(e,t,n){if(this.label=void 0,this.id=void 0,this.shouldPrefetch=!1,this.tokenSwapState=void 0,this.curveType=void 0,this.tokenAccounts=[],this.calculator=void 0,this.label=n,this.id=e.toBase58(),this.tokenSwapState=function(e,t){const n=t.owner,r=n.equals(qs)?Hs.decode(t.data):Vs.decode(t.data);if(!r.isInitialized)throw new Error("Invalid token swap state");const[o]=(0,Hn.findProgramAddressSync)([e.toBuffer()],n),s=new i.PublicKey(r.tokenPool),a=new i.PublicKey(r.feeAccount),u=new i.PublicKey(r.tokenAccountA),c=new i.PublicKey(r.tokenAccountB),l=new i.PublicKey(r.mintA),d=new i.PublicKey(r.mintB);return{address:e,programId:n,tokenProgramId:new i.PublicKey(r.tokenProgramId),poolToken:s,feeAccount:a,authority:o,tokenAccountA:u,tokenAccountB:c,mintA:l,mintB:d,tradeFeeNumerator:r.tradeFeeNumerator,tradeFeeDenominator:r.tradeFeeDenominator,ownerTradeFeeNumerator:r.ownerTradeFeeNumerator,ownerTradeFeeDenominator:r.ownerTradeFeeDenominator,ownerWithdrawFeeNumerator:r.ownerWithdrawFeeNumerator,ownerWithdrawFeeDenominator:r.ownerWithdrawFeeDenominator,curveType:r.curveType,curveParameters:r.curveParameters,poolNonce:"poolNonce"in r?r.poolNonce:void 0}}(e,t),this.curveType=this.tokenSwapState.curveType,!(this.curveType in Gs))throw new Error(`curveType ${this.tokenSwapState.curveType} is not supported`);this.tokenSwapState.curveType===Gs.ConstantProduct?this.calculator=new ar(new ur(f().BigInt(this.tokenSwapState.tradeFeeNumerator.toString()),f().BigInt(this.tokenSwapState.tradeFeeDenominator.toString())),new ur(f().BigInt(this.tokenSwapState.ownerTradeFeeNumerator.toString()),f().BigInt(this.tokenSwapState.ownerTradeFeeDenominator.toString()))):this.calculator=new sr(f().BigInt(this.tokenSwapState.curveParameters[0]),new ur(f().BigInt(this.tokenSwapState.tradeFeeNumerator.toString()),f().BigInt(this.tokenSwapState.tradeFeeDenominator.toString())),new ur(f().BigInt(this.tokenSwapState.ownerTradeFeeNumerator.toString()),f().BigInt(this.tokenSwapState.ownerTradeFeeDenominator.toString())))}getAccountsForUpdate(){return[this.tokenSwapState.tokenAccountA,this.tokenSwapState.tokenAccountB]}update(e){const t=As(e,this.getAccountsForUpdate());this.tokenAccounts=t.map((e=>{const t=(0,hr.deserializeAccount)(e.data);if(!t)throw new Error("Invalid token account");return t}))}getQuote(e){let{sourceMint:t,amount:n}=e;if(0===this.tokenAccounts.length)throw new Error("Unable to fetch accounts for specified tokens.");let r=new(Zn())(this.tokenSwapState.tradeFeeNumerator.toString()).div(this.tokenSwapState.tradeFeeDenominator.toString()).add(new(Zn())(this.tokenSwapState.ownerTradeFeeNumerator.toString()).div(this.tokenSwapState.ownerTradeFeeDenominator.toString()));const i=this.tokenAccounts[0].mint.equals(t)?1:0;let o=this.calculator.exchange(Ss(this.tokenAccounts),f().BigInt(Math.floor(n)),i);return{notEnoughLiquidity:!1,inAmount:n,outAmount:f().toNumber(o.expectedOutputAmount),feeAmount:f().toNumber(o.fees),feeMint:t.toBase58(),feePct:r.toNumber(),priceImpactPct:o.priceImpact.toNumber()}}createSwapInstructions(e){return[$o({tokenSwapState:this.tokenSwapState,...e,isStep:this.tokenSwapState.programId.equals(qs)})]}get reserveTokenMints(){return[this.tokenSwapState.mintA,this.tokenSwapState.mintB]}}const Qs=Math.pow(10,10),Xs=(0,s.n_)([(0,s.u8)("version"),(0,s.u8)("isInitialized"),(0,s.u8)("nonce"),Co("amplificationCoefficient"),Co("feeNumerator"),Co("adminFeeNumerator"),(0,s.Jq)("tokenAccountsLength"),Co("precisionFactor"),Co("precisionMultiplierA"),Co("precisionMultiplierB"),Co("precisionMultiplierC"),Co("precisionMultiplierD"),Uo("tokenAccountA"),Uo("tokenAccountB"),Uo("tokenAccountC"),Uo("tokenAccountD")]),Js=(e,t)=>{const n=t.owner,r=Xs.decode(t.data),i=r.tokenAccountsLength,[o]=(0,Hn.findProgramAddressSync)([e.toBuffer()],n),s=[r.precisionMultiplierA.toNumber(),r.precisionMultiplierB.toNumber(),r.precisionMultiplierC.toNumber(),r.precisionMultiplierD.toNumber()].slice(0,i),a=[r.tokenAccountA,r.tokenAccountB,r.tokenAccountC,r.tokenAccountD].slice(0,i);return{programId:n,authority:o,isInitialized:Boolean(r.isInitialized),nonce:r.nonce,ammId:e,amplificationCoefficient:r.amplificationCoefficient.toNumber(),feeNumerator:r.feeNumerator.toNumber(),tokenAccountsLength:i,precisionFactor:r.precisionFactor.toNumber(),precisionMultipliers:s,tokenAccounts:a}};class Ys{constructor(e,t,n){this.params=void 0,this.id=void 0,this.label="Mercurial",this.shouldPrefetch=!1,this.swapLayout=void 0,this.tokenAccounts=[],this.calculator=void 0,this.params=n,this.id=e.toBase58(),this.swapLayout=Js(e,t),this.calculator=new ir(f().BigInt(this.swapLayout.tokenAccountsLength),f().BigInt(this.swapLayout.amplificationCoefficient),this.swapLayout.precisionMultipliers.map((e=>f().BigInt(e))),new ur(f().BigInt(this.swapLayout.feeNumerator),f().BigInt(Qs)))}getAccountsForUpdate(){return this.swapLayout.tokenAccounts}update(e){let t=As(e,this.getAccountsForUpdate());this.tokenAccounts=t.map((e=>(0,hr.deserializeAccount)(e.data))).filter((e=>null!==e))}getQuote(e){let{sourceMint:t,destinationMint:n,amount:r}=e;if(0===this.tokenAccounts.length)throw new Error("Unable to fetch accounts for specified tokens.");const i=this.tokenAccounts.findIndex((e=>e.mint.equals(t))),o=this.tokenAccounts.findIndex((e=>e.mint.equals(n))),s=this.calculator.exchange(Ss(this.tokenAccounts),f().BigInt(r),i,o),a=this.swapLayout.feeNumerator/Qs;return{notEnoughLiquidity:!1,inAmount:r,outAmount:f().toNumber(s.expectedOutputAmount),feeAmount:f().toNumber(s.fees),feeMint:n.toBase58(),feePct:a,priceImpactPct:s.priceImpact.toNumber()}}createSwapInstructions(e){return[Jo({swapLayout:this.swapLayout,...e})]}get reserveTokenMints(){return this.params.tokenMints.map((e=>new i.PublicKey(e)))}}Ys.decodeSwapLayout=Js;class $s{static async getStateFromStateAccount(e){const t=await e.getAccountInfo(zo);if(!t)throw new Error("State account not found");return(e=>{const t=Wo.decode(e.data);return{isInitialized:Boolean(t.isInitialized),stateOwner:t.stateOwner,feeOwner:t.feeOwner,initialSupply:t.initialSupply,returnFeeNumerator:t.returnFeeNumerator.toNumber(),fixedFeeNumerator:t.fixedFeeNumerator.toNumber(),feeDenominator:t.feeDenominator.toNumber(),curveType:t.curveType,curveParameters:t.curveParameters}})(t)}constructor(e,t,n){this.params=void 0,this.id=void 0,this.label="Cropper",this.shouldPrefetch=!1,this.poolState=void 0,this.tokenAccounts=[],this.calculator=void 0,this.feePct=void 0,this.params=n,this.id=e.toBase58(),this.poolState=jo(e,t),this.feePct=new(Zn())(this.params.fixedFeeNumerator).div(this.params.feeDenominator).add(new(Zn())(this.params.returnFeeNumerator).div(this.params.feeDenominator)),this.params.tokenAFeeAccount=new i.PublicKey(this.params.tokenAFeeAccount),this.params.tokenBFeeAccount=new i.PublicKey(this.params.tokenBFeeAccount),this.calculator=new ar(new ur(f().BigInt(this.params.fixedFeeNumerator),f().BigInt(this.params.feeDenominator)),new ur(f().BigInt(this.params.returnFeeNumerator),f().BigInt(this.params.feeDenominator)))}getAccountsForUpdate(){return[this.poolState.tokenAAccount,this.poolState.tokenBAccount]}update(e){const t=As(e,this.getAccountsForUpdate());this.tokenAccounts=t.map((e=>{const t=(0,hr.deserializeAccount)(e.data);if(!t)throw new Error("Invalid token account");return t}))}getQuote(e){let{sourceMint:t,amount:n}=e;if(0===this.tokenAccounts.length)throw new Error("Unable to fetch accounts for specified tokens.");const r=this.tokenAccounts[0].mint.equals(t)?1:0,i=this.calculator.exchange(Ss(this.tokenAccounts),f().BigInt(n),r);return{notEnoughLiquidity:!1,inAmount:n,outAmount:f().toNumber(i.expectedOutputAmount),feeAmount:f().toNumber(i.fees),feeMint:t.toBase58(),feePct:this.feePct.toNumber(),priceImpactPct:i.priceImpact.toNumber()}}createSwapInstructions(e){const t=e.sourceMint.equals(this.poolState.mintA)?this.params.tokenAFeeAccount:this.params.tokenBFeeAccount;return[ts({poolState:this.poolState,feeAccount:t,...e})]}get reserveTokenMints(){return[this.poolState.mintA,this.poolState.mintB]}}$s.decodePoolState=jo;const ea=(e,t)=>{const n=t.owner,r=Fr.decode(t.data),[i]=(0,Hn.findProgramAddressSync)([e.toBuffer()],n);return{programId:n,authority:i,version:r.version,isInitialized:Boolean(r.isInitialized),nonce:r.nonce,ammId:e,tokenProgramId:r.tokenProgramId,tokenAAccount:r.swapTokenA,tokenBAccount:r.swapTokenB,ticksKey:r.ticksKey,mintA:r.tokenAMint,mintB:r.tokenBMint,fee:r.fee,currentSqrtPrice:r.currentSqrtPrice,currentLiquity:r.currentLiquity}};class ta{constructor(e,t){this.id=void 0,this.label="Crema",this.shouldPrefetch=!1,this.ticks=void 0,this.poolState=void 0,this.poolState=ea(e,t),this.id=e.toBase58()}getAccountsForUpdate(){return[this.poolState.ammId,this.poolState.ticksKey]}update(e){const[t,n]=As(e,this.getAccountsForUpdate());this.poolState=ea(this.poolState.ammId,t);const r=Cr(this.poolState.ticksKey,n);if(!r)throw new Error(`Ticks account invalid: ${this.poolState.ticksKey.toBase58()}`);this.ticks=r.data.ticks}getQuote(e){let{sourceMint:t,amount:n}=e;if(!this.ticks)throw new Error("Unable to fetch accounts for ticks.");if(0===n)return{notEnoughLiquidity:!1,inAmount:n,outAmount:0,feeAmount:0,feeMint:t.toBase58(),feePct:this.poolState.fee.toNumber(),priceImpactPct:0};const r=this.poolState.mintA.equals(t)?this.preSwapA(new(Zn())(n)):this.preSwapB(new(Zn())(n));return{notEnoughLiquidity:!1,inAmount:n,outAmount:r.amountOut.toNumber(),feeAmount:r.feeUsed.toNumber(),feeMint:t.toBase58(),feePct:this.poolState.fee.toNumber(),priceImpactPct:r.impact.toNumber()}}preSwapA(e){if(!this.ticks)throw new Error("Unable to fetch accounts for ticks.");let t=zr(this.ticks,this.poolState.currentSqrtPrice,this.poolState.fee,this.poolState.currentLiquity,e),n=this.poolState.currentSqrtPrice.pow(2),r=t.amountOut.div(t.amountUsed).sub(n).div(n).abs();return{...t,impact:r}}preSwapB(e){if(!this.ticks)throw new Error("Unable to fetch accounts for ticks.");let t=jr(this.ticks,this.poolState.currentSqrtPrice,this.poolState.fee,this.poolState.currentLiquity,e),n=this.poolState.currentSqrtPrice.pow(2),r=new(Zn())(1).div(n),i=t.amountOut.div(t.amountUsed).sub(r).div(r).abs();return{...t,impact:i}}createSwapInstructions(e){return[os({poolState:this.poolState,...e})]}get reserveTokenMints(){return[this.poolState.mintA,this.poolState.mintB]}}const na=(0,s.n_)([(0,s.Ik)(8,"discriminator"),Uo("factory"),(0,s.u8)("bump"),Co("index"),Uo("admin"),Uo("token0Reserves"),Uo("token0Mint"),Uo("token0Fees"),Uo("token1Reserves"),Uo("token1Mint"),Uo("token1Fees"),(0,s.u8)("isPaused"),Uo("poolMint"),Co("tradeFeeKbps"),Co("withdrawFeeKbps"),Co("adminTradeFeeKbps"),Co("adminWithdrawFeeKbps")]);class ra{constructor(e,t){this.id=void 0,this.label="Sencha",this.shouldPrefetch=!1,this.poolState=void 0,this.calculator=void 0,this.tokenAccounts=[],this.id=e.toBase58(),this.poolState=((e,t)=>{const n=t.owner,r=na.decode(t.data);return{programId:n,isPaused:Boolean(r.isPaused),bump:r.bump,ammId:e,token0Reserves:r.token0Reserves,token1Reserves:r.token1Reserves,token0Mint:r.token0Mint,token1Mint:r.token1Mint,token0Fees:r.token0Fees,token1Fees:r.token1Fees,poolMint:r.poolMint,tradeFeeKbps:r.tradeFeeKbps.toNumber()}})(e,t),this.calculator=new ar(new ur(f().BigInt(this.poolState.tradeFeeKbps),f().BigInt(1e7)),new ur(Jn,Jn),!1)}get isPaused(){return this.poolState.isPaused}getAccountsForUpdate(){return[this.poolState.token0Reserves,this.poolState.token1Reserves]}update(e){const t=As(e,this.getAccountsForUpdate());this.tokenAccounts=t.map((e=>{const t=(0,hr.deserializeAccount)(e.data);if(!t)throw new Error("Invalid token account");return t}))}getQuote(e){let{sourceMint:t,amount:n}=e;if(0===this.tokenAccounts.length)throw new Error("Unable to fetch accounts for specified tokens.");const r=this.tokenAccounts[0].mint.equals(t)?1:0;let i=this.calculator.exchange(Ss(this.tokenAccounts),f().BigInt(n),r),o=this.poolState.tradeFeeKbps/1e7;return{notEnoughLiquidity:!1,inAmount:n,outAmount:f().toNumber(i.expectedOutputAmount),feeAmount:f().toNumber(i.fees),feeMint:t.toBase58(),feePct:o,priceImpactPct:i.priceImpact.toNumber()}}createSwapInstructions(e){return[es({poolState:this.poolState,...e})]}get reserveTokenMints(){return[this.poolState.token0Mint,this.poolState.token1Mint]}}class ia{constructor(e,t){var n;this.ammAccountInfo=void 0,this.id=void 0,this.label="Lifinity",this.shouldPrefetch=!1,this.swapState=void 0,this.poolInfo=void 0,this.accountInfos=[],this.ammAccountInfo=t,this.id=e.toBase58(),this.swapState=((e,t)=>{const n=t.owner,r=Gr.Yk.decode(t.data),[i]=(0,Hn.findProgramAddressSync)([e.toBuffer()],n);return{programId:n,authority:i,amm:e,tokenAMint:r.tokenAMint,tokenBMint:r.tokenBMint,poolMint:r.poolMint,feeAccount:r.poolFeeAccount,pythAccount:r.pythAccount,pythPcAccount:r.pythPcAccount,configAccount:r.configAccount,poolCoinTokenAccount:r.tokenAAccount,poolCoinMint:r.tokenAMint,poolPcTokenAccount:r.tokenBAccount,poolPcMint:r.tokenBMint}})(e,t),this.poolInfo={amm:(n=this.swapState).amm.toBase58(),configAccount:n.configAccount.toBase58(),feeAccount:n.feeAccount.toBase58(),pythAccount:n.pythAccount.toBase58(),pythPcAccount:n.pythPcAccount.toBase58(),poolCoinMint:n.poolCoinMint.toBase58(),poolCoinTokenAccount:n.poolCoinTokenAccount.toBase58(),poolMint:n.poolMint.toBase58(),poolCoinDecimal:0,poolPcDecimal:0,poolPcTokenAccount:n.poolPcTokenAccount.toBase58(),poolPcMint:n.poolPcMint.toBase58()}}getAccountsForUpdate(){return[this.swapState.poolCoinTokenAccount,this.swapState.poolPcTokenAccount,this.swapState.configAccount,this.swapState.pythAccount,this.swapState.pythPcAccount]}update(e){this.getAccountsForUpdate().forEach(((t,n)=>{const r=e.get(t.toBase58());r&&(this.accountInfos[n]={publicKey:t,account:r})}))}getQuote(e){let{sourceMint:t,amount:n}=e;if(this.accountInfos.length!==this.getAccountsForUpdate().length)throw new Error("Accounts not loaded");const r=this.swapState.poolCoinMint.equals(t)?Gr.vS.AtoB:Gr.vS.BtoA,{amm:i,pyth:o,pythPc:s,fees:a,coinBalance:u,pcBalance:c,config:l}=(0,Gr._l)([{publicKey:this.swapState.amm,account:this.ammAccountInfo},...this.accountInfos],this.poolInfo);if(!o.status.equals(1)||s&&!s.status.equals(1))throw new Error("Pyth accounts are outdated");const d=new(Zn())(n),h=(0,Gr.gx)(d,o.publishSlot.toNumber(),i,a,u,c,l,o,s,r);return{notEnoughLiquidity:!1,inAmount:n,outAmount:h.amountSwapped.toNumber(),feeAmount:h.fee.toNumber(),feeMint:t.toBase58(),feePct:h.feePercent.toNumber(),priceImpactPct:h.priceImpact.toNumber()}}createSwapInstructions(e){return[hs({swapState:this.swapState,...e})]}get reserveTokenMints(){return[this.swapState.poolCoinMint,this.swapState.poolPcMint]}}function oa(e,t){const n=ui(t);if(!n)throw new Error(`Failed to parse whilpool ${e.toBase58()}`);return n}class sa{constructor(e,t){this.address=void 0,this.id=void 0,this.label="Orca (Whirlpool)",this.shouldPrefetch=!0,this.whirlpoolData=void 0,this.tickArrays=new Map,this.tickPks=void 0,this.oracle=void 0,this.feePct=void 0,this.address=e,this.id=e.toBase58(),this.whirlpoolData=oa(e,t.data),this.oracle=(0,Hn.findProgramAddressSync)([uo.from("oracle"),e.toBuffer()],Po)[0],this.feePct=new(Zn())(this.whirlpoolData.feeRate).div(1e6).toNumber(),this.tickPks=io(e,this.whirlpoolData)}getAccountsForUpdate(){return[this.address,...this.tickPks]}update(e){const t=e.get(this.address.toBase58());if(!t)throw new Error(`Missing ${this.address.toBase58()}`);this.whirlpoolData=oa(this.address,t.data),this.tickPks=io(this.address,this.whirlpoolData),this.tickArrays.clear();for(const n of this.tickPks){const t=n.toBase58(),r=e.get(t);if(!r)continue;const i=li(r.data);if(!i)throw new Error(`Could not parse tick array ${t}`);this.tickArrays.set(t,i)}}getQuote(e){let{sourceMint:t,amount:n}=e;const r=eo({poolAddress:this.address,whirlpool:this.whirlpoolData,tickArrays:this.tickArrays,tokenMint:t,tokenAmount:new(u())(n.toString()),isInput:!0}),i=Number(r.amountIn.toString()),o=Math.floor(this.feePct*i),s=r.aToB?new(Zn())(r.amountOut.toString()).div(r.amountIn.toString()):new(Zn())(r.amountIn.toString()).div(r.amountOut.toString()),a=(c=this.whirlpoolData.sqrtPrice,new(Zn())(c.toString()).mul(Zn().pow(2,-64))).pow(2);var c;const l=a.minus(s).div(a).abs().toNumber();return{notEnoughLiquidity:!1,inAmount:i,outAmount:Number(r.amountOut.toString()),feeAmount:o,feeMint:t.toBase58(),feePct:this.feePct,priceImpactPct:Number(l)}}createSwapInstructions(e){const t=e.sourceMint.equals(this.whirlpoolData.tokenMintA),[n,r,o]=function(e,t,n,r,o,s,a){const u=zi.getNextInitializableTickIndex(e,n,a),c=wi(t);let l=zi.getStartTickIndex(u,n);const d=zi.getStartTickIndex(c,n),h=u<c?1:-1;let p=1;const f=[Jr(s,r,l).publicKey,i.PublicKey.default,i.PublicKey.default];for(;l!=d&&p<3;){const e=zi.getStartTickIndex(u,n,h*p),t=Jr(s,r,e).publicKey;if(!o.get(t.toBase58()))break;f[p]=t,p++,l=e}for(;p<3;)f[p]=Jr(s,r,l).publicKey,p++;return f}(this.whirlpoolData.tickCurrentIndex,this.whirlpoolData.sqrtPrice,this.whirlpoolData.tickSpacing,this.address,this.tickArrays,Po,t);return[fs({additionalArgs:{aToB:t,whirlpool:this.address,tickArray0:n,tickArray1:r,tickArray2:o,oracle:this.oracle,...this.whirlpoolData},...e})]}get reserveTokenMints(){return[this.whirlpoolData.tokenMintA,this.whirlpoolData.tokenMintB]}}class aa{constructor(e,t){this.program=void 0,this.pool=void 0,this.bitmapCache=void 0,this.tickCache=void 0,this.accountsToFetch={bitmaps:[],ticks:[]},this.program=e,this.pool=t,this.bitmapCache=new Map,this.tickCache=new Map}async eagerLoadCache(e,t){const n=f().toNumber(f().divide(f().BigInt(e),f().BigInt(t))),{wordPos:r}=(0,oo.tickPosition)(n);try{const e=[],{wordPos:n}=(0,oo.tickPosition)(Math.floor(oo.TickMath.MIN_TICK/t)),{wordPos:o}=(0,oo.tickPosition)(Math.floor(oo.TickMath.MAX_TICK/t)),s=Math.max(r-10,n),a=Math.min(r+10,o);for(let t=s;t<a;t++)e.push(this.getBitmapAddressSync(t));const c=await this.program.account.tickBitmapState.fetchMultiple(e),l=[];for(let r=0;r<a-s;r++){var i;const n=r+s,o=null===(i=c[r])||void 0===i?void 0:i.word,a=o?(0,oo.generateBitmapWord)(o):new(u())(0);if(this.bitmapCache.set(n,{address:e[r],word:a}),a&&!a.eqn(0))for(let e=0;e<256;e++)if(a.shrn(e).and(new(u())(1)).eqn(1)){const r=((n<<8)+e)*t,i=this.getTickAddressSync(r);l.push(i)}}const d=await this.program.account.tickState.fetchMultiple(l);for(const t in l){const e=d[t];if(!e)continue;const{tick:n,liquidityNet:r}=e;this.tickCache.set(n,{address:l[t],liquidityNet:f().BigInt(r)})}}catch(o){console.log(o)}}lazyLoadAccountsToCache(e,t){const n=f().toNumber(f().divide(f().BigInt(e),f().BigInt(t))),{wordPos:r}=(0,oo.tickPosition)(n),i=[],o=[],{wordPos:s}=(0,oo.tickPosition)(Math.floor(oo.TickMath.MIN_TICK/t)),{wordPos:a}=(0,oo.tickPosition)(Math.floor(oo.TickMath.MAX_TICK/t)),c=Math.max(r-10,s),l=Math.min(r+10,a);for(let u=c;u<l;u++){i.push(this.getBitmapAddressSync(u));const e=this.bitmapCache.get(u);o.push(e)}const d=[];for(let f=0;f<l-c;f++){var h,p;const e=f+c,n=null!==(h=null===(p=o[f])||void 0===p?void 0:p.word)&&void 0!==h?h:new(u())(0);if(this.bitmapCache.set(e,{address:i[f],word:n}),n&&!n.eqn(0))for(let r=0;r<256;r++)if(n.shrn(r).and(new(u())(1)).eqn(1)){const n=((e<<8)+r)*t,i=this.getTickAddressSync(n);d.push(i)}}return this.accountsToFetch={bitmaps:i,ticks:d},[...i,...d]}getTick(e){let t=this.tickCache.get(e);if(!t)throw new Error("Tick not cached");return{address:t.address,liquidityNet:t.liquidityNet}}async getTickAddress(e){return this.getTickAddressSync(e)}getTickAddressSync(e){return(0,Hn.findProgramAddressSync)([oo.TICK_SEED,this.pool.token0.toBuffer(),this.pool.token1.toBuffer(),(0,oo.u32ToSeed)(this.pool.fee),(0,oo.u32ToSeed)(e)],this.program.programId)[0]}async getBitmapAddress(e){return this.getBitmapAddressSync(e)}getBitmapAddressSync(e){return(0,Hn.findProgramAddressSync)([oo.BITMAP_SEED,this.pool.token0.toBuffer(),this.pool.token1.toBuffer(),(0,oo.u32ToSeed)(this.pool.fee),(0,oo.u16ToSeed)(e)],this.program.programId)[0]}getBitmap(e){let t=this.bitmapCache.get(e);if(!t)throw new Error("Bitmap not cached");return t}nextInitializedTickWithinOneWord(e,t,n){let r=f().toNumber(f().divide(f().BigInt(e),f().BigInt(n)));e<0&&e%n!==0&&(r-=1),t||(r+=1);const{wordPos:i,bitPos:o}=(0,oo.tickPosition)(r),s=this.getBitmap(i),{next:a,initialized:u}=(0,oo.nextInitializedBit)(s.word,o,t);return[(0,oo.buildTick)(i,a,n),u,i,o,s.address]}updateCachedAccountInfos(e){for(const t of this.accountsToFetch.bitmaps){const n=e.get(t.toBase58());if(n){const e=this.program.coder.accounts.decode("tickBitmapState",n.data);this.bitmapCache.set(e.wordPos,{address:t,word:(0,oo.generateBitmapWord)(e.word)})}}for(const t of this.accountsToFetch.ticks){const n=e.get(t.toBase58());if(n){const e=this.program.coder.accounts.decode("tickState",n.data);this.tickCache.set(e.tick,{address:t,liquidityNet:f().BigInt(e.liquidityNet)})}}}}const ua=1e6,ca=new Ue(null,null,{skipPreflight:!1}),la=new Vn(oo.IDL,xo,ca);class da{constructor(e,t){let n;this.address=void 0,this.label="Cykura",this.id=void 0,this.shouldPrefetch=!0,this.poolState=void 0,this.pool=void 0,this.tickDataProvider=void 0,this.tokens=void 0,this.vaults=void 0,this.swapAccountMetas=[],this.feePct=void 0,this.address=e,this.id=e.toBase58(),n="data"in t?la.coder.accounts.decode("poolState",t.data):t,this.poolState=n;const{token0:i,token1:o,fee:s,sqrtPriceX32:a,liquidity:u,tick:c}=this.poolState;this.tickDataProvider=new aa(la,{token0:i,token1:o,fee:s}),this.tokens={token0:new so.Token(101,i,0,"",""),token1:new so.Token(101,o,0,"","")},this.pool=new oo.Pool(this.tokens.token0,this.tokens.token1,s,f().BigInt(a.toString()),f().BigInt(u.toString()),c,this.tickDataProvider),this.vaults={vault0:(0,Hn.findProgramAddressSync)([this.address.toBuffer(),r.TOKEN_PROGRAM_ID.toBuffer(),i.toBuffer()],r.ASSOCIATED_TOKEN_PROGRAM_ID)[0],vault1:(0,Hn.findProgramAddressSync)([this.address.toBuffer(),r.TOKEN_PROGRAM_ID.toBuffer(),o.toBuffer()],r.ASSOCIATED_TOKEN_PROGRAM_ID)[0]},this.feePct=this.poolState.fee/ua}getAccountsForUpdate(){return[this.address,...this.tickDataProvider.lazyLoadAccountsToCache(this.pool.tickCurrent,this.pool.tickSpacing)]}update(e){const t=e.get(this.address.toBase58());if(!t)throw new Error(`Could not find poolAccountInfo ${this.address.toBase58()}`);this.poolState=la.coder.accounts.decode("poolState",t.data);const{fee:n,sqrtPriceX32:r,liquidity:i,tick:o}=this.poolState;this.pool=new oo.Pool(this.tokens.token0,this.tokens.token1,n,f().BigInt(r.toString()),f().BigInt(i.toString()),o,this.tickDataProvider),this.tickDataProvider.updateCachedAccountInfos(e)}getQuote(e){let{sourceMint:t,amount:n}=e;const r=t.equals(this.poolState.token0)?this.tokens.token0:this.tokens.token1,[i,o,s]=this.pool.getOutputAmount(so.CurrencyAmount.fromRawAmount(r,f().BigInt(n)));this.swapAccountMetas=s;const a=nr(f().subtract(this.pool.sqrtRatioX32,o.sqrtRatioX32)).div(this.pool.sqrtRatioX32.toString());return{notEnoughLiquidity:!1,inAmount:n,outAmount:f().toNumber(i.quotient),feeAmount:Math.floor(n*this.poolState.fee/ua),feeMint:t.toBase58(),feePct:this.feePct,priceImpactPct:a.toNumber()}}createSwapInstructions(e){const[t,n]=e.sourceMint.equals(this.poolState.token0)?[this.vaults.vault0,this.vaults.vault1]:[this.vaults.vault1,this.vaults.vault0],r=(0,Hn.findProgramAddressSync)([oo.OBSERVATION_SEED,this.poolState.token0.toBuffer(),this.poolState.token1.toBuffer(),(0,oo.u32ToSeed)(this.poolState.fee),(0,oo.u16ToSeed)(this.poolState.observationIndex)],xo)[0],i=(0,Hn.findProgramAddressSync)([oo.OBSERVATION_SEED,this.poolState.token0.toBuffer(),this.poolState.token1.toBuffer(),(0,oo.u32ToSeed)(this.poolState.fee),(0,oo.u16ToSeed)((this.poolState.observationIndex+1)%this.poolState.observationCardinalityNext)],xo)[0],o={poolAddress:this.address,inputVault:t,outputVault:n,nextObservationState:i,lastObservationState:r,swapAccountMetas:this.swapAccountMetas};return[ps({...e,additionalArgs:o})]}get reserveTokenMints(){return[this.poolState.token0,this.poolState.token1]}}async function ha(e,t){const n=(e=>e.map((e=>{const{data:[t,n],pubkey:r,...o}=e;return{...o,pubkey:new i.PublicKey(r),data:uo.from(t,n),owner:new i.PublicKey(o.owner)}})))(t),r=[];if(r.length){const t=await async function(e,t){const n=(await _s(e,t.map((e=>e.toBase58())))).map(((e,n)=>{const r=t[n];if(!e)throw new Error(`Failed to fetch pool ${r.toBase58()}`);return{pubkey:r,...e}}));return n}(e,r);n.push(...t)}const s=n.reduce(((e,t)=>{const n=function(e,t,n){const r=new i.PublicKey(t.owner);if(r.equals(po)||r.equals(fo)){const e=o.Market.getLayout(r).decode(t.data);if(!e.accountFlags.initialized||!e.accountFlags.market)throw new Error("Invalid market");const n=new o.Market(e,0,0,{},r);return new Ms(n)}if(r.equals(wo)){const r=new Es(e,t,n);if(1===r.status)return r}else{if(r.equals(Io))return new Ys(e,t,n);if(r.equals(K)){const n=de.loadWithData(e,t.data,(0,Hn.findProgramAddressSync)([e.toBuffer()],K)[0]);if(n.state.isPaused||!n.state.isInitialized)return;return new Ds(n)}if(r.equals(Eo))return new ta(e,t);if(r.equals(bo)||r.equals(vo))return new js(e,t,n);if([...Ks.keys()].includes(r.toBase58())){var s;const n=null!==(s=Ks.get(t.owner.toBase58()))&&void 0!==s?s:"Unknown";return new Zs(e,t,n)}if(r.equals(Ao))return new $s(e,t,n);if(r.equals(So)){const n=new ra(e,t);if(n.isPaused)return;return n}if(r.equals(ko))return new ia(e,t);if(r.equals(Po))return new sa(e,t);if(r.equals(xo))return new da(e,t)}}(t.pubkey,t,t.params);return n&&e.push(n),e}),new Array);return await(async(e,t)=>{const n=e.map((e=>e.getAccountsForUpdate().map((e=>e.toBase58())))).flat(),r=new Map;(await _s(t,n)).forEach(((e,t)=>{const i=n[t];e&&r.set(i,e)}));for(let i of e)i.update(r)})(s.filter((e=>e.shouldPrefetch)),e),s.push(...gs()),s}function pa(e){const t=new Map;return e.forEach((e=>{bs(e.reserveTokenMints).forEach((n=>{let[r,i]=n;!function(e,t,n,r){let i=r.get(e);i||(i=new Map([[t,[]]]),r.set(e,i));let o=i.get(t);o||(o=[],i.set(t,o));o.push(n)}(r.toBase58(),i.toBase58(),e,t)}))})),t}function fa(e){if(e.length>1){const[t,n]=e;if(t instanceof Es&&n instanceof Es)return!1}return!0}function ma(e){return e.marketInfos.map((e=>`${e.amm.id}-${e.inputMint}`)).join("-")}const ga=e=>{var t,n,r;return`${null===(t=e[0])||void 0===t?void 0:t.inputMint}-${null===(n=e[0])||void 0===n?void 0:n.outputMint}-${null===(r=e[1])||void 0===r?void 0:r.outputMint}-${e.map((e=>e.amm.id))}`},ya=e=>{let{instructionCache:t,walletPublicKey:n,cacheKey:r}=e;var i;return null===(i=t.get(n))||void 0===i?void 0:i.get(r)},wa=()=>({instructions:[],cleanupInstructions:[],signers:[]});async function ba(e,t,n,o,s){const a="string"===typeof o?new i.PublicKey(o):o,u=await r.Token.getAssociatedTokenAddress(r.ASSOCIATED_TOKEN_PROGRAM_ID,r.TOKEN_PROGRAM_ID,a,n,!0),c=[],l=[];return null===await e.getAccountInfo(u)&&l.push(r.Token.createAssociatedTokenAccountInstruction(r.ASSOCIATED_TOKEN_PROGRAM_ID,r.TOKEN_PROGRAM_ID,a,u,n,t)),a.equals(ho)&&s&&c.push(r.Token.createCloseAccountInstruction(r.TOKEN_PROGRAM_ID,u,n,n,[])),{address:u,instructions:l,cleanupInstructions:c,signers:[]}}async function va(e){let{user:t,tokenLedger:n,openOrdersAddresses:r,userSourceTokenAccountAddress:i,userIntermediaryTokenAccountAddress:o,userDestinationTokenAccountAddress:s,routeInfo:a,platformFee:u,quoteMintToReferrer:c}=e;const l=a.outAmountWithSlippage,d=a.inAmount,h=a.marketInfos.length;if(2===h&&!o)throw new Error("Missing intermediary token account");const p=u&&function(e){if(e.length<2)return!1;const[t,n]=e.map((e=>e.amm));return t instanceof Es&&n instanceof Ms||t instanceof Ms&&n instanceof Es}(a.marketInfos)?void 0:c,f=[i,...o?[o]:[],s],m=fa(a.marketInfos.map((e=>e.amm))),g=[as(n,f[1])];for(const[b,v]of a.marketInfos.entries()){const e=v.amm,i=0===b?d:null,o=b===h-1?l:0,s=b===h-1&&m?u:void 0,[a,c]=f.slice(b);g.push(...e.createSwapInstructions({sourceMint:v.inputMint,destinationMint:v.outputMint,userSourceTokenAccount:a,userDestinationTokenAccount:c,userTransferAuthority:t.publicKey,inAmount:i,minimumOutAmount:o,tokenLedger:n,openOrdersAddress:r[b],platformFee:s,quoteMintToReferrer:p}))}const{signers:y,cleanupInstructions:w}=wa();return t.isKeyPair&&t.signer&&y.push(t.signer),{signers:y,cleanupInstructions:w,instructions:g}}const _a=async(e,t,n,r)=>{const[i,o]=await Promise.all([(async()=>2===t.length?await ba(e,n,n,t[0].outputMint,r):void 0)(),(async()=>await ba(e,n,n,2===t.length?t[1].outputMint:t[0].outputMint,r))()]);return{userIntermediaryTokenAccountResult:i,userDestinationTokenAccountResult:o}};async function Aa(e,t,n,r){const o=wa(),s=n.address.toString();if(r){let t=r.get(s);if(t){let n=null;if(n=await e.getAccountInfo(t,"confirmed"),n)return{...o,address:t}}}const[a,u]=function(e,t){const[n]=(0,Hn.findProgramAddressSync)([uo.from("open_orders"),e.publicKey.toBuffer(),t.toBuffer()],Ko);return[n,Vo.instruction.createOpenOrders({accounts:{openOrders:n,payer:t,dexProgram:e.programId,systemProgram:i.SystemProgram.programId,rent:i.SYSVAR_RENT_PUBKEY,market:e.publicKey}})]}(n,t);return await e.getAccountInfo(a)||(o.instructions=[u]),null===r||void 0===r||r.set(n.address.toString(),a),{...o,address:a}}const Sa=2039280;function ka(e){return e.reduce(((e,t)=>t+=e),0)}const Ea=e=>{let{intermediate:t,destination:n,openOrders:r,hasWrapUnwrapSOL:i,feeCalculator:o}=e;const s=r.filter((e=>e&&e.instructions.length>0)).map((()=>23352760)),a=[t,n].filter((e=>(null===e||void 0===e?void 0:e.instructions.length)&&0===e.cleanupInstructions.length)).map((()=>Sa)),u=([...null===r||void 0===r?void 0:r.map((e=>null===e||void 0===e?void 0:e.signers)),null===t||void 0===t?void 0:t.signers,n.signers].filter(Boolean).flat().length+1)*o.lamportsPerSignature;return{signatureFee:u,openOrdersDeposits:s,ataDeposits:a,totalFeeAndDeposits:ka([u,...s,...a]),minimumSOLForTransaction:ka([u,...s,...[t,n].filter((e=>{var t;return(null!==(t=null===e||void 0===e?void 0:e.instructions.length)&&void 0!==t?t:0)>0})).map((()=>Sa)),i?Sa:0])}},Ta=async e=>{let{connection:t,userPublicKey:n,inputMint:r,marketInfos:i,feeCalculator:o,instructionCache:s,serumOpenOrdersPromise:a,wrapUnwrapSOL:u}=e;const c=ga(i),l=n.toBase58(),d=ya({instructionCache:s,walletPublicKey:l,cacheKey:c}),h=r.equals(ho)&&u;if(d){const{destination:e,intermediate:t,openOrders:n}=d;return Ea({intermediate:t,destination:e,openOrders:n,hasWrapUnwrapSOL:h,feeCalculator:o})}const p=Promise.all(i.map((async e=>{const r=e.amm;if(r instanceof Ms||r instanceof Os){if(!r.market)return;return await Aa(t,n,r.market,await a)}}))),f=_a(t,i,n,u).then((e=>{let{userIntermediaryTokenAccountResult:t,userDestinationTokenAccountResult:n}=e;return p.then((e=>({intermediate:t,destination:n,openOrders:e})))})),m=await f;return(e=>{let{instructionCache:t,instructionResult:n,walletPublicKey:r,cacheKey:i}=e;const o=t.get(r)||new Map;o.set(i,n),t.set(r,o)})({cacheKey:c,instructionCache:s,instructionResult:m,walletPublicKey:l}),Ea({...m,hasWrapUnwrapSOL:h,feeCalculator:o})},Ia={feeBps:0,feeAccounts:new Map};async function Pa(e,t){return(await e.getTokenAccountsByOwner(t,{programId:r.TOKEN_PROGRAM_ID})).value.reduce(((e,t)=>{const n=(0,hr.deserializeAccount)(t.account.data);return n&&e.set(n.mint.toBase58(),t.pubkey),e}),new Map)}class xa{constructor(e,t,n){this.connection=void 0,this.feePayer=void 0,this.instructions=void 0,this.owner=void 0,this.connection=e,this.feePayer=t,this.instructions=[],this.owner=n}addInstruction(e){return this.instructions.push(e),this}async build(e){e||(e=(await this.connection.getLatestBlockhash("confirmed")).blockhash);const t={recentBlockhash:e,feePayer:this.feePayer};let n=[],r=[],o=[];this.instructions.forEach((e=>{n=n.concat(e.instructions),r=r.concat(e.cleanupInstructions),o=o.concat(e.signers)}));const s=new i.Transaction(t);return n.concat(r).forEach((e=>s.add(e))),s.feePayer=this.feePayer,{transaction:s,signers:o,execute:this.owner.isKeyPair?()=>this.connection.sendTransaction(s,o):async()=>{throw new Error("Please use a Keypair for the owner parameter to enable the execute function")}}}}class Ma{constructor(e){this._owner=void 0,this._owner=e}get publicKey(){return Ma.isKeyPair(this._owner)?this._owner.publicKey:this._owner}get signer(){return Ma.isKeyPair(this._owner)?this._owner:void 0}get isKeyPair(){return Ma.isKeyPair(this._owner)}get isPublicKey(){return Ma.isPublicKey(this._owner)}static isKeyPair(e){return void 0!==e.secretKey}static isPublicKey(e){return!Ma.isKeyPair(e)}}const Oa=e=>new Promise((t=>setTimeout(t,e)));function Ba(e,t,n){const r=t.message;if(!e)return;return function(e,t){var n,r,i,o;const s=null===(n=t.postTokenBalances)||void 0===n||null===(r=n.find((t=>t.accountIndex===e)))||void 0===r?void 0:r.uiTokenAmount.amount,a=null===(i=t.preTokenBalances)||void 0===i||null===(o=i.find((t=>t.accountIndex===e)))||void 0===o?void 0:o.uiTokenAmount.amount;if(s)return Math.abs(parseInt(s)-(void 0!==a?parseInt(a):0))}(r.accountKeys.findIndex((e=>e.equals(n))),e)}function Da(e,t,n){let r=t.message.accountKeys.findIndex((e=>e.equals(n)));return-1!==r?Math.abs(e.postBalances[r]-e.preBalances[r]):0}function Ra(){return(new Date).getTime()}const Ua={skipPreflight:!0,maxRetries:2};async function La(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12e4,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2e3,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:40;const s=t.serialize(),a=await e.sendRawTransaction(s,Ua),u=Ra();let c=Ra(),l=0;for(;Ra()-u<n;){const t=Ra();l<o&&t-c>i&&(c=t,l+=1,await e.sendRawTransaction(s,Ua));const n=await e.getTransaction(a,{commitment:"confirmed"});if(n)return{txid:a,transactionResponse:n};await Oa(r)}return{txid:a,transactionResponse:null}}function Ca(e){const t=e.signature;if(!t)throw new Error("Transaction has no signature");return ao.bs58.encode(t)}const Na=function(e){if(!Array.isArray(e))throw new TypeError(`Argument must be an array: ${e}`)},Fa=function(e){let{length:t}=e;if(t>=Wa)throw new TypeError(`Too many arrays (${t}): please use the 'big-cartesian' library instead of 'fast-cartesian'`)},Wa=100,za=function(e){const t=e.reduce(ja,1);if(t>=qa){const e=Number.isFinite(t)?` (${t.toExponential(0)})`:"";throw new TypeError(`Too many combinations${e}: please use the 'big-cartesian' library instead of 'fast-cartesian'`)}},ja=function(e,t){return e*t.length},qa=4294967296;function Ka(e){if(function(e){if(!Array.isArray(e))throw new TypeError("Argument must be an array of arrays");e.forEach(Na),Fa(e),za(e)}(e),0===e.length)return[];const t=[];return Va(e.length)(e,t),t}const Va=function(e){const t=Ha[e];if(void 0!==t)return t;const n=Ga(e);return Ha[e]=n,n},Ha={},Ga=function(e){const t=Array.from({length:e},Za),n=t.map((e=>`for (const value${e} of arrays[${e}]) {`)).join("\n"),r=t.map((e=>`value${e}`)).join(", "),i="}\n".repeat(e);return new Function("arrays","result",`${n}\nresult.push([${r}])\n${i}`)},Za=function(e,t){return String(t)};function Qa(e){let{inputMint:t,outputMint:n}=e;return`${t}-${n}`}function Xa(e){let{ammId:t,amount:n}=e;return`${t}-${n}`}function Ja(e){let{inputRouteSegment:t,inputMint:n,outputMint:r,amount:o,getDepositAndFeeForRoute:s,platformFeeBps:a,slippage:u,filterTopNResult:c,onlyDirectRoutes:l}=e;const d=n.toBase58(),h=r.toBase58(),p=new Map,f=t.get(d),m=[];if(!f)throw new Error("inputMintInnerMap is undefined");const g=l?0:2,y=e=>{let{inputMint:n,level:r=0,walked:s=[n]}=e;const a=t.get(n);a&&a.forEach(((e,u)=>{const l=Qa({inputMint:n,outputMint:u}),d=function(e){let{amms:t,inputMint:n,outputMint:r,amount:o,filterTopNResult:s=3}=e;const a=t.map((e=>{try{return{quote:e.getQuote({amount:o,sourceMint:new i.PublicKey(n),destinationMint:new i.PublicKey(r)}),id:e.id}}catch(t){return void(Do&&console.error(t))}})).sort(((e,t)=>((null===t||void 0===t?void 0:t.quote.outAmount)||0)-((null===e||void 0===e?void 0:e.quote.outAmount)||0))).filter(((e,t)=>e&&e.quote.inAmount&&t<s));return new Map(a.map((e=>[Xa({ammId:e.id,amount:o}),e.quote])))}({amms:e,inputMint:n,outputMint:u,amount:o,filterTopNResult:c}),f=e.filter((e=>d.has(Xa({ammId:e.id,amount:o}))));if(u===h&&function(e,t){for(let n=0;n<e.length;n++)for(let r=n+1;r<e.length;r++)e[n].label!==e[r].label&&t(e[n],e[r])}(f.slice(),((e,t)=>{const n=Os.create(e,t);n&&f.push(n)})),a.set(u,f),p.set(l,d),u!==h&&d.size&&!s.includes(u)&&r<g-1)y({inputMint:u,amount:d.values().next().value.outAmount,level:r+1,walked:s.concat(u)});else if(u===h){const e=s.concat(u),n=e.map((e=>new i.PublicKey(e))),r=e.reduce(((n,r,i)=>{var o;i<e.length-1&&n.push(null===(o=t.get(e[i]))||void 0===o?void 0:o.get(e[i+1]));return n}),[]);Ka(r).forEach((e=>{(1===e.length||Bs(e[0],e[1]))&&m.push({amms:e,mints:n})}))}}))};y({inputMint:d,amount:o});const w=m.map((e=>{const{amms:t,mints:n}=e;let r=[],i=o,c=o;const l=fa(t),d=n,h=t.length;for(const[o,s]of t.entries())try{var f;const e=d[o],t=d[o+1],n=Qa({inputMint:e.toBase58(),outputMint:t.toBase58()}),m=(null===(f=p.get(n))||void 0===f?void 0:f.get(Xa({ammId:s.id,amount:i})))||s.getQuote({sourceMint:e,destinationMint:t,amount:i}),g=h-1===o&&l?{amount:Math.floor(m.outAmount*a/1e4),mint:t.toBase58(),pct:a/100}:{amount:0,mint:t.toBase58(),pct:0},y=Math.max(0,m.outAmount-g.amount),w=Math.round(y*(1-u/100));r.push({amm:s,inputMint:e,outputMint:t,notEnoughLiquidity:m.notEnoughLiquidity,minInAmount:m.minInAmount,minOutAmount:m.minOutAmount,inAmount:m.inAmount,outAmount:y,priceImpactPct:m.priceImpactPct,lpFee:{amount:m.feeAmount,mint:m.feeMint,pct:m.feePct},platformFee:g}),i=y,c=w}catch(m){return void(Do&&console.error(m))}return{marketInfos:r,getDepositAndFee:()=>s({marketInfos:r}),inAmount:r[0].inAmount,outAmount:i,outAmountWithSlippage:c,priceImpactPct:1-r.reduce(((e,t)=>e*=1-t.priceImpactPct),1)}})).filter((e=>void 0!==e)).sort(((e,t)=>t.outAmount-e.outAmount));return w}async function Ya(e){let{txid:t,transactionResponse:n}=e;var r;if(!n)throw new hr.TransactionError("Transaction was not confirmed",t);if(null!==n&&void 0!==n&&null!==(r=n.meta)&&void 0!==r&&r.err){let{message:e,code:r}=await(0,hr.parseErrorForTransaction)(n);if(6e3===r)e="Slippage error";throw new hr.TransactionError(e||"",t,r)}return{txid:t,transactionResponse:n}}class $a{constructor(e,t,n,o,s,a){var u=this;let c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],d=arguments.length>8?arguments[8]:void 0,h=arguments.length>9?arguments[9]:void 0,p=arguments.length>10?arguments[10]:void 0;this.connection=void 0,this.cluster=void 0,this.tokenRouteSegments=void 0,this.feeCalculator=void 0,this.platformFeeAndAccounts=void 0,this.quoteMintToReferrer=void 0,this.routeCacheDuration=void 0,this.wrapUnwrapSOL=void 0,this.tokenLedger=void 0,this.intermediateTokens=void 0,this.shouldLoadSerumOpenOrders=void 0,this.serumOpenOrdersPromise=void 0,this.instructionCache=new Map,this.user=void 0,this.routeCache=new Map,this.getDepositAndFees=async e=>{let{marketInfos:t,userPublicKey:n,serumOpenOrdersPromise:r=Promise.resolve(new Map)}=e;return Ta({connection:this.connection,feeCalculator:this.feeCalculator,instructionCache:this.instructionCache,inputMint:t[0].inputMint,marketInfos:t,serumOpenOrdersPromise:r,userPublicKey:n,wrapUnwrapSOL:this.wrapUnwrapSOL})},this.getDepositAndFeesForUser=e=>{let{marketInfos:t}=e;if(this.user&&this.serumOpenOrdersPromise){const e=new Ma(this.user);return this.getDepositAndFees({marketInfos:t,userPublicKey:e.publicKey,serumOpenOrdersPromise:this.serumOpenOrdersPromise})}return Promise.resolve(void 0)},this.exchange=async e=>{let{routeInfo:t,userPublicKey:n,feeAccount:o,wrapUnwrapSOL:s,tokenLedger:a}=e;var c;const{connection:l,serumOpenOrdersPromise:d}=this,h=n||this.user;if(!h)throw new Error("user not found");const p=new Ma(h),f=t.marketInfos.length-1,m=t.marketInfos[0].inputMint,g=t.marketInfos[f].outputMint,y=null!==s&&void 0!==s?s:this.wrapUnwrapSOL,w=ga(t.marketInfos);let b=ya({instructionCache:this.instructionCache,walletPublicKey:p.publicKey.toBase58(),cacheKey:w});if(!b){const[e,n]=await Promise.all([_a(l,t.marketInfos,p.publicKey,y),Promise.all(t.marketInfos.map((async e=>{let{amm:t}=e;if(t instanceof Ms||t instanceof Os){if(!t.market)return;return await Aa(l,p.publicKey,t.market,await d)}})))]);b={intermediate:e.userIntermediaryTokenAccountResult,destination:e.userDestinationTokenAccountResult,openOrders:n}}const v=m.equals(ho)&&y?await async function(e,t,n){const o=wa();o.instructions=[];const s=await r.Token.getAssociatedTokenAddress(r.ASSOCIATED_TOKEN_PROGRAM_ID,r.TOKEN_PROGRAM_ID,ho,t,!0);return null===await e.getAccountInfo(s)&&o.instructions.push(r.Token.createAssociatedTokenAccountInstruction(r.ASSOCIATED_TOKEN_PROGRAM_ID,r.TOKEN_PROGRAM_ID,ho,s,t,t)),o.instructions.push(i.SystemProgram.transfer({fromPubkey:t,toPubkey:s,lamports:n})),o.instructions.push(r.Token.createSyncNativeInstruction(r.TOKEN_PROGRAM_ID,s)),o.cleanupInstructions=[r.Token.createCloseAccountInstruction(r.TOKEN_PROGRAM_ID,s,t,t,[])],{address:s,...o}}(l,p.publicKey,t.inAmount):{...wa(),address:await r.Token.getAssociatedTokenAddress(r.ASSOCIATED_TOKEN_PROGRAM_ID,r.TOKEN_PROGRAM_ID,m,p.publicKey,!0)};o=o||this.platformFeeAndAccounts.feeAccounts.get(g.toBase58());const _=o?{feeBps:this.platformFeeAndAccounts.feeBps||Math.floor(100*t.marketInfos[f].platformFee.pct),feeAccount:o}:void 0,A=await va({user:p,tokenLedger:a||this.tokenLedger,openOrdersAddresses:b.openOrders.map((e=>null===e||void 0===e?void 0:e.address)),userSourceTokenAccountAddress:v.address,userIntermediaryTokenAccountAddress:null===(c=b.intermediate)||void 0===c?void 0:c.address,userDestinationTokenAccountAddress:b.destination.address,routeInfo:t,platformFee:_,quoteMintToReferrer:this.quoteMintToReferrer}),S=function(e){if(1===e.length){const t=e[0].amm;if(t instanceof Os&&t.shouldSplitSetup)return!0}else{const[t,n]=e.map((e=>e.amm));if(t instanceof Es||n instanceof Es)return!0;if(t instanceof Ms&&n instanceof Ms)return!0}return!1}(t.marketInfos),k=new xa(l,p.publicKey,p),E=new xa(l,p.publicKey,p),T=new xa(l,p.publicKey,p);var I,P;S?(b.openOrders&&b.openOrders.forEach((e=>{e&&k.addInstruction(e)})),b.intermediate&&k.addInstruction({...b.intermediate,cleanupInstructions:[]}),k.addInstruction({...v,cleanupInstructions:[]}),T.addInstruction({...wa(),cleanupInstructions:v.cleanupInstructions}).addInstruction({...wa(),cleanupInstructions:null!==(I=null===(P=b.intermediate)||void 0===P?void 0:P.cleanupInstructions)&&void 0!==I?I:[]}),v.address.equals(b.destination.address)||(k.addInstruction({...b.destination,cleanupInstructions:[]}),T.addInstruction({...wa(),cleanupInstructions:b.destination.cleanupInstructions}))):(b.openOrders&&b.openOrders.forEach((e=>{e&&E.addInstruction(e)})),b.intermediate&&E.addInstruction(b.intermediate),E.addInstruction(v),v.address.equals(b.destination.address)||E.addInstruction(b.destination));E.addInstruction(A);const x=(await this.connection.getRecentBlockhash("finalized")).blockhash,{transaction:M}=await k.build(x),{transaction:O}=await E.build(x),{transaction:B}=await T.build(x),[D,R,U]=(()=>{if(M.instructions.length&&B.instructions.length)return[M,O,B];if(M.instructions.length){const[e,t]=[M,O];return[e,t,void 0]}if(B.instructions.length){const[e,t]=[O,B];return[void 0,e,t]}return[void 0,O,void 0]})(),L=b;return{transactions:{setupTransaction:D,swapTransaction:R,cleanupTransaction:U},execute:function(){let{wallet:e,onTransaction:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u.executeInternal({wallet:e,onTransaction:t,inputMint:m,outputMint:g,sourceInstruction:v,setupInstructions:L,setupTransaction:D,swapTransaction:R,cleanupTransaction:U,wrapUnwrapSOL:y,owner:p})}}},this.connection=e,this.cluster=t,this.tokenRouteSegments=n,this.feeCalculator=o,this.platformFeeAndAccounts=s,this.quoteMintToReferrer=a,this.routeCacheDuration=c,this.wrapUnwrapSOL=l,this.tokenLedger=d,this.intermediateTokens=h,this.shouldLoadSerumOpenOrders=p}static async load(e){let{connection:t,cluster:n,user:r,platformFeeAndAccounts:o=Ia,quoteMintToReferrer:s,routeCacheDuration:a=0,wrapUnwrapSOL:u=!0,marketUrl:c,restrictIntermediateTokens:l=!1,tokenLedger:d=Go,shouldLoadSerumOpenOrders:h=!0}=e;const[p,{value:{feeCalculator:f}},m,g]=await Promise.all([$a.fetchTokenRouteSegments(t,n,c),t.getRecentBlockhashAndContext("processed"),null!==s&&void 0!==s?s:Pa(t,new i.PublicKey(To)),l?$a.getIntermediateTokens():void 0]),y=new $a(t,n,p,f,o,m,a,u,d,g,h);return r&&y.setUserPublicKey(r),y}getAccountToAmmMap(){const e=new Map;return this.tokenRouteSegments.forEach((t=>{Array.from(t.values()).forEach((t=>{t.forEach((t=>{t.getAccountsForUpdate().forEach((n=>{e.set(n.toBase58(),t)}))}))}))})),e}async computeRoutes(e){let{inputMint:t,outputMint:n,inputAmount:r,slippage:i,feeBps:o=0,forceFetch:s,onlyDirectRoutes:a,filterTopNResult:u}=e;const c=t.toBase58(),l=n.toBase58(),d=o||(this.platformFeeAndAccounts.feeAccounts.get(l)?this.platformFeeAndAccounts.feeBps:0),h=(new Date).getTime(),p=[c,l].sort(((e,t)=>e.localeCompare(t))).join(""),f=this.routeCache.get(p),m=function(e){let{inputMint:t,outputMint:n,tokenRouteSegments:r,intermediateTokens:i}=e;const o=new Map,s=r.get(t),a=r.get(n);if(s&&a){const e=new Map,r=new Map;for(let[u,c]of s.entries()){if(u===n){e.set(u,c),r.set(t,c);continue}if(i&&!i.includes(u))continue;const s=a.get(u);s&&(o.set(u,new Map([[t,c],[n,s]])),e.set(u,c),r.set(u,s))}o.set(t,e),o.set(n,r)}return o}({inputMint:c,outputMint:l,tokenRouteSegments:this.tokenRouteSegments,intermediateTokens:this.intermediateTokens});let g=!1;if(-1===this.routeCacheDuration)g=!1;else if(0===this.routeCacheDuration)g=!0;else if(f){const{fetchTimestamp:e}=f;h-e>this.routeCacheDuration&&(g=!0)}else g=!0;(s||g)&&(await async function(e,t){const n=new Map,r=new Set,i=new Map;t.forEach((e=>{e.forEach((e=>{e.forEach((e=>{i.set(e.id,e),e.getAccountsForUpdate().forEach((e=>{r.add(e.toBase58())}))}))}))}));const o=Array.from(r);o.length>0&&((await _s(e,o)).forEach(((e,t)=>{const r=o[t];e&&n.set(r,e)})),i.forEach((e=>{e.update(n)})))}(this.connection,m),this.routeCache.set(p,{fetchTimestamp:(new Date).getTime()}));try{return{routesInfos:Ja({inputRouteSegment:m,inputMint:t,outputMint:n,amount:r,getDepositAndFeeForRoute:this.getDepositAndFeesForUser,onlyDirectRoutes:a,slippage:i,platformFeeBps:d,filterTopNResult:u}),cached:!(s||g)}}catch(y){throw y}finally{this.routeCache.forEach(((e,t)=>{let{fetchTimestamp:n}=e;n-h>this.routeCacheDuration&&this.routeCache.delete(t)}))}}setUserPublicKey(e){this.user=e;const t=new Ma(this.user);this.serumOpenOrdersPromise=this.shouldLoadSerumOpenOrders?$a.findSerumOpenOrdersForOwner({connection:this.connection,cluster:this.cluster,userPublicKey:t.publicKey}):Promise.resolve(new Map)}static async fetchTokenRouteSegments(e,t,n){const r=await(async e=>await(await dr()(e)).json())(n||mo[t]);return pa(await ha(e,r))}getRouteMap(e){return function(e,t,n){const r=new Map;for(const[o,s]of e){const a=new Set;for(const[r,u]of s){var i;if(a.add(r),n)continue;const s=null!==(i=e.get(r))&&void 0!==i?i:[];for(const[e,n]of s)if(e!==o&&(!t||t.includes(r)))for(const t of u)for(const r of n)if(Bs(t,r)){a.add(e);break}}r.set(o,Array.from(a))}return r}(this.tokenRouteSegments,this.intermediateTokens,e)}async executeInternal(e){let{wallet:t,onTransaction:n,inputMint:r,outputMint:i,sourceInstruction:o,setupInstructions:s,setupTransaction:a,swapTransaction:u,cleanupTransaction:c,owner:l,wrapUnwrapSOL:d}=e;try{const e=[a,u,c].filter((e=>void 0!==e)),f=e.length;if(l.signer){const t=l.signer;e.forEach((e=>{e.sign(t)}))}else{if(!t)throw new Error("Signer wallet not found");f>1?await t.signAllTransactions(e):await t.signTransaction(e[0])}let m,g;a&&(null===n||void 0===n||n(Ca(a),f,"SETUP"),await Ya(await La(this.connection,a))),null===n||void 0===n||n(Ca(u),f,"SWAP");try{const{txid:e,transactionResponse:t}=await Ya(await La(this.connection,u)),[a,h]=function(e){let t,n,{txid:r,inputMint:i,outputMint:o,user:s,sourceAddress:a,destinationAddress:u,transactionResponse:c,hasWrappedSOL:l}=e;if(c){let{meta:e,transaction:r}=c;e&&(t=i.equals(ho)&&!l?Da(e,r,s):Ba(e,r,a),n=o.equals(ho)&&!l?Da(e,r,s):Ba(e,r,u))}if(!t||!n)throw new hr.TransactionError("Cannot find source or destination token account balance change",r,Bo.BalancesNotExtractedProperly.code);return[t,n]}({txid:e,inputMint:r,outputMint:i,user:l.publicKey,sourceAddress:o.address,destinationAddress:s.destination.address,transactionResponse:t,hasWrappedSOL:Boolean(c)||!d});g={txid:e,inputAddress:o.address,outputAddress:s.destination.address,inputAmount:a,outputAmount:h}}catch(p){m=p}finally{c&&(null===n||void 0===n||n(Ca(c),f,"CLEANUP"),await La(this.connection,c))}if(m||!g)throw m||new Error("Swap failed");return g}catch(f){return{error:f}}finally{var h;((null===s||void 0===s?void 0:s.openOrders.some((e=>null===e||void 0===e?void 0:e.instructions.length)))||null!==s&&void 0!==s&&null!==(h=s.intermediate)&&void 0!==h&&h.instructions.length||null!==s&&void 0!==s&&s.destination.instructions.length)&&(e=>{let{instructionCache:t,walletPublicKey:n}=e;var r;null===(r=t.get(n))||void 0===r||r.clear()})({instructionCache:this.instructionCache,walletPublicKey:l.publicKey.toBase58()}),this.routeCache.clear()}}static async getIntermediateTokens(){const e=await async function(){const e=await(await dr()("https://cache.jup.ag/top-tokens")).json();return new Set(e.filter(((e,t)=>t<60)))}();for(const t of Oo)e.add(t);return gs().forEach((t=>{e.add(t.wrappedToken.addDecimals.mint.toBase58())})),Array.from(e)}}$a.findSerumOpenOrdersForOwner=async e=>{let{userPublicKey:t,cluster:n,connection:r}=e;const i=new Map;if(t){const e="mainnet-beta"===n?po:fo;(await o.OpenOrders.findForOwner(r,t,e)).forEach((e=>{i.set(e.market.toString(),e.address)}))}return i},$a.createInitializeTokenLedgerInstruction=function(e,t){return Vo.instruction.initializeTokenLedger({accounts:{tokenLedger:e,payer:t,systemProgram:i.SystemProgram.programId}})}},42031:(e,t,n)=>{"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i,o,s=r(n(46694)),a=r(n(86243)),u=r(n(3e4)),c=r(n(1583)),l=r(n(23909)),d=n(30224);(i=t.YL||(t.YL={}))[i.EXACT_INPUT=0]="EXACT_INPUT",i[i.EXACT_OUTPUT=1]="EXACT_OUTPUT",(o=t.mL||(t.mL={}))[o.ROUND_DOWN=0]="ROUND_DOWN",o[o.ROUND_HALF_UP=1]="ROUND_HALF_UP",o[o.ROUND_UP=2]="ROUND_UP";var h,p,f=s.BigInt("0xffffffffffffffffffffffffffffffff");function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var w=l(u),b=l(c),v=((h={})[t.mL.ROUND_DOWN]=w.ROUND_DOWN,h[t.mL.ROUND_HALF_UP]=w.ROUND_HALF_UP,h[t.mL.ROUND_UP]=w.ROUND_UP,h),_=((p={})[t.mL.ROUND_DOWN]=0,p[t.mL.ROUND_HALF_UP]=1,p[t.mL.ROUND_UP]=3,p),A=function(){function e(e,t){void 0===t&&(t=s.BigInt(1)),this.numerator=s.BigInt(e),this.denominator=s.BigInt(t)}e.tryParseFraction=function(t){if(t instanceof s||"number"==typeof t||"string"==typeof t)return new e(t);if("numerator"in t&&"denominator"in t)return t;throw new Error("Could not parse fraction")};var n=e.prototype;return n.invert=function(){return new e(this.denominator,this.numerator)},n.add=function(t){var n=e.tryParseFraction(t);return s.equal(this.denominator,n.denominator)?new e(s.add(this.numerator,n.numerator),this.denominator):new e(s.add(s.multiply(this.numerator,n.denominator),s.multiply(n.numerator,this.denominator)),s.multiply(this.denominator,n.denominator))},n.subtract=function(t){var n=e.tryParseFraction(t);return s.equal(this.denominator,n.denominator)?new e(s.subtract(this.numerator,n.numerator),this.denominator):new e(s.subtract(s.multiply(this.numerator,n.denominator),s.multiply(n.numerator,this.denominator)),s.multiply(this.denominator,n.denominator))},n.lessThan=function(t){var n=e.tryParseFraction(t);return s.lessThan(s.multiply(this.numerator,n.denominator),s.multiply(n.numerator,this.denominator))},n.equalTo=function(t){var n=e.tryParseFraction(t);return s.equal(s.multiply(this.numerator,n.denominator),s.multiply(n.numerator,this.denominator))},n.greaterThan=function(t){var n=e.tryParseFraction(t);return s.greaterThan(s.multiply(this.numerator,n.denominator),s.multiply(n.numerator,this.denominator))},n.multiply=function(t){var n=e.tryParseFraction(t);return new e(s.multiply(this.numerator,n.numerator),s.multiply(this.denominator,n.denominator))},n.divide=function(t){var n=e.tryParseFraction(t);return new e(s.multiply(this.numerator,n.denominator),s.multiply(this.denominator,n.numerator))},n.toSignificant=function(e,n,r){void 0===n&&(n={groupSeparator:""}),void 0===r&&(r=t.mL.ROUND_HALF_UP),Number.isInteger(e)||a(!1),e>0||a(!1),w.set({precision:e+1,rounding:v[r]});var i=new w(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return i.toFormat(i.decimalPlaces(),n)},n.toFixed=function(e,n,r){return void 0===n&&(n={groupSeparator:""}),void 0===r&&(r=t.mL.ROUND_HALF_UP),Number.isInteger(e)||a(!1),e>=0||a(!1),b.DP=e,b.RM=_[r],new b(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,n)},g(e,[{key:"quotient",get:function(){return s.divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new e(s.remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new e(this.numerator,this.denominator)}}]),e}(),S=l(c),k=function(e){function n(t,n,r){var i;return i=e.call(this,n,r)||this,s.lessThanOrEqual(i.quotient,f)||a(!1),i.currency=t,i.decimalScale=s.exponentiate(s.BigInt(10),s.BigInt(t.decimals)),i}y(n,e),n.fromRawAmount=function(e,t){return new n(e,t)},n.fromFractionalAmount=function(e,t,r){return new n(e,t,r)};var r=n.prototype;return r.add=function(t){this.currency.equals(t.currency)||a(!1);var r=e.prototype.add.call(this,t);return n.fromFractionalAmount(this.currency,r.numerator,r.denominator)},r.subtract=function(t){this.currency.equals(t.currency)||a(!1);var r=e.prototype.subtract.call(this,t);return n.fromFractionalAmount(this.currency,r.numerator,r.denominator)},r.multiply=function(t){var r=e.prototype.multiply.call(this,t);return n.fromFractionalAmount(this.currency,r.numerator,r.denominator)},r.divide=function(t){var r=e.prototype.divide.call(this,t);return n.fromFractionalAmount(this.currency,r.numerator,r.denominator)},r.toSignificant=function(n,r,i){return void 0===n&&(n=6),void 0===i&&(i=t.mL.ROUND_DOWN),e.prototype.divide.call(this,this.decimalScale).toSignificant(n,r,i)},r.toFixed=function(n,r,i){return void 0===n&&(n=this.currency.decimals),void 0===i&&(i=t.mL.ROUND_DOWN),n<=this.currency.decimals||a(!1),e.prototype.divide.call(this,this.decimalScale).toFixed(n,r,i)},r.toExact=function(e){return void 0===e&&(e={groupSeparator:""}),S.DP=this.currency.decimals,new S(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(e)},g(n,[{key:"wrapped",get:function(){return this.currency.isToken?this:n.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}]),n}(A),E=new A(s.BigInt(100));function T(e){return new I(e.numerator,e.denominator)}var I=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isPercent=!0,t}y(t,e);var n=t.prototype;return n.add=function(t){return T(e.prototype.add.call(this,t))},n.subtract=function(t){return T(e.prototype.subtract.call(this,t))},n.multiply=function(t){return T(e.prototype.multiply.call(this,t))},n.divide=function(t){return T(e.prototype.divide.call(this,t))},n.toSignificant=function(t,n,r){return void 0===t&&(t=5),e.prototype.multiply.call(this,E).toSignificant(t,n,r)},n.toFixed=function(t,n,r){return void 0===t&&(t=2),e.prototype.multiply.call(this,E).toFixed(t,n,r)},t}(A),P=function(e){function t(){for(var t,n,r,i,o,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];if(4===u.length)n=u[0],r=u[1],i=u[2],o=u[3];else{var l=u[0].quoteAmount.divide(u[0].baseAmount),d=[u[0].baseAmount.currency,u[0].quoteAmount.currency,l.denominator,l.numerator];n=d[0],r=d[1],i=d[2],o=d[3]}return(t=e.call(this,o,i)||this).baseCurrency=n,t.quoteCurrency=r,t.scalar=new A(s.exponentiate(s.BigInt(10),s.BigInt(n.decimals)),s.exponentiate(s.BigInt(10),s.BigInt(r.decimals))),t}y(t,e);var n=t.prototype;return n.invert=function(){return new t(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},n.multiply=function(n){this.quoteCurrency.equals(n.baseCurrency)||a(!1);var r=e.prototype.multiply.call(this,n);return new t(this.baseCurrency,n.quoteCurrency,r.denominator,r.numerator)},n.quote=function(t){t.currency.equals(this.baseCurrency)||a(!1);var n=e.prototype.multiply.call(this,t);return k.fromFractionalAmount(this.quoteCurrency,n.numerator,n.denominator)},n.toSignificant=function(e,t,n){return void 0===e&&(e=6),this.adjustedForDecimals.toSignificant(e,t,n)},n.toFixed=function(e,t,n){return void 0===e&&(e=4),this.adjustedForDecimals.toFixed(e,t,n)},g(t,[{key:"adjustedForDecimals",get:function(){return e.prototype.multiply.call(this,this.scalar)}}]),t}(A),x=function(e,t,n,r){Number.isSafeInteger(e)||a(!1),t>=0&&t<255&&Number.isInteger(t)||a(!1),this.chainId=e,this.decimals=t,this.symbol=n,this.name=r},M=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isNative=!0,t.isToken=!1,t}return y(t,e),t}(x),O=function(e){function t(t,n,r,i,o){var s;return(s=e.call(this,t,r,i,o)||this).isNative=!1,s.isToken=!0,s.address=n,s}y(t,e);var n=t.prototype;return n.equals=function(e){return e.isToken&&this.chainId===e.chainId&&this.address.equals(e.address)},n.sortsBefore=function(e){this.chainId!==e.chainId&&a(!1),this.address===e.address&&a(!1);var t=new d.BN(this.address.toBuffer()),n=new d.BN(e.address.toBuffer());return t.lt(n)},g(t,[{key:"wrapped",get:function(){return this}}]),t}(x),B=new O(101,new d.web3.PublicKey("So11111111111111111111111111111111111111112"),9,"wSOL","Wrapped SOL"),D=function(e){function t(t){return e.call(this,t,B.decimals,B.symbol,B.name)||this}return y(t,e),t.onChain=function(e){var n;return null!=(n=this._solanaCache[e])?n:this._solanaCache[e]=new t(e)},t.prototype.equals=function(e){return e.isNative&&e.chainId===this.chainId},g(t,[{key:"wrapped",get:function(){return B||a(!1),B}}]),t}(M);D._solanaCache={};var R=s.BigInt(Number.MAX_SAFE_INTEGER),U=s.BigInt(0),L=s.BigInt(1),C=s.BigInt(2);t.CurrencyAmount=k,t.Token=O},10128:(e,t,n)=>{"use strict";e.exports=n(42031)},30224:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ACCOUNT_DISCRIMINATOR_SIZE:()=>F,AccountClient:()=>vt,BN:()=>s.a,BorshAccountsCoder:()=>W,BorshCoder:()=>Q,BorshEventCoder:()=>z,BorshInstructionCoder:()=>R,BorshStateCoder:()=>G,EventManager:()=>St,EventParser:()=>kt,IdlError:()=>k,MethodsBuilderFactory:()=>Bt,Program:()=>Rt,ProgramError:()=>E,Provider:()=>v,Spl:()=>Ut,SplTokenCoder:()=>Re,StateClient:()=>wt,eventDiscriminator:()=>j,getProvider:()=>A,parseIdlErrors:()=>Le,setProvider:()=>_,splitArgsAndCtx:()=>ft,stateDiscriminator:()=>Z,toInstruction:()=>Ce,translateAddress:()=>Fe,utils:()=>ht,validateAccounts:()=>Ne,web3:()=>i});var r=n(97429),i=n(71256),o=n(48744),s=n.n(o),a=n(68532),u=n.n(a),c=n(8511),l=n.n(c),d=n(10119),h=n(26434),p=n(12009),f=n(21380),m=n.n(f),g=n(81070),y=n(48449),w=n.n(y),b=n(97429).Buffer;class v{constructor(e,t,n){this.connection=e,this.wallet=t,this.opts=n}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async send(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)}));const r=e.serialize();return await(0,i.sendAndConfirmRawTransaction)(this.connection,r,n)}async sendAll(e,t){void 0===t&&(t=this.opts);const n=await this.connection.getRecentBlockhash(t.preflightCommitment);let r=e.map((e=>{let t=e.tx,r=e.signers;return void 0===r&&(r=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=n.blockhash,r.filter((e=>void 0!==e)).forEach((e=>{t.partialSign(e)})),t}));const o=await this.wallet.signAllTransactions(r),s=[];for(let a=0;a<r.length;a+=1){const e=o[a].serialize();s.push(await(0,i.sendAndConfirmRawTransaction)(this.connection,e,t))}return s}async simulate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.opts;var r,i,o;return void 0===t&&(t=[]),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(r=n.preflightCommitment)&&void 0!==r?r:this.opts.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)})),await async function(e,t,n){t.recentBlockhash=await e._recentBlockhash(e._disableBlockhashCaching);const r=t.serializeMessage(),i=[t._serialize(r).toString("base64"),{encoding:"base64",commitment:n}],o=await e._rpcRequest("simulateTransaction",i);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}(this.connection,e,null!==(o=null!==(i=n.commitment)&&void 0!==i?i:this.opts.commitment)&&void 0!==o?o:"processed")}}function _(e){S=e}function A(){return null===S?v.local():S}let S=null;class k extends Error{constructor(e){super(e),this.name="IdlError"}}class E extends Error{constructor(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];super(...r),this.code=e,this.msg=t}static parse(e,t){const n=e.toString();let r,i;if(n.includes("custom program error:")){let e=n.split("custom program error: ");if(2!==e.length)return null;r=e[1]}else{const e=n.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;r=e[0].match(/([0-9]+)/g)[0]}try{i=parseInt(r)}catch(e){return null}let o=t.get(i);return void 0!==o?new E(i,o,i+": "+o):(o=T.get(i),void 0!==o?new E(i,o,i+": "+o):null)}toString(){return this.msg}}const T=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has_one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exempt constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"A state constraint was violated"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[4e3,"The given state account does not have the correct address"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);var I=function(){return I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},I.apply(this,arguments)},P=function(){return P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},P.apply(this,arguments)};function x(e){return e.toLowerCase()}var M=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],O=/[^A-Z0-9]+/gi;function B(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}class D{static fieldLayout(e,t){const n=void 0!==e.name?l()(e.name):void 0;switch(e.type){case"bool":return h.bool(n);case"u8":return h.u8(n);case"i8":return h.i8(n);case"u16":return h.u16(n);case"i16":return h.i16(n);case"u32":return h.u32(n);case"i32":return h.i32(n);case"f32":return h.f32(n);case"u64":return h.u64(n);case"i64":return h.i64(n);case"f64":return h.f64(n);case"u128":return h.u128(n);case"i128":return h.i128(n);case"bytes":return h.vecU8(n);case"string":return h.str(n);case"publicKey":return h.publicKey(n);default:if("vec"in e.type)return h.vec(D.fieldLayout({name:void 0,type:e.type.vec},t),n);if("option"in e.type)return h.option(D.fieldLayout({name:void 0,type:e.type.option},t),n);if("defined"in e.type){const r=e.type.defined;if(void 0===t)throw new k("User defined types not provided");const i=t.filter((e=>e.name===r));if(1!==i.length)throw new k(`Type not found: ${JSON.stringify(e)}`);return D.typeDefLayout(i[0],t,n)}if("array"in e.type){let r=e.type.array[0],i=e.type.array[1],o=D.fieldLayout({name:void 0,type:r},t);return h.array(o,i,n)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if("struct"===e.type.kind){const r=e.type.fields.map((e=>D.fieldLayout(e,t)));return h.struct(r,n)}if("enum"===e.type.kind){let r=e.type.variants.map((e=>{const n=l()(e.name);if(void 0===e.fields)return h.struct([],n);const r=e.fields.map((e=>{if(!e.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return D.fieldLayout(e,t)}));return h.struct(r,n)}));return void 0!==n?h.rustEnum(r).replicate(n):h.rustEnum(r,n)}throw new Error(`Unknown type kint: ${e}`)}}class R{constructor(e){this.idl=e,this.ixLayout=R.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const n=L("global",e.name);t.set(u().encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),e.state&&e.state.methods.map((e=>{const n=L("state",e.name);t.set(u().encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t){return this._encode("global",e,t)}encodeState(e,t){return this._encode("state",e,t)}_encode(e,t,n){const i=r.Buffer.alloc(1e3),o=l()(t),s=this.ixLayout.get(o);if(!s)throw new Error(`Unknown method: ${o}`);const a=s.encode(n,i),u=i.slice(0,a);return r.Buffer.concat([L(e,t),u])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map((t=>{let n=t.args.map((t=>{var n,r;return D.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=l()(t.name);return[r,h.struct(n,r)]})).concat(e.instructions.map((t=>{let n=t.args.map((t=>{var n,r;return D.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=l()(t.name);return[r,h.struct(n,r)]})));return new Map(t)}decode(e){"string"==typeof e&&(e="hex"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex")?r.Buffer.from(e,"hex"):u().decode(e));let t=u().encode(e.slice(0,8)),n=e.slice(8);const i=this.sighashLayouts.get(t);return i?{data:i.layout.decode(n),name:i.name}:null}format(e,t){return U.format(e,t,this.idl)}}class U{static format(e,t,n){const r=n.instructions.filter((t=>e.name===t.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((t=>({name:t.name,type:U.formatIdlType(t.type),data:U.formatIdlData(t,e.data[t.name],n.types)}))),o=U.flattenIdlAccounts(r.accounts);return{args:i,accounts:t.map(((e,t)=>t<o.length?{name:o[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){if("string"==typeof e)return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,n){if("string"==typeof e.type)return t.toString();if(e.type.hasOwnProperty("vec"))return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t))).join(", ")+"]";if(e.type.hasOwnProperty("option"))return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t);if(e.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((t=>t.name===e.type.defined));if(1!==r.length)throw new Error(`Type not found: ${e.type.defined}`);return U.formatIdlDataDefined(r[0],t,n)}return"unknown"}static formatIdlDataDefined(e,t,n){if("struct"===e.type.kind){const r=e.type;return"{ "+Object.keys(t).map((e=>{const i=r.fields.filter((t=>t.name===e))[0];if(void 0===i)throw new Error("Unable to find type");return e+": "+U.formatIdlData(i,t[e],n)})).join(", ")+" }"}if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const r=e.type.variants,i=Object.keys(t)[0],o=t[i],s=Object.keys(o).map((e=>{var t;const s=o[e],a=null===(t=r[i])||void 0===t?void 0:t.filter((t=>t.name===e))[0];if(void 0===a)throw new Error("Unable to find variant");return e+": "+U.formatIdlData(a,s,n)})).join(", "),a=l()(i,{pascalCase:!0});return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map((e=>{const n=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.hasOwnProperty("accounts")){const r=t?`${t} > ${n}`:n;return U.flattenIdlAccounts(e.accounts,r)}return{...e,name:t?`${t} > ${n}`:n}})).flat()}}function L(e,t){var n;let i=`${e}:${void 0===n&&(n={}),function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?M:n,i=t.stripRegexp,o=void 0===i?O:i,s=t.transform,a=void 0===s?x:s,u=t.delimiter,c=void 0===u?" ":u,l=B(B(e,r,"$1\0$2"),o,"\0"),d=0,h=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(h-1);)h--;return l.slice(d,h).split("\0").map(a).join(c)}(e,P({delimiter:"."},t))}(t,I({delimiter:"_"},n))}`;return r.Buffer.from(d.sha256.digest(i)).slice(0,8)}function C(e,t){if("enum"===t.type.kind){let n=t.type.variants.map((t=>void 0===t.fields?0:t.fields.map((t=>{if("object"!=typeof t||!("name"in t))throw new Error("Tuple enum variants not yet implemented.");return N(e,t.type)})).reduce(((e,t)=>e+t))));return Math.max(...n)+1}return void 0===t.type.fields?0:t.type.fields.map((t=>N(e,t.type))).reduce(((e,t)=>e+t),0)}function N(e,t){var n,r;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in t)return 1;if("option"in t)return 1+N(e,t.option);if("coption"in t)return 4+N(e,t.coption);if("defined"in t){const i=null!==(r=null===(n=e.types)||void 0===n?void 0:n.filter((e=>e.name===t.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new k(`Type not found: ${JSON.stringify(t)}`);return C(e,i[0])}if("array"in t){let n=t.array[0],r=t.array[1];return N(e,n)*r}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}const F=8;class W{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,D.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t),this.idl=e}async encode(e,t){const n=r.Buffer.alloc(1e3),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);const o=i.encode(t,n);let s=n.slice(0,o),a=W.accountDiscriminator(e);return r.Buffer.concat([a,s])}decode(e,t){if(W.accountDiscriminator(e).compare(t.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){const n=t.slice(8),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);return r.decode(n)}memcmp(e,t){const n=W.accountDiscriminator(e);return{offset:0,bytes:u().encode(t?r.Buffer.concat([n,t]):n)}}size(e){var t;return 8+(null!==(t=C(this.idl,e))&&void 0!==t?t:0)}static accountDiscriminator(e){return r.Buffer.from(d.sha256.digest(`account:${l()(e,{pascalCase:!0})}`)).slice(0,8)}}class z{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let n={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,D.typeDefLayout(n,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>[p.fromByteArray(j(e.name)),e.name])))}decode(e){let t;try{t=r.Buffer.from(p.toByteArray(e))}catch(st){return null}const n=p.fromByteArray(t.slice(0,8)),i=this.discriminators.get(n);if(void 0===i)return null;const o=this.layouts.get(i);if(!o)throw new Error(`Unknown event: ${i}`);return{data:o.decode(t.slice(8)),name:i}}}function j(e){return r.Buffer.from(d.sha256.digest(`event:${e}`)).slice(0,8)}const q=new Set(["anchor-deprecated-state","debug-logs"]),K=new Map;function V(e){return void 0!==K.get(e)}var H=Object.freeze({__proto__:null,set:function(e){if(!q.has(e))throw new Error("Invalid feature");K.set(e,!0)},isSet:V});class G{constructor(e){if(void 0===e.state)throw new Error("Idl state not defined.");this.layout=D.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const n=r.Buffer.alloc(1e3),i=this.layout.encode(t,n),o=await Z(e),s=n.slice(0,i);return r.Buffer.concat([o,s])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function Z(e){let t=V("anchor-deprecated-state")?"account":"state";return r.Buffer.from(d.sha256.digest(`${t}:${e}`)).slice(0,8)}class Q{constructor(e){this.instruction=new R(e),this.accounts=new W(e),this.events=new z(e),e.state&&(this.state=new G(e))}}var X="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};class J{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var Y=J;class $ extends J{isCount(){throw new Error("ExternalLayout is abstract")}}class ee extends ${constructor(e,t,n){if(!(e instanceof J))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof te||this.layout instanceof ne}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class te extends J{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class ne extends J{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}const re=Math.pow(2,32);class ie extends J{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return function(e,t){return e*re+t}(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=function(e){const t=Math.floor(e/re);return{hi32:t,lo32:e-t*re}}(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class oe extends J{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof J),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const i of e)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const s of this.fields){let r=s.span;if(o=0<r?r:0,void 0!==s.property){const i=e[s.property];void 0!==i&&(o=s.encode(i,t,n),0>r&&(r=s.getSpan(t,n)))}i=n,n+=r}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class se{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class ae extends se{constructor(e,t){if(!(e instanceof $&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class ue extends J{constructor(e,t,n){const r=e instanceof te||e instanceof ne;if(r)e=new ae(new ee(e));else if(e instanceof $&&e.isCount())e=new ae(e);else if(!(e instanceof se))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof J))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&r&&(i+=e.layout.span)),super(i,n),this.discriminator=e,this.usesPrefixDiscriminator=r,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(e,t+s)}else n=o.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new ce(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return b.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class ce extends J{constructor(e,t,n,r){if(!(e instanceof ue))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof J))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class le extends J{constructor(e,t){if(!(e instanceof $&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof $||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof $&&(r=e.length),!b.isBuffer(e)||r!==e.length)throw new TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+r+") Buffer as src"));var i;if(n+r>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,r,"hex"),this.length instanceof $&&this.length.encode(r,t,n),r}}var de=e=>new te(1,e),he=e=>new ie(e),pe=(e,t,n)=>new oe(e,t,n),fe=(e,t)=>new le(e,t);class me{constructor(e){}encode(e,t){switch(l()(e)){case"initializeMint":return function(e){let{decimals:t,mintAuthority:n,freezeAuthority:r}=e;return be({initializeMint:{decimals:t,mintAuthority:n.toBuffer(),freezeAuthorityOption:!!r,freezeAuthority:(r||i.PublicKey.default).toBuffer()}})}(t);case"initializeAccount":return be({initializeAccount:{}});case"initializeMultisig":return function(e){let{m:t}=e;return be({initializeMultisig:{m:t}})}(t);case"transfer":return function(e){let{amount:t}=e;return be({transfer:{amount:t}})}(t);case"approve":return function(e){let{amount:t}=e;return be({approve:{amount:t}})}(t);case"revoke":return be({revoke:{}});case"setAuthority":return function(e){let{authorityType:t,newAuthority:n}=e;return be({setAuthority:{authorityType:t,newAuthority:n}})}(t);case"mintTo":return function(e){let{amount:t}=e;return be({mintTo:{amount:t}})}(t);case"burn":return function(e){let{amount:t}=e;return be({burn:{amount:t}})}(t);case"closeAccount":return be({closeAccount:{}});case"freezeAccount":return be({freezeAccount:{}});case"thawAccount":return be({thawAccount:{}});case"transferChecked":return function(e){let{amount:t,decimals:n}=e;return be({transferChecked:{amount:t,decimals:n}})}(t);case"approvedChecked":return function(e){let{amount:t,decimals:n}=e;return be({approveChecked:{amount:t,decimals:n}})}(t);case"mintToChecked":return function(e){let{amount:t,decimals:n}=e;return be({mintToChecked:{amount:t,decimals:n}})}(t);case"burnChecked":return function(e){let{amount:t,decimals:n}=e;return be({burnChecked:{amount:t,decimals:n}})}(t);case"intializeAccount2":return function(e){let{authority:t}=e;return be({initilaizeAccount2:{authority:t}})}(t);case"syncNative":return be({syncNative:{}});case"initializeAccount3":return function(e){let{authority:t}=e;return be({initializeAccount3:{authority:t}})}(t);case"initializeMultisig2":return function(e){let{m:t}=e;return be({initializeMultisig2:{m:t}})}(t);case"initializeMint2":return function(e){let{decimals:t,mintAuthority:n,freezeAuthority:r}=e;return be({encodeInitializeMint2:{decimals:t,mintAuthority:n,freezeAuthority:r}})}(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("SPL token does not have state")}}const ge=(ye=de("instruction"),new ue(ye,undefined,undefined));var ye;function we(e){return fe(32,e)}function be(e){let t=b.alloc(ve),n=ge.encode(e,t);return t.slice(0,n)}ge.addVariant(0,pe([de("decimals"),fe(32,"mintAuthority"),de("freezeAuthorityOption"),we("freezeAuthority")]),"initializeMint"),ge.addVariant(1,pe([]),"initializeAccount"),ge.addVariant(2,pe([de("m")]),"initializeMultisig"),ge.addVariant(3,pe([he("amount")]),"transfer"),ge.addVariant(4,pe([he("amount")]),"approve"),ge.addVariant(5,pe([]),"revoke"),ge.addVariant(6,pe([de("authorityType"),de("newAuthorityOption"),we("newAuthority")]),"setAuthority"),ge.addVariant(7,pe([he("amount")]),"mintTo"),ge.addVariant(8,pe([he("amount")]),"burn"),ge.addVariant(9,pe([]),"closeAccount"),ge.addVariant(10,pe([]),"freezeAccount"),ge.addVariant(11,pe([]),"thawAccount"),ge.addVariant(12,pe([he("amount"),de("decimals")]),"transferChecked"),ge.addVariant(13,pe([he("amount"),de("decimals")]),"approvedChecked"),ge.addVariant(14,pe([he("amount"),de("decimals")]),"mintToChecked"),ge.addVariant(15,pe([he("amount"),de("decimals")]),"burnedChecked"),ge.addVariant(16,pe([we("authority")]),"InitializeAccount2"),ge.addVariant(17,pe([]),"syncNative"),ge.addVariant(18,pe([we("authority")]),"initializeAccount3"),ge.addVariant(19,pe([de("m")]),"initializeMultisig2"),ge.addVariant(20,pe([de("decimals"),we("mintAuthority"),de("freezeAuthorityOption"),we("freezeAuthority")]),"initializeMint2");const ve=Math.max(...Object.values(ge.registry).map((e=>e.span)));class _e{constructor(e){}encode(e,t){throw new Error("SPL token does not have state")}decode(e){throw new Error("SPL token does not have state")}}function Ae(e){return new Ee(fe(8),(e=>xe.fromBuffer(e)),(e=>e.toBuffer()),e)}function Se(e){return new Ee(fe(32),(e=>new i.PublicKey(e)),(e=>e.toBuffer()),e)}function ke(e,t){return new Te(e,t)}class Ee extends Y{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}class Te extends Y{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=new te(4,void 0)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null==e?this.layout.span+this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+4)+4)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.property)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.layout.getSpan(e,t+4)+4}}function Ie(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}function Pe(e){return e?1:0}class xe extends(s()){toBuffer(){const e=super.toArray().reverse(),t=b.from(e);if(8===t.length)return t;if(t.length>=8)throw new Error("u64 too large");const n=b.alloc(8);return t.copy(n),n}static fromBuffer(e){if(8!==e.length)throw new Error(`Invalid buffer length: ${e.length}`);return new xe([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}class Me{constructor(e){this.idl=e}async encode(e,t){switch(e){case"Token":{const e=b.alloc(165),n=Be.encode(t,e);return e.slice(0,n)}case"Mint":{const e=b.alloc(82),n=Oe.encode(t,e);return e.slice(0,n)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){switch(e){case"Token":return function(e){return Be.decode(e)}(t);case"Mint":return function(e){return Oe.decode(e)}(t);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,t){switch(e){case"Token":return{dataSize:165};case"Mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var t;return null!==(t=C(this.idl,e))&&void 0!==t?t:0}}const Oe=pe([ke(Se(),"mintAuthority"),Ae("supply"),de("decimals"),new Ee(de(),Ie,Pe,"isInitialized"),ke(Se(),"freezeAuthority")]),Be=pe([Se("mint"),Se("authority"),Ae("amount"),ke(Se(),"delegate"),de("state"),ke(Ae(),"isNative"),Ae("delegatedAmount"),ke(Se(),"closeAuthority")]);class De{constructor(e){}decode(e){throw new Error("SPL token program does not have events")}}class Re{constructor(e){this.instruction=new me(e),this.accounts=new Me(e),this.events=new De(e),this.state=new _e(e)}}var Ue=Object.freeze({__proto__:null,hash:function(e){return(0,d.sha256)(e)}});function Le(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var n;let r=null!==(n=e.msg)&&void 0!==n?n:e.name;t.set(e.code,r)})),t}function Ce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e.args.length!=n.length)throw new Error("Invalid argument length");const i={};let o=0;return e.args.forEach((e=>{i[e.name]=n[o],o+=1})),i}function Ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((e=>{if("accounts"in e)Ne(e.accounts,t[e.name]);else if(void 0===t[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function Fe(e){return e instanceof i.PublicKey?e:new i.PublicKey(e)}async function We(e,t,n){if(t.length<=99)return await ze(e,t,n);{const i=(r=t,99,Array.apply(0,new Array(Math.ceil(r.length/99))).map(((e,t)=>r.slice(99*t,99*(t+1)))));return(await Promise.all(i.map((t=>ze(e,t,n))))).flat()}var r}async function ze(e,t,n){const o=null!=n?n:e.commitment,s=[t.map((e=>e.toBase58()))];o&&s.push({commitment:o});const a=await e._rpcRequest("getMultipleAccounts",s);if(a.error)throw new Error("failed to get info about accounts "+t.map((e=>e.toBase58())).join(", ")+": "+a.error.message);m()(void 0!==a.result);const u=[];for(const c of a.result.value){let e=null;if(null!==c){if(a.result.value){const{executable:t,owner:n,lamports:o,data:s}=c;m()("base64"===s[1]),e={executable:t,owner:new i.PublicKey(n),lamports:o,data:r.Buffer.from(s[0],"base64")}}if(null===e)throw new Error("Invalid response");u.push(e)}else u.push(null)}return u.map(((e,n)=>null===e?null:{publicKey:t[n],account:e}))}var je=Object.freeze({__proto__:null,invoke:async function(e,t,n,r){e=Fe(e),r||(r=A());const o=new i.Transaction;return o.add(new i.TransactionInstruction({programId:e,keys:null!=t?t:[],data:n})),await r.send(o)},getMultipleAccounts:We});function qe(e,t,n){const o=r.Buffer.concat([e.toBuffer(),r.Buffer.from(t),n.toBuffer()]),s=d.sha256.digest(o);return new i.PublicKey(r.Buffer.from(s))}function Ke(e,t){let n=r.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=r.Buffer.concat([n,He(e)])})),n=r.Buffer.concat([n,t.toBuffer(),r.Buffer.from("ProgramDerivedAddress")]);let o=(0,d.sha256)(new Uint8Array(n)),a=new(s())(o,16).toArray(void 0,32);if(i.PublicKey.isOnCurve(new Uint8Array(a)))throw new Error("Invalid seeds, address must fall off the curve");return new i.PublicKey(a)}function Ve(e,t){let n,i=255;for(;0!=i;){try{n=Ke(e.concat(r.Buffer.from([i])),t)}catch(st){if(st instanceof TypeError)throw st;i--;continue}return[n,i]}throw new Error("Unable to find a viable program address nonce")}const He=e=>e instanceof r.Buffer?e:e instanceof Uint8Array?r.Buffer.from(e.buffer,e.byteOffset,e.byteLength):r.Buffer.from(e);async function Ge(e){let t=[r.Buffer.from([97,110,99,104,111,114])];for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];o.forEach((e=>{t.push(e instanceof r.Buffer?e:Fe(e).toBuffer())}));const[a]=await i.PublicKey.findProgramAddress(t,Fe(e));return a}var Ze=Object.freeze({__proto__:null,createWithSeedSync:qe,createProgramAddressSync:Ke,findProgramAddressSync:Ve,associated:Ge}),Qe=Object.freeze({__proto__:null,encode:function(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")},decode:function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?r.Buffer.from([]):r.Buffer.from(t.map((e=>parseInt(e,16))))}});function Xe(e){return new TextDecoder("utf-8").decode(e)}function Je(e){return(new TextEncoder).encode(e)}var Ye=Object.freeze({__proto__:null,decode:Xe,encode:Je}),$e=Object.freeze({__proto__:null,encode:function(e){return u().encode(e)},decode:function(e){return u().decode(e)}}),et=Object.freeze({__proto__:null,encode:function(e){return p.fromByteArray(e)},decode:function(e){return r.Buffer.from(p.toByteArray(e))}}),tt=Object.freeze({__proto__:null,hex:Qe,utf8:Ye,bs58:$e,base64:et});const nt=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),rt=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var it=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:nt,ASSOCIATED_PROGRAM_ID:rt,associatedAddress:async function(e){let{mint:t,owner:n}=e;return(await i.PublicKey.findProgramAddress([n.toBuffer(),nt.toBuffer(),t.toBuffer()],rt))[0]}}),ot={exports:{}};!function(e,t){var n="undefined"!=typeof self?self:X,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=f(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=l(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),w.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var A=[301,302,303,307,308];_.redirect=function(e,t){if(-1===A.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise((function(r,o){var s=new b(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new _(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=h,e.Request=b,e.Response=_),t.Headers=h,t.Request=b,t.Response=_,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(ot,ot.exports);var st,at=(st=ot.exports)&&st.__esModule&&Object.prototype.hasOwnProperty.call(st,"default")?st.default:st;async function ut(e,t){const n=await e.getAccountInfo(t);if(null===n)throw new Error("program account not found");const{program:r}=lt(n.data),i=await e.getAccountInfo(r.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=lt(i.data);return o}const ct=h.rustEnum([h.struct([],"uninitialized"),h.struct([h.option(h.publicKey(),"authorityAddress")],"buffer"),h.struct([h.publicKey("programdataAddress")],"program"),h.struct([h.u64("slot"),h.option(h.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,h.u32());function lt(e){return ct.decode(e)}var dt=Object.freeze({__proto__:null,verifiedBuild:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const r=`https://anchor.projectserum.com/api/v0/program/${t.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([ut(e,t),at(r)]),s=(await o.json()).filter((e=>!e.aborted&&"Built"===e.state&&"Verified"===e.verified));if(0===s.length)return null;const a=s[0];return i.slot.toNumber()!==a.verified_slot?null:a},fetchData:ut,decodeUpgradeableLoaderState:lt}),ht=Object.freeze({__proto__:null,sha256:Ue,rpc:je,publicKey:Ze,bytes:tt,token:it,features:H,registry:dt});const pt=h.struct([h.publicKey("authority"),h.vecU8("data")]);function ft(e,t){var n,r;let i={};const o=e.args?e.args.length:0;if(t.length>o){if(t.length!==o+1)throw new Error(`provided too many arguments ${t} to instruction ${null==e?void 0:e.name} expecting: ${null!==(r=null===(n=e.args)||void 0===n?void 0:n.map((e=>e.name)))&&void 0!==r?r:[]}`);i=t.pop()}return[t,i]}class mt{static build(e,t,n){if("_inner"===e.name)throw new k("the _inner name is reserved");const r=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const[u,c]=ft(e,[...s]);Ne(e.accounts,c.accounts);const l=r.accounts(c.accounts);return void 0!==c.remainingAccounts&&l.push(...c.remainingAccounts),V("debug-logs")&&console.log("Outgoing account metas:",l),new i.TransactionInstruction({keys:l,programId:n,data:t(e.name,Ce(e,...u))})};return r.accounts=t=>mt.accountsArray(t,e.accounts,e.name),r}static accountsArray(e,t,n){return e?t.map((t=>{if(void 0!==("accounts"in t?t.accounts:void 0)){const r=e[t.name];return mt.accountsArray(r,t.accounts,n).flat()}{const r=t;let i;try{i=Fe(e[t.name])}catch(e){throw new Error(`Wrong input type for account "${t.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}return{pubkey:i,isWritable:r.isMut,isSigner:r.isSigner}}})).flat():[]}}class gt{static build(e,t,n,r){return async function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];const a=t(...o),[,u]=ft(e,[...o]);try{return await r.send(a,u.signers,u.options)}catch(e){V("debug-logs")&&console.log("Translating error:",e);let r=E.parse(e,n);if(null===r)throw e;throw r}}}}class yt{static build(e,t){return function(){for(var n,r,o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];const[,c]=ft(e,[...a]),l=new i.Transaction;if(c.preInstructions&&c.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(n=c.preInstructions)||void 0===n||n.forEach((e=>l.add(e))),null===(r=c.instructions)||void 0===r||r.forEach((e=>l.add(e))),l.add(t(...a)),null===(o=c.postInstructions)||void 0===o||o.forEach((e=>l.add(e))),l}}}class wt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Q(e);this.provider=n,this.coder=r,this._idl=e,this._programId=t,this._address=bt(t),this._sub=null;const[o,s,a]=(()=>{var o;let s={},a={},u={};return null===(o=e.state)||void 0===o||o.methods.forEach((o=>{const c=mt.build(o,((e,t)=>r.instruction.encodeState(e,t)),t);c.accounts=e=>{const r=function(e,t,n,r){if("new"===n.name){const[n]=Ve([],e);return[{pubkey:t.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:bt(e),isWritable:!0,isSigner:!1},{pubkey:n,isWritable:!1,isSigner:!1},{pubkey:i.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e,isWritable:!1,isSigner:!1}]}return Ne(n.accounts,r),[{pubkey:bt(e),isWritable:!0,isSigner:!1}]}(t,n,o,e);return r.concat(mt.accountsArray(e,o.accounts,o.name))};const d=yt.build(o,c),h=gt.build(o,d,Le(e),n),p=l()(o.name);s[p]=c,a[p]=d,u[p]=h})),[s,a,u]})();this.instruction=o,this.transaction=s,this.rpc=a}get programId(){return this._programId}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(null===t)throw new Error(`Account does not exist ${e.toString()}`);const n=this._idl.state;if(!n)throw new Error("State is not specified in IDL.");if((await Z(n.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(null!==this._sub)return this._sub.ee;const t=new(w()),n=this.provider.connection.onAccountChange(this.address(),(e=>{const n=this.coder.state.decode(e.data);t.emit("change",n)}),e);return this._sub={ee:t,listener:n},t}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function bt(e){let[t]=Ve([],e);return qe(t,"unversioned",e)}class vt{constructor(e,t,n,r,i){this._idlAccount=t,this._programId=n,this._provider=null!=r?r:A(),this._coder=null!=i?i:new Q(e),this._size=this._coder.accounts.size(t)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,t){const n=await this.getAccountInfo(e,t);return null===n?null:this._coder.accounts.decode(this._idlAccount.name,n.data)}async fetch(e,t){const n=await this.fetchNullable(e,t);if(null===n)throw new Error(`Account does not exist ${e.toString()}`);return n}async fetchMultiple(e,t){return(await We(this._provider.connection,e.map((e=>Fe(e))),t)).map((e=>null==e?null:this._coder.accounts.decode(this._idlAccount.name,null==e?void 0:e.account.data)))}async all(e){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,e instanceof b?e:void 0)},...Array.isArray(e)?e:[]]})).map((e=>{let{pubkey:t,account:n}=e;return{publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,n.data)}}))}subscribe(e,t){const n=_t.get(e.toString());if(n)return n.ee;const r=new(w());e=Fe(e);const i=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);r.emit("change",t)}),t);return _t.set(e.toString(),{ee:r,listener:i}),r}async unsubscribe(e){let t=_t.get(e.toString());t?_t&&await this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{_t.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const n=this.size;return i.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:n),programId:this._programId})}async associated(){const e=await this.associatedAddress(...arguments);return await this.fetch(e)}async associatedAddress(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return await Ge(this._programId,...t)}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(Fe(e),t)}}const _t=new Map,At="Program log: ".length;class St{constructor(e,t,n){this._programId=e,this._provider=t,this._eventParser=new kt(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!==(n=this._eventListeners.get(e))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((e,t)=>{e.err||this._eventParser.parseLogs(e.logs,(e=>{const n=this._eventListeners.get(e.name);n&&n.forEach((n=>{const r=this._eventCallbacks.get(n);if(r){const[,n]=r;n(e.data,t.slot)}}))}))}))),r}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=t;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(e),r=r.filter((t=>t!==e)),0===r.length&&this._eventListeners.delete(n),0==this._eventCallbacks.size&&(f.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class kt{constructor(e,t){this.coder=t,this.programId=e}parseLogs(e,t){const n=new Tt(e),r=new Et(n.next());let i=n.next();for(;null!==i;){let[e,o,s]=this.handleLog(r,i);e&&t(e),o&&r.push(o),s&&r.pop(),i=n.next()}}handleLog(e,t){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log:")){const t=e.slice(At);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class Et{constructor(e){var t;const n=null===(t=/^Program (.*) invoke.*$/g.exec(e))||void 0===t?void 0:t[1];if(!n)throw new Error("Could not find program invocation log line");this.stack=[n]}program(){return f.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){f.ok(this.stack.length>0),this.stack.pop()}}class Tt{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}const It=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function Pt(){return new Re(xt)}const xt={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class Mt{constructor(e,t,n,r,i,o){this._args=e,this._accounts=t,this._provider=n,this._programId=r,this._idlIx=i,this._accountStore=new Ot(n,o)}async resolve(){for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],n=l()(t.name);if(t.pda&&t.pda.seeds.length>0&&void 0===this._accounts[n])await this.autoPopulatePda(t);else if(t.isSigner&&void 0===this._accounts[n])this._accounts[n]=this._provider.wallet.publicKey;else switch(n){case"systemProgram":void 0===this._accounts[n]&&(this._accounts[n]=i.SystemProgram.programId);case"rent":void 0===this._accounts[n]&&(this._accounts[n]=i.SYSVAR_RENT_PUBKEY);case"tokenProgram":void 0===this._accounts[n]&&(this._accounts[n]=nt);case"associatedTokenProgram":void 0===this._accounts[n]&&(this._accounts[n]=rt)}}}async autoPopulatePda(e){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const t=await Promise.all(e.pda.seeds.map((e=>this.toBuffer(e)))),n=await this.parseProgramId(e),[r]=await i.PublicKey.findProgramAddress(t,n);this._accounts[l()(e.name)]=r}async parseProgramId(e){var t;if(!(null===(t=e.pda)||void 0===t?void 0:t.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new i.PublicKey(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}toBufferConst(e){return this.toBufferValue(e.type,e.value)}async toBufferArg(e){const t=this.argValue(e);return this.toBufferValue(e.type,t)}argValue(e){const t=l()(e.path.split(".")[0]),n=this._idlIx.args.findIndex((e=>e.name===t));if(-1===n)throw new Error(`Unable to find argument for seed: ${t}`);return this._args[n]}async toBufferAccount(e){const t=await this.accountValue(e);return this.toBufferValue(e.type,t)}async accountValue(e){const t=e.path.split("."),n=t[0],r=this._accounts[l()(n)];if(1===t.length)return r;const i=await this._accountStore.fetchAccount(e.account,r);return this.parseAccountValue(i,t.slice(1))}parseAccountValue(e,t){let n;for(;t.length>0;)n=e[l()(t[0])],t=t.slice(1);return n}toBufferValue(e,t){switch(e){case"u8":return b.from([t]);case"u16":let n=b.alloc(2);return n.writeUInt16LE(t),n;case"u32":let r=b.alloc(4);return r.writeUInt32LE(t),r;case"u64":let i=b.alloc(8);return i.writeBigUInt64LE(BigInt(t)),i;case"string":return b.from(Je(t));case"publicKey":return t.toBuffer();default:if(e.array)return b.from(t);throw new Error(`Unexpected seed type: ${e}`)}}}class Ot{constructor(e,t){this._provider=e,this._accounts=t,this._cache=new Map}async fetchAccount(e,t){const n=t.toString();if(void 0===this._cache.get(n))if("TokenAccount"===e){const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error(`invalid account info for ${n}`);const r=Pt().accounts.decode("Token",e.data);this._cache.set(n,r)}else{const r=this._accounts[l()(e)].fetch(t);this._cache.set(n,r)}return this._cache.get(n)}}class Bt{static build(e,t,n,r,i,o,s,a){return function(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];return new Dt(c,r,i,o,s,e,t,n,a)}}}class Dt{constructor(e,t,n,r,i,o,s,a,u){this._args=e,this._ixFn=t,this._txFn=n,this._rpcFn=r,this._simulateFn=i,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._accountsResolver=new Mt(e,this._accounts,o,s,a,u)}accounts(e){return Object.assign(this._accounts,e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class Rt{constructor(e,t,n,r){t=Fe(t),n||(n=A()),this._idl=e,this._provider=n,this._programId=t,this._coder=null!=r?r:new Q(e),this._events=new St(this._programId,n,this._coder);const[i,o,s,a,u,c,d]=class{static build(e,t,n,r){const i={},o={},s={},a={},u={},c=Le(e),d=e.accounts?class{static build(e,t,n,r){var i;const o={};return null===(i=e.accounts)||void 0===i||i.forEach((i=>{const s=l()(i.name);o[s]=new vt(e,i,n,r,t)})),o}}.build(e,t,n,r):{},h=class{static build(e,t,n,r){if(void 0!==e.state)return new wt(e,n,r,t)}}.build(e,t,n,r);return e.instructions.forEach((h=>{const p=mt.build(h,((e,n)=>t.instruction.encode(e,n)),n),f=yt.build(h,p),m=gt.build(h,f,c,r),g=class{static build(e,t,n,r,i,o,s){return async function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];const l=t(...u),[,d]=ft(e,[...u]);let h;try{h=await r.simulate(l,d.signers,d.options)}catch(e){V("debug-logs")&&console.log("Translating error:",e);let r=E.parse(e,n);if(null===r)throw e;throw r}if(void 0===h)throw new Error("Unable to simulate transaction");if(h.value.err)throw new Error(`Simulate error: ${h.value.err.toString()}`);const p=h.value.logs;if(!p)throw new Error("Simulated logs not found");const f=[];return s.events&&new kt(o,i).parseLogs(p,(e=>{f.push(e)})),{events:f,raw:p}}}}.build(h,f,c,r,t,n,e),y=Bt.build(r,n,h,p,f,m,g,d),w=l()(h.name);o[w]=p,s[w]=f,i[w]=m,a[w]=g,u[w]=y})),[i,o,s,d,a,u,h]}}.build(e,this._coder,t,n);this.rpc=i,this.instruction=o,this.transaction=s,this.account=a,this.simulate=u,this.methods=c,this.state=d}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const n=Fe(e),r=await Rt.fetchIdl(n,t);if(!r)throw new Error(`IDL not found for program: ${e.toString()}`);return new Rt(r,n,t)}static async fetchIdl(e,t){t=null!=t?t:A();const n=Fe(e),r=await async function(e){const t=(await i.PublicKey.findProgramAddress([],e))[0];return await i.PublicKey.createWithSeed(t,"anchor:idl",e)}(n),o=await t.connection.getAccountInfo(r);if(!o)return null;let s=(a=o.data.slice(8),pt.decode(a));var a;const u=(0,g.rr)(s.data);return JSON.parse(Xe(u))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}class Ut{static token(){return new Rt(xt,It,undefined,Pt())}}},38369:(e,t,n)=>{"use strict";var r=n(97429).Buffer;function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o,s=n(39487),a=i(n(46694)),u=i(n(86243)),c=n(99998);function l(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){l(o,r,i,s,a,"next",e)}function a(e){l(o,r,i,s,a,"throw",e)}s(void 0)}))}}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return m(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var y,w=new c.web3.PublicKey("cysPXAjehMpVKUapzbMCCnpFxUFFryEWEaLgnb9NrR8");(y=t.lk||(t.lk={}))[y.SUPER_STABLE=20]="SUPER_STABLE",y[y.TURBO_SPL=80]="TURBO_SPL",y[y.LOW=500]="LOW",y[y.MEDIUM=3e3]="MEDIUM",y[y.HIGH=1e4]="HIGH";var b=((o={})[t.lk.SUPER_STABLE]=1,o[t.lk.TURBO_SPL]=60,o[t.lk.LOW]=10,o[t.lk.MEDIUM]=60,o[t.lk.HIGH]=200,o),v=a.BigInt(-1),_=a.BigInt(0),A=a.BigInt(1),S=a.exponentiate(a.BigInt(2),a.BigInt(32)),k=a.exponentiate(a.BigInt(2),a.BigInt(64)),E=a.subtract(S,A),T=a.subtract(k,A),I=a.BigInt(32),P=r.from("b"),x=r.from("p"),M=r.from("ps"),O=r.from("o"),B=r.from("t"),D=r.from("f");function R(e){var t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e,!1),new Uint8Array(t)}function U(e){var t=e.factoryAddress,n=e.tokenA,r=e.tokenB,i=e.fee,o=n.sortsBefore(r)?[n,r]:[r,n],s=o[1],a=new c.web3.PublicKey(o[0].address),u=new c.web3.PublicKey(s.address);return c.web3.PublicKey.findProgramAddress([x,a.toBuffer(),u.toBuffer(),R(i)],t).then((function(e){return e[0]}))}var L=function(){function e(){}return e.addDelta=function(e,t){return a.lessThan(t,_)?a.subtract(e,a.multiply(t,v)):a.add(e,t)},e}(),C=function(){function e(){}return e.mulDivRoundingUp=function(e,t,n){var r=a.multiply(e,t),i=a.divide(r,n);return a.notEqual(a.remainder(r,n),_)&&(i=a.add(i,A)),i},e.mulDivFloor=function(e,t,n){a.notEqual(n,_)||u(!1);var r=a.multiply(e,t);return a.divide(r,n)},e.mulDivCeil=function(e,t,n){a.notEqual(n,_)||u(!1);var r=a.multiply(e,t);return a.divide(a.add(r,a.subtract(n,A)),n)},e}();function N(e,t){var n=a.multiply(e,t);return a.bitwiseAnd(n,s.MaxUint128)}var F=function(){function e(){}return e.getAmount0Delta=function(e,t,n,r){if(a.greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}var o=a.leftShift(n,I),s=a.subtract(t,e);return a.greaterThan(e,_)||u(!1),r?C.mulDivRoundingUp(C.mulDivCeil(o,s,t),A,e):a.divide(C.mulDivFloor(o,s,t),e)},e.getAmount1Delta=function(e,t,n,r){if(a.greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}return r?C.mulDivCeil(n,a.subtract(t,e),S):C.mulDivFloor(n,a.subtract(t,e),S)},e.getNextSqrtPriceFromInput=function(e,t,n,r){return a.greaterThan(e,_)||u(!1),a.greaterThan(t,_)||u(!1),r?this.getNextSqrtPriceFromAmount0RoundingUp(e,t,n,!0):this.getNextSqrtPriceFromAmount1RoundingDown(e,t,n,!0)},e.getNextSqrtPriceFromOutput=function(e,t,n,r){return a.greaterThan(e,_)||u(!1),a.greaterThan(t,_)||u(!1),r?this.getNextSqrtPriceFromAmount1RoundingDown(e,t,n,!1):this.getNextSqrtPriceFromAmount0RoundingUp(e,t,n,!1)},e.getNextSqrtPriceFromAmount0RoundingUp=function(e,t,n,r){if(a.equal(n,_))return e;var i=a.leftShift(t,I);if(r){var o=N(n,e),c=(d=a.add(i,o),a.bitwiseAnd(d,s.MaxUint128));return a.greaterThanOrEqual(c,i)?C.mulDivCeil(i,e,c):C.mulDivRoundingUp(i,A,a.add(a.divide(i,e),n))}var l=N(n,e);a.greaterThan(i,l)||u(!1);var d,h=a.subtract(i,l);return C.mulDivCeil(i,e,h)},e.getNextSqrtPriceFromAmount1RoundingDown=function(e,t,n,r){if(r){var i=a.lessThanOrEqual(n,E)?a.divide(a.leftShift(n,I),t):C.mulDivFloor(n,S,t);return a.add(e,i)}var o=a.lessThanOrEqual(n,E)?C.mulDivRoundingUp(a.leftShift(n,I),A,t):C.mulDivCeil(n,S,t);return a.greaterThan(e,o)||u(!1),a.subtract(e,o)},e}(),W=a.exponentiate(a.BigInt(10),a.BigInt(6)),z=function(){function e(){}return e.computeSwapStep=function(e,t,n,r,i){var o={},s=a.greaterThanOrEqual(e,t),u=a.greaterThanOrEqual(r,_);if(u){var c=C.mulDivFloor(r,a.subtract(W,a.BigInt(i)),W);o.amountIn=s?F.getAmount0Delta(t,e,n,!0):F.getAmount1Delta(e,t,n,!0),o.sqrtRatioNextX32=a.greaterThanOrEqual(c,o.amountIn)?t:F.getNextSqrtPriceFromInput(e,n,c,s)}else o.amountOut=s?F.getAmount1Delta(t,e,n,!1):F.getAmount0Delta(e,t,n,!1),o.sqrtRatioNextX32=a.greaterThanOrEqual(a.multiply(r,v),o.amountOut)?t:F.getNextSqrtPriceFromOutput(e,n,a.multiply(r,v),s);var l=a.equal(t,o.sqrtRatioNextX32);return s?(o.amountIn=l&&u?o.amountIn:F.getAmount0Delta(o.sqrtRatioNextX32,e,n,!0),o.amountOut=l&&!u?o.amountOut:F.getAmount1Delta(o.sqrtRatioNextX32,e,n,!1)):(o.amountIn=l&&u?o.amountIn:F.getAmount1Delta(e,o.sqrtRatioNextX32,n,!0),o.amountOut=l&&!u?o.amountOut:F.getAmount0Delta(e,o.sqrtRatioNextX32,n,!1)),!u&&a.greaterThan(o.amountOut,a.multiply(r,v))&&(o.amountOut=a.multiply(r,v)),o.feeAmount=u&&a.notEqual(o.sqrtRatioNextX32,t)?a.subtract(r,o.amountIn):C.mulDivCeil(o.amountIn,a.BigInt(i),a.subtract(W,a.BigInt(i))),[o.sqrtRatioNextX32,o.amountIn,o.amountOut,o.feeAmount]},e}();function j(e){return e.bitLength()-1}function q(e){return e.zeroBits()}function K(e,t){return a.signedRightShift(a.multiply(e,a.BigInt(t)),a.BigInt(64))}var V=a.exponentiate(a.BigInt(2),a.BigInt(32)),H=function(){function e(){}return e.getSqrtRatioAtTick=function(t){t>=e.MIN_TICK&&t<=e.MAX_TICK&&Number.isInteger(t)||u(!1);var n=t<0?-1*t:t,r=a.BigInt(0!=(1&n)?"0xfffcb933bd6fb800":"0x10000000000000000");return 0!=(2&n)&&(r=K(r,"0xfff97272373d4000")),0!=(4&n)&&(r=K(r,"0xfff2e50f5f657000")),0!=(8&n)&&(r=K(r,"0xffe5caca7e10f000")),0!=(16&n)&&(r=K(r,"0xffcb9843d60f7000")),0!=(32&n)&&(r=K(r,"0xff973b41fa98e800")),0!=(64&n)&&(r=K(r,"0xff2ea16466c9b000")),0!=(128&n)&&(r=K(r,"0xfe5dee046a9a3800")),0!=(256&n)&&(r=K(r,"0xfcbe86c7900bb000")),0!=(512&n)&&(r=K(r,"0xf987a7253ac65800")),0!=(1024&n)&&(r=K(r,"0xf3392b0822bb6000")),0!=(2048&n)&&(r=K(r,"0xe7159475a2caf000")),0!=(4096&n)&&(r=K(r,"0xd097f3bdfd2f2000")),0!=(8192&n)&&(r=K(r,"0xa9f746462d9f8000")),0!=(16384&n)&&(r=K(r,"0x70d869a156f31c00")),0!=(32768&n)&&(r=K(r,"0x31be135f97ed3200")),0!=(65536&n)&&(r=K(r,"0x9aa508b5b85a500")),0!=(131072&n)&&(r=K(r,"0x5d6af8dedc582c")),t>0&&(r=a.divide(s.MaxUint128,r)),a.greaterThan(a.remainder(r,V),_)?a.add(a.divide(r,V),A):a.divide(r,V)},e.getTickAtSqrtRatio=function(t){a.greaterThanOrEqual(t,e.MIN_SQRT_RATIO)&&a.lessThan(t,e.MAX_SQRT_RATIO)||u(!1);var n,r=j(new c.BN(t.toString()));n=a.greaterThanOrEqual(a.BigInt(r),a.BigInt(32))?a.signedRightShift(t,a.BigInt(r-31)):a.leftShift(t,a.BigInt(31-r));for(var i=a.leftShift(a.subtract(a.BigInt(r),a.BigInt(32)),a.BigInt(16)),o=0;o<14;o++){n=a.signedRightShift(a.multiply(n,n),a.BigInt(31));var s=a.signedRightShift(n,a.BigInt(32));i=a.bitwiseOr(i,a.leftShift(s,a.BigInt(15-o))),n=a.signedRightShift(n,s)}var l=a.multiply(i,a.BigInt("908567298")),d=a.toNumber(a.signedRightShift(a.subtract(l,a.BigInt("42949672")),a.BigInt(32))),h=a.toNumber(a.signedRightShift(a.add(l,a.BigInt("3677218864")),a.BigInt(32)));return d===h?d:a.lessThanOrEqual(e.getSqrtRatioAtTick(h),t)?h:d},e}();H.MIN_TICK=-221818,H.MAX_TICK=-H.MIN_TICK,H.MIN_SQRT_RATIO=a.BigInt("65537"),H.MAX_SQRT_RATIO=a.BigInt("281472331703918");var G=function(){function e(){}var t=e.prototype;return t.getTickAddress=function(e){throw new Error("Method not implemented.")},t.getTick=function(t){throw new Error(e.ERROR_MESSAGE)},t.nextInitializedTickWithinOneWord=function(t,n,r){throw new Error(e.ERROR_MESSAGE)},e}();G.ERROR_MESSAGE="No tick data provider was given";var Z=new G,Q=function(){function e(e,t,n,r,i,o,s){void 0===s&&(s=Z),Number.isInteger(n)&&n<1e6||u(!1);var c=H.getSqrtRatioAtTick(o),l=H.getSqrtRatioAtTick(o+1);a.greaterThanOrEqual(r,c)&&a.lessThanOrEqual(r,l)||u(!1);var d=e.sortsBefore(t)?[e,t]:[t,e];this.token0=d[0],this.token1=d[1],this.fee=n,this.sqrtRatioX32=r,this.liquidity=i,this.tickCurrent=o,this.tickDataProvider=s}e.getAddress=function(e,t,n){return U({factoryAddress:w,fee:n,tokenA:e,tokenB:t})};var t=e.prototype;return t.involvesToken=function(e){return e.equals(this.token0)||e.equals(this.token1)},t.priceOf=function(e){return this.involvesToken(e)||u(!1),e.equals(this.token0)?this.token0Price:this.token1Price},t.getOutputAmount=function(t,n){this.involvesToken(t.currency)||u(!1);var r=t.currency.equals(this.token0),i=this.swap(r,t.quotient,n),o=i.sqrtRatioX32,c=i.liquidity,l=i.tickCurrent,d=i.accounts;return[s.CurrencyAmount.fromRawAmount(r?this.token1:this.token0,a.multiply(i.amountCalculated,v)),new e(this.token0,this.token1,this.fee,o,c,l,this.tickDataProvider),d]},t.getInputAmount=function(t,n){t.currency.isToken&&this.involvesToken(t.currency)||u(!1);var r=t.currency.equals(this.token1),i=this.swap(r,a.multiply(t.quotient,v),n),o=i.sqrtRatioX32,c=i.liquidity,l=i.tickCurrent;return[s.CurrencyAmount.fromRawAmount(r?this.token0:this.token1,i.amountCalculated),new e(this.token0,this.token1,this.fee,o,c,l,this.tickDataProvider)]},t.swap=function(e,t,n){a.notEqual(t,_)||u(!1),n||(n=e?a.add(H.MIN_SQRT_RATIO,A):a.subtract(H.MAX_SQRT_RATIO,A)),e?(a.greaterThan(n,H.MIN_SQRT_RATIO)||u(!1),a.lessThan(n,this.sqrtRatioX32)||u(!1)):(a.lessThan(n,H.MAX_SQRT_RATIO)||u(!1),a.greaterThan(n,this.sqrtRatioX32)||u(!1));for(var r,i=a.greaterThanOrEqual(t,_),o={amountSpecifiedRemaining:t,amountCalculated:_,sqrtPriceX32:this.sqrtRatioX32,tick:this.tickCurrent,accounts:[],liquidity:this.liquidity},s=0;a.notEqual(o.amountSpecifiedRemaining,_)&&o.sqrtPriceX32!=n&&o.tick<H.MAX_TICK&&o.tick>H.MIN_TICK;){if(s>8)throw Error("account limit");var c={};c.sqrtPriceStartX32=o.sqrtPriceX32;var l=this.tickDataProvider.nextInitializedTickWithinOneWord(o.tick,e,this.tickSpacing);c.tickNext=l[0],c.initialized=l[1];var d=l[2];r!==d&&(o.accounts.push({pubkey:l[4],isWritable:!1,isSigner:!1}),r=d),c.tickNext<H.MIN_TICK?c.tickNext=H.MIN_TICK:c.tickNext>H.MAX_TICK&&(c.tickNext=H.MAX_TICK),c.sqrtPriceNextX32=H.getSqrtRatioAtTick(c.tickNext);var h=z.computeSwapStep(o.sqrtPriceX32,(e?a.lessThan(c.sqrtPriceNextX32,n):a.greaterThan(c.sqrtPriceNextX32,n))?n:c.sqrtPriceNextX32,o.liquidity,o.amountSpecifiedRemaining,this.fee);if(o.sqrtPriceX32=h[0],c.amountIn=h[1],c.amountOut=h[2],c.feeAmount=h[3],i?(o.amountSpecifiedRemaining=a.subtract(o.amountSpecifiedRemaining,a.add(c.amountIn,c.feeAmount)),o.amountCalculated=a.subtract(o.amountCalculated,c.amountOut)):(o.amountSpecifiedRemaining=a.add(o.amountSpecifiedRemaining,c.amountOut),o.amountCalculated=a.add(o.amountCalculated,a.add(c.amountIn,c.feeAmount))),a.equal(o.sqrtPriceX32,c.sqrtPriceNextX32)){if(c.initialized){var p=this.tickDataProvider.getTick(c.tickNext);o.accounts.push({pubkey:p.address,isWritable:!0,isSigner:!1});var f=p.liquidityNet;e&&(f=a.multiply(f,v)),o.liquidity=L.addDelta(o.liquidity,f)}o.tick=e?c.tickNext-1:c.tickNext}else o.sqrtPriceX32!=c.sqrtPriceStartX32&&(o.tick=H.getTickAtSqrtRatio(o.sqrtPriceX32));++s}return{amountCalculated:o.amountCalculated,sqrtRatioX32:o.sqrtPriceX32,liquidity:o.liquidity,tickCurrent:o.tick,accounts:o.accounts}},p(e,[{key:"token0Price",get:function(){var e;return null!=(e=this._token0Price)?e:this._token0Price=new s.Price(this.token0,this.token1,k,a.multiply(this.sqrtRatioX32,this.sqrtRatioX32))}},{key:"token1Price",get:function(){var e;return null!=(e=this._token1Price)?e:this._token1Price=new s.Price(this.token1,this.token0,a.multiply(this.sqrtRatioX32,this.sqrtRatioX32),k)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"tickSpacing",get:function(){return b[this.fee]}}]),e}();function X(e,t,n){if(a.greaterThan(e,t)){var r=[t,e];e=r[0],t=r[1]}var i=C.mulDivFloor(e,t,E);return C.mulDivFloor(a.BigInt(n),i,a.subtract(t,e))}function J(e,t,n){if(a.greaterThan(e,t)){var r=[t,e];e=r[0],t=r[1]}return C.mulDivFloor(a.BigInt(n),E,a.subtract(t,e))}function Y(e,t,n,r,i,o){if(a.greaterThan(t,n)){var s=[n,t];t=s[0],n=s[1]}var u=X;if(a.lessThanOrEqual(e,t))return u(t,n,r);if(a.lessThan(e,n)){var c=u(e,n,r),l=J(t,e,i);return a.lessThan(c,l)?c:l}return J(t,n,i)}function $(e,t){var n=a.leftShift(a.BigInt(e),a.BigInt(64)),r=a.BigInt(t),i=a.divide(n,r);return s.sqrt(i)}function ee(e,t,n){var r=H.getSqrtRatioAtTick(n),i=a.multiply(r,r);return e.sortsBefore(t)?new s.Price(e,t,k,i):new s.Price(e,t,i,k)}var te=function(){function e(e){var t=e.pool,n=e.liquidity,r=e.tickLower,i=e.tickUpper;this._token0Amount=null,this._token1Amount=null,this._mintAmounts=null,r<i||u(!1),r>=H.MIN_TICK&&r%t.tickSpacing==0||u(!1),i<=H.MAX_TICK&&i%t.tickSpacing==0||u(!1),this.pool=t,this.tickLower=r,this.tickUpper=i,this.liquidity=a.BigInt(n)}var t=e.prototype;return t.ratiosAfterSlippage=function(e){var t=this.pool.token0Price.asFraction.multiply(new s.Percent(1).subtract(e)),n=this.pool.token0Price.asFraction.multiply(e.add(1)),r=$(t.numerator,t.denominator);a.lessThanOrEqual(r,H.MIN_SQRT_RATIO)&&(r=a.add(H.MIN_SQRT_RATIO,a.BigInt(1)));var i=$(n.numerator,n.denominator);return a.greaterThanOrEqual(i,H.MAX_SQRT_RATIO)&&(i=a.subtract(H.MAX_SQRT_RATIO,a.BigInt(1))),{sqrtRatioX32Lower:r,sqrtRatioX32Upper:i}},t.mintAmountsWithSlippage=function(t){var n=this.ratiosAfterSlippage(t),r=n.sqrtRatioX32Upper,i=n.sqrtRatioX32Lower,o=new Q(this.pool.token0,this.pool.token1,this.pool.fee,i,a.BigInt(0),H.getTickAtSqrtRatio(i)),s=new Q(this.pool.token0,this.pool.token1,this.pool.fee,r,a.BigInt(0),H.getTickAtSqrtRatio(r)),u=e.fromAmounts(f({pool:this.pool,tickLower:this.tickLower,tickUpper:this.tickUpper},this.mintAmounts,{useFullPrecision:!1}));return{amount0:new e({pool:s,liquidity:u.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount0,amount1:new e({pool:o,liquidity:u.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount1}},t.burnAmountsWithSlippage=function(t){var n=this.ratiosAfterSlippage(t),r=n.sqrtRatioX32Upper,i=n.sqrtRatioX32Lower,o=new Q(this.pool.token0,this.pool.token1,this.pool.fee,i,a.BigInt(0),H.getTickAtSqrtRatio(i)),s=new e({pool:new Q(this.pool.token0,this.pool.token1,this.pool.fee,r,a.BigInt(0),H.getTickAtSqrtRatio(r)),liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount0,u=new e({pool:o,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount1;return{amount0:s.quotient,amount1:u.quotient}},e.fromAmounts=function(t){var n=t.pool,r=t.tickLower,i=t.tickUpper,o=t.amount0,s=t.amount1,a=H.getSqrtRatioAtTick(r),u=H.getSqrtRatioAtTick(i);return new e({pool:n,tickLower:r,tickUpper:i,liquidity:Y(n.sqrtRatioX32,a,u,o,s)})},e.fromAmount0=function(t){return e.fromAmounts({pool:t.pool,tickLower:t.tickLower,tickUpper:t.tickUpper,amount0:t.amount0,amount1:T,useFullPrecision:t.useFullPrecision})},e.fromAmount1=function(t){return e.fromAmounts({pool:t.pool,tickLower:t.tickLower,tickUpper:t.tickUpper,amount0:T,amount1:t.amount1,useFullPrecision:!0})},p(e,[{key:"token0PriceLower",get:function(){return ee(this.pool.token0,this.pool.token1,this.tickLower)}},{key:"token0PriceUpper",get:function(){return ee(this.pool.token0,this.pool.token1,this.tickUpper)}},{key:"amount0",get:function(){return null===this._token0Amount&&(this._token0Amount=s.CurrencyAmount.fromRawAmount(this.pool.token0,this.pool.tickCurrent<this.tickLower?F.getAmount0Delta(H.getSqrtRatioAtTick(this.tickLower),H.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1):this.pool.tickCurrent<this.tickUpper?F.getAmount0Delta(this.pool.sqrtRatioX32,H.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1):_)),this._token0Amount}},{key:"amount1",get:function(){return null===this._token1Amount&&(this._token1Amount=s.CurrencyAmount.fromRawAmount(this.pool.token1,this.pool.tickCurrent<this.tickLower?_:F.getAmount1Delta(H.getSqrtRatioAtTick(this.tickLower),this.pool.tickCurrent<this.tickUpper?this.pool.sqrtRatioX32:H.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1))),this._token1Amount}},{key:"mintAmounts",get:function(){return null===this._mintAmounts?this.pool.tickCurrent<this.tickLower?{amount0:F.getAmount0Delta(H.getSqrtRatioAtTick(this.tickLower),H.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:_}:this.pool.tickCurrent<this.tickUpper?{amount0:F.getAmount0Delta(this.pool.sqrtRatioX32,H.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:F.getAmount1Delta(H.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX32,this.liquidity,!0)}:{amount0:_,amount1:F.getAmount1Delta(H.getSqrtRatioAtTick(this.tickLower),H.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)}:this._mintAmounts}}]),e}(),ne=function(){function e(e,t,n){this._midPrice=null,e.length>0||u(!1);var r=e[0].chainId;e.every((function(e){return e.chainId===r}))||u(!1);var i=t.wrapped;e[0].involvesToken(i)||u(!1),e[e.length-1].involvesToken(n.wrapped)||u(!1);for(var o,s=[i],a=g(e.entries());!(o=a()).done;){var c=o.value,l=c[1],d=s[c[0]];d.equals(l.token0)||d.equals(l.token1)||u(!1);var h=d.equals(l.token0)?l.token1:l.token0;s.push(h)}this.pools=e,this.tokenPath=s,this.input=t,this.output=null!=n?n:s[s.length-1]}return p(e,[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;var e=this.pools.slice(1).reduce((function(e,t){var n=e.price;return e.nextInput.equals(t.token0)?{nextInput:t.token1,price:n.multiply(t.token0Price)}:{nextInput:t.token0,price:n.multiply(t.token1Price)}}),this.pools[0].token0.equals(this.input.wrapped)?{nextInput:this.pools[0].token1,price:this.pools[0].token0Price}:{nextInput:this.pools[0].token0,price:this.pools[0].token1Price}).price;return this._midPrice=new s.Price(this.input,this.output,e.denominator,e.numerator)}}]),e}();function re(e,t){for(var n=0;n<e.length-1;n++)if(t(e[n],e[n+1])>0)return!1;return!0}function ie(e,t){return e.index-t.index}var oe=function(){function e(){}return e.validateList=function(e,t){t>0||u(!1),e.every((function(e){return e.index%t==0}))||u(!1),a.equal(e.reduce((function(e,t){return a.add(e,t.liquidityNet)}),_),_)||u(!1),re(e,ie)||u(!1)},e.isBelowSmallest=function(e,t){return e.length>0||u(!1),t<e[0].index},e.isAtOrAboveLargest=function(e,t){return e.length>0||u(!1),t>=e[e.length-1].index},e.getTick=function(e,t){var n=e[this.binarySearch(e,t)];return n.index!==t&&u(!1),n},e.binarySearch=function(e,t){this.isBelowSmallest(e,t)&&u(!1);for(var n,r=0,i=e.length-1;;){if(e[n=Math.floor((r+i)/2)].index<=t&&(n===e.length-1||e[n+1].index>t))return n;e[n].index<t?r=n+1:i=n-1}},e.nextInitializedTick=function(t,n,r){return r?(e.isBelowSmallest(t,n)&&u(!1),e.isAtOrAboveLargest(t,n)?t[t.length-1]:t[this.binarySearch(t,n)]):(this.isAtOrAboveLargest(t,n)&&u(!1),this.isBelowSmallest(t,n)?t[0]:t[this.binarySearch(t,n)+1])},e.nextInitializedTickWithinOneWord=function(t,n,r,i){var o=Math.floor(n/i);if(r){var s=(o>>8<<8)*i;if(e.isBelowSmallest(t,n))return[s,!1];var a=e.nextInitializedTick(t,n,r).index,u=Math.max(s,a);return[u,u===a]}var c=(1+(o+1>>8)<<8)*i-1;if(this.isAtOrAboveLargest(t,n))return[c,!1];var l=this.nextInitializedTick(t,n,r).index,d=Math.min(c,l);return[d,d===l]},e}();function se(e){var t=e.observation,n=e.tick,r=e.liquidity,i=e.blockTimestamp.sub(t.blockTimestamp);return f({},t,{tickCumulative:t.tickCumulative.add(n.mul(i)),secondsPerLiquidityCumulativeX32:t.secondsPerLiquidityCumulativeX32.add(i.shln(32).div(r.gtn(0)?r:new c.BN(1))),initialized:!0})}var ae,ue=(function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=Object.create((t&&t.prototype instanceof d?t:d).prototype),o=new S(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=v(s,n);if(a){if(a===l)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function d(){}function h(){}function p(){}var f={};a(f,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(k([])));g&&g!==t&&n.call(g,i)&&(f=g);var y=p.prototype=d.prototype=Object.create(f);function w(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(i,o){function s(){return new t((function(r,s){!function r(i,o,s,a){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,a)}),(function(e){r("throw",e,s,a)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,a)}))}a(u.arg)}(i,o,r,s)}))}return r=r?r.then(s,s):s()}}function v(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,v(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=p,a(y,"constructor",p),a(p,"constructor",h),h.displayName=a(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(b.prototype),a(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new b(u(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},w(y),a(y,s,"Generator"),a(y,i,(function(){return this})),a(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(ae={exports:{}}),ae.exports);function ce(e,t){return e.inputAmount.currency.equals(t.inputAmount.currency)||u(!1),e.outputAmount.currency.equals(t.outputAmount.currency)||u(!1),e.outputAmount.equalTo(t.outputAmount)?e.inputAmount.equalTo(t.inputAmount)?e.swaps.reduce((function(e,t){return e+t.route.tokenPath.length}),0)-t.swaps.reduce((function(e,t){return e+t.route.tokenPath.length}),0):e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}var le=function(){function e(e){var t=e.routes,n=e.tradeType,r=t[0].inputAmount.currency,i=t[0].outputAmount.currency;t.every((function(e){return r.wrapped.equals(e.route.input.wrapped)}))||u(!1),t.every((function(e){return i.wrapped.equals(e.route.output.wrapped)}))||u(!1),this.swaps=t,this.tradeType=n}e.exactIn=function(){var t=d(ue.mark((function t(n,r){return ue.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.fromRoute(n,r,s.TradeType.EXACT_INPUT));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.exactOut=function(){var t=d(ue.mark((function t(n,r){return ue.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.fromRoute(n,r,s.TradeType.EXACT_OUTPUT));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.fromRoute=function(){var t=d(ue.mark((function t(n,r,i){var o,a,c,l,d,h,p;return ue.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=new Array(n.tokenPath.length),i!==s.TradeType.EXACT_INPUT){t.next=19;break}r.currency.equals(n.input)||u(!1),o[0]=r.wrapped,l=0;case 5:if(!(l<n.tokenPath.length-1)){t.next=15;break}return d=n.pools[l],t.next=9,d.getOutputAmount(o[l]);case 9:o[l+1]=t.sent[0];case 12:l++,t.next=5;break;case 15:a=s.CurrencyAmount.fromFractionalAmount(n.input,r.numerator,r.denominator),c=s.CurrencyAmount.fromFractionalAmount(n.output,o[o.length-1].numerator,o[o.length-1].denominator),t.next=34;break;case 19:r.currency.equals(n.output)||u(!1),o[o.length-1]=r.wrapped,h=n.tokenPath.length-1;case 22:if(!(h>0)){t.next=32;break}return p=n.pools[h-1],t.next=26,p.getInputAmount(o[h]);case 26:o[h-1]=t.sent[0];case 29:h--,t.next=22;break;case 32:a=s.CurrencyAmount.fromFractionalAmount(n.input,o[0].numerator,o[0].denominator),c=s.CurrencyAmount.fromFractionalAmount(n.output,r.numerator,r.denominator);case 34:return t.abrupt("return",new e({routes:[{inputAmount:a,outputAmount:c,route:n}],tradeType:i}));case 35:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.fromRoutes=function(){var t=d(ue.mark((function t(n,r){var i,o,a,c,l,d,h,p,f,m,y,w,b;return ue.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=[],o=g(n);case 2:if((a=o()).done){t.next=43;break}if(l=(c=a.value).route,d=c.amount,h=new Array(l.tokenPath.length),p=void 0,f=void 0,r!==s.TradeType.EXACT_INPUT){t.next=25;break}d.currency.equals(l.input)||u(!1),p=s.CurrencyAmount.fromFractionalAmount(l.input,d.numerator,d.denominator),h[0]=s.CurrencyAmount.fromFractionalAmount(l.input.wrapped,d.numerator,d.denominator),m=0;case 12:if(!(m<l.tokenPath.length-1)){t.next=22;break}return y=l.pools[m],t.next=16,y.getOutputAmount(h[m]);case 16:h[m+1]=t.sent[0];case 19:m++,t.next=12;break;case 22:f=s.CurrencyAmount.fromFractionalAmount(l.output,h[h.length-1].numerator,h[h.length-1].denominator),t.next=40;break;case 25:d.currency.equals(l.output)||u(!1),f=s.CurrencyAmount.fromFractionalAmount(l.output,d.numerator,d.denominator),h[h.length-1]=s.CurrencyAmount.fromFractionalAmount(l.output.wrapped,d.numerator,d.denominator),w=l.tokenPath.length-1;case 29:if(!(w>0)){t.next=39;break}return b=l.pools[w-1],t.next=33,b.getInputAmount(h[w]);case 33:h[w-1]=t.sent[0];case 36:w--,t.next=29;break;case 39:p=s.CurrencyAmount.fromFractionalAmount(l.input,h[0].numerator,h[0].denominator);case 40:i.push({route:l,inputAmount:p,outputAmount:f});case 41:t.next=2;break;case 43:return t.abrupt("return",new e({routes:i,tradeType:r}));case 44:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.createUncheckedTrade=function(t){return new e(f({},t,{routes:[{inputAmount:t.inputAmount,outputAmount:t.outputAmount,route:t.route}]}))},e.createUncheckedTradeWithMultipleRoutes=function(t){return new e(t)};var t=e.prototype;return t.minimumAmountOut=function(e,t){if(void 0===t&&(t=this.outputAmount),e.lessThan("0")&&u(!1),this.tradeType===s.TradeType.EXACT_OUTPUT)return t;var n=new s.Fraction("1").add(e).invert().multiply(t.quotient).quotient;return s.CurrencyAmount.fromRawAmount(t.currency,n)},t.maximumAmountIn=function(e,t){if(void 0===t&&(t=this.inputAmount),e.lessThan("0")&&u(!1),this.tradeType===s.TradeType.EXACT_INPUT)return t;var n=new s.Fraction("1").add(e).multiply(t.quotient).quotient;return s.CurrencyAmount.fromRawAmount(t.currency,n)},t.worstExecutionPrice=function(e){return new s.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},e.bestTradeExactIn=function(){var t=d(ue.mark((function t(n,r,i,o,a,c,l){var d,h,p,f,m,g,y,w,b,v,_;return ue.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p=void 0===(h=(d=void 0===o?{}:o).maxNumResults)?3:h,m=void 0===(f=d.maxHops)?3:f,void 0===a&&(a=[]),void 0===c&&(c=r),void 0===l&&(l=[]),n.length>0||u(!1),m>0||u(!1),r===c||a.length>0||u(!1),g=c.wrapped,y=i.wrapped,w=0;case 10:if(!(w<n.length)){t.next=46;break}if((b=n[w]).token0.equals(g.currency)||b.token1.equals(g.currency)){t.next=14;break}return t.abrupt("continue",43);case 14:return v=void 0,t.prev=15,t.next=19,b.getOutputAmount(g);case 19:v=t.sent[0],t.next=28;break;case 23:if(t.prev=23,t.t0=t.catch(15),!t.t0.isInsufficientInputAmountError){t.next=27;break}return t.abrupt("continue",43);case 27:throw t.t0;case 28:if(!v.currency.isToken||!v.currency.equals(y)){t.next=39;break}return t.t1=s.sortedInsert,t.t2=l,t.next=33,e.fromRoute(new ne([].concat(a,[b]),r.currency,i),r,s.TradeType.EXACT_INPUT);case 33:t.t3=t.sent,t.t4=p,t.t5=ce,(0,t.t1)(t.t2,t.t3,t.t4,t.t5),t.next=43;break;case 39:if(!(m>1&&n.length>1)){t.next=43;break}return _=n.slice(0,w).concat(n.slice(w+1,n.length)),t.next=43,e.bestTradeExactIn(_,r,i,{maxNumResults:p,maxHops:m-1},[].concat(a,[b]),v,l);case 43:w++,t.next=10;break;case 46:return t.abrupt("return",l);case 47:case"end":return t.stop()}}),t,null,[[15,23]])})));return function(e,n,r,i,o,s,a){return t.apply(this,arguments)}}(),e.bestTradeExactOut=function(){var t=d(ue.mark((function t(n,r,i,o,a,c,l){var d,h,p,f,m,g,y,w,b,v,_;return ue.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p=void 0===(h=(d=void 0===o?{}:o).maxNumResults)?3:h,m=void 0===(f=d.maxHops)?3:f,void 0===a&&(a=[]),void 0===c&&(c=i),void 0===l&&(l=[]),n.length>0||u(!1),m>0||u(!1),i===c||a.length>0||u(!1),g=c.wrapped,y=r.wrapped,w=0;case 10:if(!(w<n.length)){t.next=46;break}if((b=n[w]).token0.equals(g.currency)||b.token1.equals(g.currency)){t.next=14;break}return t.abrupt("continue",43);case 14:return v=void 0,t.prev=15,t.next=19,b.getInputAmount(g);case 19:v=t.sent[0],t.next=28;break;case 23:if(t.prev=23,t.t0=t.catch(15),!t.t0.isInsufficientReservesError){t.next=27;break}return t.abrupt("continue",43);case 27:throw t.t0;case 28:if(!v.currency.equals(y)){t.next=39;break}return t.t1=s.sortedInsert,t.t2=l,t.next=33,e.fromRoute(new ne([b].concat(a),r,i.currency),i,s.TradeType.EXACT_OUTPUT);case 33:t.t3=t.sent,t.t4=p,t.t5=ce,(0,t.t1)(t.t2,t.t3,t.t4,t.t5),t.next=43;break;case 39:if(!(m>1&&n.length>1)){t.next=43;break}return _=n.slice(0,w).concat(n.slice(w+1,n.length)),t.next=43,e.bestTradeExactOut(_,r,i,{maxNumResults:p,maxHops:m-1},[b].concat(a),v,l);case 43:w++,t.next=10;break;case 46:return t.abrupt("return",l);case 47:case"end":return t.stop()}}),t,null,[[15,23]])})));return function(e,n,r,i,o,s,a){return t.apply(this,arguments)}}(),p(e,[{key:"route",get:function(){return 1!=this.swaps.length&&u(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var e=this.swaps[0].inputAmount.currency,t=this.swaps.map((function(e){return e.inputAmount})).reduce((function(e,t){return e.add(t)}),s.CurrencyAmount.fromRawAmount(e,0));return this._inputAmount=t,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var e=this.swaps[0].outputAmount.currency,t=this.swaps.map((function(e){return e.outputAmount})).reduce((function(e,t){return e.add(t)}),s.CurrencyAmount.fromRawAmount(e,0));return this._outputAmount=t,this._outputAmount}},{key:"executionPrice",get:function(){var e;return null!=(e=this._executionPrice)?e:this._executionPrice=new s.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var e,t=s.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),n=g(this.swaps);!(e=n()).done;){var r=e.value;t=t.add(r.route.midPrice.quote(r.inputAmount))}var i=t.subtract(this.outputAmount).divide(t);return this._priceImpact=new s.Percent(i.numerator,i.denominator),this._priceImpact}}]),e}();t.BITMAP_SEED=P,t.IDL={version:"0.1.6",name:"cyclos_core",instructions:[{name:"initFactory",accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"factoryState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"setOwner",accounts:[{name:"owner",isMut:!1,isSigner:!0},{name:"newOwner",isMut:!1,isSigner:!1},{name:"factoryState",isMut:!0,isSigner:!1}],args:[]},{name:"enableFeeAmount",accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"factoryState",isMut:!0,isSigner:!1},{name:"feeState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"fee",type:"u32"},{name:"tickSpacing",type:"u16"}]},{name:"createAndInitPool",accounts:[{name:"poolCreator",isMut:!0,isSigner:!0},{name:"token0",isMut:!1,isSigner:!1},{name:"token1",isMut:!1,isSigner:!1},{name:"feeState",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"initialObservationState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"sqrtPriceX32",type:"u64"}]},{name:"increaseObservationCardinalityNext",accounts:[{name:"payer",isMut:!1,isSigner:!0},{name:"poolState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"observationAccountBumps",type:"bytes"}]},{name:"setFeeProtocol",accounts:[{name:"owner",isMut:!1,isSigner:!0},{name:"factoryState",isMut:!0,isSigner:!1}],args:[{name:"feeProtocol",type:"u8"}]},{name:"collectProtocol",accounts:[{name:"owner",isMut:!1,isSigner:!0},{name:"factoryState",isMut:!0,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"vault0",isMut:!0,isSigner:!1},{name:"vault1",isMut:!0,isSigner:!1},{name:"recipientWallet0",isMut:!0,isSigner:!1},{name:"recipientWallet1",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Requested",type:"u64"},{name:"amount1Requested",type:"u64"}]},{name:"initTickAccount",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"poolState",isMut:!1,isSigner:!1},{name:"tickState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"tick",type:"i32"}]},{name:"closeTickAccount",accounts:[{name:"tickState",isMut:!0,isSigner:!1},{name:"recipient",isMut:!0,isSigner:!1}],args:[]},{name:"initBitmapAccount",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"poolState",isMut:!1,isSigner:!1},{name:"bitmapState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"wordPos",type:"i16"}]},{name:"initPositionAccount",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"recipient",isMut:!1,isSigner:!1},{name:"poolState",isMut:!1,isSigner:!1},{name:"tickLowerState",isMut:!1,isSigner:!1},{name:"tickUpperState",isMut:!1,isSigner:!1},{name:"positionState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"mintCallback",accounts:[{name:"minter",isMut:!1,isSigner:!0},{name:"tokenAccount0",isMut:!1,isSigner:!1},{name:"tokenAccount1",isMut:!1,isSigner:!1},{name:"vault0",isMut:!1,isSigner:!1},{name:"vault1",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Owed",type:"u64"},{name:"amount1Owed",type:"u64"}]},{name:"swapCallback",accounts:[{name:"signer",isMut:!1,isSigner:!0},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"outputTokenAccount",isMut:!0,isSigner:!1},{name:"inputVault",isMut:!0,isSigner:!1},{name:"outputVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Delta",type:"i64"},{name:"amount1Delta",type:"i64"}]},{name:"mint",accounts:[{name:"minter",isMut:!1,isSigner:!0},{name:"tokenAccount0",isMut:!0,isSigner:!1},{name:"tokenAccount1",isMut:!0,isSigner:!1},{name:"vault0",isMut:!0,isSigner:!1},{name:"vault1",isMut:!0,isSigner:!1},{name:"recipient",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!0,isSigner:!1},{name:"tickUpperState",isMut:!0,isSigner:!1},{name:"bitmapLowerState",isMut:!0,isSigner:!1},{name:"bitmapUpperState",isMut:!0,isSigner:!1},{name:"positionState",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"callbackHandler",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"owner",isMut:!1,isSigner:!0},{name:"poolState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!1,isSigner:!1},{name:"tickUpperState",isMut:!1,isSigner:!1},{name:"bitmapLowerState",isMut:!1,isSigner:!1},{name:"bitmapUpperState",isMut:!1,isSigner:!1},{name:"positionState",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"collect",accounts:[{name:"owner",isMut:!1,isSigner:!0},{name:"poolState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!1,isSigner:!1},{name:"tickUpperState",isMut:!1,isSigner:!1},{name:"positionState",isMut:!0,isSigner:!1},{name:"vault0",isMut:!0,isSigner:!1},{name:"vault1",isMut:!0,isSigner:!1},{name:"recipientWallet0",isMut:!0,isSigner:!1},{name:"recipientWallet1",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Requested",type:"u64"},{name:"amount1Requested",type:"u64"}]},{name:"swap",accounts:[{name:"signer",isMut:!1,isSigner:!0},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"outputTokenAccount",isMut:!0,isSigner:!1},{name:"inputVault",isMut:!0,isSigner:!1},{name:"outputVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"factoryState",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"callbackHandler",isMut:!1,isSigner:!1}],args:[{name:"amountSpecified",type:"i64"},{name:"sqrtPriceLimitX32",type:"u64"}]},{name:"mintTokenizedPosition",accounts:[{name:"minter",isMut:!0,isSigner:!0},{name:"recipient",isMut:!1,isSigner:!1},{name:"factoryState",isMut:!1,isSigner:!1},{name:"nftMint",isMut:!0,isSigner:!0},{name:"nftAccount",isMut:!0,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"corePositionState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!0,isSigner:!1},{name:"tickUpperState",isMut:!0,isSigner:!1},{name:"bitmapLowerState",isMut:!0,isSigner:!1},{name:"bitmapUpperState",isMut:!0,isSigner:!1},{name:"tokenizedPositionState",isMut:!0,isSigner:!1},{name:"tokenAccount0",isMut:!0,isSigner:!1},{name:"tokenAccount1",isMut:!0,isSigner:!1},{name:"vault0",isMut:!0,isSigner:!1},{name:"vault1",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Desired",type:"u64"},{name:"amount1Desired",type:"u64"},{name:"amount0Min",type:"u64"},{name:"amount1Min",type:"u64"},{name:"deadline",type:"i64"}]},{name:"addMetaplexMetadata",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"factoryState",isMut:!1,isSigner:!1},{name:"nftMint",isMut:!0,isSigner:!1},{name:"tokenizedPositionState",isMut:!1,isSigner:!1},{name:"metadataAccount",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"metadataProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"increaseLiquidity",accounts:[{name:"payer",isMut:!1,isSigner:!0},{name:"factoryState",isMut:!1,isSigner:!1},{name:"tokenizedPositionState",isMut:!0,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"corePositionState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!0,isSigner:!1},{name:"tickUpperState",isMut:!0,isSigner:!1},{name:"bitmapLowerState",isMut:!0,isSigner:!1},{name:"bitmapUpperState",isMut:!0,isSigner:!1},{name:"tokenAccount0",isMut:!0,isSigner:!1},{name:"tokenAccount1",isMut:!0,isSigner:!1},{name:"vault0",isMut:!0,isSigner:!1},{name:"vault1",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Desired",type:"u64"},{name:"amount1Desired",type:"u64"},{name:"amount0Min",type:"u64"},{name:"amount1Min",type:"u64"},{name:"deadline",type:"i64"}]},{name:"decreaseLiquidity",accounts:[{name:"ownerOrDelegate",isMut:!1,isSigner:!0},{name:"nftAccount",isMut:!1,isSigner:!1},{name:"tokenizedPositionState",isMut:!0,isSigner:!1},{name:"factoryState",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"corePositionState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!0,isSigner:!1},{name:"tickUpperState",isMut:!0,isSigner:!1},{name:"bitmapLowerState",isMut:!0,isSigner:!1},{name:"bitmapUpperState",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1}],args:[{name:"liquidity",type:"u64"},{name:"amount0Min",type:"u64"},{name:"amount1Min",type:"u64"},{name:"deadline",type:"i64"}]},{name:"collectFromTokenized",accounts:[{name:"ownerOrDelegate",isMut:!1,isSigner:!0},{name:"nftAccount",isMut:!1,isSigner:!1},{name:"tokenizedPositionState",isMut:!0,isSigner:!1},{name:"factoryState",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"corePositionState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!0,isSigner:!1},{name:"tickUpperState",isMut:!0,isSigner:!1},{name:"bitmapLowerState",isMut:!0,isSigner:!1},{name:"bitmapUpperState",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"vault0",isMut:!0,isSigner:!1},{name:"vault1",isMut:!0,isSigner:!1},{name:"recipientWallet0",isMut:!0,isSigner:!1},{name:"recipientWallet1",isMut:!0,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Max",type:"u64"},{name:"amount1Max",type:"u64"}]},{name:"exactInputSingle",accounts:[{name:"signer",isMut:!1,isSigner:!0},{name:"factoryState",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"outputTokenAccount",isMut:!0,isSigner:!1},{name:"inputVault",isMut:!0,isSigner:!1},{name:"outputVault",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"deadline",type:"i64"},{name:"amountIn",type:"u64"},{name:"amountOutMinimum",type:"u64"},{name:"sqrtPriceLimitX32",type:"u64"}]},{name:"exactInput",accounts:[{name:"signer",isMut:!1,isSigner:!0},{name:"factoryState",isMut:!1,isSigner:!1},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"deadline",type:"i64"},{name:"amountIn",type:"u64"},{name:"amountOutMinimum",type:"u64"},{name:"additionalAccountsPerPool",type:"bytes"}]}],accounts:[{name:"factoryState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"owner",type:"publicKey"},{name:"feeProtocol",type:"u8"}]}},{name:"feeState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"fee",type:"u32"},{name:"tickSpacing",type:"u16"}]}},{name:"observationState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"index",type:"u16"},{name:"blockTimestamp",type:"u32"},{name:"tickCumulative",type:"i64"},{name:"secondsPerLiquidityCumulativeX32",type:"u64"},{name:"initialized",type:"bool"}]}},{name:"poolState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"token0",type:"publicKey"},{name:"token1",type:"publicKey"},{name:"fee",type:"u32"},{name:"tickSpacing",type:"u16"},{name:"liquidity",type:"u64"},{name:"sqrtPriceX32",type:"u64"},{name:"tick",type:"i32"},{name:"observationIndex",type:"u16"},{name:"observationCardinality",type:"u16"},{name:"observationCardinalityNext",type:"u16"},{name:"feeGrowthGlobal0X32",type:"u64"},{name:"feeGrowthGlobal1X32",type:"u64"},{name:"protocolFeesToken0",type:"u64"},{name:"protocolFeesToken1",type:"u64"},{name:"unlocked",type:"bool"}]}},{name:"positionState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"liquidity",type:"u64"},{name:"feeGrowthInside0LastX32",type:"u64"},{name:"feeGrowthInside1LastX32",type:"u64"},{name:"tokensOwed0",type:"u64"},{name:"tokensOwed1",type:"u64"}]}},{name:"positionManagerState",type:{kind:"struct",fields:[{name:"bump",type:"u8"}]}},{name:"swapRouterState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"core",type:"publicKey"},{name:"amountInCached",type:"u64"}]}},{name:"tickState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"tick",type:"i32"},{name:"liquidityNet",type:"i64"},{name:"liquidityGross",type:"u64"},{name:"feeGrowthOutside0X32",type:"u64"},{name:"feeGrowthOutside1X32",type:"u64"},{name:"tickCumulativeOutside",type:"i64"},{name:"secondsPerLiquidityOutsideX32",type:"u64"},{name:"secondsOutside",type:"u32"}]}},{name:"tickBitmapState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"wordPos",type:"i16"},{name:"word",type:{array:["u64",4]}}]}},{name:"tokenizedPositionState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"mint",type:"publicKey"},{name:"poolId",type:"publicKey"},{name:"tickLower",type:"i32"},{name:"tickUpper",type:"i32"},{name:"liquidity",type:"u64"},{name:"feeGrowthInside0LastX32",type:"u64"},{name:"feeGrowthInside1LastX32",type:"u64"},{name:"tokensOwed0",type:"u64"},{name:"tokensOwed1",type:"u64"}]}}],events:[{name:"OwnerChanged",fields:[{name:"oldOwner",type:"publicKey",index:!1},{name:"newOwner",type:"publicKey",index:!1}]},{name:"SetFeeProtocolEvent",fields:[{name:"feeProtocolOld",type:"u8",index:!1},{name:"feeProtocol",type:"u8",index:!1}]},{name:"FeeAmountEnabled",fields:[{name:"fee",type:"u32",index:!1},{name:"tickSpacing",type:"u16",index:!1}]},{name:"IncreaseObservationCardinalityNext",fields:[{name:"observationCardinalityNextOld",type:"u16",index:!1},{name:"observationCardinalityNextNew",type:"u16",index:!1}]},{name:"PoolCreatedAndInitialized",fields:[{name:"token0",type:"publicKey",index:!1},{name:"token1",type:"publicKey",index:!1},{name:"fee",type:"u32",index:!1},{name:"tickSpacing",type:"u16",index:!1},{name:"poolState",type:"publicKey",index:!1},{name:"sqrtPriceX32",type:"u64",index:!1},{name:"tick",type:"i32",index:!1}]},{name:"CollectProtocolEvent",fields:[{name:"poolState",type:"publicKey",index:!1},{name:"sender",type:"publicKey",index:!1},{name:"recipientWallet0",type:"publicKey",index:!1},{name:"recipientWallet1",type:"publicKey",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]},{name:"SwapEvent",fields:[{name:"poolState",type:"publicKey",index:!1},{name:"sender",type:"publicKey",index:!1},{name:"tokenAccount0",type:"publicKey",index:!1},{name:"tokenAccount1",type:"publicKey",index:!1},{name:"amount0",type:"i64",index:!1},{name:"amount1",type:"i64",index:!1},{name:"sqrtPriceX32",type:"u64",index:!1},{name:"liquidity",type:"u64",index:!1},{name:"tick",type:"i32",index:!1}]},{name:"MintEvent",fields:[{name:"poolState",type:"publicKey",index:!1},{name:"sender",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1},{name:"tickLower",type:"i32",index:!1},{name:"tickUpper",type:"i32",index:!1},{name:"amount",type:"u64",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]},{name:"BurnEvent",fields:[{name:"poolState",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1},{name:"tickLower",type:"i32",index:!1},{name:"tickUpper",type:"i32",index:!1},{name:"amount",type:"u64",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]},{name:"CollectEvent",fields:[{name:"poolState",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1},{name:"tickLower",type:"i32",index:!1},{name:"tickUpper",type:"i32",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]},{name:"IncreaseLiquidityEvent",fields:[{name:"tokenId",type:"publicKey",index:!1},{name:"liquidity",type:"u64",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]},{name:"DecreaseLiquidityEvent",fields:[{name:"tokenId",type:"publicKey",index:!1},{name:"liquidity",type:"u64",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]},{name:"CollectTokenizedEvent",fields:[{name:"tokenId",type:"publicKey",index:!1},{name:"recipientWallet0",type:"publicKey",index:!1},{name:"recipientWallet1",type:"publicKey",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]}],errors:[{code:6e3,name:"LOK",msg:"LOK"},{code:6001,name:"ZeroMintAmount",msg:"Minting amount should be greater than 0"},{code:6002,name:"TLU",msg:"TLU"},{code:6003,name:"TMS",msg:"TMS"},{code:6004,name:"TLM",msg:"TLM"},{code:6005,name:"TUM",msg:"TUM"},{code:6006,name:"M0",msg:"M0"},{code:6007,name:"M1",msg:"M1"},{code:6008,name:"OS",msg:"OS"},{code:6009,name:"AS",msg:"AS"},{code:6010,name:"SPL",msg:"SPL"},{code:6011,name:"IIA",msg:"IIA"},{code:6012,name:"NP",msg:"NP"},{code:6013,name:"LO",msg:"LO"},{code:6014,name:"R",msg:"R"},{code:6015,name:"T",msg:"T"},{code:6016,name:"LS",msg:"LS"},{code:6017,name:"LA",msg:"LA"},{code:6018,name:"TransactionTooOld",msg:"Transaction too old"},{code:6019,name:"PriceSlippageCheck",msg:"Price slippage check"},{code:6020,name:"NotApproved",msg:"Not approved"},{code:6021,name:"TooLittleReceived",msg:"Too little received"}]},t.OBSERVATION_SEED=O,t.Pool=Q,t.TICK_SEED=B,t.TickMath=H,t.buildTick=function(e,t,n){return((e<<8)+t)*n},t.generateBitmapWord=function(e){return e[0].add(e[1].shln(64)).add(e[2].shln(128)).add(e[3].shln(192))},t.nextInitializedBit=function(e,t,n){if(n){var r=new c.BN(1).shln(t).subn(1).add(new c.BN(1).shln(t)),i=e.and(r),o=!i.eqn(0);return{next:o?j(i):0,initialized:o}}var s=new c.BN(1).shln(t).subn(1).notn(256),a=e.and(s),u=!a.eqn(0);return{next:u?q(a):255,initialized:u}},t.tickPosition=function(e){return{wordPos:e>>8,bitPos:e%256&255}},t.u16ToSeed=function(e){var t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e,!1),new Uint8Array(t)},t.u32ToSeed=R},19706:(e,t,n)=>{"use strict";e.exports=n(38369)},99998:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ACCOUNT_DISCRIMINATOR_SIZE:()=>F,AccountClient:()=>vt,BN:()=>s.a,BorshAccountsCoder:()=>W,BorshCoder:()=>Q,BorshEventCoder:()=>z,BorshInstructionCoder:()=>R,BorshStateCoder:()=>G,EventManager:()=>St,EventParser:()=>kt,IdlError:()=>k,MethodsBuilderFactory:()=>Bt,Program:()=>Rt,ProgramError:()=>E,Provider:()=>v,Spl:()=>Ut,SplTokenCoder:()=>Re,StateClient:()=>wt,eventDiscriminator:()=>j,getProvider:()=>A,parseIdlErrors:()=>Le,setProvider:()=>_,splitArgsAndCtx:()=>ft,stateDiscriminator:()=>Z,toInstruction:()=>Ce,translateAddress:()=>Fe,utils:()=>ht,validateAccounts:()=>Ne,web3:()=>i});var r=n(97429),i=n(71256),o=n(48744),s=n.n(o),a=n(68532),u=n.n(a),c=n(8511),l=n.n(c),d=n(10119),h=n(26434),p=n(12009),f=n(21380),m=n.n(f),g=n(81070),y=n(48449),w=n.n(y),b=n(97429).Buffer;class v{constructor(e,t,n){this.connection=e,this.wallet=t,this.opts=n}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async send(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)}));const r=e.serialize();return await(0,i.sendAndConfirmRawTransaction)(this.connection,r,n)}async sendAll(e,t){void 0===t&&(t=this.opts);const n=await this.connection.getRecentBlockhash(t.preflightCommitment);let r=e.map((e=>{let t=e.tx,r=e.signers;return void 0===r&&(r=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=n.blockhash,r.filter((e=>void 0!==e)).forEach((e=>{t.partialSign(e)})),t}));const o=await this.wallet.signAllTransactions(r),s=[];for(let a=0;a<r.length;a+=1){const e=o[a].serialize();s.push(await(0,i.sendAndConfirmRawTransaction)(this.connection,e,t))}return s}async simulate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.opts;var r,i,o;return void 0===t&&(t=[]),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(r=n.preflightCommitment)&&void 0!==r?r:this.opts.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)})),await async function(e,t,n){t.recentBlockhash=await e._recentBlockhash(e._disableBlockhashCaching);const r=t.serializeMessage(),i=[t._serialize(r).toString("base64"),{encoding:"base64",commitment:n}],o=await e._rpcRequest("simulateTransaction",i);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}(this.connection,e,null!==(o=null!==(i=n.commitment)&&void 0!==i?i:this.opts.commitment)&&void 0!==o?o:"processed")}}function _(e){S=e}function A(){return null===S?v.local():S}let S=null;class k extends Error{constructor(e){super(e),this.name="IdlError"}}class E extends Error{constructor(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];super(...r),this.code=e,this.msg=t}static parse(e,t){const n=e.toString();let r,i;if(n.includes("custom program error:")){let e=n.split("custom program error: ");if(2!==e.length)return null;r=e[1]}else{const e=n.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;r=e[0].match(/([0-9]+)/g)[0]}try{i=parseInt(r)}catch(e){return null}let o=t.get(i);return void 0!==o?new E(i,o,i+": "+o):(o=T.get(i),void 0!==o?new E(i,o,i+": "+o):null)}toString(){return this.msg}}const T=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has_one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exempt constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"A state constraint was violated"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[4e3,"The given state account does not have the correct address"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);var I=function(){return I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},I.apply(this,arguments)},P=function(){return P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},P.apply(this,arguments)};function x(e){return e.toLowerCase()}var M=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],O=/[^A-Z0-9]+/gi;function B(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}class D{static fieldLayout(e,t){const n=void 0!==e.name?l()(e.name):void 0;switch(e.type){case"bool":return h.bool(n);case"u8":return h.u8(n);case"i8":return h.i8(n);case"u16":return h.u16(n);case"i16":return h.i16(n);case"u32":return h.u32(n);case"i32":return h.i32(n);case"f32":return h.f32(n);case"u64":return h.u64(n);case"i64":return h.i64(n);case"f64":return h.f64(n);case"u128":return h.u128(n);case"i128":return h.i128(n);case"bytes":return h.vecU8(n);case"string":return h.str(n);case"publicKey":return h.publicKey(n);default:if("vec"in e.type)return h.vec(D.fieldLayout({name:void 0,type:e.type.vec},t),n);if("option"in e.type)return h.option(D.fieldLayout({name:void 0,type:e.type.option},t),n);if("defined"in e.type){const r=e.type.defined;if(void 0===t)throw new k("User defined types not provided");const i=t.filter((e=>e.name===r));if(1!==i.length)throw new k(`Type not found: ${JSON.stringify(e)}`);return D.typeDefLayout(i[0],t,n)}if("array"in e.type){let r=e.type.array[0],i=e.type.array[1],o=D.fieldLayout({name:void 0,type:r},t);return h.array(o,i,n)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if("struct"===e.type.kind){const r=e.type.fields.map((e=>D.fieldLayout(e,t)));return h.struct(r,n)}if("enum"===e.type.kind){let r=e.type.variants.map((e=>{const n=l()(e.name);if(void 0===e.fields)return h.struct([],n);const r=e.fields.map((e=>{if(!e.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return D.fieldLayout(e,t)}));return h.struct(r,n)}));return void 0!==n?h.rustEnum(r).replicate(n):h.rustEnum(r,n)}throw new Error(`Unknown type kint: ${e}`)}}class R{constructor(e){this.idl=e,this.ixLayout=R.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const n=L("global",e.name);t.set(u().encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),e.state&&e.state.methods.map((e=>{const n=L("state",e.name);t.set(u().encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t){return this._encode("global",e,t)}encodeState(e,t){return this._encode("state",e,t)}_encode(e,t,n){const i=r.Buffer.alloc(1e3),o=l()(t),s=this.ixLayout.get(o);if(!s)throw new Error(`Unknown method: ${o}`);const a=s.encode(n,i),u=i.slice(0,a);return r.Buffer.concat([L(e,t),u])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map((t=>{let n=t.args.map((t=>{var n,r;return D.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=l()(t.name);return[r,h.struct(n,r)]})).concat(e.instructions.map((t=>{let n=t.args.map((t=>{var n,r;return D.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=l()(t.name);return[r,h.struct(n,r)]})));return new Map(t)}decode(e){"string"==typeof e&&(e="hex"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex")?r.Buffer.from(e,"hex"):u().decode(e));let t=u().encode(e.slice(0,8)),n=e.slice(8);const i=this.sighashLayouts.get(t);return i?{data:i.layout.decode(n),name:i.name}:null}format(e,t){return U.format(e,t,this.idl)}}class U{static format(e,t,n){const r=n.instructions.filter((t=>e.name===t.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((t=>({name:t.name,type:U.formatIdlType(t.type),data:U.formatIdlData(t,e.data[t.name],n.types)}))),o=U.flattenIdlAccounts(r.accounts);return{args:i,accounts:t.map(((e,t)=>t<o.length?{name:o[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){if("string"==typeof e)return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,n){if("string"==typeof e.type)return t.toString();if(e.type.hasOwnProperty("vec"))return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t))).join(", ")+"]";if(e.type.hasOwnProperty("option"))return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t);if(e.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((t=>t.name===e.type.defined));if(1!==r.length)throw new Error(`Type not found: ${e.type.defined}`);return U.formatIdlDataDefined(r[0],t,n)}return"unknown"}static formatIdlDataDefined(e,t,n){if("struct"===e.type.kind){const r=e.type;return"{ "+Object.keys(t).map((e=>{const i=r.fields.filter((t=>t.name===e))[0];if(void 0===i)throw new Error("Unable to find type");return e+": "+U.formatIdlData(i,t[e],n)})).join(", ")+" }"}if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const r=e.type.variants,i=Object.keys(t)[0],o=t[i],s=Object.keys(o).map((e=>{var t;const s=o[e],a=null===(t=r[i])||void 0===t?void 0:t.filter((t=>t.name===e))[0];if(void 0===a)throw new Error("Unable to find variant");return e+": "+U.formatIdlData(a,s,n)})).join(", "),a=l()(i,{pascalCase:!0});return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map((e=>{const n=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.hasOwnProperty("accounts")){const r=t?`${t} > ${n}`:n;return U.flattenIdlAccounts(e.accounts,r)}return{...e,name:t?`${t} > ${n}`:n}})).flat()}}function L(e,t){var n;let i=`${e}:${void 0===n&&(n={}),function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?M:n,i=t.stripRegexp,o=void 0===i?O:i,s=t.transform,a=void 0===s?x:s,u=t.delimiter,c=void 0===u?" ":u,l=B(B(e,r,"$1\0$2"),o,"\0"),d=0,h=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(h-1);)h--;return l.slice(d,h).split("\0").map(a).join(c)}(e,P({delimiter:"."},t))}(t,I({delimiter:"_"},n))}`;return r.Buffer.from(d.sha256.digest(i)).slice(0,8)}function C(e,t){if("enum"===t.type.kind){let n=t.type.variants.map((t=>void 0===t.fields?0:t.fields.map((t=>{if("object"!=typeof t||!("name"in t))throw new Error("Tuple enum variants not yet implemented.");return N(e,t.type)})).reduce(((e,t)=>e+t))));return Math.max(...n)+1}return void 0===t.type.fields?0:t.type.fields.map((t=>N(e,t.type))).reduce(((e,t)=>e+t),0)}function N(e,t){var n,r;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in t)return 1;if("option"in t)return 1+N(e,t.option);if("coption"in t)return 4+N(e,t.coption);if("defined"in t){const i=null!==(r=null===(n=e.types)||void 0===n?void 0:n.filter((e=>e.name===t.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new k(`Type not found: ${JSON.stringify(t)}`);return C(e,i[0])}if("array"in t){let n=t.array[0],r=t.array[1];return N(e,n)*r}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}const F=8;class W{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,D.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t),this.idl=e}async encode(e,t){const n=r.Buffer.alloc(1e3),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);const o=i.encode(t,n);let s=n.slice(0,o),a=W.accountDiscriminator(e);return r.Buffer.concat([a,s])}decode(e,t){if(W.accountDiscriminator(e).compare(t.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){const n=t.slice(8),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);return r.decode(n)}memcmp(e,t){const n=W.accountDiscriminator(e);return{offset:0,bytes:u().encode(t?r.Buffer.concat([n,t]):n)}}size(e){var t;return 8+(null!==(t=C(this.idl,e))&&void 0!==t?t:0)}static accountDiscriminator(e){return r.Buffer.from(d.sha256.digest(`account:${l()(e,{pascalCase:!0})}`)).slice(0,8)}}class z{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let n={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,D.typeDefLayout(n,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>[p.fromByteArray(j(e.name)),e.name])))}decode(e){let t;try{t=r.Buffer.from(p.toByteArray(e))}catch(st){return null}const n=p.fromByteArray(t.slice(0,8)),i=this.discriminators.get(n);if(void 0===i)return null;const o=this.layouts.get(i);if(!o)throw new Error(`Unknown event: ${i}`);return{data:o.decode(t.slice(8)),name:i}}}function j(e){return r.Buffer.from(d.sha256.digest(`event:${e}`)).slice(0,8)}const q=new Set(["anchor-deprecated-state","debug-logs"]),K=new Map;function V(e){return void 0!==K.get(e)}var H=Object.freeze({__proto__:null,set:function(e){if(!q.has(e))throw new Error("Invalid feature");K.set(e,!0)},isSet:V});class G{constructor(e){if(void 0===e.state)throw new Error("Idl state not defined.");this.layout=D.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const n=r.Buffer.alloc(1e3),i=this.layout.encode(t,n),o=await Z(e),s=n.slice(0,i);return r.Buffer.concat([o,s])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function Z(e){let t=V("anchor-deprecated-state")?"account":"state";return r.Buffer.from(d.sha256.digest(`${t}:${e}`)).slice(0,8)}class Q{constructor(e){this.instruction=new R(e),this.accounts=new W(e),this.events=new z(e),e.state&&(this.state=new G(e))}}var X="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};class J{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var Y=J;class $ extends J{isCount(){throw new Error("ExternalLayout is abstract")}}class ee extends ${constructor(e,t,n){if(!(e instanceof J))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof te||this.layout instanceof ne}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class te extends J{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class ne extends J{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}const re=Math.pow(2,32);class ie extends J{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return function(e,t){return e*re+t}(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=function(e){const t=Math.floor(e/re);return{hi32:t,lo32:e-t*re}}(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class oe extends J{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof J),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const i of e)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const s of this.fields){let r=s.span;if(o=0<r?r:0,void 0!==s.property){const i=e[s.property];void 0!==i&&(o=s.encode(i,t,n),0>r&&(r=s.getSpan(t,n)))}i=n,n+=r}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class se{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class ae extends se{constructor(e,t){if(!(e instanceof $&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class ue extends J{constructor(e,t,n){const r=e instanceof te||e instanceof ne;if(r)e=new ae(new ee(e));else if(e instanceof $&&e.isCount())e=new ae(e);else if(!(e instanceof se))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof J))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&r&&(i+=e.layout.span)),super(i,n),this.discriminator=e,this.usesPrefixDiscriminator=r,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(e,t+s)}else n=o.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new ce(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return b.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class ce extends J{constructor(e,t,n,r){if(!(e instanceof ue))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof J))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class le extends J{constructor(e,t){if(!(e instanceof $&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof $||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof $&&(r=e.length),!b.isBuffer(e)||r!==e.length)throw new TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+r+") Buffer as src"));var i;if(n+r>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,r,"hex"),this.length instanceof $&&this.length.encode(r,t,n),r}}var de=e=>new te(1,e),he=e=>new ie(e),pe=(e,t,n)=>new oe(e,t,n),fe=(e,t)=>new le(e,t);class me{constructor(e){}encode(e,t){switch(l()(e)){case"initializeMint":return function(e){let{decimals:t,mintAuthority:n,freezeAuthority:r}=e;return be({initializeMint:{decimals:t,mintAuthority:n.toBuffer(),freezeAuthorityOption:!!r,freezeAuthority:(r||i.PublicKey.default).toBuffer()}})}(t);case"initializeAccount":return be({initializeAccount:{}});case"initializeMultisig":return function(e){let{m:t}=e;return be({initializeMultisig:{m:t}})}(t);case"transfer":return function(e){let{amount:t}=e;return be({transfer:{amount:t}})}(t);case"approve":return function(e){let{amount:t}=e;return be({approve:{amount:t}})}(t);case"revoke":return be({revoke:{}});case"setAuthority":return function(e){let{authorityType:t,newAuthority:n}=e;return be({setAuthority:{authorityType:t,newAuthority:n}})}(t);case"mintTo":return function(e){let{amount:t}=e;return be({mintTo:{amount:t}})}(t);case"burn":return function(e){let{amount:t}=e;return be({burn:{amount:t}})}(t);case"closeAccount":return be({closeAccount:{}});case"freezeAccount":return be({freezeAccount:{}});case"thawAccount":return be({thawAccount:{}});case"transferChecked":return function(e){let{amount:t,decimals:n}=e;return be({transferChecked:{amount:t,decimals:n}})}(t);case"approvedChecked":return function(e){let{amount:t,decimals:n}=e;return be({approveChecked:{amount:t,decimals:n}})}(t);case"mintToChecked":return function(e){let{amount:t,decimals:n}=e;return be({mintToChecked:{amount:t,decimals:n}})}(t);case"burnChecked":return function(e){let{amount:t,decimals:n}=e;return be({burnChecked:{amount:t,decimals:n}})}(t);case"intializeAccount2":return function(e){let{authority:t}=e;return be({initilaizeAccount2:{authority:t}})}(t);case"syncNative":return be({syncNative:{}});case"initializeAccount3":return function(e){let{authority:t}=e;return be({initializeAccount3:{authority:t}})}(t);case"initializeMultisig2":return function(e){let{m:t}=e;return be({initializeMultisig2:{m:t}})}(t);case"initializeMint2":return function(e){let{decimals:t,mintAuthority:n,freezeAuthority:r}=e;return be({encodeInitializeMint2:{decimals:t,mintAuthority:n,freezeAuthority:r}})}(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("SPL token does not have state")}}const ge=(ye=de("instruction"),new ue(ye,undefined,undefined));var ye;function we(e){return fe(32,e)}function be(e){let t=b.alloc(ve),n=ge.encode(e,t);return t.slice(0,n)}ge.addVariant(0,pe([de("decimals"),fe(32,"mintAuthority"),de("freezeAuthorityOption"),we("freezeAuthority")]),"initializeMint"),ge.addVariant(1,pe([]),"initializeAccount"),ge.addVariant(2,pe([de("m")]),"initializeMultisig"),ge.addVariant(3,pe([he("amount")]),"transfer"),ge.addVariant(4,pe([he("amount")]),"approve"),ge.addVariant(5,pe([]),"revoke"),ge.addVariant(6,pe([de("authorityType"),de("newAuthorityOption"),we("newAuthority")]),"setAuthority"),ge.addVariant(7,pe([he("amount")]),"mintTo"),ge.addVariant(8,pe([he("amount")]),"burn"),ge.addVariant(9,pe([]),"closeAccount"),ge.addVariant(10,pe([]),"freezeAccount"),ge.addVariant(11,pe([]),"thawAccount"),ge.addVariant(12,pe([he("amount"),de("decimals")]),"transferChecked"),ge.addVariant(13,pe([he("amount"),de("decimals")]),"approvedChecked"),ge.addVariant(14,pe([he("amount"),de("decimals")]),"mintToChecked"),ge.addVariant(15,pe([he("amount"),de("decimals")]),"burnedChecked"),ge.addVariant(16,pe([we("authority")]),"InitializeAccount2"),ge.addVariant(17,pe([]),"syncNative"),ge.addVariant(18,pe([we("authority")]),"initializeAccount3"),ge.addVariant(19,pe([de("m")]),"initializeMultisig2"),ge.addVariant(20,pe([de("decimals"),we("mintAuthority"),de("freezeAuthorityOption"),we("freezeAuthority")]),"initializeMint2");const ve=Math.max(...Object.values(ge.registry).map((e=>e.span)));class _e{constructor(e){}encode(e,t){throw new Error("SPL token does not have state")}decode(e){throw new Error("SPL token does not have state")}}function Ae(e){return new Ee(fe(8),(e=>xe.fromBuffer(e)),(e=>e.toBuffer()),e)}function Se(e){return new Ee(fe(32),(e=>new i.PublicKey(e)),(e=>e.toBuffer()),e)}function ke(e,t){return new Te(e,t)}class Ee extends Y{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}class Te extends Y{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=new te(4,void 0)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null==e?this.layout.span+this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+4)+4)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.property)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.layout.getSpan(e,t+4)+4}}function Ie(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}function Pe(e){return e?1:0}class xe extends(s()){toBuffer(){const e=super.toArray().reverse(),t=b.from(e);if(8===t.length)return t;if(t.length>=8)throw new Error("u64 too large");const n=b.alloc(8);return t.copy(n),n}static fromBuffer(e){if(8!==e.length)throw new Error(`Invalid buffer length: ${e.length}`);return new xe([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}class Me{constructor(e){this.idl=e}async encode(e,t){switch(e){case"Token":{const e=b.alloc(165),n=Be.encode(t,e);return e.slice(0,n)}case"Mint":{const e=b.alloc(82),n=Oe.encode(t,e);return e.slice(0,n)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){switch(e){case"Token":return function(e){return Be.decode(e)}(t);case"Mint":return function(e){return Oe.decode(e)}(t);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,t){switch(e){case"Token":return{dataSize:165};case"Mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var t;return null!==(t=C(this.idl,e))&&void 0!==t?t:0}}const Oe=pe([ke(Se(),"mintAuthority"),Ae("supply"),de("decimals"),new Ee(de(),Ie,Pe,"isInitialized"),ke(Se(),"freezeAuthority")]),Be=pe([Se("mint"),Se("authority"),Ae("amount"),ke(Se(),"delegate"),de("state"),ke(Ae(),"isNative"),Ae("delegatedAmount"),ke(Se(),"closeAuthority")]);class De{constructor(e){}decode(e){throw new Error("SPL token program does not have events")}}class Re{constructor(e){this.instruction=new me(e),this.accounts=new Me(e),this.events=new De(e),this.state=new _e(e)}}var Ue=Object.freeze({__proto__:null,hash:function(e){return(0,d.sha256)(e)}});function Le(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var n;let r=null!==(n=e.msg)&&void 0!==n?n:e.name;t.set(e.code,r)})),t}function Ce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e.args.length!=n.length)throw new Error("Invalid argument length");const i={};let o=0;return e.args.forEach((e=>{i[e.name]=n[o],o+=1})),i}function Ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((e=>{if("accounts"in e)Ne(e.accounts,t[e.name]);else if(void 0===t[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function Fe(e){return e instanceof i.PublicKey?e:new i.PublicKey(e)}async function We(e,t,n){if(t.length<=99)return await ze(e,t,n);{const i=(r=t,99,Array.apply(0,new Array(Math.ceil(r.length/99))).map(((e,t)=>r.slice(99*t,99*(t+1)))));return(await Promise.all(i.map((t=>ze(e,t,n))))).flat()}var r}async function ze(e,t,n){const o=null!=n?n:e.commitment,s=[t.map((e=>e.toBase58()))];o&&s.push({commitment:o});const a=await e._rpcRequest("getMultipleAccounts",s);if(a.error)throw new Error("failed to get info about accounts "+t.map((e=>e.toBase58())).join(", ")+": "+a.error.message);m()(void 0!==a.result);const u=[];for(const c of a.result.value){let e=null;if(null!==c){if(a.result.value){const{executable:t,owner:n,lamports:o,data:s}=c;m()("base64"===s[1]),e={executable:t,owner:new i.PublicKey(n),lamports:o,data:r.Buffer.from(s[0],"base64")}}if(null===e)throw new Error("Invalid response");u.push(e)}else u.push(null)}return u.map(((e,n)=>null===e?null:{publicKey:t[n],account:e}))}var je=Object.freeze({__proto__:null,invoke:async function(e,t,n,r){e=Fe(e),r||(r=A());const o=new i.Transaction;return o.add(new i.TransactionInstruction({programId:e,keys:null!=t?t:[],data:n})),await r.send(o)},getMultipleAccounts:We});function qe(e,t,n){const o=r.Buffer.concat([e.toBuffer(),r.Buffer.from(t),n.toBuffer()]),s=d.sha256.digest(o);return new i.PublicKey(r.Buffer.from(s))}function Ke(e,t){let n=r.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=r.Buffer.concat([n,He(e)])})),n=r.Buffer.concat([n,t.toBuffer(),r.Buffer.from("ProgramDerivedAddress")]);let o=(0,d.sha256)(new Uint8Array(n)),a=new(s())(o,16).toArray(void 0,32);if(i.PublicKey.isOnCurve(new Uint8Array(a)))throw new Error("Invalid seeds, address must fall off the curve");return new i.PublicKey(a)}function Ve(e,t){let n,i=255;for(;0!=i;){try{n=Ke(e.concat(r.Buffer.from([i])),t)}catch(st){if(st instanceof TypeError)throw st;i--;continue}return[n,i]}throw new Error("Unable to find a viable program address nonce")}const He=e=>e instanceof r.Buffer?e:e instanceof Uint8Array?r.Buffer.from(e.buffer,e.byteOffset,e.byteLength):r.Buffer.from(e);async function Ge(e){let t=[r.Buffer.from([97,110,99,104,111,114])];for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];o.forEach((e=>{t.push(e instanceof r.Buffer?e:Fe(e).toBuffer())}));const[a]=await i.PublicKey.findProgramAddress(t,Fe(e));return a}var Ze=Object.freeze({__proto__:null,createWithSeedSync:qe,createProgramAddressSync:Ke,findProgramAddressSync:Ve,associated:Ge}),Qe=Object.freeze({__proto__:null,encode:function(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")},decode:function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?r.Buffer.from([]):r.Buffer.from(t.map((e=>parseInt(e,16))))}});function Xe(e){return new TextDecoder("utf-8").decode(e)}function Je(e){return(new TextEncoder).encode(e)}var Ye=Object.freeze({__proto__:null,decode:Xe,encode:Je}),$e=Object.freeze({__proto__:null,encode:function(e){return u().encode(e)},decode:function(e){return u().decode(e)}}),et=Object.freeze({__proto__:null,encode:function(e){return p.fromByteArray(e)},decode:function(e){return r.Buffer.from(p.toByteArray(e))}}),tt=Object.freeze({__proto__:null,hex:Qe,utf8:Ye,bs58:$e,base64:et});const nt=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),rt=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var it=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:nt,ASSOCIATED_PROGRAM_ID:rt,associatedAddress:async function(e){let{mint:t,owner:n}=e;return(await i.PublicKey.findProgramAddress([n.toBuffer(),nt.toBuffer(),t.toBuffer()],rt))[0]}}),ot={exports:{}};!function(e,t){var n="undefined"!=typeof self?self:X,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=f(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=l(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),w.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var A=[301,302,303,307,308];_.redirect=function(e,t){if(-1===A.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise((function(r,o){var s=new b(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new _(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=h,e.Request=b,e.Response=_),t.Headers=h,t.Request=b,t.Response=_,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(ot,ot.exports);var st,at=(st=ot.exports)&&st.__esModule&&Object.prototype.hasOwnProperty.call(st,"default")?st.default:st;async function ut(e,t){const n=await e.getAccountInfo(t);if(null===n)throw new Error("program account not found");const{program:r}=lt(n.data),i=await e.getAccountInfo(r.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=lt(i.data);return o}const ct=h.rustEnum([h.struct([],"uninitialized"),h.struct([h.option(h.publicKey(),"authorityAddress")],"buffer"),h.struct([h.publicKey("programdataAddress")],"program"),h.struct([h.u64("slot"),h.option(h.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,h.u32());function lt(e){return ct.decode(e)}var dt=Object.freeze({__proto__:null,verifiedBuild:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const r=`https://anchor.projectserum.com/api/v0/program/${t.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([ut(e,t),at(r)]),s=(await o.json()).filter((e=>!e.aborted&&"Built"===e.state&&"Verified"===e.verified));if(0===s.length)return null;const a=s[0];return i.slot.toNumber()!==a.verified_slot?null:a},fetchData:ut,decodeUpgradeableLoaderState:lt}),ht=Object.freeze({__proto__:null,sha256:Ue,rpc:je,publicKey:Ze,bytes:tt,token:it,features:H,registry:dt});const pt=h.struct([h.publicKey("authority"),h.vecU8("data")]);function ft(e,t){var n,r;let i={};const o=e.args?e.args.length:0;if(t.length>o){if(t.length!==o+1)throw new Error(`provided too many arguments ${t} to instruction ${null==e?void 0:e.name} expecting: ${null!==(r=null===(n=e.args)||void 0===n?void 0:n.map((e=>e.name)))&&void 0!==r?r:[]}`);i=t.pop()}return[t,i]}class mt{static build(e,t,n){if("_inner"===e.name)throw new k("the _inner name is reserved");const r=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const[u,c]=ft(e,[...s]);Ne(e.accounts,c.accounts);const l=r.accounts(c.accounts);return void 0!==c.remainingAccounts&&l.push(...c.remainingAccounts),V("debug-logs")&&console.log("Outgoing account metas:",l),new i.TransactionInstruction({keys:l,programId:n,data:t(e.name,Ce(e,...u))})};return r.accounts=t=>mt.accountsArray(t,e.accounts,e.name),r}static accountsArray(e,t,n){return e?t.map((t=>{if(void 0!==("accounts"in t?t.accounts:void 0)){const r=e[t.name];return mt.accountsArray(r,t.accounts,n).flat()}{const r=t;let i;try{i=Fe(e[t.name])}catch(e){throw new Error(`Wrong input type for account "${t.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}return{pubkey:i,isWritable:r.isMut,isSigner:r.isSigner}}})).flat():[]}}class gt{static build(e,t,n,r){return async function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];const a=t(...o),[,u]=ft(e,[...o]);try{return await r.send(a,u.signers,u.options)}catch(e){V("debug-logs")&&console.log("Translating error:",e);let r=E.parse(e,n);if(null===r)throw e;throw r}}}}class yt{static build(e,t){return function(){for(var n,r,o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];const[,c]=ft(e,[...a]),l=new i.Transaction;if(c.preInstructions&&c.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(n=c.preInstructions)||void 0===n||n.forEach((e=>l.add(e))),null===(r=c.instructions)||void 0===r||r.forEach((e=>l.add(e))),l.add(t(...a)),null===(o=c.postInstructions)||void 0===o||o.forEach((e=>l.add(e))),l}}}class wt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Q(e);this.provider=n,this.coder=r,this._idl=e,this._programId=t,this._address=bt(t),this._sub=null;const[o,s,a]=(()=>{var o;let s={},a={},u={};return null===(o=e.state)||void 0===o||o.methods.forEach((o=>{const c=mt.build(o,((e,t)=>r.instruction.encodeState(e,t)),t);c.accounts=e=>{const r=function(e,t,n,r){if("new"===n.name){const[n]=Ve([],e);return[{pubkey:t.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:bt(e),isWritable:!0,isSigner:!1},{pubkey:n,isWritable:!1,isSigner:!1},{pubkey:i.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e,isWritable:!1,isSigner:!1}]}return Ne(n.accounts,r),[{pubkey:bt(e),isWritable:!0,isSigner:!1}]}(t,n,o,e);return r.concat(mt.accountsArray(e,o.accounts,o.name))};const d=yt.build(o,c),h=gt.build(o,d,Le(e),n),p=l()(o.name);s[p]=c,a[p]=d,u[p]=h})),[s,a,u]})();this.instruction=o,this.transaction=s,this.rpc=a}get programId(){return this._programId}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(null===t)throw new Error(`Account does not exist ${e.toString()}`);const n=this._idl.state;if(!n)throw new Error("State is not specified in IDL.");if((await Z(n.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(null!==this._sub)return this._sub.ee;const t=new(w()),n=this.provider.connection.onAccountChange(this.address(),(e=>{const n=this.coder.state.decode(e.data);t.emit("change",n)}),e);return this._sub={ee:t,listener:n},t}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function bt(e){let[t]=Ve([],e);return qe(t,"unversioned",e)}class vt{constructor(e,t,n,r,i){this._idlAccount=t,this._programId=n,this._provider=null!=r?r:A(),this._coder=null!=i?i:new Q(e),this._size=this._coder.accounts.size(t)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,t){const n=await this.getAccountInfo(e,t);return null===n?null:this._coder.accounts.decode(this._idlAccount.name,n.data)}async fetch(e,t){const n=await this.fetchNullable(e,t);if(null===n)throw new Error(`Account does not exist ${e.toString()}`);return n}async fetchMultiple(e,t){return(await We(this._provider.connection,e.map((e=>Fe(e))),t)).map((e=>null==e?null:this._coder.accounts.decode(this._idlAccount.name,null==e?void 0:e.account.data)))}async all(e){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,e instanceof b?e:void 0)},...Array.isArray(e)?e:[]]})).map((e=>{let{pubkey:t,account:n}=e;return{publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,n.data)}}))}subscribe(e,t){const n=_t.get(e.toString());if(n)return n.ee;const r=new(w());e=Fe(e);const i=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);r.emit("change",t)}),t);return _t.set(e.toString(),{ee:r,listener:i}),r}async unsubscribe(e){let t=_t.get(e.toString());t?_t&&await this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{_t.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const n=this.size;return i.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:n),programId:this._programId})}async associated(){const e=await this.associatedAddress(...arguments);return await this.fetch(e)}async associatedAddress(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return await Ge(this._programId,...t)}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(Fe(e),t)}}const _t=new Map,At="Program log: ".length;class St{constructor(e,t,n){this._programId=e,this._provider=t,this._eventParser=new kt(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!==(n=this._eventListeners.get(e))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((e,t)=>{e.err||this._eventParser.parseLogs(e.logs,(e=>{const n=this._eventListeners.get(e.name);n&&n.forEach((n=>{const r=this._eventCallbacks.get(n);if(r){const[,n]=r;n(e.data,t.slot)}}))}))}))),r}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=t;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(e),r=r.filter((t=>t!==e)),0===r.length&&this._eventListeners.delete(n),0==this._eventCallbacks.size&&(f.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class kt{constructor(e,t){this.coder=t,this.programId=e}parseLogs(e,t){const n=new Tt(e),r=new Et(n.next());let i=n.next();for(;null!==i;){let[e,o,s]=this.handleLog(r,i);e&&t(e),o&&r.push(o),s&&r.pop(),i=n.next()}}handleLog(e,t){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log:")){const t=e.slice(At);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class Et{constructor(e){var t;const n=null===(t=/^Program (.*) invoke.*$/g.exec(e))||void 0===t?void 0:t[1];if(!n)throw new Error("Could not find program invocation log line");this.stack=[n]}program(){return f.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){f.ok(this.stack.length>0),this.stack.pop()}}class Tt{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}const It=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function Pt(){return new Re(xt)}const xt={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class Mt{constructor(e,t,n,r,i,o){this._args=e,this._accounts=t,this._provider=n,this._programId=r,this._idlIx=i,this._accountStore=new Ot(n,o)}async resolve(){for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],n=l()(t.name);if(t.pda&&t.pda.seeds.length>0&&void 0===this._accounts[n])await this.autoPopulatePda(t);else if(t.isSigner&&void 0===this._accounts[n])this._accounts[n]=this._provider.wallet.publicKey;else switch(n){case"systemProgram":void 0===this._accounts[n]&&(this._accounts[n]=i.SystemProgram.programId);case"rent":void 0===this._accounts[n]&&(this._accounts[n]=i.SYSVAR_RENT_PUBKEY);case"tokenProgram":void 0===this._accounts[n]&&(this._accounts[n]=nt);case"associatedTokenProgram":void 0===this._accounts[n]&&(this._accounts[n]=rt)}}}async autoPopulatePda(e){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const t=await Promise.all(e.pda.seeds.map((e=>this.toBuffer(e)))),n=await this.parseProgramId(e),[r]=await i.PublicKey.findProgramAddress(t,n);this._accounts[l()(e.name)]=r}async parseProgramId(e){var t;if(!(null===(t=e.pda)||void 0===t?void 0:t.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new i.PublicKey(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}toBufferConst(e){return this.toBufferValue(e.type,e.value)}async toBufferArg(e){const t=this.argValue(e);return this.toBufferValue(e.type,t)}argValue(e){const t=l()(e.path.split(".")[0]),n=this._idlIx.args.findIndex((e=>e.name===t));if(-1===n)throw new Error(`Unable to find argument for seed: ${t}`);return this._args[n]}async toBufferAccount(e){const t=await this.accountValue(e);return this.toBufferValue(e.type,t)}async accountValue(e){const t=e.path.split("."),n=t[0],r=this._accounts[l()(n)];if(1===t.length)return r;const i=await this._accountStore.fetchAccount(e.account,r);return this.parseAccountValue(i,t.slice(1))}parseAccountValue(e,t){let n;for(;t.length>0;)n=e[l()(t[0])],t=t.slice(1);return n}toBufferValue(e,t){switch(e){case"u8":return b.from([t]);case"u16":let n=b.alloc(2);return n.writeUInt16LE(t),n;case"u32":let r=b.alloc(4);return r.writeUInt32LE(t),r;case"u64":let i=b.alloc(8);return i.writeBigUInt64LE(BigInt(t)),i;case"string":return b.from(Je(t));case"publicKey":return t.toBuffer();default:if(e.array)return b.from(t);throw new Error(`Unexpected seed type: ${e}`)}}}class Ot{constructor(e,t){this._provider=e,this._accounts=t,this._cache=new Map}async fetchAccount(e,t){const n=t.toString();if(void 0===this._cache.get(n))if("TokenAccount"===e){const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error(`invalid account info for ${n}`);const r=Pt().accounts.decode("Token",e.data);this._cache.set(n,r)}else{const r=this._accounts[l()(e)].fetch(t);this._cache.set(n,r)}return this._cache.get(n)}}class Bt{static build(e,t,n,r,i,o,s,a){return function(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];return new Dt(c,r,i,o,s,e,t,n,a)}}}class Dt{constructor(e,t,n,r,i,o,s,a,u){this._args=e,this._ixFn=t,this._txFn=n,this._rpcFn=r,this._simulateFn=i,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._accountsResolver=new Mt(e,this._accounts,o,s,a,u)}accounts(e){return Object.assign(this._accounts,e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class Rt{constructor(e,t,n,r){t=Fe(t),n||(n=A()),this._idl=e,this._provider=n,this._programId=t,this._coder=null!=r?r:new Q(e),this._events=new St(this._programId,n,this._coder);const[i,o,s,a,u,c,d]=class{static build(e,t,n,r){const i={},o={},s={},a={},u={},c=Le(e),d=e.accounts?class{static build(e,t,n,r){var i;const o={};return null===(i=e.accounts)||void 0===i||i.forEach((i=>{const s=l()(i.name);o[s]=new vt(e,i,n,r,t)})),o}}.build(e,t,n,r):{},h=class{static build(e,t,n,r){if(void 0!==e.state)return new wt(e,n,r,t)}}.build(e,t,n,r);return e.instructions.forEach((h=>{const p=mt.build(h,((e,n)=>t.instruction.encode(e,n)),n),f=yt.build(h,p),m=gt.build(h,f,c,r),g=class{static build(e,t,n,r,i,o,s){return async function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];const l=t(...u),[,d]=ft(e,[...u]);let h;try{h=await r.simulate(l,d.signers,d.options)}catch(e){V("debug-logs")&&console.log("Translating error:",e);let r=E.parse(e,n);if(null===r)throw e;throw r}if(void 0===h)throw new Error("Unable to simulate transaction");if(h.value.err)throw new Error(`Simulate error: ${h.value.err.toString()}`);const p=h.value.logs;if(!p)throw new Error("Simulated logs not found");const f=[];return s.events&&new kt(o,i).parseLogs(p,(e=>{f.push(e)})),{events:f,raw:p}}}}.build(h,f,c,r,t,n,e),y=Bt.build(r,n,h,p,f,m,g,d),w=l()(h.name);o[w]=p,s[w]=f,i[w]=m,a[w]=g,u[w]=y})),[i,o,s,d,a,u,h]}}.build(e,this._coder,t,n);this.rpc=i,this.instruction=o,this.transaction=s,this.account=a,this.simulate=u,this.methods=c,this.state=d}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const n=Fe(e),r=await Rt.fetchIdl(n,t);if(!r)throw new Error(`IDL not found for program: ${e.toString()}`);return new Rt(r,n,t)}static async fetchIdl(e,t){t=null!=t?t:A();const n=Fe(e),r=await async function(e){const t=(await i.PublicKey.findProgramAddress([],e))[0];return await i.PublicKey.createWithSeed(t,"anchor:idl",e)}(n),o=await t.connection.getAccountInfo(r);if(!o)return null;let s=(a=o.data.slice(8),pt.decode(a));var a;const u=(0,g.rr)(s.data);return JSON.parse(Xe(u))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}class Ut{static token(){return new Rt(xt,It,undefined,Pt())}}},66721:function(e,t,n){"use strict";!function(e,t){const n=i,r=e();for(;;)try{if(889200===-parseInt(n(143))/1+parseInt(n(142))/2+-parseInt(n(141))/3*(parseInt(n(146))/4)+-parseInt(n(144))/5*(parseInt(n(140))/6)+-parseInt(n(139))/7+-parseInt(n(145))/8+parseInt(n(147))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}(s);var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};function i(e,t){const n=s();return(i=function(e,t){return n[e-=139]})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.getCurveAmount=t.TradeDirection=void 0;const o=r(n(3e4));function s(){const e=["1500215BfGbIl","67890cScNiO","7110688zAPmdr","4816884znPdbN","39328371jHljnR","423220USzEiJ","480GStSiJ","3FyXvcu","2518706qKThCw"];return(s=function(){return e})()}function a(e,t){let n=t,r=e.div(n);if(r.eq(0))return{q:new o.default(0),r:new o.default(0)};if(e.mod(t).gt(0)){r=r.plus(1),n=e.div(r),e.mod(r).gt(0)&&(n=n.plus(1))}return{q:r,r:n}}t.TradeDirection={AtoB:"AtoB",BtoA:"BtoA"},t.getCurveAmount=function(e,n,r,i,s,u,c,l,d,h){let p=new o.default(0),f=new o.default(0);const m=e.times(i.tradeFeeNumerator).div(i.tradeFeeDenominator),g=e.times(i.ownerTradeFeeNumerator).div(i.ownerTradeFeeDenominator),y=m.plus(g),w=i.tradeFeeNumerator.div(i.tradeFeeDenominator).plus(i.ownerTradeFeeNumerator.div(i.ownerTradeFeeDenominator)),b=e.minus(y),v=new o.default(10),_=v.pow(r.baseDecimals);if(1===r.freezeTrade)throw new Error("ProgramIsFrozen");if(!l.status.eq(1))throw new Error("InvalidPythStatus");if(n-l.publishSlot.toNumber()>c.pythSlotLimit.toNumber())throw new Error("InvalidPythSlot");if(l.confidence.div(l.price).gt(c.pythConfidenceLimit.div(c.configDenominator)))throw new Error("InvalidPythConfidence");let A=l.price;if(d){if(!d.status.eq(1))throw new Error("InvalidPythPcStatus");if(n-d.publishSlot.toNumber()>c.pythSlotLimit.toNumber())throw new Error("InvalidPythPcSlot");if(d.confidence.div(d.price).gt(c.pythConfidenceLimit.div(c.configDenominator)))throw new Error("InvalidPythPcConfidence");A=A.times(v.pow(Math.abs(d.exponent))).div(d.price)}let S=new o.default(0);var k;if(S=(k=A.div(c.lastPrice).minus(1),k.toNumber()<0?k.times(-1):k).gt(c.adjustRatio.div(c.configDenominator))?A:c.lastPrice,c.oracleStatus.eq(1)&&h===t.TradeDirection.AtoB)throw new Error("OracleConfidence");if(c.oracleStatus.eq(2)&&h===t.TradeDirection.BtoA)throw new Error("OracleConfidence");const E=c.lastBalancedPrice,T=c.coefficientUp,I=c.coefficientDown;if(0===r.curveType){const{destinationAmountSwapped:e,poolPriceImpact:n}=function(e,n,r,i,s,u,c,l,d,h){let p=new o.default(0),f=new o.default(0),m=c.times(d.concentrationRatio),g=l.times(d.concentrationRatio),y=m.times(n).div(i);switch(h){case t.TradeDirection.AtoB:{if(n.gt(r)&&y.gt(g)){let e=g.div(y).pow(u);m=m.times(e),g=g.times(e)}else if(r.gt(n)&&g.gt(y)){let e=g.div(y).pow(s);m=m.times(e),g=g.times(e)}else if(y.gt(g)){let e=g.div(y).pow(u);m=m.times(e),g=g.times(e)}let t=new o.default(Math.sqrt(m.toNumber())),c=new o.default(Math.sqrt(g.toNumber())),l=new o.default(Math.sqrt(n.toNumber())).div(new o.default(Math.sqrt(i.toNumber()))),d=t.times(c);m=d.div(l),g=d.times(l);let h=m.times(g),w=m.plus(e),{q:b,r:v}=a(h,w),_=b;w=v,p=g.minus(_);const A=g.div(m),S=g.minus(p).div(m.plus(e));f=A.minus(S).div(S);break}case t.TradeDirection.BtoA:{if(n.gt(r)&&y.gt(g)){let e=y.div(g).pow(s);m=m.times(e),g=g.times(e)}else if(r.gt(n)&&g.gt(y)){let e=y.div(g).pow(u);m=m.times(e),g=g.times(e)}else if(y.gt(g));else{let e=y.div(g).pow(u);m=m.times(e),g=g.times(e)}let t=new o.default(Math.sqrt(m.toNumber())),c=new o.default(Math.sqrt(g.toNumber())),l=new o.default(Math.sqrt(n.toNumber())).div(new o.default(Math.sqrt(i.toNumber()))),d=t.times(c);m=d.div(l),g=d.times(l);let h=m.times(g),w=g.plus(e),{q:b,r:v}=a(h,w),_=b;w=v,p=m.minus(_);const A=g.div(m);f=g.plus(e).div(m.minus(p)).minus(A).div(A);break}}return p=new o.default(Math.floor(p.toNumber())),{destinationAmountSwapped:p,poolPriceImpact:f}}(b,S,E,_,T,I,s,u,c,h);p=e,f=n}else if(1===r.curveType){const{destinationAmountSwapped:e,poolPriceImpact:n}=function(e,n,r,i,s,u,c,l,d,h){let p=new o.default(0),f=new o.default(0),m=c,g=l,y=m.times(n).div(i);switch(h){case t.TradeDirection.AtoB:{if(n.gt(r)&&y.gt(g)){let e=g.div(y).pow(u);m=m.times(e),g=g.times(e)}else if(r.gt(n)&&g.gt(y)){let e=g.div(y).pow(s);m=m.times(e),g=g.times(e)}else if(y.gt(g)){let e=g.div(y).pow(u);m=m.times(e),g=g.times(e)}m=m.times(d.concentrationRatio),g=g.times(d.concentrationRatio);let t=new o.default(Math.sqrt(m.toNumber())),c=new o.default(Math.sqrt(g.toNumber())),l=new o.default(Math.sqrt(n.toNumber())).div(new o.default(Math.sqrt(i.toNumber()))),h=t.times(c);m=h.div(l),g=h.times(l);let w=m.times(g),b=m.plus(e),{q:v,r:_}=a(w,b),A=v;b=_,p=g.minus(A);const S=g.div(m),k=g.minus(p).div(m.plus(e));f=S.minus(k).div(k);break}case t.TradeDirection.BtoA:{if(n.gt(r)&&y.gt(g)){let e=y.div(g).pow(s);m=m.times(e),g=g.times(e)}else if(r.gt(n)&&g.gt(y)){let e=y.div(g).pow(u);m=m.times(e),g=g.times(e)}else if(y.gt(g));else{let e=y.div(g).pow(u);m=m.times(e),g=g.times(e)}m=m.times(d.concentrationRatio),g=g.times(d.concentrationRatio);let t=new o.default(Math.sqrt(m.toNumber())),c=new o.default(Math.sqrt(g.toNumber())),l=new o.default(Math.sqrt(n.toNumber())).div(new o.default(Math.sqrt(i.toNumber()))),h=t.times(c);m=h.div(l),g=h.times(l);let w=m.times(g),b=g.plus(e),{q:v,r:_}=a(w,b),A=v;b=_,p=m.minus(A);const S=g.div(m);f=g.plus(e).div(m.minus(p)).minus(S).div(S);break}}return p=new o.default(Math.floor(p.toNumber())),{destinationAmountSwapped:p,poolPriceImpact:f}}(b,S,E,_,T,I,s,u,c,h);p=e,f=n}if(h===t.TradeDirection.AtoB&&p.gte(u))throw new Error("ExceedPoolBalance");if(h===t.TradeDirection.BtoA&&p.gte(s))throw new Error("ExceedPoolBalance");return{amountSwapped:p,priceImpact:f,fee:y,feePercent:w}}},32401:(e,t)=>{"use strict";function n(e,t){var i=r();return(n=function(e,t){return i[e-=444]})(e,t)}function r(){var e=["7gJwJXb","424556lwyjhg","6348024wwPIPB","368989ElakPh","796638BzvPBB","3251292XNSYgy","1587477wEvrAy","3845235aJDDfr"];return(r=function(){return e})()}!function(e,t){for(var r=n,i=e();;)try{if(597604===parseInt(r(446))/1+-parseInt(r(444))/2+-parseInt(r(449))/3+parseInt(r(448))/4+-parseInt(r(450))/5+parseInt(r(447))/6+-parseInt(r(451))/7*(-parseInt(r(445))/8))break;i.push(i.shift())}catch(o){i.push(i.shift())}}(r),Object.defineProperty(t,"__esModule",{value:!0}),t.IDL=void 0,t.IDL={version:"0.1.0",name:"lifinity_amm",instructions:[{name:"swap",accounts:[{name:"authority",isMut:!1,isSigner:!1},{name:"amm",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"sourceInfo",isMut:!0,isSigner:!1},{name:"destinationInfo",isMut:!0,isSigner:!1},{name:"swapSource",isMut:!0,isSigner:!1},{name:"swapDestination",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"feeAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"pythAccount",isMut:!1,isSigner:!1},{name:"pythPcAccount",isMut:!1,isSigner:!1},{name:"configAccount",isMut:!0,isSigner:!1}],args:[{name:"amountIn",type:"u64"},{name:"minimumAmountOut",type:"u64"}]}],accounts:[{name:"amm",type:{kind:"struct",fields:[{name:"initializerKey",type:"publicKey"},{name:"initializerDepositTokenAccount",type:"publicKey"},{name:"initializerReceiveTokenAccount",type:"publicKey"},{name:"initializerAmount",type:"u64"},{name:"takerAmount",type:"u64"},{name:"isInitialized",type:"bool"},{name:"bumpSeed",type:"u8"},{name:"freezeTrade",type:"u8"},{name:"freezeDeposit",type:"u8"},{name:"freezeWithdraw",type:"u8"},{name:"baseDecimals",type:"u8"},{name:"tokenProgramId",type:"publicKey"},{name:"tokenAAccount",type:"publicKey"},{name:"tokenBAccount",type:"publicKey"},{name:"poolMint",type:"publicKey"},{name:"tokenAMint",type:"publicKey"},{name:"tokenBMint",type:"publicKey"},{name:"poolFeeAccount",type:"publicKey"},{name:"pythAccount",type:"publicKey"},{name:"pythPcAccount",type:"publicKey"},{name:"configAccount",type:"publicKey"},{name:"ammTemp1",type:"publicKey"},{name:"ammTemp2",type:"publicKey"},{name:"ammTemp3",type:"publicKey"},{name:"fees",type:{defined:"FeesInput"}},{name:"curve",type:{defined:"CurveInput"}}]}},{name:"config",type:{kind:"struct",fields:[{name:"concentrationRatio",type:"u64"},{name:"lastPrice",type:"u64"},{name:"adjustRatio",type:"u64"},{name:"balanceRatio",type:"u64"},{name:"lastBalancedPrice",type:"u64"},{name:"configDenominator",type:"u64"},{name:"pythConfidenceLimit",type:"u64"},{name:"pythSlotLimit",type:"u64"},{name:"volumeX",type:"u64"},{name:"volumeY",type:"u64"},{name:"volumeXInY",type:"u64"},{name:"coefficientUp",type:"u64"},{name:"coefficientDown",type:"u64"},{name:"oracleStatus",type:"u64"},{name:"configTemp1",type:"u64"},{name:"configTemp2",type:"u64"}]}}],types:[{name:"FeesInput",type:{kind:"struct",fields:[{name:"tradeFeeNumerator",type:"u64"},{name:"tradeFeeDenominator",type:"u64"},{name:"ownerTradeFeeNumerator",type:"u64"},{name:"ownerTradeFeeDenominator",type:"u64"},{name:"ownerWithdrawFeeNumerator",type:"u64"},{name:"ownerWithdrawFeeDenominator",type:"u64"},{name:"hostFeeNumerator",type:"u64"},{name:"hostFeeDenominator",type:"u64"}]}},{name:"CurveInput",type:{kind:"struct",fields:[{name:"curveType",type:"u8"},{name:"curveParameters",type:"u64"}]}},{name:"ConfigInput",type:{kind:"struct",fields:[{name:"concentrationRatio",type:"u64"},{name:"lastPrice",type:"u64"},{name:"adjustRatio",type:"u64"},{name:"balanceRatio",type:"u64"},{name:"lastBalancedPrice",type:"u64"},{name:"configDenominator",type:"u64"},{name:"pythConfidenceLimit",type:"u64"},{name:"pythSlotLimit",type:"u64"},{name:"volumeX",type:"u64"},{name:"volumeY",type:"u64"},{name:"volumeXInY",type:"u64"},{name:"coefficientUp",type:"u64"},{name:"coefficientDown",type:"u64"},{name:"oracleStatus",type:"u64"},{name:"configTemp1",type:"u64"},{name:"configTemp2",type:"u64"}]}},{name:"CurveFees",type:{kind:"struct",fields:[{name:"tradeFeeNumerator",type:"u64"},{name:"tradeFeeDenominator",type:"u64"},{name:"ownerTradeFeeNumerator",type:"u64"},{name:"ownerTradeFeeDenominator",type:"u64"},{name:"ownerWithdrawFeeNumerator",type:"u64"},{name:"ownerWithdrawFeeDenominator",type:"u64"},{name:"hostFeeNumerator",type:"u64"},{name:"hostFeeDenominator",type:"u64"}]}},{name:"CurveType",type:{kind:"enum",variants:[{name:"ConstantProduct"},{name:"Stable"}]}},{name:"TradeDirection",type:{kind:"enum",variants:[{name:"AtoB"},{name:"BtoA"}]}},{name:"RoundDirection",type:{kind:"enum",variants:[{name:"Floor"},{name:"Ceiling"}]}}],errors:[{code:6e3,name:"AlreadyInUse",msg:"Swap account already in use"},{code:6001,name:"InvalidProgramAddress",msg:"Invalid program address generated from bump seed and key"},{code:6002,name:"InvalidOwner",msg:"Input account owner is not the program address"},{code:6003,name:"InvalidOutputOwner",msg:"Output pool account owner cannot be the program address"},{code:6004,name:"ExpectedMint",msg:"Deserialized account is not an SPL Token mint"},{code:6005,name:"ExpectedAccount",msg:"Deserialized account is not an SPL Token account"},{code:6006,name:"EmptySupply",msg:"Input token account empty"},{code:6007,name:"InvalidSupply",msg:"Pool token mint has a non-zero supply"},{code:6008,name:"InvalidDelegate",msg:"Token account has a delegate"},{code:6009,name:"InvalidInput",msg:"InvalidInput"},{code:6010,name:"IncorrectSwapAccount",msg:"Address of the provided swap token account is incorrect"},{code:6011,name:"IncorrectPoolMint",msg:"Address of the provided pool token mint is incorrect"},{code:6012,name:"InvalidOutput",msg:"InvalidOutput"},{code:6013,name:"CalculationFailure",msg:"General calculation failure due to overflow or underflow"},{code:6014,name:"InvalidInstruction",msg:"Invalid instruction"},{code:6015,name:"RepeatedMint",msg:"Swap input token accounts have the same mint"},{code:6016,name:"ExceededSlippage",msg:"Swap instruction exceeds desired slippage limit"},{code:6017,name:"InvalidCloseAuthority",msg:"Token account has a close authority"},{code:6018,name:"InvalidFreezeAuthority",msg:"Pool token mint has a freeze authority"},{code:6019,name:"IncorrectFeeAccount",msg:"Pool fee token account incorrect"},{code:6020,name:"ZeroTradingTokens",msg:"Given pool token amount results in zero trading tokens"},{code:6021,name:"FeeCalculationFailure",msg:"Fee calculation failed due to overflow, underflow, or unexpected 0"},{code:6022,name:"ConversionFailure",msg:"Conversion to u64 failed with an overflow or underflow"},{code:6023,name:"InvalidFee",msg:"The provided fee does not match the program owner's constraints"},{code:6024,name:"IncorrectTokenProgramId",msg:"The provided token program does not match the token program expected by the swap"},{code:6025,name:"IncorrectOracleAccount",msg:"Address of the provided oracle account is incorrect"},{code:6026,name:"IncorrectConfigAccount",msg:"Address of the provided config account is incorrect"},{code:6027,name:"UnsupportedCurveType",msg:"The provided curve type is not supported by the program owner"},{code:6028,name:"InvalidCurve",msg:"The provided curve parameters are invalid"},{code:6029,name:"UnsupportedCurveOperation",msg:"The operation cannot be performed on the given curve"},{code:6030,name:"InvalidPythStatus",msg:"Pyth oracle status is not 'trading'"},{code:6031,name:"InvalidPythPrice",msg:"Could not retrieve updated price feed from the Pyth oracle"},{code:6032,name:"IncorrectSigner",msg:"Address of the provided signer account is incorrect"},{code:6033,name:"ProgramIsFrozen",msg:"Program is frozen"},{code:6034,name:"OracleConfidence",msg:"Oracle confidence is too low"}]}},45103:(e,t,n)=>{"use strict";t.Yk=t.gx=t._l=t.vS=void 0;const r=n(12472);const i=n(96305);const o=n(63323);const s=n(99099);Object.defineProperty(t,"_l",{enumerable:!0,get:function(){return s.getParsedData}});const a=n(66721);Object.defineProperty(t,"gx",{enumerable:!0,get:function(){return a.getCurveAmount}}),Object.defineProperty(t,"vS",{enumerable:!0,get:function(){return a.TradeDirection}});const u=n(99538);Object.defineProperty(t,"Yk",{enumerable:!0,get:function(){return u.LIFINITY_AMM_LAYOUT}})},99538:(e,t,n)=>{"use strict";function r(){const e=["116arMvFi","357747agVquT","17087016qeUlOo","39714KfvLYo","323130VsdFYa","525774OXqkyc","8017226KLyqnt","2ToqBWz","17737852lCMexa","95WaUWkw","261AnRnZP","8lALLFt"];return(r=function(){return e})()}!function(e,t){const n=s,r=e();for(;;)try{if(838091===-parseInt(n(153))/1*(parseInt(n(147))/2)+parseInt(n(155))/3*(-parseInt(n(152))/4)+parseInt(n(149))/5*(-parseInt(n(145))/6)+-parseInt(n(146))/7*(-parseInt(n(151))/8)+-parseInt(n(150))/9*(parseInt(n(156))/10)+parseInt(n(148))/11+parseInt(n(154))/12)break;r.push(r.shift())}catch(i){r.push(r.shift())}}(r),Object.defineProperty(t,"__esModule",{value:!0}),t.CONFIG_LAYOUT=t.LIFINITY_AMM_LAYOUT=void 0;const i=n(26434),o=n(12324);function s(e,t){const n=r();return(s=function(e,t){return n[e-=145]})(e,t)}t.LIFINITY_AMM_LAYOUT=(0,o.struct)([(0,i.u64)("index"),(0,i.publicKey)("initializerKey"),(0,i.publicKey)("initializerDepositTokenAccount"),(0,i.publicKey)("initializerReceiveTokenAccount"),(0,i.u64)("initializerAmount"),(0,i.u64)("takerAmount"),(0,i.u8)("initialized"),(0,i.u8)("bumpSeed"),(0,i.u8)("freezeTrade"),(0,i.u8)("freezeDeposit"),(0,i.u8)("freezeWithdraw"),(0,i.u8)("baseDecimals"),(0,i.publicKey)("tokenProgramId"),(0,i.publicKey)("tokenAAccount"),(0,i.publicKey)("tokenBAccount"),(0,i.publicKey)("poolMint"),(0,i.publicKey)("tokenAMint"),(0,i.publicKey)("tokenBMint"),(0,i.publicKey)("poolFeeAccount"),(0,i.publicKey)("pythAccount"),(0,i.publicKey)("pythPcAccount"),(0,i.publicKey)("configAccount"),(0,i.publicKey)("ammTemp1"),(0,i.publicKey)("ammTemp2"),(0,i.publicKey)("ammTemp3"),(0,i.u64)("tradeFeeNumerator"),(0,i.u64)("tradeFeeDenominator"),(0,i.u64)("ownerTradeFeeNumerator"),(0,i.u64)("ownerTradeFeeDenominator"),(0,i.u64)("ownerWithdrawFeeNumerator"),(0,i.u64)("ownerWithdrawFeeDenominator"),(0,i.u64)("hostFeeNumerator"),(0,i.u64)("hostFeeDenominator"),(0,i.u8)("curveType"),(0,i.u64)("curveParameters")]),t.CONFIG_LAYOUT=(0,o.struct)([(0,i.u64)("index"),(0,i.u64)("concentrationRatio"),(0,i.u64)("lastPrice"),(0,i.u64)("adjustRatio"),(0,i.u64)("balanceRatio"),(0,i.u64)("lastBalancedPrice"),(0,i.u64)("configDenominator"),(0,i.u64)("pythConfidenceLimit"),(0,i.u64)("pythSlotLimit"),(0,i.u64)("volumeX"),(0,i.u64)("volumeY"),(0,i.u64)("volumeXinY"),(0,i.u64)("coefficientUp"),(0,i.u64)("coefficientDown"),(0,i.u64)("oracleStatus"),(0,i.u64)("configTemp1"),(0,i.u64)("configTemp2")])},12472:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSwapTransactionWithAuthority=t.getSwapInstruction=t.getAmountOut=t.Lifinity=void 0;const o=n(66627),s=n(50388),a=i(n(3e4)),u=n(32401),c=n(96305),l=n(63323),d=n(42796),h=n(99099),p=n(66721);class f{constructor(e,t){this.stateAddress=s.PublicKey.default,this.programAuthority=s.PublicKey.default,this.connection=e,this.wallet=t;const n=new s.PublicKey((0,c.getProgramAddress)()),r=new o.Provider(e,t,o.Provider.defaultOptions());this.program=new o.Program(u.IDL,n,r)}static build(e,t){return r(this,void 0,void 0,(function*(){return new f(e,t)}))}swap(e,t,n,i){return r(this,void 0,void 0,(function*(){const r=(0,l.getPool)(n.toString(),i.toString());try{return yield(0,d.sendSwap)(this.program,r,n,i,e,t)}catch(o){return console.error(o),""}}))}}t.Lifinity=f,t.getAmountOut=function(e,t,n,i,o){return r(this,void 0,void 0,(function*(){const r=(0,l.getPool)(n.toString(),i.toString());if(r){let i,c,l,d=new a.default(t);r.poolCoinMint===n.toString()?(d=d.times(new a.default(10).pow(r.poolCoinDecimal)),c=r.poolCoinDecimal,l=r.poolPcDecimal,i=p.TradeDirection.AtoB):(d=d.times(new a.default(10).pow(r.poolPcDecimal)),c=r.poolPcDecimal,l=r.poolCoinDecimal,i=p.TradeDirection.BtoA);const f=[new s.PublicKey(r.amm),new s.PublicKey(r.poolCoinTokenAccount),new s.PublicKey(r.poolPcTokenAccount),new s.PublicKey(r.configAccount),new s.PublicKey(r.pythAccount)];r.pythAccount!==r.pythPcAccount&&f.push(new s.PublicKey(r.pythPcAccount));try{const n=yield(0,h.getMultipleAccounts)(e,f),{amm:s,fees:u,coinBalance:m,pcBalance:g,config:y,pyth:w,pythPc:b}=(0,h.getParsedData)(n,r),v=yield e.getSlot(),{amountSwapped:_,priceImpact:A,fee:S,feePercent:k}=(0,p.getCurveAmount)(d,v,s,u,m,g,y,w,b,i),E=new a.default(o).div(100),T=new a.default(Math.floor(_.times(new a.default(1).minus(E)).toNumber())).div(new a.default(10).pow(l)).toNumber(),I=_.div(new a.default(10).pow(l)).toNumber(),P=S.div(new a.default(10).pow(c)).toNumber();return{amountIn:t,amountOut:I,amountOutWithSlippage:T,priceImpact:A.toNumber(),fee:P,feePercent:k.toNumber()}}catch(u){return console.error(u),{amountIn:0,amountOut:0,amountOutWithSlippage:0,priceImpact:0,fee:0,feePercent:0}}}}))},t.getSwapInstruction=function(e,t,n,i,h,p,f,m){let g=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];return r(this,void 0,void 0,(function*(){try{const r=(0,l.getPool)(h.toString(),p.toString());let y,w,b=new a.default(n),v=new a.default(i);h.toString()===r.poolCoinMint?(b=b.times(new a.default(10).pow(r.poolCoinDecimal)),v=v.times(new a.default(10).pow(r.poolPcDecimal)),y=new s.PublicKey(r.poolCoinTokenAccount),w=new s.PublicKey(r.poolPcTokenAccount)):(b=b.times(new a.default(10).pow(r.poolPcDecimal)),v=v.times(new a.default(10).pow(r.poolCoinDecimal)),y=new s.PublicKey(r.poolPcTokenAccount),w=new s.PublicKey(r.poolCoinTokenAccount));let _=s.Keypair.generate();const A=new s.PublicKey((0,c.getProgramAddress)()),S=new o.Provider(e,_,o.Provider.defaultOptions()),k=new o.Program(u.IDL,A,S),{approveInstruction:E,swapInstruction:T,signers:I}=yield(0,d.getInstruction)(k,r,b,v,t,f,m,y,w,g);return{approveInstruction:E,swapInstruction:T,signers:I}}catch(r){console.warn(r);return{approveInstruction:null,swapInstruction:null,signers:[]}}}))},t.getSwapTransactionWithAuthority=function(e,t,n,r,i,a,h,p,f){const m=(0,l.getPool)(i.toString(),a.toString());let g=s.Keypair.generate();const y=new s.PublicKey((0,c.getProgramAddress)()),w=new o.Provider(e,g,o.Provider.defaultOptions()),b=new o.Program(u.IDL,y,w);return(0,d.makeSwapTransactionWithAuthority)(b,n,r,t,h,p,i,m,f)}},96305:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProgramAddress=void 0;t.getProgramAddress=()=>"EewxydAPCCVuNEyrVN68PuSYdQ7wKn27V9Gjeoi8dy3S"},63323:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PoolList=t.getPool=t.getPoolList=void 0,t.getPoolList=function(){return t.PoolList},t.getPool=function(e,n){const r=Object.values(t.PoolList).filter((t=>t.poolCoinMint===e&&t.poolPcMint===n||t.poolCoinMint===n&&t.poolPcMint===e));return 1===r.length?r[0]:null},t.PoolList={"SOL-USDC":{amm:"amgK1WE8Cvae4mVdj4AhXSsknWsjaGgo1coYicasBnM",poolMint:"3WzrkFYq4SayCrhBw8BgsPiTVKTDjyV6wRqP7HL9Eyyw",feeAccount:"AD5DFr1AXMB9h6fw5KFtkEfwf7kYSAiaSueeu4NGrLKY",configAccount:"2iT9h99mhDqetoZGNj7KKrqBnoDmFvAytGrnFYuR7MwN",pythAccount:"H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG",pythPcAccount:"H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG",poolCoinTokenAccount:"2uySTNgvGT2kwqpfgLiSgeBLR3wQyye1i1A2iQWoPiFr",poolCoinMint:"So11111111111111111111111111111111111111112",poolPcTokenAccount:"32SjGNjesiCZgmZb4YxAGgjnym6jAvTWbqihR4CvvXkZ",poolPcMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",poolCoinDecimal:9,poolPcDecimal:6,poolMintDecimal:9,pythBaseDecimal:11},"mSOL-USDC":{amm:"Ct5i81oqzw9Z2JnbNGjKUKExEaUJeDBBtWLRSkWD5DjR",poolMint:"BKq1HN9expTKLvjkpnvcbHvsHukTUecdHyUZF7H2p2jr",feeAccount:"Be7r4yNbZ2Qf61aXUPZVvHtcgXX5X6V7MYDoVuqhPSsy",configAccount:"7dPSHYkBNvp1YBnaoXGcGZe2cJ3dUkKNWrYif69JCMur",pythAccount:"E4v1BBgoso9s64TQvmyownAVJbhbEPGyzA3qn4n46qj9",pythPcAccount:"E4v1BBgoso9s64TQvmyownAVJbhbEPGyzA3qn4n46qj9",poolCoinTokenAccount:"AymgLAHXAHLuZXqF5h8SxfmvwVQ4VykKhUJda87DUWZe",poolCoinMint:"mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So",poolPcTokenAccount:"Cr3wSVy5EAWzcQ7pDw4VEfADbNM65NNxpX6wxV1sxLWy",poolPcMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",poolCoinDecimal:9,poolPcDecimal:6,poolMintDecimal:9,pythBaseDecimal:11}}},33219:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WSOL=void 0,t.WSOL={symbol:"WSOL",mintAddress:"So11111111111111111111111111111111111111112",decimals:9}},42796:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.makeSwapInstructionWithAuthority=t.makeSwapTransactionWithAuthority=t.getInstruction=t.sendSwap=void 0;const i=n(66627),o=n(50388),s=n(93038),a=n(93038),u=n(63786),c=n(33219),l=n(99099);function d(e,t,n,i){return r(this,void 0,void 0,(function*(){return s.Token.createApproveInstruction(a.TOKEN_PROGRAM_ID,t,n,e,[],i.toNumber())}))}function h(e,t,n,i,s,u,c,d,h){return r(this,void 0,void 0,(function*(){let{programAuthority:r}=yield(0,l.getProgramAuthority)(e.programId,new o.PublicKey(h.amm));return e.instruction.swap(c,d,{accounts:{authority:r,amm:new o.PublicKey(h.amm),userTransferAuthority:t,sourceInfo:n,destinationInfo:i,swapSource:s,swapDestination:u,poolMint:new o.PublicKey(h.poolMint),feeAccount:new o.PublicKey(h.feeAccount),tokenProgram:a.TOKEN_PROGRAM_ID,pythPcAccount:new o.PublicKey(h.pythPcAccount),pythAccount:new o.PublicKey(h.pythAccount),configAccount:new o.PublicKey(h.configAccount)}})}))}function p(e,t,n,r,i,s,u,c,l,d){return e.instruction.swap(u,c,{accounts:{authority:d,amm:new o.PublicKey(l.amm),userTransferAuthority:t,sourceInfo:n,destinationInfo:r,swapSource:i,swapDestination:s,poolMint:new o.PublicKey(l.poolMint),feeAccount:new o.PublicKey(l.feeAccount),tokenProgram:a.TOKEN_PROGRAM_ID,pythPcAccount:new o.PublicKey(l.pythPcAccount),pythAccount:new o.PublicKey(l.pythAccount),configAccount:new o.PublicKey(l.configAccount)}})}t.sendSwap=function(e,t,n,s,a,p){return r(this,void 0,void 0,(function*(){const{transaction:f,signers:m}=yield function(e,t,n,s,a,p){return r(this,void 0,void 0,(function*(){let f,m,g,y,w=new o.Transaction,b=[],v=10,_=Math.pow(v,s.poolCoinDecimal),A=Math.pow(v,s.poolPcDecimal);t.toString()===s.poolCoinMint?(f=new i.BN(a*_),m=new i.BN(p*A),g=new o.PublicKey(s.poolCoinTokenAccount),y=new o.PublicKey(s.poolPcTokenAccount)):(f=new i.BN(a*A),m=new i.BN(p*_),g=new o.PublicKey(s.poolPcTokenAccount),y=new o.PublicKey(s.poolCoinTokenAccount));let S=null,k=null;return S=t.toString()===c.WSOL.mintAddress?yield(0,l.createWSOLAccountIfNotExist)(e,S,f.toNumber(),w,b):yield(0,l.findAssociatedTokenAddress)(e.provider.wallet.publicKey,t),k=n.toString()===c.WSOL.mintAddress?yield(0,l.createWSOLAccountIfNotExist)(e,k,0,w,b):yield(0,l.createAssociatedTokenAccountIfNotExist)(e,n,w),yield function(e,t,n,i,s,a,u,c,l,p){let f=!(arguments.length>10&&void 0!==arguments[10])||arguments[10];return r(this,void 0,void 0,(function*(){let r;f?(r=o.Keypair.generate(),t.add(yield d(e.provider.wallet.publicKey,i,r.publicKey,c)),n.push(r)):r=e.provider.wallet,t.add(yield h(e,r.publicKey,i,s,a,u,c,l,p))}))}(e,w,b,S,k,g,y,f,m,s,!0),n.toString()===c.WSOL.mintAddress&&w.add((0,u.closeAccount)({source:k,destination:e.provider.wallet.publicKey,owner:e.provider.wallet.publicKey})),{transaction:w,signers:b}}))}(e,n,s,t,a,p);return yield e.provider.send(f,m)}))},t.getInstruction=function(e,t,n,s,a,u,c,l,p){let f=!(arguments.length>9&&void 0!==arguments[9])||arguments[9];return r(this,void 0,void 0,(function*(){let r=null,m=[],g=new i.BN(n.toNumber()),y=new i.BN(s.toNumber()),w=null;return f&&(w=o.Keypair.generate(),r=yield d(a,u,w.publicKey,g),m.push(w)),{approveInstruction:r,swapInstruction:yield h(e,w?w.publicKey:a,u,c,l,p,g,y,t),signers:m}}))},t.makeSwapTransactionWithAuthority=function(e,t,n,r,s,a,u,c,l){let d,h,f,m,g=Math.pow(10,c.poolCoinDecimal),y=Math.pow(10,c.poolPcDecimal);return u.toString()===c.poolCoinMint?(d=new i.BN(t*g),h=new i.BN(n*y),f=new o.PublicKey(c.poolCoinTokenAccount),m=new o.PublicKey(c.poolPcTokenAccount)):(d=new i.BN(t*y),h=new i.BN(n*g),f=new o.PublicKey(c.poolPcTokenAccount),m=new o.PublicKey(c.poolCoinTokenAccount)),p(e,r,s,a,f,m,d,h,c,l)},t.makeSwapInstructionWithAuthority=p},99099:function(e,t,n){"use strict";var r=n(97429).Buffer,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getTokenAccountBalance=t.getParsedData=t.getMultipleAccounts=t.sleep=t.getProgramAuthority=t.findProgramAddress=t.findAssociatedTokenAddress=t.createAssociatedTokenAccountIfNotExist=t.createWSOLAccountIfNotExist=void 0;const s=n(50388),a=n(93038),u=n(63786),c=n(93038),l=n(94834),d=o(n(3e4)),h=n(33219),p=n(99538),f=new s.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function m(e,t){return i(this,void 0,void 0,(function*(){const{publicKey:n}=yield g([e.toBuffer(),c.TOKEN_PROGRAM_ID.toBuffer(),t.toBuffer()],f);return n}))}function g(e,t){return i(this,void 0,void 0,(function*(){const[n,r]=yield s.PublicKey.findProgramAddress(e,t);return{publicKey:n,nonce:r}}))}t.createWSOLAccountIfNotExist=function(e,t,n,r,o){return i(this,void 0,void 0,(function*(){let i;if(t)i=t;else{const t=e.provider.wallet.publicKey,a=s.Keypair.generate();i=a.publicKey;let l=n+(yield e.provider.connection.getMinimumBalanceForRentExemption(c.AccountLayout.span));r.add(s.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:i,lamports:l,space:c.AccountLayout.span,programId:c.TOKEN_PROGRAM_ID})),r.add((0,u.initializeAccount)({account:i,mint:new s.PublicKey(h.WSOL.mintAddress),owner:t})),o.push(a)}return i}))},t.createAssociatedTokenAccountIfNotExist=function(e,t,n){return i(this,void 0,void 0,(function*(){let r=yield m(e.provider.wallet.publicKey,t);return yield e.provider.connection.getAccountInfo(r).then((o=>i(this,void 0,void 0,(function*(){o||(r=yield a.Token.getAssociatedTokenAddress(f,c.TOKEN_PROGRAM_ID,t,e.provider.wallet.publicKey),n.add(a.Token.createAssociatedTokenAccountInstruction(f,c.TOKEN_PROGRAM_ID,t,r,e.provider.wallet.publicKey,e.provider.wallet.publicKey)))})))),r}))},t.findAssociatedTokenAddress=m,t.findProgramAddress=g,t.getProgramAuthority=function(e,t){return i(this,void 0,void 0,(function*(){const[n,r]=yield s.PublicKey.findProgramAddress([t.toBuffer()],e);return{programAuthority:n,nonce:r}}))};function y(e,t){for(const[n,r]of Object.entries(e))if(r===t)return{key:n};return{}}t.sleep=e=>i(void 0,void 0,void 0,(function*(){return yield new Promise((t=>setTimeout(t,e)))})),t.getMultipleAccounts=function(e,t,n){return i(this,void 0,void 0,(function*(){const r=[];let o=[];t.forEach((e=>{o.length>=100&&(r.push(o),o=[]),o.push(e)})),o.length>0&&r.push(o);const s=[],a={};return yield Promise.all(r.map(((t,r)=>i(this,void 0,void 0,(function*(){const i=yield e.getMultipleAccountsInfo(t,n);a[r]=i}))))),Object.keys(a).sort(((e,t)=>parseInt(e)-parseInt(t))).forEach((e=>{const t=a[parseInt(e)];for(const n of t)s.push(n)})),s.map(((e,n)=>null===e?null:{publicKey:t[n],account:e}))}))},t.getParsedData=function(e,t){let n,i,o,s,a,u,h;for(let f=0;f<e.length;f++){const m=e[f];if(m){const e=m.publicKey.toBase58(),f=r.from(m.account.data),{key:g}=y(t,e);switch(g){case"amm":{const e=p.LIFINITY_AMM_LAYOUT.decode(f),{freezeTrade:t,freezeDeposit:r,freezeWithdraw:o,baseDecimals:s,curveType:a}=e;n={freezeTrade:t,freezeDeposit:r,freezeWithdraw:o,baseDecimals:s,curveType:a};const{tradeFeeNumerator:u,tradeFeeDenominator:c,ownerTradeFeeNumerator:l,ownerTradeFeeDenominator:h}=e;i={tradeFeeNumerator:new d.default(Number(u)),tradeFeeDenominator:new d.default(Number(c)),ownerTradeFeeNumerator:new d.default(Number(l)),ownerTradeFeeDenominator:new d.default(Number(h))};break}case"poolCoinTokenAccount":{const e=c.AccountLayout.decode(f),t=c.u64.fromBuffer(e.amount).toNumber();o=new d.default(t);break}case"poolPcTokenAccount":{const e=c.AccountLayout.decode(f),t=c.u64.fromBuffer(e.amount).toNumber();s=new d.default(t);break}case"configAccount":{const e=p.CONFIG_LAYOUT.decode(f),{concentrationRatio:t,lastPrice:n,adjustRatio:r,balanceRatio:i,lastBalancedPrice:o,configDenominator:s,pythConfidenceLimit:u,pythSlotLimit:c,volumeX:l,volumeY:h,volumeXinY:m,coefficientUp:g,coefficientDown:y,oracleStatus:w,configTemp1:b,configTemp2:v}=e;a={concentrationRatio:new d.default(Number(t)),lastPrice:new d.default(Number(n)),adjustRatio:new d.default(Number(r)),balanceRatio:new d.default(Number(i)),lastBalancedPrice:new d.default(Number(o)),configDenominator:new d.default(Number(s)),pythConfidenceLimit:new d.default(Number(u)),pythSlotLimit:new d.default(Number(c)),volumeX:new d.default(Number(l)),volumeY:new d.default(Number(h)),volumeXinY:new d.default(Number(m)),coefficientUp:new d.default(Number(g)),coefficientDown:new d.default(Number(y)),oracleStatus:new d.default(Number(w)),configTemp1:new d.default(Number(b)),configTemp2:new d.default(Number(v))};break}case"pythAccount":{const{aggregate:e,exponent:t}=(0,l.parsePriceData)(f);u={price:new d.default(Number(e.priceComponent)),confidence:new d.default(Number(e.confidenceComponent)),status:new d.default(Number(e.status)),publishSlot:new d.default(Number(e.publishSlot)),exponent:t};break}case"pythPcAccount":{const{aggregate:e,exponent:t}=(0,l.parsePriceData)(f);h={price:new d.default(Number(e.priceComponent)),confidence:new d.default(Number(e.confidenceComponent)),status:new d.default(Number(e.status)),publishSlot:new d.default(Number(e.publishSlot)),exponent:t};break}}}}return{amm:n,fees:i,coinBalance:o,pcBalance:s,config:a,pyth:u,pythPc:h}},t.getTokenAccountBalance=function(e,t){return i(this,void 0,void 0,(function*(){const n=yield e._rpcRequest("getTokenAccountBalance",[t.toBase58()]);if(n.error)throw new Error(n.error.message);return n.result}))}},66627:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccountClient:()=>ke,AccountsCoder:()=>N,BN:()=>i.a,Coder:()=>H,EventCoder:()=>F,EventManager:()=>Ie,EventParser:()=>Pe,IdlError:()=>S,InstructionCoder:()=>L,Program:()=>Oe,ProgramError:()=>k,Provider:()=>b,StateClient:()=>Ae,StateCoder:()=>K,getProvider:()=>_,parseIdlErrors:()=>Z,setProvider:()=>v,splitArgsAndCtx:()=>we,toInstruction:()=>Q,translateAddress:()=>J,utils:()=>ge,validateAccounts:()=>X,web3:()=>o});var r=n(48744),i=n.n(r),o=n(50388),s=n(97429),a=n(8511),u=n.n(a),c=n(26434),l=n(68532),d=n.n(l),h=n(10119),p=n(12009),f=n(21380),m=n.n(f),g=n(81070),y=n(48449),w=n.n(y);class b{constructor(e,t,n){this.connection=e,this.wallet=t,this.opts=n}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async send(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)}));const r=e.serialize();return await(0,o.sendAndConfirmRawTransaction)(this.connection,r,n)}async sendAll(e,t){void 0===t&&(t=this.opts);const n=await this.connection.getRecentBlockhash(t.preflightCommitment);let r=e.map((e=>{let t=e.tx,r=e.signers;return void 0===r&&(r=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=n.blockhash,r.filter((e=>void 0!==e)).forEach((e=>{t.partialSign(e)})),t}));const i=await this.wallet.signAllTransactions(r),s=[];for(let a=0;a<r.length;a+=1){const e=i[a].serialize();s.push(await(0,o.sendAndConfirmRawTransaction)(this.connection,e,t))}return s}async simulate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.opts;var r,i,o;return void 0===t&&(t=[]),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(r=n.preflightCommitment)&&void 0!==r?r:this.opts.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)})),await async function(e,t,n){t.recentBlockhash=await e._recentBlockhash(e._disableBlockhashCaching);const r=t.serializeMessage(),i=[t._serialize(r).toString("base64"),{encoding:"base64",commitment:n}],o=await e._rpcRequest("simulateTransaction",i);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}(this.connection,e,null!==(o=null!==(i=n.commitment)&&void 0!==i?i:this.opts.commitment)&&void 0!==o?o:"processed")}}function v(e){A=e}function _(){return null===A?b.local():A}let A=null;class S extends Error{constructor(e){super(e),this.name="IdlError"}}class k extends Error{constructor(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];super(...r),this.code=e,this.msg=t}static parse(e,t){let n,r=e.toString().split("custom program error: ");if(2!==r.length)return null;try{n=parseInt(r[1])}catch(e){return null}let i=t.get(n);return void 0!==i?new k(n,i,n+": "+i):(i=E.get(n),void 0!==i?new k(n,i,n+": "+i):null)}toString(){return this.msg}}const E=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has_one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exempt constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"A state constraint was violated"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[4e3,"The given state account does not have the correct address"],[5e3,"The API being used is deprecated and should no longer be used"]]);class T{static fieldLayout(e,t){const n=void 0!==e.name?u()(e.name):void 0;switch(e.type){case"bool":return c.bool(n);case"u8":return c.u8(n);case"i8":return c.i8(n);case"u16":return c.u16(n);case"i16":return c.i16(n);case"u32":return c.u32(n);case"i32":return c.i32(n);case"u64":return c.u64(n);case"i64":return c.i64(n);case"u128":return c.u128(n);case"i128":return c.i128(n);case"bytes":return c.vecU8(n);case"string":return c.str(n);case"publicKey":return c.publicKey(n);default:if("vec"in e.type)return c.vec(T.fieldLayout({name:void 0,type:e.type.vec},t),n);if("option"in e.type)return c.option(T.fieldLayout({name:void 0,type:e.type.option},t),n);if("defined"in e.type){const r=e.type.defined;if(void 0===t)throw new S("User defined types not provided");const i=t.filter((e=>e.name===r));if(1!==i.length)throw new S(`Type not found: ${JSON.stringify(e)}`);return T.typeDefLayout(i[0],t,n)}if("array"in e.type){let r=e.type.array[0],i=e.type.array[1],o=T.fieldLayout({name:void 0,type:r},t);return c.array(o,i,n)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if("struct"===e.type.kind){const r=e.type.fields.map((e=>T.fieldLayout(e,t)));return c.struct(r,n)}if("enum"===e.type.kind){let r=e.type.variants.map((e=>{const n=u()(e.name);if(void 0===e.fields)return c.struct([],n);const r=e.fields.map((e=>{if(!e.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return T.fieldLayout(e,t)}));return c.struct(r,n)}));return void 0!==n?c.rustEnum(r).replicate(n):c.rustEnum(r,n)}throw new Error(`Unknown type kint: ${e}`)}}var I=function(){return I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},I.apply(this,arguments)},P=function(){return P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},P.apply(this,arguments)};function x(e){return e.toLowerCase()}var M=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],O=/[^A-Z0-9]+/gi;function B(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function D(e,t){if("enum"===t.type.kind){let n=t.type.variants.map((t=>void 0===t.fields?0:t.fields.map((t=>{if("object"!=typeof t||!("name"in t))throw new Error("Tuple enum variants not yet implemented.");return R(e,t.type)})).reduce(((e,t)=>e+t))));return Math.max(...n)+1}return void 0===t.type.fields?0:t.type.fields.map((t=>R(e,t.type))).reduce(((e,t)=>e+t),0)}function R(e,t){var n,r;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":return 4;case"u64":case"i64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in t)return 1;if("option"in t)return 1+R(e,t.option);if("defined"in t){const i=null!==(r=null===(n=e.types)||void 0===n?void 0:n.filter((e=>e.name===t.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new S(`Type not found: ${JSON.stringify(t)}`);return D(e,i[0])}if("array"in t){let n=t.array[0],r=t.array[1];return R(e,n)*r}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}function U(e,t){var n;let r=`${e}:${void 0===n&&(n={}),function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?M:n,i=t.stripRegexp,o=void 0===i?O:i,s=t.transform,a=void 0===s?x:s,u=t.delimiter,c=void 0===u?" ":u,l=B(B(e,r,"$1\0$2"),o,"\0"),d=0,h=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(h-1);)h--;return l.slice(d,h).split("\0").map(a).join(c)}(e,P({delimiter:"."},t))}(t,I({delimiter:"_"},n))}`;return s.Buffer.from(h.sha256.digest(r)).slice(0,8)}class L{constructor(e){this.idl=e,this.ixLayout=L.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const n=U("global",e.name);t.set(d().encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),e.state&&e.state.methods.map((e=>{const n=U("state",e.name);t.set(d().encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t){return this._encode("global",e,t)}encodeState(e,t){return this._encode("state",e,t)}_encode(e,t,n){const r=s.Buffer.alloc(1e3),i=u()(t),o=this.ixLayout.get(i);if(!o)throw new Error(`Unknown method: ${i}`);const a=o.encode(n,r),c=r.slice(0,a);return s.Buffer.concat([U(e,t),c])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map((t=>{let n=t.args.map((t=>{var n,r;return T.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=u()(t.name);return[r,c.struct(n,r)]})).concat(e.instructions.map((t=>{let n=t.args.map((t=>{var n,r;return T.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=u()(t.name);return[r,c.struct(n,r)]})));return new Map(t)}decode(e){"string"==typeof e&&(e="hex"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex")?s.Buffer.from(e,"hex"):d().decode(e));let t=d().encode(e.slice(0,8)),n=e.slice(8);const r=this.sighashLayouts.get(t);return r?{data:r.layout.decode(n),name:r.name}:null}format(e,t){return C.format(e,t,this.idl)}}class C{static format(e,t,n){const r=n.instructions.filter((t=>e.name===t.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((t=>({name:t.name,type:C.formatIdlType(t.type),data:C.formatIdlData(t,e.data[t.name],n.types)}))),o=C.flattenIdlAccounts(r.accounts);return{args:i,accounts:t.map(((e,t)=>t<o.length?{name:o[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){if("string"==typeof e)return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,n){if("string"==typeof e.type)return t.toString();if(e.type.hasOwnProperty("vec"))return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t))).join(", ")+"]";if(e.type.hasOwnProperty("option"))return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t);if(e.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((t=>t.name===e.type.defined));if(1!==r.length)throw new Error(`Type not found: ${e.type.defined}`);return C.formatIdlDataDefined(r[0],t,n)}return"unknown"}static formatIdlDataDefined(e,t,n){if("struct"===e.type.kind){const r=e.type;return"{ "+Object.keys(t).map((e=>{const i=r.fields.filter((t=>t.name===e))[0];if(void 0===i)throw new Error("Unable to find type");return e+": "+C.formatIdlData(i,t[e],n)})).join(", ")+" }"}if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const r=e.type.variants,i=Object.keys(t)[0],o=t[i],s=Object.keys(o).map((e=>{var t;const s=o[e],a=null===(t=r[i])||void 0===t?void 0:t.filter((t=>t.name===e))[0];if(void 0===a)throw new Error("Unable to find variant");return e+": "+C.formatIdlData(a,s,n)})).join(", "),a=u()(i,{pascalCase:!0});return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map((e=>{const n=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.hasOwnProperty("accounts")){const r=t?`${t} > ${n}`:n;return C.flattenIdlAccounts(e.accounts,r)}return{...e,name:t?`${t} > ${n}`:n}})).flat()}}class N{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,T.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t)}async encode(e,t){const n=s.Buffer.alloc(1e3),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);const i=r.encode(t,n);let o=n.slice(0,i),a=N.accountDiscriminator(e);return s.Buffer.concat([a,o])}decode(e,t){const n=t.slice(8),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);return r.decode(n)}static accountDiscriminator(e){return s.Buffer.from(h.sha256.digest(`account:${u()(e,{pascalCase:!0})}`)).slice(0,8)}}class F{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let n={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,T.typeDefLayout(n,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>{return[p.fromByteArray((t=e.name,s.Buffer.from(h.sha256.digest(`event:${t}`)).slice(0,8))),e.name];var t})))}decode(e){let t;try{t=s.Buffer.from(p.toByteArray(e))}catch(e){return null}const n=p.fromByteArray(t.slice(0,8)),r=this.discriminators.get(n);if(void 0===r)return null;const i=this.layouts.get(r);if(!i)throw new Error(`Unknown event: ${r}`);return{data:i.decode(t.slice(8)),name:r}}}const W=new Set(["anchor-deprecated-state"]),z=new Map;function j(e){return void 0!==z.get(e)}var q=Object.freeze({__proto__:null,set:function(e){if(!W.has(e))throw new Error("Invalid feature");z.set(e,!0)},isSet:j});class K{constructor(e){if(void 0===e.state)throw new Error("Idl state not defined.");this.layout=T.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const n=s.Buffer.alloc(1e3),r=this.layout.encode(t,n),i=await V(e),o=n.slice(0,r);return s.Buffer.concat([i,o])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function V(e){let t=j("anchor-deprecated-state")?"account":"state";return s.Buffer.from(h.sha256.digest(`${t}:${e}`)).slice(0,8)}class H{constructor(e){this.instruction=new L(e),this.accounts=new N(e),this.events=new F(e),e.state&&(this.state=new K(e))}sighash(e,t){return U(e,t)}}var G=Object.freeze({__proto__:null,hash:function(e){return(0,h.sha256)(e)}});function Z(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var n;let r=null!==(n=e.msg)&&void 0!==n?n:e.name;t.set(e.code,r)})),t}function Q(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e.args.length!=n.length)throw new Error("Invalid argument length");const i={};let o=0;return e.args.forEach((e=>{i[e.name]=n[o],o+=1})),i}function X(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((e=>{if("accounts"in e)X(e.accounts,t[e.name]);else if(void 0===t[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function J(e){return e instanceof o.PublicKey?e:new o.PublicKey(e)}async function Y(e,t,n){if(t.length<=99)return await $(e,t,n);{const i=(r=t,99,Array.apply(0,new Array(Math.ceil(r.length/99))).map(((e,t)=>r.slice(99*t,99*(t+1)))));return(await Promise.all(i.map((t=>$(e,t,n))))).flat()}var r}async function $(e,t,n){const r=null!=n?n:e.commitment,i=[t.map((e=>e.toBase58()))];r&&i.push({commitment:r});const a=await e._rpcRequest("getMultipleAccounts",i);if(a.error)throw new Error("failed to get info about accounts "+t.map((e=>e.toBase58())).join(", ")+": "+a.error.message);m()(void 0!==a.result);const u=[];for(const c of a.result.value){let e=null;if(null!==c){if(a.result.value){const{executable:t,owner:n,lamports:r,data:i}=c;m()("base64"===i[1]),e={executable:t,owner:new o.PublicKey(n),lamports:r,data:s.Buffer.from(i[0],"base64")}}if(null===e)throw new Error("Invalid response");u.push(e)}else u.push(null)}return u.map(((e,n)=>null===e?null:{publicKey:t[n],account:e}))}var ee=Object.freeze({__proto__:null,invoke:async function(e,t,n,r){e=J(e),r||(r=_());const i=new o.Transaction;return i.add(new o.TransactionInstruction({programId:e,keys:null!=t?t:[],data:n})),await r.send(i)},getMultipleAccounts:Y});function te(e,t,n){const r=s.Buffer.concat([e.toBuffer(),s.Buffer.from(t),n.toBuffer()]),i=h.sha256.digest(r);return new o.PublicKey(s.Buffer.from(i))}function ne(e,t){let n=s.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=s.Buffer.concat([n,ie(e)])})),n=s.Buffer.concat([n,t.toBuffer(),s.Buffer.from("ProgramDerivedAddress")]);let r=(0,h.sha256)(new Uint8Array(n)),a=new(i())(r,16).toArray(void 0,32);if(o.PublicKey.isOnCurve(new Uint8Array(a)))throw new Error("Invalid seeds, address must fall off the curve");return new o.PublicKey(a)}function re(e,t){let n,r=255;for(;0!=r;){try{n=ne(e.concat(s.Buffer.from([r])),t)}catch(e){if(e instanceof TypeError)throw e;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}const ie=e=>e instanceof s.Buffer?e:e instanceof Uint8Array?s.Buffer.from(e.buffer,e.byteOffset,e.byteLength):s.Buffer.from(e);async function oe(e){let t=[s.Buffer.from([97,110,99,104,111,114])];for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.forEach((e=>{t.push(e instanceof s.Buffer?e:J(e).toBuffer())}));const[a]=await o.PublicKey.findProgramAddress(t,J(e));return a}var se=Object.freeze({__proto__:null,createWithSeedSync:te,createProgramAddressSync:ne,findProgramAddressSync:re,associated:oe}),ae=Object.freeze({__proto__:null,encode:function(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")},decode:function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?s.Buffer.from([]):s.Buffer.from(t.map((e=>parseInt(e,16))))}});function ue(e){return new TextDecoder("utf-8").decode(e)}var ce=Object.freeze({__proto__:null,decode:ue,encode:function(e){return(new TextEncoder).encode(e)}}),le=Object.freeze({__proto__:null,encode:function(e){return d().encode(e)},decode:function(e){return d().decode(e)}}),de=Object.freeze({__proto__:null,encode:function(e){return p.fromByteArray(e)},decode:function(e){return s.Buffer.from(p.toByteArray(e))}}),he=Object.freeze({__proto__:null,hex:ae,utf8:ce,bs58:le,base64:de});const pe=new o.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),fe=new o.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var me=Object.freeze({__proto__:null,associatedAddress:async function(e){let{mint:t,owner:n}=e;return(await o.PublicKey.findProgramAddress([n.toBuffer(),pe.toBuffer(),t.toBuffer()],fe))[0]}}),ge=Object.freeze({__proto__:null,sha256:G,rpc:ee,publicKey:se,bytes:he,token:me,features:q});const ye=c.struct([c.publicKey("authority"),c.vecU8("data")]);function we(e,t){var n,r;let i={};const o=e.args?e.args.length:0;if(t.length>o){if(t.length!==o+1)throw new Error(`provided too many arguments ${t} to instruction ${null==e?void 0:e.name} expecting: ${null!==(r=null===(n=e.args)||void 0===n?void 0:n.map((e=>e.name)))&&void 0!==r?r:[]}`);i=t.pop()}return[t,i]}class be{static build(e,t,n){if("_inner"===e.name)throw new S("the _inner name is reserved");const r=function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const[u,c]=we(e,[...s]);X(e.accounts,c.accounts);const l=r.accounts(c.accounts);return void 0!==c.remainingAccounts&&l.push(...c.remainingAccounts),j("debug-logs")&&console.log("Outgoing account metas:",l),new o.TransactionInstruction({keys:l,programId:n,data:t(e.name,Q(e,...u))})};return r.accounts=t=>be.accountsArray(t,e.accounts,e.name),r}static accountsArray(e,t,n){return e?t.map((t=>{if(void 0!==("accounts"in t?t.accounts:void 0)){const r=e[t.name];return be.accountsArray(r,t.accounts,n).flat()}{const r=t;let i;try{i=J(e[t.name])}catch(e){throw new Error(`Wrong input type for account "${t.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}return{pubkey:i,isWritable:r.isMut,isSigner:r.isSigner}}})).flat():[]}}class ve{static build(e,t,n,r){return async function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];const a=t(...o),[,u]=we(e,[...o]);try{return await r.send(a,u.signers,u.options)}catch(e){j("debug-logs")&&console.log("Translating error:",e);let r=k.parse(e,n);if(null===r)throw e;throw r}}}}class _e{static build(e,t){return function(){for(var n,r,i,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];const[,c]=we(e,[...a]),l=new o.Transaction;if(c.preInstructions&&c.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(n=c.preInstructions)||void 0===n||n.forEach((e=>l.add(e))),null===(r=c.instructions)||void 0===r||r.forEach((e=>l.add(e))),l.add(t(...a)),null===(i=c.postInstructions)||void 0===i||i.forEach((e=>l.add(e))),l}}}class Ae{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new H(e);this.provider=n,this.coder=r,this._idl=e,this._programId=t,this._address=Se(t),this._sub=null;const[i,s,a]=(()=>{var i;let s={},a={},c={};return null===(i=e.state)||void 0===i||i.methods.forEach((i=>{const l=be.build(i,((e,t)=>r.instruction.encodeState(e,t)),t);l.accounts=e=>{const r=function(e,t,n,r){if("new"===n.name){const[n]=re([],e);return[{pubkey:t.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:Se(e),isWritable:!0,isSigner:!1},{pubkey:n,isWritable:!1,isSigner:!1},{pubkey:o.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e,isWritable:!1,isSigner:!1}]}return X(n.accounts,r),[{pubkey:Se(e),isWritable:!0,isSigner:!1}]}(t,n,i,e);return r.concat(be.accountsArray(e,i.accounts,i.name))};const d=_e.build(i,l),h=ve.build(i,d,Z(e),n),p=u()(i.name);s[p]=l,a[p]=d,c[p]=h})),[s,a,c]})();this.instruction=i,this.transaction=s,this.rpc=a}get programId(){return this._programId}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(null===t)throw new Error(`Account does not exist ${e.toString()}`);const n=this._idl.state;if(!n)throw new Error("State is not specified in IDL.");if((await V(n.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(null!==this._sub)return this._sub.ee;const t=new(w()),n=this.provider.connection.onAccountChange(this.address(),(e=>{const n=this.coder.state.decode(e.data);t.emit("change",n)}),e);return this._sub={ee:t,listener:n},t}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function Se(e){let[t]=re([],e);return te(t,"unversioned",e)}class ke{constructor(e,t,n,r,i){var o;this._idlAccount=t,this._programId=n,this._provider=null!=r?r:_(),this._coder=null!=i?i:new H(e),this._size=8+(null!==(o=D(e,t))&&void 0!==o?o:0)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,t){const n=await this.getAccountInfo(e,t);if(null===n)return null;if(N.accountDiscriminator(this._idlAccount.name).compare(n.data.slice(0,8)))throw new Error("Invalid account discriminator");return this._coder.accounts.decode(this._idlAccount.name,n.data)}async fetch(e,t){const n=await this.fetchNullable(e,t);if(null===n)throw new Error(`Account does not exist ${e.toString()}`);return n}async fetchMultiple(e,t){const n=await Y(this._provider.connection,e.map((e=>J(e))),t),r=N.accountDiscriminator(this._idlAccount.name);return n.map((e=>null==e||r.compare(null==e?void 0:e.account.data.slice(0,8))?null:this._coder.accounts.decode(this._idlAccount.name,null==e?void 0:e.account.data)))}async all(e){const t=N.accountDiscriminator(this._idlAccount.name);return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:{offset:0,bytes:d().encode(e instanceof s.Buffer?s.Buffer.concat([t,e]):t)}},...Array.isArray(e)?e:[]]})).map((e=>{let{pubkey:t,account:n}=e;return{publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,n.data)}}))}subscribe(e,t){const n=Ee.get(e.toString());if(n)return n.ee;const r=new(w());e=J(e);const i=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);r.emit("change",t)}),t);return Ee.set(e.toString(),{ee:r,listener:i}),r}async unsubscribe(e){let t=Ee.get(e.toString());t?Ee&&await this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{Ee.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const n=this.size;return o.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:n),programId:this._programId})}async associated(){const e=await this.associatedAddress(...arguments);return await this.fetch(e)}async associatedAddress(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return await oe(this._programId,...t)}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(J(e),t)}}const Ee=new Map,Te="Program log: ".length;class Ie{constructor(e,t,n){this._programId=e,this._provider=t,this._eventParser=new Pe(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!==(n=this._eventListeners.get(e))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((e,t)=>{e.err?console.error(e):this._eventParser.parseLogs(e.logs,(e=>{const n=this._eventListeners.get(e.name);n&&n.forEach((n=>{const r=this._eventCallbacks.get(n);if(r){const[,n]=r;n(e.data,t.slot)}}))}))}))),r}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=t;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(e),r=r.filter((t=>t!==e)),0===r.length&&this._eventListeners.delete(n),0==this._eventCallbacks.size&&(f.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class Pe{constructor(e,t){this.coder=t,this.programId=e}parseLogs(e,t){const n=new Me(e),r=new xe(n.next());let i=n.next();for(;null!==i;){let[e,o,s]=this.handleLog(r,i);e&&t(e),o&&r.push(o),s&&r.pop(),i=n.next()}}handleLog(e,t){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log:")){const t=e.slice(Te);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class xe{constructor(e){var t;const n=null===(t=/^Program (.*) invoke.*$/g.exec(e))||void 0===t?void 0:t[1];if(!n)throw new Error("Could not find program invocation log line");this.stack=[n]}program(){return f.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){f.ok(this.stack.length>0),this.stack.pop()}}class Me{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class Oe{constructor(e,t,n){t=J(t),n||(n=_()),this._idl=e,this._provider=n,this._programId=t,this._coder=new H(e),this._events=new Ie(this._programId,n,this._coder);const[r,i,o,s,a,c]=class{static build(e,t,n,r){const i={},o={},s={},a={},c=Z(e),l=class{static build(e,t,n,r){if(void 0!==e.state)return new Ae(e,n,r,t)}}.build(e,t,n,r);e.instructions.forEach((l=>{const d=be.build(l,((e,n)=>t.instruction.encode(e,n)),n),h=_e.build(l,d),p=ve.build(l,h,c,r),f=class{static build(e,t,n,r,i,o,s){return async function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];const l=t(...u),[,d]=we(e,[...u]);let h;try{h=await r.simulate(l,d.signers,d.options)}catch(e){j("debug-logs")&&console.log("Translating error:",e);let r=k.parse(e,n);if(null===r)throw e;throw r}if(void 0===h)throw new Error("Unable to simulate transaction");if(h.value.err)throw new Error(`Simulate error: ${h.value.err.toString()}`);const p=h.value.logs;if(!p)throw new Error("Simulated logs not found");const f=[];return s.events&&new Pe(o,i).parseLogs(p,(e=>{f.push(e)})),{events:f,raw:p}}}}.build(l,h,c,r,t,n,e),m=u()(l.name);o[m]=d,s[m]=h,i[m]=p,a[m]=f}));const d=e.accounts?class{static build(e,t,n,r){var i;const o={};return null===(i=e.accounts)||void 0===i||i.forEach((i=>{const s=u()(i.name);o[s]=new ke(e,i,n,r,t)})),o}}.build(e,t,n,r):{};return[i,o,s,d,a,l]}}.build(e,this._coder,t,n);this.rpc=r,this.instruction=i,this.transaction=o,this.account=s,this.simulate=a,this.state=c}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const n=J(e),r=await Oe.fetchIdl(n,t);if(!r)throw new Error(`IDL not found for program: ${e.toString()}`);return new Oe(r,n,t)}static async fetchIdl(e,t){t=null!=t?t:_();const n=J(e),r=await async function(e){const t=(await o.PublicKey.findProgramAddress([],e))[0];return await o.PublicKey.createWithSeed(t,"anchor:idl",e)}(n),i=await t.connection.getAccountInfo(r);if(!i)return null;let s=(a=i.data.slice(8),ye.decode(a));var a;const u=(0,g.rr)(s.data);return JSON.parse(ue(u))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}},62200:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();t.__esModule=!0,t.s16=t.s8=t.nu64be=t.u48be=t.u40be=t.u32be=t.u24be=t.u16be=t.nu64=t.u48=t.u40=t.u32=t.u24=t.u16=t.u8=t.offset=t.greedy=t.Constant=t.UTF8=t.CString=t.Blob=t.Boolean=t.BitField=t.BitStructure=t.VariantLayout=t.Union=t.UnionLayoutDiscriminator=t.UnionDiscriminator=t.Structure=t.Sequence=t.DoubleBE=t.Double=t.FloatBE=t.Float=t.NearInt64BE=t.NearInt64=t.NearUInt64BE=t.NearUInt64=t.IntBE=t.Int=t.UIntBE=t.UInt=t.OffsetLayout=t.GreedyCount=t.ExternalLayout=t.bindConstructorLayout=t.nameWithProperty=t.Layout=t.uint8ArrayToBuffer=t.checkUint8Array=void 0,t.constant=t.utf8=t.cstr=t.blob=t.unionLayoutDiscriminator=t.union=t.seq=t.bits=t.struct=t.f64be=t.f64=t.f32be=t.f32=t.ns64be=t.s48be=t.s40be=t.s32be=t.s24be=t.s16be=t.ns64=t.s48=t.s40=t.s32=t.s24=void 0;var i=n(97429);function o(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function s(e){return o(e),i.Buffer.from(e.buffer,e.byteOffset,e.length)}t.checkUint8Array=o,t.uint8ArrayToBuffer=s;var a=function(){function e(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}return e.prototype.makeDestinationObject=function(){return{}},e.prototype.decode=function(e,t){throw new Error("Layout is abstract")},e.prototype.encode=function(e,t,n){throw new Error("Layout is abstract")},e.prototype.getSpan=function(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span},e.prototype.replicate=function(e){var t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t},e.prototype.fromArray=function(e){},e}();function u(e,t){return t.property?e+"["+t.property+"]":e}t.Layout=a,t.nameWithProperty=u,t.bindConstructorLayout=function(e,t){if("function"!==typeof e)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof a))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=function(){return new e},Object.defineProperty(e.prototype,"encode",{value:function(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(e,"decode",{value:function(e,n){return t.decode(e,n)},writable:!0})};var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.isCount=function(){throw new Error("ExternalLayout is abstract")},t}(a);t.ExternalLayout=c;var l=function(e){function t(t,n){var r=this;if(void 0===t&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");return(r=e.call(this,-1,n)||this).elementSpan=t,r}return r(t,e),t.prototype.isCount=function(){return!0},t.prototype.decode=function(e,t){o(e),void 0===t&&(t=0);var n=e.length-t;return Math.floor(n/this.elementSpan)},t.prototype.encode=function(e,t,n){return 0},t}(c);t.GreedyCount=l;var d=function(e){function t(t,n,r){var i=this;if(!(t instanceof a))throw new TypeError("layout must be a Layout");if(void 0===n)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");return(i=e.call(this,t.span,r||t.property)||this).layout=t,i.offset=n,i}return r(t,e),t.prototype.isCount=function(){return this.layout instanceof h||this.layout instanceof p},t.prototype.decode=function(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)},t.prototype.encode=function(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)},t}(c);t.OffsetLayout=d;var h=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(6<r.span)throw new RangeError("span must not exceed 6 bytes");return r}return r(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),s(e).readUIntLE(t,this.span)},t.prototype.encode=function(e,t,n){return void 0===n&&(n=0),s(t).writeUIntLE(e,n,this.span),this.span},t}(a);t.UInt=h;var p=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(6<r.span)throw new RangeError("span must not exceed 6 bytes");return r}return r(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),s(e).readUIntBE(t,this.span)},t.prototype.encode=function(e,t,n){return void 0===n&&(n=0),s(t).writeUIntBE(e,n,this.span),this.span},t}(a);t.UIntBE=p;var f=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(6<r.span)throw new RangeError("span must not exceed 6 bytes");return r}return r(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),s(e).readIntLE(t,this.span)},t.prototype.encode=function(e,t,n){return void 0===n&&(n=0),s(t).writeIntLE(e,n,this.span),this.span},t}(a);t.Int=f;var m=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(6<r.span)throw new RangeError("span must not exceed 6 bytes");return r}return r(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),s(e).readIntBE(t,this.span)},t.prototype.encode=function(e,t,n){return void 0===n&&(n=0),s(t).writeIntBE(e,n,this.span),this.span},t}(a);t.IntBE=m;var g=Math.pow(2,32);function y(e){var t=Math.floor(e/g);return{hi32:t,lo32:e-t*g}}function w(e,t){return e*g+t}var b=function(e){function t(t){return e.call(this,8,t)||this}return r(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var n=s(e),r=n.readUInt32LE(t);return w(n.readUInt32LE(t+4),r)},t.prototype.encode=function(e,t,n){void 0===n&&(n=0);var r=y(e),i=s(t);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8},t}(a);t.NearUInt64=b;var v=function(e){function t(t){return e.call(this,8,t)||this}return r(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var n=s(e);return w(n.readUInt32BE(t),n.readUInt32BE(t+4))},t.prototype.encode=function(e,t,n){void 0===n&&(n=0);var r=y(e),i=s(t);return i.writeUInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8},t}(a);t.NearUInt64BE=v;var _=function(e){function t(t){return e.call(this,8,t)||this}return r(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var n=s(e),r=n.readUInt32LE(t);return w(n.readInt32LE(t+4),r)},t.prototype.encode=function(e,t,n){void 0===n&&(n=0);var r=y(e),i=s(t);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8},t}(a);t.NearInt64=_;var A=function(e){function t(t){return e.call(this,8,t)||this}return r(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var n=s(e);return w(n.readInt32BE(t),n.readUInt32BE(t+4))},t.prototype.encode=function(e,t,n){void 0===n&&(n=0);var r=y(e),i=s(t);return i.writeInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8},t}(a);t.NearInt64BE=A;var S=function(e){function t(t){return e.call(this,4,t)||this}return r(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),s(e).readFloatLE(t)},t.prototype.encode=function(e,t,n){return void 0===n&&(n=0),s(t).writeFloatLE(e,n),4},t}(a);t.Float=S;var k=function(e){function t(t){return e.call(this,4,t)||this}return r(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),s(e).readFloatBE(t)},t.prototype.encode=function(e,t,n){return void 0===n&&(n=0),s(t).writeFloatBE(e,n),4},t}(a);t.FloatBE=k;var E=function(e){function t(t){return e.call(this,8,t)||this}return r(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),s(e).readDoubleLE(t)},t.prototype.encode=function(e,t,n){return void 0===n&&(n=0),s(t).writeDoubleLE(e,n),8},t}(a);t.Double=E;var T=function(e){function t(t){return e.call(this,8,t)||this}return r(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),s(e).readDoubleBE(t)},t.prototype.encode=function(e,t,n){return void 0===n&&(n=0),s(t).writeDoubleBE(e,n),8},t}(a);t.DoubleBE=T;var I=function(e){function t(t,n,r){var i=this;if(!(t instanceof a))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof c&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");var o=-1;return!(n instanceof c)&&0<t.span&&(o=n*t.span),(i=e.call(this,o,r)||this).elementLayout=t,i.count=n,i}return r(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var n=0,r=this.count;if(r instanceof c&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else for(var i=0;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i;return n},t.prototype.decode=function(e,t){void 0===t&&(t=0);var n=[],r=0,i=this.count;for(i instanceof c&&(i=i.decode(e,t));r<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n},t.prototype.encode=function(e,t,n){void 0===n&&(n=0);var r=this.elementLayout,i=e.reduce((function(e,i){return e+r.encode(i,t,n+e)}),0);return this.count instanceof c&&this.count.encode(e.length,t,n),i},t}(a);t.Sequence=I;var P=function(e){function t(t,n,r){var i=this;if(!Array.isArray(t)||!t.reduce((function(e,t){return e&&t instanceof a}),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof n&&void 0===r&&(r=n,n=void 0);for(var o=0,s=t;o<s.length;o++){var u=s[o];if(0>u.span&&void 0===u.property)throw new Error("fields cannot contain unnamed variable-length layout")}var c=-1;try{c=t.reduce((function(e,t){return e+t.getSpan()}),0)}catch(l){}return(i=e.call(this,c,n)||this).fields=t,i.decodePrefixes=!!r,i}return r(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var n=0;try{n=this.fields.reduce((function(n,r){var i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(r){throw new RangeError("indeterminate span")}return n},t.prototype.decode=function(e,t){o(e),void 0===t&&(t=0);for(var n=this.makeDestinationObject(),r=0,i=this.fields;r<i.length;r++){var s=i[r];if(void 0!==s.property&&(n[s.property]=s.decode(e,t)),t+=s.getSpan(e,t),this.decodePrefixes&&e.length===t)break}return n},t.prototype.encode=function(e,t,n){void 0===n&&(n=0);for(var r=n,i=0,o=0,s=0,a=this.fields;s<a.length;s++){var u=a[s],c=u.span;if(o=0<c?c:0,void 0!==u.property){var l=e[u.property];void 0!==l&&(o=u.encode(l,t,n),0>c&&(c=u.getSpan(t,n)))}i=n,n+=c}return i+o-r},t.prototype.fromArray=function(e){for(var t=this.makeDestinationObject(),n=0,r=this.fields;n<r.length;n++){var i=r[n];void 0!==i.property&&0<e.length&&(t[i.property]=e.shift())}return t},t.prototype.layoutFor=function(e){if("string"!==typeof e)throw new TypeError("property must be string");for(var t=0,n=this.fields;t<n.length;t++){var r=n[t];if(r.property===e)return r}},t.prototype.offsetOf=function(e){if("string"!==typeof e)throw new TypeError("property must be string");for(var t=0,n=0,r=this.fields;n<r.length;n++){var i=r[n];if(i.property===e)return t;0>i.span?t=-1:0<=t&&(t+=i.span)}},t}(a);t.Structure=P;var x=function(){function e(e){this.property=e}return e.prototype.decode=function(e,t){throw new Error("UnionDiscriminator is abstract")},e.prototype.encode=function(e,t,n){throw new Error("UnionDiscriminator is abstract")},e}();t.UnionDiscriminator=x;var M=function(e){function t(t,n){var r=this;if(!(t instanceof c&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");return(r=e.call(this,n||t.property||"variant")||this).layout=t,r}return r(t,e),t.prototype.decode=function(e,t){return this.layout.decode(e,t)},t.prototype.encode=function(e,t,n){return this.layout.encode(e,t,n)},t}(x);t.UnionLayoutDiscriminator=M;var O=function(e){function t(t,n,r){var i,o=this,s=t instanceof h||t instanceof p;if(s)i=new M(new d(t));else if(t instanceof c&&t.isCount())i=new M(t);else{if(!(t instanceof x))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");i=t}if(void 0===n&&(n=null),!(null===n||n instanceof a))throw new TypeError("defaultLayout must be null or a Layout");if(null!==n){if(0>n.span)throw new Error("defaultLayout must have constant span");void 0===n.property&&(n=n.replicate("content"))}var u=-1;n&&0<=(u=n.span)&&s&&(u+=i.layout.span),(o=e.call(this,u,r)||this).discriminator=i,o.usesPrefixDiscriminator=s,o.defaultLayout=n,o.registry={};var l=o.defaultGetSourceVariant.bind(o);return o.getSourceVariant=function(e){return l(e)},o.configGetSourceVariant=function(e){l=e.bind(this)},o}return r(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)},t.prototype.defaultGetSourceVariant=function(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;if((n=this.registry[e[this.discriminator.property]])&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(var t in this.registry){var n;if((n=this.registry[t]).property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")},t.prototype.decode=function(e,t){var n;void 0===t&&(t=0);var r=this.discriminator,i=r.decode(e,t),o=this.registry[i];if(void 0===o){var s=this.defaultLayout,a=0;this.usesPrefixDiscriminator&&(a=r.layout.span),(n=this.makeDestinationObject())[r.property]=i,n[s.property]=s.decode(e,t+a)}else n=o.decode(e,t);return n},t.prototype.encode=function(e,t,n){void 0===n&&(n=0);var r=this.getSourceVariant(e);if(void 0===r){var i=this.discriminator,o=this.defaultLayout,s=0;return this.usesPrefixDiscriminator&&(s=i.layout.span),i.encode(e[i.property],t,n),s+o.encode(e[o.property],t,n+s)}return r.encode(e,t,n)},t.prototype.addVariant=function(e,t,n){var r=new B(this,e,t,n);return this.registry[e]=r,r},t.prototype.getVariant=function(e,t){var n;return e instanceof Uint8Array?(void 0===t&&(t=0),n=this.discriminator.decode(e,t)):n=e,this.registry[n]},t}(a);t.Union=O;var B=function(e){function t(t,n,r,i){var o=this;if(!(t instanceof O))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof r&&void 0===i&&(i=r,r=null),r){if(!(r instanceof a))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof i)throw new TypeError("variant must have a String property")}var s=t.span;return 0>t.span&&0<=(s=r?r.span:0)&&t.usesPrefixDiscriminator&&(s+=t.discriminator.layout.span),(o=e.call(this,s,i)||this).union=t,o.variant=n,o.layout=r||null,o}return r(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);var r=0;return this.layout&&(r=this.layout.getSpan(e,t+n)),n+r},t.prototype.decode=function(e,t){var n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");var r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);var i=this.property;return this.layout?n[i]=this.layout.decode(e,t+r):i?n[i]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n},t.prototype.encode=function(e,t,n){void 0===n&&(n=0);var r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);var i=this.property;if(this.layout&&!Object.prototype.hasOwnProperty.call(e,i))throw new TypeError("variant lacks property "+i);this.union.discriminator.encode(this.variant,t,n);var o=r;if(this.layout&&(this.layout.encode(e[i],t,n+r),o+=this.layout.getSpan(t,n+r),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o},t.prototype.fromArray=function(e){if(this.layout)return this.layout.fromArray(e)},t}(a);function D(e){return 0>e&&(e+=4294967296),e}t.VariantLayout=B;var R=function(e){function t(t,n,r){var i=this;if(!(t instanceof h||t instanceof p))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof n&&void 0===r&&(r=n,n=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");(i=e.call(this,t.span,r)||this).word=t,i.msb=!!n,i.fields=[];var o=0;return i._packedSetValue=function(e){return o=D(e),this},i._packedGetValue=function(){return o},i}return r(t,e),t.prototype.decode=function(e,t){var n=this.makeDestinationObject();void 0===t&&(t=0);var r=this.word.decode(e,t);this._packedSetValue(r);for(var i=0,o=this.fields;i<o.length;i++){var s=o[i];void 0!==s.property&&(n[s.property]=s.decode(r))}return n},t.prototype.encode=function(e,t,n){void 0===n&&(n=0);var r=this.word.decode(t,n);this._packedSetValue(r);for(var i=0,o=this.fields;i<o.length;i++){var s=o[i];if(void 0!==s.property){var a=e[s.property];void 0!==a&&s.encode(a)}}return this.word.encode(this._packedGetValue(),t,n)},t.prototype.addField=function(e,t){var n=new U(this,e,t);return this.fields.push(n),n},t.prototype.addBoolean=function(e){var t=new L(this,e);return this.fields.push(t),t},t.prototype.fieldFor=function(e){if("string"!==typeof e)throw new TypeError("property must be string");for(var t=0,n=this.fields;t<n.length;t++){var r=n[t];if(r.property===e)return r}},t}(a);t.BitStructure=R;var U=function(){function e(e,t,n){if(!(e instanceof R))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");var r=8*e.span,i=e.fields.reduce((function(e,t){return e+t.bits}),0);if(t+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-t),this.wordMask=D(this.valueMask<<this.start),this.property=n}return e.prototype.decode=function(e,t){return D(this.container._packedGetValue()&this.wordMask)>>>this.start},e.prototype.encode=function(e){if(!Number.isInteger(e)||e!==D(e&this.valueMask))throw new TypeError(u("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);var t=this.container._packedGetValue(),n=D(e<<this.start);this.container._packedSetValue(D(t&~this.wordMask)|n)},e}();t.BitField=U;var L=function(e){function t(t,n){return e.call(this,t,1,n)||this}return r(t,e),t.prototype.decode=function(e,t){return!!U.prototype.decode.call(this,e,t)},t.prototype.encode=function(e){return"boolean"===typeof e&&(e=+e),U.prototype.encode.call(this,e)},t}(U);t.Boolean=L;var C=function(e){function t(t,n){var r=this;if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");var i=-1;return t instanceof c||(i=t),(r=e.call(this,i,n)||this).length=t,r}return r(t,e),t.prototype.getSpan=function(e,t){var n=this.span;return 0>n&&(n=this.length.decode(e,t)),n},t.prototype.decode=function(e,t){void 0===t&&(t=0);var n=this.span;return 0>n&&(n=this.length.decode(e,t)),s(e).slice(t,t+n)},t.prototype.encode=function(e,t,n){var r=this.length;if(this.length instanceof c&&(r=e.length),!(e instanceof Uint8Array&&r===e.length))throw new TypeError(u("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>t.length)throw new RangeError("encoding overruns Uint8Array");var i=s(e);return s(t).write(i.toString("hex"),n,r,"hex"),this.length instanceof c&&this.length.encode(r,t,n),r},t}(a);t.Blob=C;var N=function(e){function t(t){return e.call(this,-1,t)||this}return r(t,e),t.prototype.getSpan=function(e,t){o(e),void 0===t&&(t=0);for(var n=t;n<e.length&&0!==e[n];)n+=1;return 1+n-t},t.prototype.decode=function(e,t){void 0===t&&(t=0);var n=this.getSpan(e,t);return s(e).slice(t,t+n-1).toString("utf-8")},t.prototype.encode=function(e,t,n){void 0===n&&(n=0),"string"!==typeof e&&(e=e.toString());var r=i.Buffer.from(e,"utf8"),o=r.length;if(n+o>t.length)throw new RangeError("encoding overruns Buffer");var a=s(t);return r.copy(a,n),a[n+o]=0,o+1},t}(a);t.CString=N;var F=function(e){function t(t,n){var r=this;if("string"===typeof t&&void 0===n&&(n=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");return(r=e.call(this,-1,n)||this).maxSpan=t,r}return r(t,e),t.prototype.getSpan=function(e,t){return o(e),void 0===t&&(t=0),e.length-t},t.prototype.decode=function(e,t){void 0===t&&(t=0);var n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return s(e).slice(t,t+n).toString("utf-8")},t.prototype.encode=function(e,t,n){void 0===n&&(n=0),"string"!==typeof e&&(e=e.toString());var r=i.Buffer.from(e,"utf8"),o=r.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>t.length)throw new RangeError("encoding overruns Buffer");return r.copy(s(t),n),o},t}(a);t.UTF8=F;var W=function(e){function t(t,n){var r=e.call(this,0,n)||this;return r.value=t,r}return r(t,e),t.prototype.decode=function(e,t){return this.value},t.prototype.encode=function(e,t,n){return 0},t}(a);t.Constant=W,t.greedy=function(e,t){return new l(e,t)},t.offset=function(e,t,n){return new d(e,t,n)},t.u8=function(e){return new h(1,e)},t.u16=function(e){return new h(2,e)},t.u24=function(e){return new h(3,e)},t.u32=function(e){return new h(4,e)},t.u40=function(e){return new h(5,e)},t.u48=function(e){return new h(6,e)},t.nu64=function(e){return new b(e)},t.u16be=function(e){return new p(2,e)},t.u24be=function(e){return new p(3,e)},t.u32be=function(e){return new p(4,e)},t.u40be=function(e){return new p(5,e)},t.u48be=function(e){return new p(6,e)},t.nu64be=function(e){return new v(e)},t.s8=function(e){return new f(1,e)},t.s16=function(e){return new f(2,e)},t.s24=function(e){return new f(3,e)},t.s32=function(e){return new f(4,e)},t.s40=function(e){return new f(5,e)},t.s48=function(e){return new f(6,e)},t.ns64=function(e){return new _(e)},t.s16be=function(e){return new m(2,e)},t.s24be=function(e){return new m(3,e)},t.s32be=function(e){return new m(4,e)},t.s40be=function(e){return new m(5,e)},t.s48be=function(e){return new m(6,e)},t.ns64be=function(e){return new A(e)},t.f32=function(e){return new S(e)},t.f32be=function(e){return new k(e)},t.f64=function(e){return new E(e)},t.f64be=function(e){return new T(e)},t.struct=function(e,t,n){return new P(e,t,n)},t.bits=function(e,t,n){return new R(e,t,n)},t.seq=function(e,t,n){return new I(e,t,n)},t.union=function(e,t,n){return new O(e,t,n)},t.unionLayoutDiscriminator=function(e,t){return new M(e,t)},t.blob=function(e,t){return new C(e,t)},t.cstr=function(e){return new N(e)},t.utf8=function(e,t){return new F(e,t)},t.constant=function(e,t){return new W(e,t)}},50388:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Account:()=>Zt,Authorized:()=>ai,BLOCKHASH_CACHE_TIMEOUT_MS:()=>Ln,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>Qt,BPF_LOADER_PROGRAM_ID:()=>Tn,BpfLoader:()=>In,Connection:()=>ni,Ed25519Program:()=>oi,Enum:()=>Ft,EpochSchedule:()=>On,FeeCalculatorLayout:()=>yn,Keypair:()=>ri,LAMPORTS_PER_SOL:()=>Ti,Loader:()=>En,Lockup:()=>ui,MAX_SEED_LENGTH:()=>zt,Message:()=>en,NONCE_ACCOUNT_LENGTH:()=>bn,NonceAccount:()=>vn,PACKET_DATA_SIZE:()=>rn,PublicKey:()=>jt,SOLANA_SCHEMA:()=>Wt,STAKE_CONFIG_ID:()=>si,STAKE_INSTRUCTION_LAYOUTS:()=>li,SYSTEM_INSTRUCTION_LAYOUTS:()=>An,SYSVAR_CLOCK_PUBKEY:()=>an,SYSVAR_INSTRUCTIONS_PUBKEY:()=>hn,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>un,SYSVAR_RENT_PUBKEY:()=>cn,SYSVAR_REWARDS_PUBKEY:()=>ln,SYSVAR_STAKE_HISTORY_PUBKEY:()=>dn,Secp256k1Program:()=>gi,SendTransactionError:()=>Bn,StakeAuthorizationLayout:()=>di,StakeInstruction:()=>ci,StakeProgram:()=>hi,Struct:()=>Nt,SystemInstruction:()=>_n,SystemProgram:()=>Sn,Transaction:()=>sn,TransactionInstruction:()=>on,VALIDATOR_INFO_KEY:()=>yi,VOTE_PROGRAM_ID:()=>vi,ValidatorInfo:()=>bi,VoteAccount:()=>Ai,clusterApiUrl:()=>Ei,sendAndConfirmRawTransaction:()=>Si,sendAndConfirmTransaction:()=>pn});var r=n(44967),i=n.n(r),o=n(68102),s=n(48744),a=n.n(s),u=n(68532),c=n.n(u),l=n(35076),d=n(62200),h=n(54338),p=n(85606),f=n(32908),m=n.n(f),g=n(91747),y=n.n(g),w=n(16348),b=n.n(w);const v=e=>o.lW.isBuffer(e)?e:e instanceof Uint8Array?o.lW.from(e.buffer,e.byteOffset,e.byteLength):o.lW.from(e);var _="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function A(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var S={},k={},E=T;function T(e,t){if(!e)throw new Error(t||"Assertion failed")}T.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var I={exports:{}};"function"===typeof Object.create?I.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:I.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};var P=E,x=I.exports;function M(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function O(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function B(e){return 1===e.length?"0"+e:e}function D(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}k.inherits=x,k.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?n[r++]=o:o<2048?(n[r++]=o>>6|192,n[r++]=63&o|128):M(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),n[r++]=o>>18|240,n[r++]=o>>12&63|128,n[r++]=o>>6&63|128,n[r++]=63&o|128):(n[r++]=o>>12|224,n[r++]=o>>6&63|128,n[r++]=63&o|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},k.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=B(e[n].toString(16));return t},k.htonl=O,k.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=O(i)),n+=D(i.toString(16))}return n},k.zero2=B,k.zero8=D,k.join32=function(e,t,n,r){var i=n-t;P(i%4===0);for(var o=new Array(i/4),s=0,a=t;s<o.length;s++,a+=4){var u;u="big"===r?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],o[s]=u>>>0}return o},k.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var o=e[r];"big"===t?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},k.rotr32=function(e,t){return e>>>t|e<<32-t},k.rotl32=function(e,t){return e<<t|e>>>32-t},k.sum32=function(e,t){return e+t>>>0},k.sum32_3=function(e,t,n){return e+t+n>>>0},k.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},k.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},k.sum64=function(e,t,n,r){var i=e[t],o=r+e[t+1]>>>0,s=(o<r?1:0)+n+i;e[t]=s>>>0,e[t+1]=o},k.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},k.sum64_lo=function(e,t,n,r){return t+r>>>0},k.sum64_4_hi=function(e,t,n,r,i,o,s,a){var u=0,c=t;return u+=(c=c+r>>>0)<t?1:0,u+=(c=c+o>>>0)<o?1:0,e+n+i+s+(u+=(c=c+a>>>0)<a?1:0)>>>0},k.sum64_4_lo=function(e,t,n,r,i,o,s,a){return t+r+o+a>>>0},k.sum64_5_hi=function(e,t,n,r,i,o,s,a,u,c){var l=0,d=t;return l+=(d=d+r>>>0)<t?1:0,l+=(d=d+o>>>0)<o?1:0,l+=(d=d+a>>>0)<a?1:0,e+n+i+s+u+(l+=(d=d+c>>>0)<c?1:0)>>>0},k.sum64_5_lo=function(e,t,n,r,i,o,s,a,u,c){return t+r+o+a+c>>>0},k.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},k.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},k.shr64_hi=function(e,t,n){return e>>>n},k.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0};var R={},U=k,L=E;function C(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}R.BlockHash=C,C.prototype.update=function(e,t){if(e=U.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=U.join32(e,0,e.length-n,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},C.prototype.digest=function(e){return this.update(this._pad()),L(null===this.pending),this._digest(e)},C.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r};var N={},F={},W=k.rotr32;function z(e,t,n){return e&t^~e&n}function j(e,t,n){return e&t^e&n^t&n}function q(e,t,n){return e^t^n}F.ft_1=function(e,t,n,r){return 0===e?z(t,n,r):1===e||3===e?q(t,n,r):2===e?j(t,n,r):void 0},F.ch32=z,F.maj32=j,F.p32=q,F.s0_256=function(e){return W(e,2)^W(e,13)^W(e,22)},F.s1_256=function(e){return W(e,6)^W(e,11)^W(e,25)},F.g0_256=function(e){return W(e,7)^W(e,18)^e>>>3},F.g1_256=function(e){return W(e,17)^W(e,19)^e>>>10};var K=k,V=R,H=F,G=K.rotl32,Z=K.sum32,Q=K.sum32_5,X=H.ft_1,J=V.BlockHash,Y=[1518500249,1859775393,2400959708,3395469782];function $(){if(!(this instanceof $))return new $;J.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}K.inherits($,J);var ee=$;$.blockSize=512,$.outSize=160,$.hmacStrength=80,$.padLength=64,$.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=G(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4];for(r=0;r<n.length;r++){var c=~~(r/20),l=Q(G(i,5),X(c,o,s,a),u,n[r],Y[c]);u=a,a=s,s=G(o,30),o=i,i=l}this.h[0]=Z(this.h[0],i),this.h[1]=Z(this.h[1],o),this.h[2]=Z(this.h[2],s),this.h[3]=Z(this.h[3],a),this.h[4]=Z(this.h[4],u)},$.prototype._digest=function(e){return"hex"===e?K.toHex32(this.h,"big"):K.split32(this.h,"big")};var te=k,ne=R,re=F,ie=E,oe=te.sum32,se=te.sum32_4,ae=te.sum32_5,ue=re.ch32,ce=re.maj32,le=re.s0_256,de=re.s1_256,he=re.g0_256,pe=re.g1_256,fe=ne.BlockHash,me=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ge(){if(!(this instanceof ge))return new ge;fe.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=me,this.W=new Array(64)}te.inherits(ge,fe);var ye=ge;ge.blockSize=512,ge.outSize=256,ge.hmacStrength=192,ge.padLength=64,ge.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=se(pe(n[r-2]),n[r-7],he(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],l=this.h[6],d=this.h[7];for(ie(this.k.length===n.length),r=0;r<n.length;r++){var h=ae(d,de(u),ue(u,c,l),this.k[r],n[r]),p=oe(le(i),ce(i,o,s));d=l,l=c,c=u,u=oe(a,h),a=s,s=o,o=i,i=oe(h,p)}this.h[0]=oe(this.h[0],i),this.h[1]=oe(this.h[1],o),this.h[2]=oe(this.h[2],s),this.h[3]=oe(this.h[3],a),this.h[4]=oe(this.h[4],u),this.h[5]=oe(this.h[5],c),this.h[6]=oe(this.h[6],l),this.h[7]=oe(this.h[7],d)},ge.prototype._digest=function(e){return"hex"===e?te.toHex32(this.h,"big"):te.split32(this.h,"big")};var we=k,be=ye;function ve(){if(!(this instanceof ve))return new ve;be.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}we.inherits(ve,be);var _e=ve;ve.blockSize=512,ve.outSize=224,ve.hmacStrength=192,ve.padLength=64,ve.prototype._digest=function(e){return"hex"===e?we.toHex32(this.h.slice(0,7),"big"):we.split32(this.h.slice(0,7),"big")};var Ae=k,Se=R,ke=E,Ee=Ae.rotr64_hi,Te=Ae.rotr64_lo,Ie=Ae.shr64_hi,Pe=Ae.shr64_lo,xe=Ae.sum64,Me=Ae.sum64_hi,Oe=Ae.sum64_lo,Be=Ae.sum64_4_hi,De=Ae.sum64_4_lo,Re=Ae.sum64_5_hi,Ue=Ae.sum64_5_lo,Le=Se.BlockHash,Ce=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ne(){if(!(this instanceof Ne))return new Ne;Le.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Ce,this.W=new Array(160)}Ae.inherits(Ne,Le);var Fe=Ne;function We(e,t,n,r,i){var o=e&n^~e&i;return o<0&&(o+=4294967296),o}function ze(e,t,n,r,i,o){var s=t&r^~t&o;return s<0&&(s+=4294967296),s}function je(e,t,n,r,i){var o=e&n^e&i^n&i;return o<0&&(o+=4294967296),o}function qe(e,t,n,r,i,o){var s=t&r^t&o^r&o;return s<0&&(s+=4294967296),s}function Ke(e,t){var n=Ee(e,t,28)^Ee(t,e,2)^Ee(t,e,7);return n<0&&(n+=4294967296),n}function Ve(e,t){var n=Te(e,t,28)^Te(t,e,2)^Te(t,e,7);return n<0&&(n+=4294967296),n}function He(e,t){var n=Ee(e,t,14)^Ee(e,t,18)^Ee(t,e,9);return n<0&&(n+=4294967296),n}function Ge(e,t){var n=Te(e,t,14)^Te(e,t,18)^Te(t,e,9);return n<0&&(n+=4294967296),n}function Ze(e,t){var n=Ee(e,t,1)^Ee(e,t,8)^Ie(e,t,7);return n<0&&(n+=4294967296),n}function Qe(e,t){var n=Te(e,t,1)^Te(e,t,8)^Pe(e,t,7);return n<0&&(n+=4294967296),n}function Xe(e,t){var n=Ee(e,t,19)^Ee(t,e,29)^Ie(e,t,6);return n<0&&(n+=4294967296),n}function Je(e,t){var n=Te(e,t,19)^Te(t,e,29)^Pe(e,t,6);return n<0&&(n+=4294967296),n}Ne.blockSize=1024,Ne.outSize=512,Ne.hmacStrength=192,Ne.padLength=128,Ne.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=Xe(n[r-4],n[r-3]),o=Je(n[r-4],n[r-3]),s=n[r-14],a=n[r-13],u=Ze(n[r-30],n[r-29]),c=Qe(n[r-30],n[r-29]),l=n[r-32],d=n[r-31];n[r]=Be(i,o,s,a,u,c,l,d),n[r+1]=De(i,o,s,a,u,c,l,d)}},Ne.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],u=this.h[5],c=this.h[6],l=this.h[7],d=this.h[8],h=this.h[9],p=this.h[10],f=this.h[11],m=this.h[12],g=this.h[13],y=this.h[14],w=this.h[15];ke(this.k.length===n.length);for(var b=0;b<n.length;b+=2){var v=y,_=w,A=He(d,h),S=Ge(d,h),k=We(d,h,p,f,m),E=ze(d,h,p,f,m,g),T=this.k[b],I=this.k[b+1],P=n[b],x=n[b+1],M=Re(v,_,A,S,k,E,T,I,P,x),O=Ue(v,_,A,S,k,E,T,I,P,x);v=Ke(r,i),_=Ve(r,i),A=je(r,i,o,s,a),S=qe(r,i,o,s,a,u);var B=Me(v,_,A,S),D=Oe(v,_,A,S);y=m,w=g,m=p,g=f,p=d,f=h,d=Me(c,l,M,O),h=Oe(l,l,M,O),c=a,l=u,a=o,u=s,o=r,s=i,r=Me(M,O,B,D),i=Oe(M,O,B,D)}xe(this.h,0,r,i),xe(this.h,2,o,s),xe(this.h,4,a,u),xe(this.h,6,c,l),xe(this.h,8,d,h),xe(this.h,10,p,f),xe(this.h,12,m,g),xe(this.h,14,y,w)},Ne.prototype._digest=function(e){return"hex"===e?Ae.toHex32(this.h,"big"):Ae.split32(this.h,"big")};var Ye=k,$e=Fe;function et(){if(!(this instanceof et))return new et;$e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Ye.inherits(et,$e);var tt=et;et.blockSize=1024,et.outSize=384,et.hmacStrength=192,et.padLength=128,et.prototype._digest=function(e){return"hex"===e?Ye.toHex32(this.h.slice(0,12),"big"):Ye.split32(this.h.slice(0,12),"big")},N.sha1=ee,N.sha224=_e,N.sha256=ye,N.sha384=tt,N.sha512=Fe;var nt={},rt=k,it=R,ot=rt.rotl32,st=rt.sum32,at=rt.sum32_3,ut=rt.sum32_4,ct=it.BlockHash;function lt(){if(!(this instanceof lt))return new lt;ct.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function dt(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function ht(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function pt(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}rt.inherits(lt,ct),nt.ripemd160=lt,lt.blockSize=512,lt.outSize=160,lt.hmacStrength=192,lt.padLength=64,lt.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],o=this.h[3],s=this.h[4],a=n,u=r,c=i,l=o,d=s,h=0;h<80;h++){var p=st(ot(ut(n,dt(h,r,i,o),e[ft[h]+t],ht(h)),gt[h]),s);n=s,s=o,o=ot(i,10),i=r,r=p,p=st(ot(ut(a,dt(79-h,u,c,l),e[mt[h]+t],pt(h)),yt[h]),d),a=d,d=l,l=ot(c,10),c=u,u=p}p=at(this.h[1],i,l),this.h[1]=at(this.h[2],o,d),this.h[2]=at(this.h[3],s,a),this.h[3]=at(this.h[4],n,u),this.h[4]=at(this.h[0],r,c),this.h[0]=p},lt.prototype._digest=function(e){return"hex"===e?rt.toHex32(this.h,"little"):rt.split32(this.h,"little")};var ft=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],mt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],gt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],yt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],wt=k,bt=E;function vt(e,t,n){if(!(this instanceof vt))return new vt(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(wt.toArray(t,n))}var _t=vt;vt.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),bt(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},vt.prototype.update=function(e,t){return this.inner.update(e,t),this},vt.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=k,t.common=R,t.sha=N,t.ripemd=nt,t.hmac=_t,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(S);var At=S;let St=!1,kt=!1;const Et={debug:1,default:2,info:2,warning:3,error:4,off:5};let Tt=Et.default,It=null;const Pt=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(n){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var xt,Mt;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(xt||(xt={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Mt||(Mt={}));const Ot="0123456789abcdef";class Bt{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();null==Et[n]&&this.throwArgumentError("invalid log level name","logLevel",e),Tt>Et[n]||console.log.apply(console,t)}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(Bt.levels.DEBUG,t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(Bt.levels.INFO,t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(Bt.levels.WARNING,t)}makeError(e,t,n){if(kt)return this.makeError("censored error",t,{});t||(t=Bt.errors.UNKNOWN_ERROR),n||(n={});const r=[];Object.keys(n).forEach((e=>{const t=n[e];try{if(t instanceof Uint8Array){let n="";for(let e=0;e<t.length;e++)n+=Ot[t[e]>>4],n+=Ot[15&t[e]];r.push(e+"=Uint8Array(0x"+n+")")}else r.push(e+"="+JSON.stringify(t))}catch(o){r.push(e+"="+JSON.stringify(n[e].toString()))}})),r.push(`code=${t}`),r.push(`version=${this.version}`);const i=e;r.length&&(e+=" ("+r.join(", ")+")");const o=new Error(e);return o.reason=i,o.code=t,Object.keys(n).forEach((function(e){o[e]=n[e]})),o}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,Bt.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,r){e||this.throwError(t,n,r)}assertArgument(e,t,n,r){e||this.throwArgumentError(t,n,r)}checkNormalize(e){Pt&&this.throwError("platform missing String.prototype.normalize",Bt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Pt})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Bt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Bt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n=n?": "+n:"",e<t&&this.throwError("missing argument"+n,Bt.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,Bt.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Bt.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Bt.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Bt.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return It||(It=new Bt("logger/5.5.0")),It}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Bt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),St){if(!e)return;this.globalLogger().throwError("error censorship permanent",Bt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}kt=!!e,St=!!t}static setLogLevel(e){const t=Et[e.toLowerCase()];null!=t?Tt=t:Bt.globalLogger().warn("invalid log level - "+e)}static from(e){return new Bt(e)}}Bt.errors=Mt,Bt.levels=xt;const Dt=new Bt("bytes/5.5.0");function Rt(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Rt(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Ut(e){return"number"===typeof e&&e==e&&e%1===0}function Lt(e,t){if(t||(t={}),"number"===typeof e){Dt.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Rt(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),function(e){return!!e.toHexString}(e)&&(e=e.toHexString()),function(e,t){if("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))return!1;if(t&&e.length!==2+2*t)return!1;return!0}(e)){let n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0x0"+n.substring(2):"right"===t.hexPad?n+="0":Dt.throwArgumentError("hex data is odd-length","value",e));const r=[];for(let e=0;e<n.length;e+=2)r.push(parseInt(n.substring(e,e+2),16));return Rt(new Uint8Array(r))}return function(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Ut(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const n=e[t];if(!Ut(n)||n<0||n>=256)return!1}return!0}(e)?Rt(new Uint8Array(e)):Dt.throwArgumentError("invalid arrayify value","value",e)}function Ct(e){return"0x"+At.sha256().update(Lt(e)).digest("hex")}new Bt("sha2/5.5.0");class Nt{constructor(e){Object.assign(this,e)}encode(){return o.lW.from((0,l.serialize)(Wt,this))}static decode(e){return(0,l.deserialize)(Wt,this,e)}static decodeUnchecked(e){return(0,l.deserializeUnchecked)(Wt,this,e)}}class Ft extends Nt{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const Wt=new Map,zt=32;class jt extends Nt{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"===typeof e){const t=c().decode(e);if(32!=t.length)throw new Error("Invalid public key input");this._bn=new(a())(t)}else this._bn=new(a())(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(e){return this._bn.eq(e._bn)}toBase58(){return c().encode(this.toBytes())}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(o.lW);if(32===e.length)return e;const t=o.lW.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const r=o.lW.concat([e.toBuffer(),o.lW.from(t),n.toBuffer()]),i=Ct(new Uint8Array(r)).slice(2);return new jt(o.lW.from(i,"hex"))}static async createProgramAddress(e,t){let n=o.lW.alloc(0);e.forEach((function(e){if(e.length>zt)throw new TypeError("Max seed length exceeded");n=o.lW.concat([n,v(e)])})),n=o.lW.concat([n,t.toBuffer(),o.lW.from("ProgramDerivedAddress")]);let r=Ct(new Uint8Array(n)).slice(2),i=new(a())(r,16).toArray(void 0,32);if(Kt(i))throw new Error("Invalid seeds, address must fall off the curve");return new jt(i)}static async findProgramAddress(e,t){let n,r=255;for(;0!=r;){try{const i=e.concat(o.lW.from([r]));n=await this.createProgramAddress(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}static isOnCurve(e){return 1==Kt(e)}}jt.default=new jt("11111111111111111111111111111111"),Wt.set(jt,{kind:"struct",fields:[["_bn","u256"]]});let qt=i().lowlevel;function Kt(e){var t=[qt.gf(),qt.gf(),qt.gf(),qt.gf()],n=qt.gf(),r=qt.gf(),i=qt.gf(),o=qt.gf(),s=qt.gf(),a=qt.gf(),u=qt.gf();return qt.set25519(t[2],Vt),qt.unpack25519(t[1],e),qt.S(i,t[1]),qt.M(o,i,qt.D),qt.Z(i,i,t[2]),qt.A(o,t[2],o),qt.S(s,o),qt.S(a,s),qt.M(u,a,s),qt.M(n,u,i),qt.M(n,n,o),qt.pow2523(n,n),qt.M(n,n,i),qt.M(n,n,o),qt.M(n,n,o),qt.M(t[0],n,o),qt.S(r,t[0]),qt.M(r,r,o),Gt(r,i)&&qt.M(t[0],t[0],Ht),qt.S(r,t[0]),qt.M(r,r,o),Gt(r,i)?0:1}let Vt=qt.gf([1]),Ht=qt.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Gt(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return qt.pack25519(n,e),qt.pack25519(r,t),qt.crypto_verify_32(n,0,r,0)}class Zt{constructor(e){this._keypair=void 0,this._keypair=e?i().sign.keyPair.fromSecretKey(v(e)):i().sign.keyPair()}get publicKey(){return new jt(this._keypair.publicKey)}get secretKey(){return v(this._keypair.secretKey)}}const Qt=new jt("BPFLoader1111111111111111111111111111111111"),Xt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return d.blob(32,e)},Jt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";const t=d.struct([d.u32("length"),d.u32("lengthPadding"),d.blob(d.offset(d.u32(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t);return t.decode=(e,t)=>n(e,t).chars.toString("utf8"),t.encode=(e,t,n)=>{const i={chars:o.lW.from(e,"utf8")};return r(i,t,n)},t.alloc=e=>d.u32().span+d.u32().span+o.lW.from(e,"utf8").length,t};function Yt(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(127&r)<<7*n,n+=1,0===(128&r))break}return t}function $t(e,t){let n=t;for(;;){let t=127&n;if(n>>=7,0==n){e.push(t);break}t|=128,e.push(t)}}class en{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new jt(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];$t(t,e);const n=this.instructions.map((e=>{const{accounts:t,programIdIndex:n}=e,r=c().decode(e.data);let i=[];$t(i,t.length);let s=[];return $t(s,r.length),{programIdIndex:n,keyIndicesCount:o.lW.from(i),keyIndices:o.lW.from(t),dataLength:o.lW.from(s),data:r}}));let r=[];$t(r,n.length);let i=o.lW.alloc(rn);o.lW.from(r).copy(i);let s=r.length;n.forEach((e=>{const t=d.struct([d.u8("programIdIndex"),d.blob(e.keyIndicesCount.length,"keyIndicesCount"),d.seq(d.u8("keyIndex"),e.keyIndices.length,"keyIndices"),d.blob(e.dataLength.length,"dataLength"),d.seq(d.u8("userdatum"),e.data.length,"data")]).encode(e,i,s);s+=t})),i=i.slice(0,s);const a=d.struct([d.blob(1,"numRequiredSignatures"),d.blob(1,"numReadonlySignedAccounts"),d.blob(1,"numReadonlyUnsignedAccounts"),d.blob(t.length,"keyCount"),d.seq(Xt("key"),e,"keys"),Xt("recentBlockhash")]),u={numRequiredSignatures:o.lW.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:o.lW.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:o.lW.from([this.header.numReadonlyUnsignedAccounts]),keyCount:o.lW.from(t),keys:this.accountKeys.map((e=>v(e.toBytes()))),recentBlockhash:c().decode(this.recentBlockhash)};let l=o.lW.alloc(2048);const h=a.encode(u,l);return i.copy(l,h),l.slice(0,h+i.length)}static from(e){let t=[...e];const n=t.shift(),r=t.shift(),i=t.shift(),s=Yt(t);let a=[];for(let p=0;p<s;p++){const e=t.slice(0,32);t=t.slice(32),a.push(c().encode(o.lW.from(e)))}const u=t.slice(0,32);t=t.slice(32);const l=Yt(t);let d=[];for(let p=0;p<l;p++){const e=t.shift(),n=Yt(t),r=t.slice(0,n);t=t.slice(n);const i=Yt(t),s=t.slice(0,i),a=c().encode(o.lW.from(s));t=t.slice(i),d.push({programIdIndex:e,accounts:r,data:a})}const h={header:{numRequiredSignatures:n,numReadonlySignedAccounts:r,numReadonlyUnsignedAccounts:i},recentBlockhash:c().encode(o.lW.from(u)),accountKeys:a,instructions:d};return new en(h)}}function tn(e,t){if(!e)throw new Error(t||"Assertion failed")}const nn=o.lW.alloc(64).fill(0),rn=1232;class on{constructor(e){this.keys=void 0,this.programId=void 0,this.data=o.lW.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}}class sn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.nonceInfo=void 0,e&&Object.assign(this,e)}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No instructions");return t.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new on(e))})),this}compileMessage(){const{nonceInfo:e}=this;e&&this.instructions[0]!=e.nonceInstruction&&(this.recentBlockhash=e.nonce,this.instructions.unshift(e.nonceInstruction));const{recentBlockhash:t}=this;if(!t)throw new Error("Transaction recentBlockhash required");let n;if(this.instructions.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let c=0;c<this.instructions.length;c++)if(void 0===this.instructions[c].programId)throw new Error(`Transaction instruction index ${c} has undefined program id`);const r=[],i=[];this.instructions.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();r.includes(t)||r.push(t)})),r.forEach((e=>{i.push({pubkey:new jt(e),isSigner:!1,isWritable:!1})})),i.sort((function(e,t){const n=e.isSigner===t.isSigner?0:e.isSigner?-1:1,r=e.isWritable===t.isWritable?0:e.isWritable?-1:1;return n||r}));const o=[];i.forEach((e=>{const t=e.pubkey.toString(),n=o.findIndex((e=>e.pubkey.toString()===t));n>-1?o[n].isWritable=o[n].isWritable||e.isWritable:o.push(e)}));const s=o.findIndex((e=>e.pubkey.equals(n)));if(s>-1){const[e]=o.splice(s,1);e.isSigner=!0,e.isWritable=!0,o.unshift(e)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const c of this.signatures){const e=o.findIndex((e=>e.pubkey.equals(c.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${c.publicKey.toString()}`);o[e].isSigner||(o[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,l=0;const d=[],h=[];o.forEach((e=>{let{pubkey:t,isSigner:n,isWritable:r}=e;n?(d.push(t.toString()),a+=1,r||(u+=1)):(h.push(t.toString()),r||(l+=1))}));const p=d.concat(h),f=this.instructions.map((e=>{const{data:t,programId:n}=e;return{programIdIndex:p.indexOf(n.toString()),accounts:e.keys.map((e=>p.indexOf(e.pubkey.toString()))),data:c().encode(t)}}));return f.forEach((e=>{tn(e.programIdIndex>=0),e.accounts.forEach((e=>tn(e>=0)))})),new en({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:p,recentBlockhash:t,instructions:f})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,n)=>t[n].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}setSigners(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set;this.signatures=t.filter((e=>{const t=e.toString();return!r.has(t)&&(r.add(t),!0)})).map((e=>({signature:null,publicKey:e})))}sign(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set,i=[];for(const s of t){const e=s.publicKey.toString();r.has(e)||(r.add(e),i.push(s))}this.signatures=i.map((e=>({signature:null,publicKey:e.publicKey})));const o=this._compile();this._partialSign(o,...i),this._verifySignatures(o.serialize(),!0)}partialSign(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set,i=[];for(const s of t){const e=s.publicKey.toString();r.has(e)||(r.add(e),i.push(s))}const o=this._compile();this._partialSign(o,...i)}_partialSign(e){const t=e.serialize();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];r.forEach((e=>{const n=i().sign.detached(t,e.secretKey);this._addSignature(e.publicKey,v(n))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){tn(64===t.length);const n=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=o.lW.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:n,publicKey:r}of this.signatures)if(null===n){if(t)return!1}else if(!i().sign.detached.verify(e,n,r.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=this.serializeMessage();if(n&&!this._verifySignatures(r,t))throw new Error("Signature verification failed");return this._serialize(r)}_serialize(e){const{signatures:t}=this,n=[];$t(n,t.length);const r=n.length+64*t.length+e.length,i=o.lW.alloc(r);return tn(t.length<256),o.lW.from(n).copy(i,0),t.forEach(((e,t)=>{let{signature:r}=e;null!==r&&(tn(64===r.length,"signature has invalid length"),o.lW.from(r).copy(i,n.length+64*t))})),e.copy(i,n.length+64*t.length),tn(i.length<=rn,`Transaction too large: ${i.length} > ${rn}`),i}get keys(){return tn(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return tn(1===this.instructions.length),this.instructions[0].programId}get data(){return tn(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const n=Yt(t);let r=[];for(let i=0;i<n;i++){const e=t.slice(0,64);t=t.slice(64),r.push(c().encode(o.lW.from(e)))}return sn.populate(en.from(t),r)}static populate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=new sn;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach(((t,r)=>{const i={signature:t==c().encode(nn)?null:c().decode(t),publicKey:e.accountKeys[r]};n.signatures.push(i)})),e.instructions.forEach((t=>{const r=t.accounts.map((t=>{const r=e.accountKeys[t];return{pubkey:r,isSigner:n.signatures.some((e=>e.publicKey.toString()===r.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));n.instructions.push(new on({keys:r,programId:e.accountKeys[t.programIdIndex],data:c().decode(t.data)}))})),n}}const an=new jt("SysvarC1ock11111111111111111111111111111111"),un=new jt("SysvarRecentB1ockHashes11111111111111111111"),cn=new jt("SysvarRent111111111111111111111111111111111"),ln=new jt("SysvarRewards111111111111111111111111111111"),dn=new jt("SysvarStakeHistory1111111111111111111111111"),hn=new jt("Sysvar1nstructions1111111111111111111111111");async function pn(e,t,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},o=await e.sendTransaction(t,n,i),s=(await e.confirmTransaction(o,r&&r.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function fn(e){return new Promise((t=>setTimeout(t,e)))}function mn(e,t){const n=e.layout.span>=0?e.layout.span:function(e,t){let n=0;return e.layout.fields.forEach((e=>{e.span>=0?n+=e.span:"function"===typeof e.alloc&&(n+=e.alloc(t[e.property]))})),n}(e,t),r=o.lW.alloc(n),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,r),r}function gn(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${e.index}`);return n}const yn=d.nu64("lamportsPerSignature"),wn=d.struct([d.u32("version"),d.u32("state"),Xt("authorizedPubkey"),Xt("nonce"),d.struct([yn],"feeCalculator")]),bn=wn.span;class vn{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=wn.decode(v(e),0);return new vn({authorizedPubkey:new jt(t.authorizedPubkey),nonce:new jt(t.nonce).toString(),feeCalculator:t.feeCalculator})}}class _n{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.u32("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(An))if(i.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a SystemInstruction");return n}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:n,programId:r}=gn(An.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:n,programId:new jt(r)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=gn(An.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:n,programId:r}=gn(An.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:n,programId:new jt(r)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=gn(An.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,space:r,programId:i}=gn(An.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new jt(t),seed:n,space:r,programId:new jt(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=gn(An.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new jt(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,programId:r}=gn(An.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new jt(t),seed:n,programId:new jt(r)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:n,lamports:r,space:i,programId:o}=gn(An.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new jt(t),seed:n,lamports:r,space:i,programId:new jt(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=gn(An.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new jt(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),gn(An.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=gn(An.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=gn(An.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new jt(t)}}static checkProgramId(e){if(!e.equals(Sn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const An=Object.freeze({Create:{index:0,layout:d.struct([d.u32("instruction"),d.ns64("lamports"),d.ns64("space"),Xt("programId")])},Assign:{index:1,layout:d.struct([d.u32("instruction"),Xt("programId")])},Transfer:{index:2,layout:d.struct([d.u32("instruction"),d.ns64("lamports")])},CreateWithSeed:{index:3,layout:d.struct([d.u32("instruction"),Xt("base"),Jt("seed"),d.ns64("lamports"),d.ns64("space"),Xt("programId")])},AdvanceNonceAccount:{index:4,layout:d.struct([d.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:d.struct([d.u32("instruction"),d.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:d.struct([d.u32("instruction"),Xt("authorized")])},AuthorizeNonceAccount:{index:7,layout:d.struct([d.u32("instruction"),Xt("authorized")])},Allocate:{index:8,layout:d.struct([d.u32("instruction"),d.ns64("space")])},AllocateWithSeed:{index:9,layout:d.struct([d.u32("instruction"),Xt("base"),Jt("seed"),d.ns64("space"),Xt("programId")])},AssignWithSeed:{index:10,layout:d.struct([d.u32("instruction"),Xt("base"),Jt("seed"),Xt("programId")])},TransferWithSeed:{index:11,layout:d.struct([d.u32("instruction"),d.ns64("lamports"),Jt("seed"),Xt("programId")])}});class Sn{constructor(){}static createAccount(e){const t=mn(An.Create,{lamports:e.lamports,space:e.space,programId:v(e.programId.toBuffer())});return new on({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,n;if("basePubkey"in e){t=mn(An.TransferWithSeed,{lamports:e.lamports,seed:e.seed,programId:v(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=mn(An.Transfer,{lamports:e.lamports}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new on({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){t=mn(An.AssignWithSeed,{base:v(e.basePubkey.toBuffer()),seed:e.seed,programId:v(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=mn(An.Assign,{programId:v(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new on({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=mn(An.CreateWithSeed,{base:v(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:v(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new on({keys:n,programId:this.programId,data:t})}static createNonceAccount(e){const t=new sn;"basePubkey"in e&&"seed"in e?t.add(Sn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:bn,programId:this.programId})):t.add(Sn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:bn,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){const t=mn(An.InitializeNonceAccount,{authorized:v(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:un,isSigner:!1,isWritable:!1},{pubkey:cn,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new on(n)}static nonceAdvance(e){const t=mn(An.AdvanceNonceAccount),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:un,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new on(n)}static nonceWithdraw(e){const t=mn(An.WithdrawNonceAccount,{lamports:e.lamports});return new on({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:un,isSigner:!1,isWritable:!1},{pubkey:cn,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=mn(An.AuthorizeNonceAccount,{authorized:v(e.newAuthorizedPubkey.toBuffer())});return new on({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,n;if("basePubkey"in e){t=mn(An.AllocateWithSeed,{base:v(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:v(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=mn(An.Allocate,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new on({keys:n,programId:this.programId,data:t})}}Sn.programId=new jt("11111111111111111111111111111111");const kn=rn-300;class En{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/En.chunkSize)+1+1)}static async load(e,t,n,r,i){{const o=await e.getMinimumBalanceForRentExemption(i.length),s=await e.getAccountInfo(n.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==i.length&&(a=a||new sn,a.add(Sn.allocate({accountPubkey:n.publicKey,space:i.length}))),s.owner.equals(r)||(a=a||new sn,a.add(Sn.assign({accountPubkey:n.publicKey,programId:r}))),s.lamports<o&&(a=a||new sn,a.add(Sn.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:o-s.lamports})))}else a=(new sn).add(Sn.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:o>0?o:1,space:i.length,programId:r}));null!==a&&await pn(e,a,[t,n],{commitment:"confirmed"})}const s=d.struct([d.u32("instruction"),d.u32("offset"),d.u32("bytesLength"),d.u32("bytesLengthPadding"),d.seq(d.u8("byte"),d.offset(d.u32(),-8),"bytes")]),a=En.chunkSize;let u=0,c=i,l=[];for(;c.length>0;){const i=c.slice(0,a),d=o.lW.alloc(a+16);s.encode({instruction:0,offset:u,bytes:i},d);const h=(new sn).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:r,data:d});if(l.push(pn(e,h,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await fn(1e3/e)}u+=a,c=c.slice(a)}await Promise.all(l);{const i=d.struct([d.u32("instruction")]),s=o.lW.alloc(i.span);i.encode({instruction:1},s);const a=(new sn).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:cn,isSigner:!1,isWritable:!1}],programId:r,data:s});await pn(e,a,[t,n],{commitment:"confirmed"})}return!0}}En.chunkSize=kn;const Tn=new jt("BPFLoader2111111111111111111111111111111111");class In{static getMinNumSignatures(e){return En.getMinNumSignatures(e)}static load(e,t,n,r,i){return En.load(e,t,n,i,r)}}var Pn={exports:{}};!function(e,t){var n="undefined"!==typeof self?self:_,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!==typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=f(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=l(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=function(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function _(e){var t=new h;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function A(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},A.error=function(){var e=new A(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];A.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new A(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(E){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise((function(r,o){var s=new b(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:_(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new A(t,e))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=h,e.Request=b,e.Response=A),t.Headers=h,t.Request=b,t.Response=A,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(Pn,Pn.exports);var xn=A(Pn.exports);function Mn(e){let t=0;for(;e>1;)e/=2,t++;return t}class On{constructor(e,t,n,r,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=r,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Mn(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-Mn(32)-1;return[n,e-(this.getSlotsInEpoch(n)-32)]}{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+n,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Mn(32)):this.slotsPerEpoch}}class Bn extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const Dn=(0,h.oQ)((0,h.eE)(jt),(0,h.Z_)(),(e=>new jt(e))),Rn=(0,h.bc)([(0,h.Z_)(),(0,h.i0)("base64")]),Un=(0,h.oQ)((0,h.eE)(o.lW),Rn,(e=>o.lW.from(e[0],"base64"))),Ln=3e4;function Cn(e){return(0,h.G0)([(0,h.dt)({jsonrpc:(0,h.i0)("2.0"),id:(0,h.Z_)(),result:e}),(0,h.dt)({jsonrpc:(0,h.i0)("2.0"),id:(0,h.Z_)(),error:(0,h.dt)({code:(0,h._4)(),message:(0,h.Z_)(),data:(0,h.jt)((0,h.Yj)())})})])}const Nn=Cn((0,h._4)());function Fn(e){return(0,h.oQ)(Cn(e),Nn,(t=>"error"in t?t:{...t,result:(0,h.Ue)(t.result,e)}))}function Wn(e){return Fn((0,h.dt)({context:(0,h.dt)({slot:(0,h.Rx)()}),value:e}))}function zn(e){return(0,h.dt)({context:(0,h.dt)({slot:(0,h.Rx)()}),value:e})}const jn=(0,h.dt)({foundation:(0,h.Rx)(),foundationTerm:(0,h.Rx)(),initial:(0,h.Rx)(),taper:(0,h.Rx)(),terminal:(0,h.Rx)()}),qn=Fn((0,h.IX)((0,h.AG)((0,h.dt)({epoch:(0,h.Rx)(),effectiveSlot:(0,h.Rx)(),amount:(0,h.Rx)(),postBalance:(0,h.Rx)()})))),Kn=(0,h.dt)({epoch:(0,h.Rx)(),slotIndex:(0,h.Rx)(),slotsInEpoch:(0,h.Rx)(),absoluteSlot:(0,h.Rx)(),blockHeight:(0,h.jt)((0,h.Rx)()),transactionCount:(0,h.jt)((0,h.Rx)())}),Vn=(0,h.dt)({slotsPerEpoch:(0,h.Rx)(),leaderScheduleSlotOffset:(0,h.Rx)(),warmup:(0,h.O7)(),firstNormalEpoch:(0,h.Rx)(),firstNormalSlot:(0,h.Rx)()}),Hn=(0,h.IM)((0,h.Z_)(),(0,h.IX)((0,h.Rx)())),Gn=(0,h.AG)((0,h.G0)([(0,h.dt)({}),(0,h.Z_)()])),Zn=(0,h.dt)({err:Gn}),Qn=(0,h.i0)("receivedSignature"),Xn=(0,h.dt)({"solana-core":(0,h.Z_)(),"feature-set":(0,h.jt)((0,h.Rx)())}),Jn=Wn((0,h.dt)({err:(0,h.AG)((0,h.G0)([(0,h.dt)({}),(0,h.Z_)()])),logs:(0,h.AG)((0,h.IX)((0,h.Z_)())),accounts:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.dt)({executable:(0,h.O7)(),owner:(0,h.Z_)(),lamports:(0,h.Rx)(),data:(0,h.IX)((0,h.Z_)()),rentEpoch:(0,h.jt)((0,h.Rx)())})))),unitsConsumed:(0,h.jt)((0,h.Rx)())}));const Yn=Fn(jn),$n=Fn(Kn),er=Fn(Vn),tr=Fn(Hn),nr=Fn((0,h.Rx)()),rr=Wn((0,h.dt)({total:(0,h.Rx)(),circulating:(0,h.Rx)(),nonCirculating:(0,h.Rx)(),nonCirculatingAccounts:(0,h.IX)(Dn)})),ir=(0,h.dt)({amount:(0,h.Z_)(),uiAmount:(0,h.AG)((0,h.Rx)()),decimals:(0,h.Rx)(),uiAmountString:(0,h.jt)((0,h.Z_)())}),or=Wn((0,h.IX)((0,h.dt)({address:Dn,amount:(0,h.Z_)(),uiAmount:(0,h.AG)((0,h.Rx)()),decimals:(0,h.Rx)(),uiAmountString:(0,h.jt)((0,h.Z_)())}))),sr=Wn((0,h.IX)((0,h.dt)({pubkey:Dn,account:(0,h.dt)({executable:(0,h.O7)(),owner:Dn,lamports:(0,h.Rx)(),data:Un,rentEpoch:(0,h.Rx)()})}))),ar=(0,h.dt)({program:(0,h.Z_)(),parsed:(0,h._4)(),space:(0,h.Rx)()}),ur=Wn((0,h.IX)((0,h.dt)({pubkey:Dn,account:(0,h.dt)({executable:(0,h.O7)(),owner:Dn,lamports:(0,h.Rx)(),data:ar,rentEpoch:(0,h.Rx)()})}))),cr=Wn((0,h.IX)((0,h.dt)({lamports:(0,h.Rx)(),address:Dn}))),lr=(0,h.dt)({executable:(0,h.O7)(),owner:Dn,lamports:(0,h.Rx)(),data:Un,rentEpoch:(0,h.Rx)()}),dr=(0,h.dt)({pubkey:Dn,account:lr}),hr=(0,h.oQ)((0,h.G0)([(0,h.eE)(o.lW),ar]),(0,h.G0)([Rn,ar]),(e=>Array.isArray(e)?(0,h.Ue)(e,Un):e)),pr=(0,h.dt)({executable:(0,h.O7)(),owner:Dn,lamports:(0,h.Rx)(),data:hr,rentEpoch:(0,h.Rx)()}),fr=(0,h.dt)({pubkey:Dn,account:pr}),mr=(0,h.dt)({state:(0,h.G0)([(0,h.i0)("active"),(0,h.i0)("inactive"),(0,h.i0)("activating"),(0,h.i0)("deactivating")]),active:(0,h.Rx)(),inactive:(0,h.Rx)()}),gr=Fn((0,h.IX)((0,h.dt)({signature:(0,h.Z_)(),slot:(0,h.Rx)(),err:Gn,memo:(0,h.AG)((0,h.Z_)()),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),yr=Fn((0,h.IX)((0,h.dt)({signature:(0,h.Z_)(),slot:(0,h.Rx)(),err:Gn,memo:(0,h.AG)((0,h.Z_)()),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),wr=(0,h.dt)({subscription:(0,h.Rx)(),result:zn(lr)}),br=(0,h.dt)({pubkey:Dn,account:lr}),vr=(0,h.dt)({subscription:(0,h.Rx)(),result:zn(br)}),_r=(0,h.dt)({parent:(0,h.Rx)(),slot:(0,h.Rx)(),root:(0,h.Rx)()}),Ar=(0,h.dt)({subscription:(0,h.Rx)(),result:_r}),Sr=(0,h.G0)([(0,h.dt)({type:(0,h.G0)([(0,h.i0)("firstShredReceived"),(0,h.i0)("completed"),(0,h.i0)("optimisticConfirmation"),(0,h.i0)("root")]),slot:(0,h.Rx)(),timestamp:(0,h.Rx)()}),(0,h.dt)({type:(0,h.i0)("createdBank"),parent:(0,h.Rx)(),slot:(0,h.Rx)(),timestamp:(0,h.Rx)()}),(0,h.dt)({type:(0,h.i0)("frozen"),slot:(0,h.Rx)(),timestamp:(0,h.Rx)(),stats:(0,h.dt)({numTransactionEntries:(0,h.Rx)(),numSuccessfulTransactions:(0,h.Rx)(),numFailedTransactions:(0,h.Rx)(),maxTransactionsPerEntry:(0,h.Rx)()})}),(0,h.dt)({type:(0,h.i0)("dead"),slot:(0,h.Rx)(),timestamp:(0,h.Rx)(),err:(0,h.Z_)()})]),kr=(0,h.dt)({subscription:(0,h.Rx)(),result:Sr}),Er=(0,h.dt)({subscription:(0,h.Rx)(),result:zn((0,h.G0)([Zn,Qn]))}),Tr=(0,h.dt)({subscription:(0,h.Rx)(),result:(0,h.Rx)()}),Ir=(0,h.dt)({pubkey:(0,h.Z_)(),gossip:(0,h.AG)((0,h.Z_)()),tpu:(0,h.AG)((0,h.Z_)()),rpc:(0,h.AG)((0,h.Z_)()),version:(0,h.AG)((0,h.Z_)())}),Pr=(0,h.dt)({votePubkey:(0,h.Z_)(),nodePubkey:(0,h.Z_)(),activatedStake:(0,h.Rx)(),epochVoteAccount:(0,h.O7)(),epochCredits:(0,h.IX)((0,h.bc)([(0,h.Rx)(),(0,h.Rx)(),(0,h.Rx)()])),commission:(0,h.Rx)(),lastVote:(0,h.Rx)(),rootSlot:(0,h.AG)((0,h.Rx)())}),xr=Fn((0,h.dt)({current:(0,h.IX)(Pr),delinquent:(0,h.IX)(Pr)})),Mr=(0,h.G0)([(0,h.i0)("processed"),(0,h.i0)("confirmed"),(0,h.i0)("finalized")]),Or=(0,h.dt)({slot:(0,h.Rx)(),confirmations:(0,h.AG)((0,h.Rx)()),err:Gn,confirmationStatus:(0,h.jt)(Mr)}),Br=Wn((0,h.IX)((0,h.AG)(Or))),Dr=Fn((0,h.Rx)()),Rr=(0,h.dt)({signatures:(0,h.IX)((0,h.Z_)()),message:(0,h.dt)({accountKeys:(0,h.IX)((0,h.Z_)()),header:(0,h.dt)({numRequiredSignatures:(0,h.Rx)(),numReadonlySignedAccounts:(0,h.Rx)(),numReadonlyUnsignedAccounts:(0,h.Rx)()}),instructions:(0,h.IX)((0,h.dt)({accounts:(0,h.IX)((0,h.Rx)()),data:(0,h.Z_)(),programIdIndex:(0,h.Rx)()})),recentBlockhash:(0,h.Z_)()})}),Ur=(0,h.dt)({parsed:(0,h._4)(),program:(0,h.Z_)(),programId:Dn}),Lr=(0,h.dt)({accounts:(0,h.IX)(Dn),data:(0,h.Z_)(),programId:Dn}),Cr=(0,h.G0)([Lr,Ur]),Nr=(0,h.G0)([(0,h.dt)({parsed:(0,h._4)(),program:(0,h.Z_)(),programId:(0,h.Z_)()}),(0,h.dt)({accounts:(0,h.IX)((0,h.Z_)()),data:(0,h.Z_)(),programId:(0,h.Z_)()})]),Fr=(0,h.oQ)(Cr,Nr,(e=>"accounts"in e?(0,h.Ue)(e,Lr):(0,h.Ue)(e,Ur))),Wr=(0,h.dt)({signatures:(0,h.IX)((0,h.Z_)()),message:(0,h.dt)({accountKeys:(0,h.IX)((0,h.dt)({pubkey:Dn,signer:(0,h.O7)(),writable:(0,h.O7)()})),instructions:(0,h.IX)(Fr),recentBlockhash:(0,h.Z_)()})}),zr=(0,h.dt)({accountIndex:(0,h.Rx)(),mint:(0,h.Z_)(),uiTokenAmount:ir}),jr=(0,h.dt)({err:Gn,fee:(0,h.Rx)(),innerInstructions:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.dt)({index:(0,h.Rx)(),instructions:(0,h.IX)((0,h.dt)({accounts:(0,h.IX)((0,h.Rx)()),data:(0,h.Z_)(),programIdIndex:(0,h.Rx)()}))})))),preBalances:(0,h.IX)((0,h.Rx)()),postBalances:(0,h.IX)((0,h.Rx)()),logMessages:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.Z_)()))),preTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(zr))),postTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(zr)))}),qr=(0,h.dt)({err:Gn,fee:(0,h.Rx)(),innerInstructions:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.dt)({index:(0,h.Rx)(),instructions:(0,h.IX)(Fr)})))),preBalances:(0,h.IX)((0,h.Rx)()),postBalances:(0,h.IX)((0,h.Rx)()),logMessages:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.Z_)()))),preTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(zr))),postTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(zr)))}),Kr=Fn((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),transactions:(0,h.IX)((0,h.dt)({transaction:Rr,meta:(0,h.AG)(jr)})),rewards:(0,h.jt)((0,h.IX)((0,h.dt)({pubkey:(0,h.Z_)(),lamports:(0,h.Rx)(),postBalance:(0,h.AG)((0,h.Rx)()),rewardType:(0,h.AG)((0,h.Z_)())}))),blockTime:(0,h.AG)((0,h.Rx)())}))),Vr=Fn((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),signatures:(0,h.IX)((0,h.Z_)()),blockTime:(0,h.AG)((0,h.Rx)())}))),Hr=Fn((0,h.AG)((0,h.dt)({slot:(0,h.Rx)(),meta:jr,blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)())),transaction:Rr}))),Gr=Fn((0,h.AG)((0,h.dt)({slot:(0,h.Rx)(),transaction:Wr,meta:(0,h.AG)(qr),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),Zr=Wn((0,h.dt)({blockhash:(0,h.Z_)(),feeCalculator:(0,h.dt)({lamportsPerSignature:(0,h.Rx)()})})),Qr=(0,h.dt)({slot:(0,h.Rx)(),numTransactions:(0,h.Rx)(),numSlots:(0,h.Rx)(),samplePeriodSecs:(0,h.Rx)()}),Xr=Fn((0,h.IX)(Qr)),Jr=Wn((0,h.AG)((0,h.dt)({feeCalculator:(0,h.dt)({lamportsPerSignature:(0,h.Rx)()})}))),Yr=Fn((0,h.Z_)()),$r=Fn((0,h.Z_)()),ei=(0,h.dt)({err:Gn,logs:(0,h.IX)((0,h.Z_)()),signature:(0,h.Z_)()}),ti=(0,h.dt)({result:zn(ei),subscription:(0,h.Rx)()});class ni{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={recentBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._accountChangeSubscriptionCounter=0,this._accountChangeSubscriptions={},this._programAccountChangeSubscriptionCounter=0,this._programAccountChangeSubscriptions={},this._rootSubscriptionCounter=0,this._rootSubscriptions={},this._signatureSubscriptionCounter=0,this._signatureSubscriptions={},this._slotSubscriptionCounter=0,this._slotSubscriptions={},this._logsSubscriptionCounter=0,this._logsSubscriptions={},this._slotUpdateSubscriptionCounter=0,this._slotUpdateSubscriptions={};let n=new URL(e);n.protocol;let r,i,o,s;var a;t&&"string"===typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,i=t.httpHeaders,o=t.fetchMiddleware,s=t.disableRetryOnRateLimit),this._rpcEndpoint=e,this._rpcWsEndpoint=r||function(e){let t=new URL(e);const n="https:"===t.protocol;return t.protocol=n?"wss:":"ws:",t.host="",""!==t.port&&(t.port=String(Number(t.port)+1)),t.toString()}(e),this._rpcClient=function(e,t,n,r,i){let o;return r&&(o=(e,t)=>new Promise(((n,i)=>{r(e,t,(async(e,t)=>{try{n(await xn(e,t))}catch(r){i(r)}}))}))),new(m())((async(t,r)=>{const s={method:"POST",body:t,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},n||{})};try{let t,n=5,a=500;for(;t=o?await o(e,s):await xn(e,s),429===t.status&&!0!==i&&(n-=1,0!==n);)console.log(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${a}ms delay...`),await fn(a),a*=2;const u=await t.text();t.ok?r(null,u):r(new Error(`${t.status} ${t.statusText}: ${u}`))}catch(a){a instanceof Error&&r(a)}}),{})}(n.toString(),0,i,o,s),this._rpcRequest=(a=this._rpcClient,(e,t)=>new Promise(((n,r)=>{a.request(e,t,((e,t)=>{e?r(e):n(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((n,r)=>{0===t.length&&n([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?r(e):n(t)}))}))}(this._rpcClient),this._rpcWebSocket=new p.K(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}async getBalanceAndContext(e,t){const n=this._buildArgs([e.toBase58()],t),r=await this._rpcRequest("getBalance",n),i=(0,h.Ue)(r,Wn((0,h.Rx)()));if("error"in i)throw new Error("failed to get balance for "+e.toBase58()+": "+i.error.message);return i.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),n=(0,h.Ue)(t,Fn((0,h.AG)((0,h.Rx)())));if("error"in n)throw new Error("failed to get block time for slot "+e+": "+n.error.message);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=(0,h.Ue)(e,Fn((0,h.Rx)()));if("error"in t)throw new Error("failed to get minimum ledger slot: "+t.error.message);return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=(0,h.Ue)(e,nr);if("error"in t)throw new Error("failed to get first available block: "+t.error.message);return t.result}async getSupply(e){let t={};t="string"===typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const n=await this._rpcRequest("getSupply",[t]),r=(0,h.Ue)(n,rr);if("error"in r)throw new Error("failed to get supply: "+r.error.message);return r.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),r=await this._rpcRequest("getTokenSupply",n),i=(0,h.Ue)(r,Wn(ir));if("error"in i)throw new Error("failed to get token supply: "+i.error.message);return i.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),r=await this._rpcRequest("getTokenAccountBalance",n),i=(0,h.Ue)(r,Wn(ir));if("error"in i)throw new Error("failed to get token account balance: "+i.error.message);return i.result}async getTokenAccountsByOwner(e,t,n){let r=[e.toBase58()];"mint"in t?r.push({mint:t.mint.toBase58()}):r.push({programId:t.programId.toBase58()});const i=this._buildArgs(r,n,"base64"),o=await this._rpcRequest("getTokenAccountsByOwner",i),s=(0,h.Ue)(o,sr);if("error"in s)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+s.error.message);return s.result}async getParsedTokenAccountsByOwner(e,t,n){let r=[e.toBase58()];"mint"in t?r.push({mint:t.mint.toBase58()}):r.push({programId:t.programId.toBase58()});const i=this._buildArgs(r,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),s=(0,h.Ue)(o,ur);if("error"in s)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+s.error.message);return s.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],r=await this._rpcRequest("getLargestAccounts",n),i=(0,h.Ue)(r,cr);if("error"in i)throw new Error("failed to get largest accounts: "+i.error.message);return i.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),r=await this._rpcRequest("getTokenLargestAccounts",n),i=(0,h.Ue)(r,or);if("error"in i)throw new Error("failed to get token largest accounts: "+i.error.message);return i.result}async getAccountInfoAndContext(e,t){const n=this._buildArgs([e.toBase58()],t,"base64"),r=await this._rpcRequest("getAccountInfo",n),i=(0,h.Ue)(r,Wn((0,h.AG)(lr)));if("error"in i)throw new Error("failed to get info about account "+e.toBase58()+": "+i.error.message);return i.result}async getParsedAccountInfo(e,t){const n=this._buildArgs([e.toBase58()],t,"jsonParsed"),r=await this._rpcRequest("getAccountInfo",n),i=(0,h.Ue)(r,Wn((0,h.AG)(pr)));if("error"in i)throw new Error("failed to get info about account "+e.toBase58()+": "+i.error.message);return i.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleAccountsInfo(e,t){const n=e.map((e=>e.toBase58())),r=this._buildArgs([n],t,"base64"),i=await this._rpcRequest("getMultipleAccounts",r),o=(0,h.Ue)(i,Wn((0,h.IX)((0,h.AG)(lr))));if("error"in o)throw new Error("failed to get info for accounts "+n+": "+o.error.message);return o.result.value}async getStakeActivation(e,t,n){const r=this._buildArgs([e.toBase58()],t,void 0,void 0!==n?{epoch:n}:void 0),i=await this._rpcRequest("getStakeActivation",r),o=(0,h.Ue)(i,Fn(mr));if("error"in o)throw new Error(`failed to get Stake Activation ${e.toBase58()}: ${o.error.message}`);return o.result}async getProgramAccounts(e,t){const n={};let r,i;t&&("string"===typeof t?r=t:(r=t.commitment,i=t.encoding,t.dataSlice&&(n.dataSlice=t.dataSlice),t.filters&&(n.filters=t.filters)));const o=this._buildArgs([e.toBase58()],r,i||"base64",n),s=await this._rpcRequest("getProgramAccounts",o),a=(0,h.Ue)(s,Fn((0,h.IX)(dr)));if("error"in a)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+a.error.message);return a.result}async getParsedProgramAccounts(e,t){const n={};let r;t&&("string"===typeof t?r=t:(r=t.commitment,t.filters&&(n.filters=t.filters)));const i=this._buildArgs([e.toBase58()],r,"jsonParsed",n),o=await this._rpcRequest("getProgramAccounts",i),s=(0,h.Ue)(o,Fn((0,h.IX)(fr)));if("error"in s)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+s.error.message);return s.result}async confirmTransaction(e,t){let n;try{n=c().decode(e)}catch(l){throw new Error("signature must be base58 encoded: "+e)}tn(64===n.length,"signature has invalid length");const r=Date.now(),i=t||this.commitment;let o,s=null;const a=new Promise(((t,n)=>{try{o=this.onSignature(e,((e,n)=>{o=void 0,s={context:n,value:e},t(null)}),i)}catch(l){n(l)}}));let u=this._confirmTransactionInitialTimeout||6e4;switch(i){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":u=this._confirmTransactionInitialTimeout||3e4}try{await function(e,t){let n;const r=new Promise((e=>{n=setTimeout((()=>e(null)),t)}));return Promise.race([e,r]).then((e=>(clearTimeout(n),e)))}(a,u)}finally{o&&this.removeSignatureListener(o)}if(null===s){const t=(Date.now()-r)/1e3;throw new Error(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`)}return s}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=(0,h.Ue)(e,Fn((0,h.IX)(Ir)));if("error"in t)throw new Error("failed to get cluster nodes: "+t.error.message);return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",t),r=(0,h.Ue)(n,xr);if("error"in r)throw new Error("failed to get vote accounts: "+r.error.message);return r.result}async getSlot(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getSlot",t),r=(0,h.Ue)(n,Fn((0,h.Rx)()));if("error"in r)throw new Error("failed to get slot: "+r.error.message);return r.result}async getSlotLeader(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getSlotLeader",t),r=(0,h.Ue)(n,Fn((0,h.Z_)()));if("error"in r)throw new Error("failed to get slot leader: "+r.error.message);return r.result}async getSlotLeaders(e,t){const n=[e,t],r=await this._rpcRequest("getSlotLeaders",n),i=(0,h.Ue)(r,Fn((0,h.IX)(Dn)));if("error"in i)throw new Error("failed to get slot leaders: "+i.error.message);return i.result}async getSignatureStatus(e,t){const{context:n,value:r}=await this.getSignatureStatuses([e],t);tn(1===r.length);return{context:n,value:r[0]}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const r=await this._rpcRequest("getSignatureStatuses",n),i=(0,h.Ue)(r,Br);if("error"in i)throw new Error("failed to get signature status: "+i.error.message);return i.result}async getTransactionCount(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getTransactionCount",t),r=(0,h.Ue)(n,Fn((0,h.Rx)()));if("error"in r)throw new Error("failed to get transaction count: "+r.error.message);return r.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",t),r=(0,h.Ue)(n,Yn);if("error"in r)throw new Error("failed to get inflation: "+r.error.message);return r.result}async getInflationReward(e,t,n){const r=this._buildArgs([e.map((e=>e.toBase58()))],n,void 0,{epoch:t}),i=await this._rpcRequest("getInflationReward",r),o=(0,h.Ue)(i,qn);if("error"in o)throw new Error("failed to get inflation reward: "+o.error.message);return o.result}async getEpochInfo(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getEpochInfo",t),r=(0,h.Ue)(n,$n);if("error"in r)throw new Error("failed to get epoch info: "+r.error.message);return r.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=(0,h.Ue)(e,er);if("error"in t)throw new Error("failed to get epoch schedule: "+t.error.message);const n=t.result;return new On(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=(0,h.Ue)(e,tr);if("error"in t)throw new Error("failed to get leader schedule: "+t.error.message);return t.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),r=await this._rpcRequest("getMinimumBalanceForRentExemption",n),i=(0,h.Ue)(r,Dr);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",t),r=(0,h.Ue)(n,Zr);if("error"in r)throw new Error("failed to get recent blockhash: "+r.error.message);return r.result}async getRecentPerformanceSamples(e){const t=this._buildArgs(e?[e]:[]),n=await this._rpcRequest("getRecentPerformanceSamples",t),r=(0,h.Ue)(n,Xr);if("error"in r)throw new Error("failed to get recent performance samples: "+r.error.message);return r.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),r=await this._rpcRequest("getFeeCalculatorForBlockhash",n),i=(0,h.Ue)(r,Jr);if("error"in i)throw new Error("failed to get fee calculator: "+i.error.message);const{context:o,value:s}=i.result;return{context:o,value:null!==s?s.feeCalculator:null}}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=(0,h.Ue)(e,Fn(Xn));if("error"in t)throw new Error("failed to get version: "+t.error.message);return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=(0,h.Ue)(e,Fn((0,h.Z_)()));if("error"in t)throw new Error("failed to get genesis hash: "+t.error.message);return t.result}async getBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t&&t.commitment),r=await this._rpcRequest("getConfirmedBlock",n),i=(0,h.Ue)(r,Kr);if("error"in i)throw new Error("failed to get confirmed block: "+i.error.message);const o=i.result;return o?{...o,transactions:o.transactions.map((e=>{let{transaction:t,meta:n}=e;const r=new en(t.message);return{meta:n,transaction:{...t,message:r}}}))}:o}async getTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t&&t.commitment),r=await this._rpcRequest("getConfirmedTransaction",n),i=(0,h.Ue)(r,Hr);if("error"in i)throw new Error("failed to get confirmed transaction: "+i.error.message);const o=i.result;return o?{...o,transaction:{...o.transaction,message:new en(o.transaction.message)}}:o}async getConfirmedBlock(e,t){const n=await this.getBlock(e,{commitment:t});if(!n)throw new Error("Confirmed block "+e+" not found");return{...n,transactions:n.transactions.map((e=>{let{transaction:t,meta:n}=e;return{meta:n,transaction:sn.populate(t.message,t.signatures)}}))}}async getBlocks(e,t,n){const r=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],n),i=await this._rpcRequest("getConfirmedBlocks",r),o=(0,h.Ue)(i,Fn((0,h.IX)((0,h.Rx)())));if("error"in o)throw new Error("failed to get blocks: "+o.error.message);return o.result}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=await this._rpcRequest("getConfirmedBlock",n),i=(0,h.Ue)(r,Vr);if("error"in i)throw new Error("failed to get confirmed block: "+i.error.message);const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const n=await this.getTransaction(e,{commitment:t});if(!n)return n;const{message:r,signatures:i}=n.transaction;return{...n,transaction:sn.populate(r,i)}}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),r=await this._rpcRequest("getConfirmedTransaction",n),i=(0,h.Ue)(r,Gr);if("error"in i)throw new Error("failed to get confirmed transaction: "+i.error.message);return i.result}async getParsedConfirmedTransactions(e,t){const n=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((e=>{const t=(0,h.Ue)(e,Gr);if("error"in t)throw new Error("failed to get confirmed transactions: "+t.error.message);return t.result}))}async getConfirmedSignaturesForAddress(e,t,n){let r={},i=await this.getFirstAvailableBlock();for(;!("until"in r)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(r.until=e.signatures[e.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}let o=await this.getSlot("finalized");for(;!("before"in r)&&!(++n>o);)try{const e=await this.getConfirmedBlockSignatures(n);e.signatures.length>0&&(r.before=e.signatures[e.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}return(await this.getConfirmedSignaturesForAddress2(e,r)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",r),o=(0,h.Ue)(i,gr);if("error"in o)throw new Error("failed to get confirmed signatures for address: "+o.error.message);return o.result}async getSignaturesForAddress(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",r),o=(0,h.Ue)(i,yr);if("error"in o)throw new Error("failed to get signatures for address: "+o.error.message);return o.result}async getNonceAndContext(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=vn.fromAccountData(r.data)),{context:n,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),r=(0,h.Ue)(n,Yr);if("error"in r)throw new Error("airdrop to "+e.toBase58()+" failed: "+r.error.message);return r.result}async _recentBlockhash(e){if(!e){for(;this._pollingBlockhash;)await fn(100);const e=Date.now()-this._blockhashInfo.lastFetch>=Ln;if(null!==this._blockhashInfo.recentBlockhash&&!e)return this._blockhashInfo.recentBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now();for(let t=0;t<50;t++){const{blockhash:e}=await this.getRecentBlockhash("finalized");if(this._blockhashInfo.recentBlockhash!=e)return this._blockhashInfo={recentBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await fn(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async simulateTransaction(e,t,n){let r;if(r=e instanceof sn?e:sn.populate(e),r.nonceInfo&&t)r.sign(...t);else{let e=this._disableBlockhashCaching;for(;r.recentBlockhash=await this._recentBlockhash(e),t;){if(r.sign(...t),!r.signature)throw new Error("!signature");const n=r.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}e=!0}}const i=r._compile(),o=i.serialize(),s=r._serialize(o).toString("base64"),a={encoding:"base64",commitment:this.commitment};if(n){const e=(Array.isArray(n)?n:i.nonProgramIds()).map((e=>e.toBase58()));a.accounts={encoding:"base64",addresses:e}}t&&(a.sigVerify=!0);const u=[s,a],c=await this._rpcRequest("simulateTransaction",u),l=(0,h.Ue)(c,Jn);if("error"in l){let e;if("data"in l.error&&(e=l.error.data.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(l.error.message,n)}throw new Bn("failed to simulate transaction: "+l.error.message,e)}return l.result}async sendTransaction(e,t,n){if(e.nonceInfo)e.sign(...t);else{let n=this._disableBlockhashCaching;for(;;){if(e.recentBlockhash=await this._recentBlockhash(n),e.sign(...t),!e.signature)throw new Error("!signature");const r=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(r)){this._blockhashInfo.transactionSignatures.push(r);break}n=!0}}const r=e.serialize();return await this.sendRawTransaction(r,n)}async sendRawTransaction(e,t){const n=v(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},r=t&&t.skipPreflight,i=t&&t.preflightCommitment||this.commitment;r&&(n.skipPreflight=r),i&&(n.preflightCommitment=i);const o=[e,n],s=await this._rpcRequest("sendTransaction",o),a=(0,h.Ue)(s,$r);if("error"in a){let e;if("data"in a.error&&(e=a.error.data.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(a.error.message,n)}throw new Bn("failed to send transaction: "+a.error.message,e)}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{this._rpcWebSocket.notify("ping").catch((()=>{}))}),5e3),this._updateSubscriptions()}_wsOnError(e){console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?this._resetSubscriptions():this._updateSubscriptions()}async _subscribe(e,t,n){if(null==e.subscriptionId){e.subscriptionId="subscribing";try{const r=await this._rpcWebSocket.call(t,n);"number"===typeof r&&"subscribing"===e.subscriptionId&&(e.subscriptionId=r)}catch(r){"subscribing"===e.subscriptionId&&(e.subscriptionId=null),r instanceof Error&&console.error(`${t} error for argument`,n,r.message)}}}async _unsubscribe(e,t){const n=e.subscriptionId;if(null!=n&&"string"!=typeof n){const e=n;try{await this._rpcWebSocket.call(t,[e])}catch(r){r instanceof Error&&console.error(`${t} error:`,r.message)}}}_resetSubscriptions(){Object.values(this._accountChangeSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._programAccountChangeSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._rootSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._signatureSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._slotSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._slotUpdateSubscriptions).forEach((e=>e.subscriptionId=null))}_updateSubscriptions(){const e=Object.keys(this._accountChangeSubscriptions).map(Number),t=Object.keys(this._programAccountChangeSubscriptions).map(Number),n=Object.keys(this._slotSubscriptions).map(Number),r=Object.keys(this._slotUpdateSubscriptions).map(Number),i=Object.keys(this._signatureSubscriptions).map(Number),o=Object.keys(this._rootSubscriptions).map(Number),s=Object.keys(this._logsSubscriptions).map(Number);if(0!==e.length||0!==t.length||0!==n.length||0!==r.length||0!==i.length||0!==o.length||0!==s.length)if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),this._rpcWebSocketConnected){for(let t of e){const e=this._accountChangeSubscriptions[t];this._subscribe(e,"accountSubscribe",this._buildArgs([e.publicKey],e.commitment,"base64"))}for(let e of t){const t=this._programAccountChangeSubscriptions[e];this._subscribe(t,"programSubscribe",this._buildArgs([t.programId],t.commitment,"base64",{filters:t.filters}))}for(let e of n){const t=this._slotSubscriptions[e];this._subscribe(t,"slotSubscribe",[])}for(let e of r){const t=this._slotUpdateSubscriptions[e];this._subscribe(t,"slotsUpdatesSubscribe",[])}for(let e of i){const t=this._signatureSubscriptions[e],n=[t.signature];t.options&&n.push(t.options),this._subscribe(t,"signatureSubscribe",n)}for(let e of o){const t=this._rootSubscriptions[e];this._subscribe(t,"rootSubscribe",[])}for(let e of s){const t=this._logsSubscriptions[e];let n;n="object"===typeof t.filter?{mentions:[t.filter.toString()]}:t.filter,this._subscribe(t,"logsSubscribe",this._buildArgs([n],t.commitment))}}else this._rpcWebSocket.connect();else this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null,this._rpcWebSocket.close()}),500))}_wsOnAccountNotification(e){const t=(0,h.Ue)(e,wr);for(const n of Object.values(this._accountChangeSubscriptions))if(n.subscriptionId===t.subscription)return void n.callback(t.result.value,t.result.context)}onAccountChange(e,t,n){const r=++this._accountChangeSubscriptionCounter;return this._accountChangeSubscriptions[r]={publicKey:e.toBase58(),callback:t,commitment:n,subscriptionId:null},this._updateSubscriptions(),r}async removeAccountChangeListener(e){if(!this._accountChangeSubscriptions[e])throw new Error(`Unknown account change id: ${e}`);{const t=this._accountChangeSubscriptions[e];delete this._accountChangeSubscriptions[e],await this._unsubscribe(t,"accountUnsubscribe"),this._updateSubscriptions()}}_wsOnProgramAccountNotification(e){const t=(0,h.Ue)(e,vr);for(const n of Object.values(this._programAccountChangeSubscriptions))if(n.subscriptionId===t.subscription){const{value:e,context:r}=t.result;return void n.callback({accountId:e.pubkey,accountInfo:e.account},r)}}onProgramAccountChange(e,t,n,r){const i=++this._programAccountChangeSubscriptionCounter;return this._programAccountChangeSubscriptions[i]={programId:e.toBase58(),callback:t,commitment:n,subscriptionId:null,filters:r},this._updateSubscriptions(),i}async removeProgramAccountChangeListener(e){if(!this._programAccountChangeSubscriptions[e])throw new Error(`Unknown program account change id: ${e}`);{const t=this._programAccountChangeSubscriptions[e];delete this._programAccountChangeSubscriptions[e],await this._unsubscribe(t,"programUnsubscribe"),this._updateSubscriptions()}}onLogs(e,t,n){const r=++this._logsSubscriptionCounter;return this._logsSubscriptions[r]={filter:e,callback:t,commitment:n,subscriptionId:null},this._updateSubscriptions(),r}async removeOnLogsListener(e){if(!this._logsSubscriptions[e])throw new Error(`Unknown logs id: ${e}`);const t=this._logsSubscriptions[e];delete this._logsSubscriptions[e],await this._unsubscribe(t,"logsUnsubscribe"),this._updateSubscriptions()}_wsOnLogsNotification(e){const t=(0,h.Ue)(e,ti),n=Object.keys(this._logsSubscriptions).map(Number);for(let r of n){const e=this._logsSubscriptions[r];if(e.subscriptionId===t.subscription)return void e.callback(t.result.value,t.result.context)}}_wsOnSlotNotification(e){const t=(0,h.Ue)(e,Ar);for(const n of Object.values(this._slotSubscriptions))if(n.subscriptionId===t.subscription)return void n.callback(t.result)}onSlotChange(e){const t=++this._slotSubscriptionCounter;return this._slotSubscriptions[t]={callback:e,subscriptionId:null},this._updateSubscriptions(),t}async removeSlotChangeListener(e){if(!this._slotSubscriptions[e])throw new Error(`Unknown slot change id: ${e}`);{const t=this._slotSubscriptions[e];delete this._slotSubscriptions[e],await this._unsubscribe(t,"slotUnsubscribe"),this._updateSubscriptions()}}_wsOnSlotUpdatesNotification(e){const t=(0,h.Ue)(e,kr);for(const n of Object.values(this._slotUpdateSubscriptions))if(n.subscriptionId===t.subscription)return void n.callback(t.result)}onSlotUpdate(e){const t=++this._slotUpdateSubscriptionCounter;return this._slotUpdateSubscriptions[t]={callback:e,subscriptionId:null},this._updateSubscriptions(),t}async removeSlotUpdateListener(e){if(!this._slotUpdateSubscriptions[e])throw new Error(`Unknown slot update id: ${e}`);{const t=this._slotUpdateSubscriptions[e];delete this._slotUpdateSubscriptions[e],await this._unsubscribe(t,"slotsUpdatesUnsubscribe"),this._updateSubscriptions()}}_buildArgs(e,t,n,r){const i=t||this._commitment;if(i||n||r){let t={};n&&(t.encoding=n),i&&(t.commitment=i),r&&(t=Object.assign(t,r)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,n,r){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,r)}_wsOnSignatureNotification(e){const t=(0,h.Ue)(e,Er);for(const[n,r]of Object.entries(this._signatureSubscriptions))if(r.subscriptionId===t.subscription)return void("receivedSignature"===t.result.value?r.callback({type:"received"},t.result.context):(delete this._signatureSubscriptions[Number(n)],this._updateSubscriptions(),r.callback({type:"status",result:t.result.value},t.result.context)))}onSignature(e,t,n){const r=++this._signatureSubscriptionCounter;return this._signatureSubscriptions[r]={signature:e,callback:(e,n)=>{"status"===e.type&&t(e.result,n)},options:{commitment:n},subscriptionId:null},this._updateSubscriptions(),r}onSignatureWithOptions(e,t,n){const r=++this._signatureSubscriptionCounter;return this._signatureSubscriptions[r]={signature:e,callback:t,options:n,subscriptionId:null},this._updateSubscriptions(),r}async removeSignatureListener(e){if(!this._signatureSubscriptions[e])throw new Error(`Unknown signature result id: ${e}`);{const t=this._signatureSubscriptions[e];delete this._signatureSubscriptions[e],await this._unsubscribe(t,"signatureUnsubscribe"),this._updateSubscriptions()}}_wsOnRootNotification(e){const t=(0,h.Ue)(e,Tr);for(const n of Object.values(this._rootSubscriptions))if(n.subscriptionId===t.subscription)return void n.callback(t.result)}onRootChange(e){const t=++this._rootSubscriptionCounter;return this._rootSubscriptions[t]={callback:e,subscriptionId:null},this._updateSubscriptions(),t}async removeRootChangeListener(e){if(!this._rootSubscriptions[e])throw new Error(`Unknown root change id: ${e}`);{const t=this._rootSubscriptions[e];delete this._rootSubscriptions[e],await this._unsubscribe(t,"rootUnsubscribe"),this._updateSubscriptions()}}}class ri{constructor(e){this._keypair=void 0,this._keypair=e||i().sign.keyPair()}static generate(){return new ri(i().sign.keyPair())}static fromSecretKey(e,t){const n=i().sign.keyPair.fromSecretKey(e);if(!t||!t.skipValidation){const e=(new TextEncoder).encode("@solana/web3.js-validation-v1"),t=i().sign.detached(e,n.secretKey);if(!i().sign.detached.verify(e,t,n.publicKey))throw new Error("provided secretKey is invalid")}return new ri(n)}static fromSeed(e){return new ri(i().sign.keyPair.fromSeed(e))}get publicKey(){return new jt(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const ii=d.struct([d.u8("numSignatures"),d.u8("padding"),d.u16("signatureOffset"),d.u16("signatureInstructionIndex"),d.u16("publicKeyOffset"),d.u16("publicKeyInstructionIndex"),d.u16("messageDataOffset"),d.u16("messageDataSize"),d.u16("messageInstructionIndex")]);class oi{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,instructionIndex:i}=e;tn(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),tn(64===r.length,`Signature must be 64 bytes but received ${r.length} bytes`);const s=ii.span,a=s+t.length,u=a+r.length,c=o.lW.alloc(u+n.length);return ii.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:i,publicKeyOffset:s,publicKeyInstructionIndex:i,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:i},c),c.fill(t,s),c.fill(r,a),c.fill(n,u),new on({keys:[],programId:oi.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;tn(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=ri.fromSecretKey(t),o=e.publicKey.toBytes(),s=i().sign.detached(n,e.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:s,instructionIndex:r})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}oi.programId=new jt("Ed25519SigVerify111111111111111111111111111");const si=new jt("StakeConfig11111111111111111111111111111111");class ai{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class ui{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}ui.default=new ui(0,0,jt.default);class ci{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.u32("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(li))if(i.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a StakeInstruction");return n}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:n}=gn(li.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new ai(new jt(t.staker),new jt(t.withdrawer)),lockup:new ui(n.unixTimestamp,n.epoch,new jt(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),gn(li.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:n}=gn(li.Authorize,e.data),r={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new jt(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(r.custodianPubkey=e.keys[3].pubkey),r}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:n,authoritySeed:r,authorityOwner:i}=gn(li.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:r,authorityOwner:new jt(i),newAuthorizedPubkey:new jt(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=gn(li.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),gn(li.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=gn(li.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),gn(li.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(hi.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const li=Object.freeze({Initialize:{index:0,layout:d.struct([d.u32("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return d.struct([Xt("staker"),Xt("withdrawer")],e)}(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return d.struct([d.ns64("unixTimestamp"),d.ns64("epoch"),Xt("custodian")],e)}()])},Authorize:{index:1,layout:d.struct([d.u32("instruction"),Xt("newAuthorized"),d.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:d.struct([d.u32("instruction")])},Split:{index:3,layout:d.struct([d.u32("instruction"),d.ns64("lamports")])},Withdraw:{index:4,layout:d.struct([d.u32("instruction"),d.ns64("lamports")])},Deactivate:{index:5,layout:d.struct([d.u32("instruction")])},Merge:{index:7,layout:d.struct([d.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:d.struct([d.u32("instruction"),Xt("newAuthorized"),d.u32("stakeAuthorizationType"),Jt("authoritySeed"),Xt("authorityOwner")])}}),di=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class hi{constructor(){}static initialize(e){const{stakePubkey:t,authorized:n,lockup:r}=e,i=r||ui.default,o=mn(li.Initialize,{authorized:{staker:v(n.staker.toBuffer()),withdrawer:v(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:v(i.custodian.toBuffer())}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cn,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new on(s)}static createAccountWithSeed(e){const t=new sn;t.add(Sn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static createAccount(e){const t=new sn;t.add(Sn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:n,votePubkey:r}=e,i=mn(li.Delegate);return(new sn).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:an,isSigner:!1,isWritable:!1},{pubkey:dn,isSigner:!1,isWritable:!1},{pubkey:si,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:i,custodianPubkey:o}=e,s=mn(li.Authorize,{newAuthorized:v(r.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:an,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new sn).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:n,authoritySeed:r,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=e,u=mn(li.AuthorizeWithSeed,{newAuthorized:v(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:r,authorityOwner:v(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:an,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!1,isWritable:!1}),(new sn).add({keys:c,programId:this.programId,data:u})}static split(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,lamports:i}=e,o=new sn;o.add(Sn.createAccount({fromPubkey:n,newAccountPubkey:r,lamports:0,space:this.space,programId:this.programId}));const s=mn(li.Split,{lamports:i});return o.add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static merge(e){const{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:r}=e,i=mn(li.Merge);return(new sn).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:an,isSigner:!1,isWritable:!1},{pubkey:dn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:n,toPubkey:r,lamports:i,custodianPubkey:o}=e,s=mn(li.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:an,isSigner:!1,isWritable:!1},{pubkey:dn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new sn).add({keys:a,programId:this.programId,data:s})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:n}=e,r=mn(li.Deactivate);return(new sn).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:an,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}hi.programId=new jt("Stake11111111111111111111111111111111111111"),hi.space=200;const{publicKeyCreate:pi,ecdsaSign:fi}=y(),mi=d.struct([d.u8("numSignatures"),d.u16("signatureOffset"),d.u8("signatureInstructionIndex"),d.u16("ethAddressOffset"),d.u8("ethAddressInstructionIndex"),d.u16("messageDataOffset"),d.u16("messageDataSize"),d.u8("messageInstructionIndex"),d.blob(20,"ethAddress"),d.blob(64,"signature"),d.u8("recoveryId")]);class gi{constructor(){}static publicKeyToEthAddress(e){tn(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return o.lW.from(b().keccak_256.update(v(e)).digest()).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,recoveryId:i,instructionIndex:o}=e;return gi.createInstructionWithEthAddress({ethAddress:gi.publicKeyToEthAddress(t),message:n,signature:r,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:n,signature:r,recoveryId:i,instructionIndex:s=0}=e;let a;a="string"===typeof t?t.startsWith("0x")?o.lW.from(t.substr(2),"hex"):o.lW.from(t,"hex"):t,tn(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const u=12+a.length,c=u+r.length+1,l=o.lW.alloc(mi.span+n.length);return mi.encode({numSignatures:1,signatureOffset:u,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:s,signature:v(r),ethAddress:v(a),recoveryId:i},l),l.fill(v(n),mi.span),new on({keys:[],programId:gi.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;tn(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=v(t),i=pi(e,!1).slice(1),s=o.lW.from(b().keccak_256.update(v(n)).digest()),{signature:a,recid:u}=fi(s,e);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:a,recoveryId:u,instructionIndex:r})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}gi.programId=new jt("KeccakSecp256k11111111111111111111111111111");const yi=new jt("Va1idator1nfo111111111111111111111111111111"),wi=(0,h.dt)({name:(0,h.Z_)(),website:(0,h.jt)((0,h.Z_)()),details:(0,h.jt)((0,h.Z_)()),keybaseUsername:(0,h.jt)((0,h.Z_)())});class bi{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==Yt(t))return null;const n=[];for(let r=0;r<2;r++){const e=new jt(t.slice(0,32));t=t.slice(32);const r=1===t.slice(0,1)[0];t=t.slice(1),n.push({publicKey:e,isSigner:r})}if(n[0].publicKey.equals(yi)&&n[1].isSigner){const e=Jt().decode(o.lW.from(t)),r=JSON.parse(e);return(0,h.hu)(r,wi),new bi(n[1].publicKey,r)}return null}}const vi=new jt("Vote111111111111111111111111111111111111111"),_i=d.struct([Xt("nodePubkey"),Xt("authorizedVoterPubkey"),Xt("authorizedWithdrawerPubkey"),d.u8("commission"),d.nu64(),d.seq(d.struct([d.nu64("slot"),d.u32("confirmationCount")]),d.offset(d.u32(),-8),"votes"),d.u8("rootSlotValid"),d.nu64("rootSlot"),d.nu64("epoch"),d.nu64("credits"),d.nu64("lastEpochCredits"),d.nu64(),d.seq(d.struct([d.nu64("epoch"),d.nu64("credits"),d.nu64("prevCredits")]),d.offset(d.u32(),-8),"epochCredits")]);class Ai{constructor(e){this.nodePubkey=void 0,this.authorizedVoterPubkey=void 0,this.authorizedWithdrawerPubkey=void 0,this.commission=void 0,this.votes=void 0,this.rootSlot=void 0,this.epoch=void 0,this.credits=void 0,this.lastEpochCredits=void 0,this.epochCredits=void 0,this.nodePubkey=e.nodePubkey,this.authorizedVoterPubkey=e.authorizedVoterPubkey,this.authorizedWithdrawerPubkey=e.authorizedWithdrawerPubkey,this.commission=e.commission,this.votes=e.votes,this.rootSlot=e.rootSlot,this.epoch=e.epoch,this.credits=e.credits,this.lastEpochCredits=e.lastEpochCredits,this.epochCredits=e.epochCredits}static fromAccountData(e){const t=_i.decode(v(e),0);let n=t.rootSlot;return t.rootSlotValid||(n=null),new Ai({nodePubkey:new jt(t.nodePubkey),authorizedVoterPubkey:new jt(t.authorizedVoterPubkey),authorizedWithdrawerPubkey:new jt(t.authorizedWithdrawerPubkey),commission:t.commission,votes:t.votes,rootSlot:n,epoch:t.epoch,credits:t.credits,lastEpochCredits:t.lastEpochCredits,epochCredits:t.epochCredits})}}async function Si(e,t,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},i=await e.sendRawTransaction(t,r),o=(await e.confirmTransaction(i,n&&n.commitment)).value;if(o.err)throw new Error(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}const ki={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com"}};function Ei(e,t){const n=!1===t?"http":"https";if(!e)return ki[n].devnet;const r=ki[n][e];if(!r)throw new Error(`Unknown ${n} cluster: ${e}`);return r}const Ti=1e9},68102:(e,t,n)=>{"use strict";const r=n(12009),i=n(45889),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=u,t.h2=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,n)}function c(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=a(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Q(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Q(e,ArrayBuffer)||e&&Q(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(Q(e,SharedArrayBuffer)||e&&Q(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);const i=function(e){if(u.isBuffer(e)){const t=0|f(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||X(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return l(e),a(e<0?0:0|f(e))}function h(e){const t=e.length<0?0:0|f(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function f(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function m(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Q(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(i)return r?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return x(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),X(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){let o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===u)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){let n=!0;for(let r=0;r<u;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function v(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(X(r))return s;e[n+s]=r}return s}function _(e,t,n,r){return Z(H(t,e.length-n),e,n,r)}function A(e,t,n,r){return Z(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return Z(G(t),e,n,r)}function k(e,t,n,r){return Z(function(e,t){let n,r,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128===(192&n)&&(u=(31&t)<<6|63&n,u>127&&(o=u));break;case 3:n=e[i+1],r=e[i+2],128===(192&n)&&128===(192&r)&&(u=(15&t)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(u=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},u.allocUnsafe=function(e){return d(e)},u.allocUnsafeSlow=function(e){return d(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(Q(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),Q(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=u.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(Q(t,Uint8Array))i+t.length>r.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,i){if(Q(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n);for(let u=0;u<a;++u)if(c[u]!==l[u]){o=c[u],s=l[u];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":case"latin1":case"binary":return A(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function P(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function x(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function M(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let o=t;o<n;++o)i+=J[e[o]];return i}function O(e,t,n){const r=e.slice(t,n);let i="";for(let o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function B(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r,i){j(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function U(e,t,n,r,i){j(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function L(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function C(e,t,n,r,o){return t=+t,n>>>=0,o||L(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,o){return t=+t,n>>>=0,o||L(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=Y((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Y((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=Y((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=Y((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){D(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){D(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);D(this,e,t,n,r-1,-r)}let i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);D(this,e,t,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,n){return C(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return C(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=u.isBuffer(e)?e:u.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};const F={};function W(e,t,n){F[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function z(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function j(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new F.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||K(t,e.length-(n+1))}(r,i,o)}function q(e,t){if("number"!==typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function K(e,t,n){if(Math.floor(e)!==e)throw q(e,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}W("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),W("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),W("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=z(String(n)):"bigint"===typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=z(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function H(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function Z(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!==e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function Y(e){return"undefined"===typeof BigInt?$:e}function $(){throw new Error("BigInt not supported")}},35076:function(e,t,n){"use strict";var r=n(97429).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;const c=u(n(48744)),l=u(n(68532)),d=a(n(91995)),h=new("function"!==typeof n.g.TextDecoder?d.TextDecoder:n.g.TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"===typeof e&&(e=r.from(e,"utf8")),l.default.encode(r.from(e))},t.baseDecode=function(e){return r.from(l.default.decode(e))};const p=1024;class f extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=f;class m{constructor(){this.buf=r.alloc(p),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=r.concat([this.buf,r.alloc(p)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(r.from(new c.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(r.from(new c.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(r.from(new c.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(r.from(new c.default(e).toArray("le",64)))}writeBuffer(e){this.buf=r.concat([r.from(this.buf.subarray(0,this.length)),e,r.alloc(p)]),this.length+=e.length}writeString(e){this.maybeResize();const t=r.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(r.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}}function g(e,t,n){const r=n.value;n.value=function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(this,t)}catch(i){if(i instanceof RangeError){const e=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new f("Reached the end of buffer when deserializing")}throw i}}}t.BinaryWriter=m;class y{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new c.default(e,"le")}readU128(){const e=this.readBuffer(16);return new c.default(e,"le")}readU256(){const e=this.readBuffer(32);return new c.default(e,"le")}readU512(){const e=this.readBuffer(64);return new c.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new f(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return h.decode(t)}catch(n){throw new f(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),n=Array();for(let r=0;r<t;++r)n.push(e());return n}}function w(e){return e.charAt(0).toUpperCase()+e.slice(1)}function b(e,t,n,r,i){try{if("string"===typeof r)i[`write${w(r)}`](n);else if(r instanceof Array)if("number"===typeof r[0]){if(n.length!==r[0])throw new f(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else i.writeArray(n,(n=>{b(e,t,n,r[0],i)}));else if(void 0!==r.kind){if("option"!==r.kind)throw new f(`FieldType ${r} unrecognized`);null===n||void 0===n?i.writeU8(0):(i.writeU8(1),b(e,t,n,r.type,i))}else v(e,n,i)}catch(o){throw o instanceof f&&o.addToFieldPath(t),o}}function v(e,t,n){const r=e.get(t.constructor);if(!r)throw new f(`Class ${t.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map((r=>{let[i,o]=r;b(e,i,t[i],o,n)}));else{if("enum"!==r.kind)throw new f(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`);{const i=t[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),b(e,s,t[s],a,n);break}}}}}function _(e,t,n,r){try{if("string"===typeof n)return r[`read${w(n)}`]();if(n instanceof Array)return"number"===typeof n[0]?r.readFixedArray(n[0]):r.readArray((()=>_(e,t,n[0],r)));if("option"===n.kind){return r.readU8()?_(e,t,n.type,r):void 0}return A(e,n,r)}catch(i){throw i instanceof f&&i.addToFieldPath(t),i}}function A(e,t,n){const r=e.get(t);if(!r)throw new f(`Class ${t.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[i,o]of e.get(t).fields)r[i]=_(e,i,o,n);return new t(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new f(`Enum index: ${i} is out of range`);const[o,s]=r.values[i];return new t({[o]:_(e,o,s,n)})}throw new f(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}s([g],y.prototype,"readU8",null),s([g],y.prototype,"readU16",null),s([g],y.prototype,"readU32",null),s([g],y.prototype,"readU64",null),s([g],y.prototype,"readU128",null),s([g],y.prototype,"readU256",null),s([g],y.prototype,"readU512",null),s([g],y.prototype,"readString",null),s([g],y.prototype,"readFixedArray",null),s([g],y.prototype,"readArray",null),t.BinaryReader=y,t.serialize=function(e,t){const n=new m;return v(e,t,n),n.toArray()},t.deserialize=function(e,t,n){const r=new y(n),i=A(e,t,r);if(r.offset<n.length)throw new f(`Unexpected ${n.length-r.offset} bytes after deserialized data`);return i},t.deserializeUnchecked=function(e,t,n){return A(e,t,new y(n))}},12636:(e,t,n)=>{"use strict";e.exports=n(18621)},18621:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(92950),i=n(4594);var o=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r);const s={INITIALIZE_ERROR:"INITIALIZE_ERROR",ROUTES_ERROR:"ROUTES_ERROR"},a=r.createContext(null);Object.defineProperty(t,"JUPITER_ERRORS",{enumerable:!0,get:function(){return i.JUPITER_ERRORS}}),Object.defineProperty(t,"MARKETS_URL",{enumerable:!0,get:function(){return i.MARKETS_URL}}),Object.defineProperty(t,"TOKEN_LIST_URL",{enumerable:!0,get:function(){return i.TOKEN_LIST_URL}}),Object.defineProperty(t,"getRouteInfoUniqueId",{enumerable:!0,get:function(){return i.getRouteInfoUniqueId}}),t.Errors=s,t.JupiterProvider=e=>{let{connection:t,cluster:n,userPublicKey:u,children:c,platformFeeAndAccounts:l,quoteMintToReferrer:d,routeCacheDuration:h,marketUrl:p,restrictIntermediateTokens:f,onlyDirectRoutes:m}=e;const[g,y]=r.useState(),[w,b]=r.useState(),v=(r.useEffect((()=>{(async()=>{try{var e=await i.Jupiter.load({connection:t,cluster:n,user:u,platformFeeAndAccounts:l,routeCacheDuration:h,quoteMintToReferrer:d,marketUrl:p,restrictIntermediateTokens:f});y(e)}catch(e){throw console.error(e),b(s.INITIALIZE_ERROR),e}})()}),[t,n,f]),r.useEffect((()=>{g&&u&&g.setUserPublicKey(u)}),[g,u]),r.useMemo((()=>{let e=new Map;return g?g.getRouteMap(m):e}),[g,m])),_=r.useMemo((()=>Array.from(v.keys())),[v]);return o.default.createElement(a.Provider,{value:{jupiter:g,allTokenMints:_,connection:t,cluster:n,routeMap:v,error:w,setError:b,routeCacheDuration:h,onlyDirectRoutes:m}},c)},t.useJupiter=e=>{let{amount:t,inputMint:n,outputMint:i,slippage:u,debounceTime:c=250}=e;const l=r.useContext(a),[d,h]=r.useState(!1),[p,f]=r.useState(),[m,g]=r.useState(0),y=r.useRef(m),[w,b,v]=function(e,t){const[n,i]=r.useState(e);return r.useEffect((()=>{const n=setTimeout((()=>{i(e)}),t);return()=>{clearTimeout(n)}}),[e,t]),n}(o.default.useMemo((()=>[t,n,i]),[t,null==n?void 0:n.toBase58(),null==i?void 0:i.toBase58()]),c),_=r.useRef(0),A=r.useRef(0);if(!l)throw new Error("JupiterProvider is required");const{routeMap:S,allTokenMints:k,jupiter:E,error:T,setError:I,routeCacheDuration:P=0,onlyDirectRoutes:x}=l;return r.useEffect((()=>{y.current=-1}),[[null==b?void 0:b.toString(),null==v?void 0:v.toString()].sort().join("-"),u]),r.useEffect((()=>{_.current&&(new Date).getTime()-_.current>=P&&(y.current=-1),w&&m!==y.current&&h(!0)}),[m,w,u,b,v,x]),r.useEffect((()=>{if(E)if(w&&T!==s.INITIALIZE_ERROR){if(w&&b&&v&&S){let e=(new Date).getTime();A.current=e,E.computeRoutes({inputMint:b,outputMint:v,inputAmount:w,slippage:u,forceFetch:m!==y.current,onlyDirectRoutes:x}).then((t=>{let{routesInfos:n,cached:r}=t;A.current===e&&(f(n),I(void 0),r||(_.current=(new Date).getTime()))})).catch((t=>{console.error(t),A.current===e&&(f(void 0),I(s.ROUTES_ERROR))})).finally((()=>{A.current===e&&(y.current=m,h(!1))}))}}else f(void 0)}),[E,w,b,v,u,m,x]),c=r.useCallback((async e=>{let{wallet:t,routeInfo:n,onTransaction:r}=e;if(T)throw new Error(T);if(!E)throw new Error("Jupiter not initialized");if(null==t||!t.publicKey)throw new Error("Wallet not connected");if(!n)throw new Error("Invalid state, impossible to build transaction");return(0,(await E.exchange({routeInfo:n})).execute)({wallet:t,onTransaction:r})}),[E]),{allTokenMints:k,routeMap:S,exchange:c,refresh:()=>{!d&&_.current&&g((e=>e+1))},lastRefreshTimestamp:_.current,loading:d,routes:p,error:T}},t.useJupiterRouteMap=()=>{var e=r.useContext(a);if(e)return e.routeMap;throw new Error("JupiterProvider is required")}},62800:(e,t,n)=>{n(98331)},31848:(e,t,n)=>{"use strict";var r=n(29701),i=n(48300),o=n(83514),s=n(88600),a=n(59752),u=n(27915),c=n(95212),l=n(4762),d=n(98948),h=n(77328);e.exports=function(e){return new Promise((function(t,n){var p,f=e.data,m=e.headers,g=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(f)&&delete m["Content-Type"];var w=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+v)}var _=a(e.baseURL,e.url);function A(){if(w){var r="getAllResponseHeaders"in w?u(w.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?w.response:w.responseText,status:w.status,statusText:w.statusText,headers:r,config:e,request:w};i((function(e){t(e),y()}),(function(e){n(e),y()}),o),w=null}}if(w.open(e.method.toUpperCase(),s(_,e.params,e.paramsSerializer),!0),w.timeout=e.timeout,"onloadend"in w?w.onloadend=A:w.onreadystatechange=function(){w&&4===w.readyState&&(0!==w.status||w.responseURL&&0===w.responseURL.indexOf("file:"))&&setTimeout(A)},w.onabort=function(){w&&(n(l("Request aborted",e,"ECONNABORTED",w)),w=null)},w.onerror=function(){n(l("Network Error",e,null,w)),w=null},w.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||d.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",w)),w=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||c(_))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;S&&(m[e.xsrfHeaderName]=S)}"setRequestHeader"in w&&r.forEach(m,(function(e,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete m[t]:w.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(w.withCredentials=!!e.withCredentials),g&&"json"!==g&&(w.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&w.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&w.upload&&w.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){w&&(n(!e||e&&e.type?new h("canceled"):e),w.abort(),w=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),f||(f=null),w.send(f)}))}},98331:(e,t,n)=>{"use strict";var r=n(29701),i=n(2262),o=n(49982),s=n(5591);var a=function e(t){var n=new o(t),a=i(o.prototype.request,n);return r.extend(a,o.prototype,n),r.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(98948));a.Axios=o,a.Cancel=n(77328),a.CancelToken=n(39592),a.isCancel=n(65846),a.VERSION=n(55409).version,a.all=function(e){return Promise.all(e)},a.spread=n(90216),a.isAxiosError=n(50151),e.exports=a,e.exports.default=a},77328:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},39592:(e,t,n)=>{"use strict";var r=n(77328);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},65846:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},49982:(e,t,n)=>{"use strict";var r=n(29701),i=n(88600),o=n(38863),s=n(99621),a=n(5591),u=n(15443),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e,t){if("string"===typeof e?(t=t||{}).url=e:t=e||{},!t.url)throw new Error("Provided config url is not valid");(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var d=[s,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(l),o=Promise.resolve(t);d.length;)o=o.then(d.shift(),d.shift());return o}for(var h=t;r.length;){var p=r.shift(),f=r.shift();try{h=p(h)}catch(m){f(m);break}}try{o=s(h)}catch(m){return Promise.reject(m)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},l.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=l},38863:(e,t,n)=>{"use strict";var r=n(29701);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},59752:(e,t,n)=>{"use strict";var r=n(52803),i=n(8946);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},4762:(e,t,n)=>{"use strict";var r=n(42701);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},99621:(e,t,n)=>{"use strict";var r=n(29701),i=n(76213),o=n(65846),s=n(98948),a=n(77328);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},42701:e=>{"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},5591:(e,t,n)=>{"use strict";var r=n(29701);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},48300:(e,t,n)=>{"use strict";var r=n(4762);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},76213:(e,t,n)=>{"use strict";var r=n(29701),i=n(98948);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},98948:(e,t,n)=>{"use strict";var r=n(29701),i=n(21974),o=n(42701),s={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(31848)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(s){if("SyntaxError"===a.name)throw o(a,this,"E_JSON_PARSE");throw a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(s)})),e.exports=u},55409:e=>{e.exports={version:"0.25.0"}},2262:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},88600:(e,t,n)=>{"use strict";var r=n(29701);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},8946:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},83514:(e,t,n)=>{"use strict";var r=n(29701);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},52803:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},50151:(e,t,n)=>{"use strict";var r=n(29701);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},95212:(e,t,n)=>{"use strict";var r=n(29701);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},21974:(e,t,n)=>{"use strict";var r=n(29701);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},27915:(e,t,n)=>{"use strict";var r=n(29701),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},90216:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},15443:(e,t,n)=>{"use strict";var r=n(55409).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],u=void 0===a||s(a,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},29701:(e,t,n)=>{"use strict";var r=n(2262),i=Object.prototype.toString;function o(e){return Array.isArray(e)}function s(e){return"undefined"===typeof e}function a(e){return"[object ArrayBuffer]"===i.call(e)}function u(e){return null!==e&&"object"===typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function d(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:u,isPlainObject:c,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return u(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:d,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)d(arguments[r],n);return t},extend:function(e,t,n){return d(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},53853:(e,t,n)=>{"use strict";e.exports=n(61486)},61486:(e,t,n)=>{"use strict";var r=n(71256),i=n(93038);class o extends Error{constructor(e,t,n){super(e),this.txid=void 0,this.code=void 0,this.txid=t,this.code=n,Object.setPrototypeOf(this,Error.prototype)}}async function s(e){const t=e[1].Custom;let n="";switch(t){case 0:n="An account with the same address already exists";case 1:n="The account does not have enough SOL to perform the operation";default:n="Unknown error, visit the explorer"}return{code:t,message:n}}t.TransactionError=o,t.deserializeAccount=e=>{if(null==e||0==e.length)return;const t=i.AccountLayout.decode(e);return t.mint=new r.PublicKey(t.mint),t.owner=new r.PublicKey(t.owner),t.amount=i.u64.fromBuffer(t.amount),0===t.delegateOption?(t.delegate=null,t.delegatedAmount=new i.u64(0)):(t.delegate=new r.PublicKey(t.delegate),t.delegatedAmount=i.u64.fromBuffer(t.delegatedAmount)),t.isInitialized=0!==t.state,t.isFrozen=2===t.state,1===t.isNativeOption?(t.rentExemptReserve=i.u64.fromBuffer(t.isNative),t.isNative=!0):(t.rentExemptReserve=null,t.isNative=!1),t.closeAuthority=0===t.closeAuthorityOption?null:new r.PublicKey(t.closeAuthority),t},t.parseErrorForTransaction=async function(e){var t;const n=[];if(null!=e&&e.meta&&e.meta.logMessages&&e.meta.logMessages.forEach((e=>{const t=/Error: (.*)/gm;let r;for(;null!==(r=t.exec(e));)r.index===t.lastIndex&&t.lastIndex++,r.length>1&&n.push(r[1])})),n.length>0)return{message:n.join(",")};const i=null==e||null===(t=e.meta)||void 0===t?void 0:t.err,o=JSON.stringify(i);let a;if(i&&"string"!=typeof i){var u;const t=i.InstructionError,[n,{Custom:l}]=t;a=l;const d=null==e||null===(u=e.meta)||void 0===u?void 0:u.innerInstructions;var c;if(!d||n>=d.length)return null!=e&&e.meta&&e.meta.logMessages&&async function(e){return e.forEach((e=>{if(e.includes("Program 11111111111111111111111111111111 invoke"))return!0})),!1}(null===(c=e.meta)||void 0===c?void 0:c.logMessages)?s(t):{message:o,code:a};const h=d.find((e=>e.index===n));if(!h)return{message:o,code:a};if(e.transaction.message.accountKeys[h.instructions[h.instructions.length-1].programIdIndex].equals(r.SystemProgram.programId))return s(t)}return{message:"string"==typeof i?i:"Unknown error, visit the explorer",code:a}}},15872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.translateAddress=t.validateAccounts=t.toInstruction=t.parseIdlErrors=void 0;const r=n(71256);t.parseIdlErrors=function(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var n;let r=null!==(n=e.msg)&&void 0!==n?n:e.name;t.set(e.code,r)})),t},t.toInstruction=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e.args.length!=n.length)throw new Error("Invalid argument length");const i={};let o=0;return e.args.forEach((e=>{i[e.name]=n[o],o+=1})),i},t.validateAccounts=function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((t=>{if("accounts"in t)e(t.accounts,n[t.name]);else if(void 0===n[t.name])throw new Error(`Invalid arguments: ${t.name} not provided.`)}))},t.translateAddress=function(e){return e instanceof r.PublicKey?e:new r.PublicKey(e)}},45572:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;const s=n(97429),a=o(n(12009));t.encode=function(e){return a.fromByteArray(e)},t.decode=function(e){return s.Buffer.from(a.toByteArray(e))}},89277:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;const i=r(n(68532));t.encode=function(e){return i.default.encode(e)},t.decode=function(e){return i.default.decode(e)}},87169:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;const r=n(97429);t.encode=function(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")},t.decode=function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2===1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?r.Buffer.from([]):r.Buffer.from(t.map((e=>parseInt(e,16))))}},7867:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.base64=t.bs58=t.utf8=t.hex=void 0,t.hex=o(n(87169)),t.utf8=o(n(56766)),t.bs58=o(n(89277)),t.base64=o(n(45572))},56766:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0;const r=n(45587);t.decode=function(e){return(r.isBrowser?new TextDecoder("utf-8"):new(n(58404).TextDecoder)("utf-8")).decode(e)},t.encode=function(e){return(r.isBrowser?new TextEncoder:new(n(58404).TextEncoder)("utf-8")).encode(e)}},45587:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.chunks=t.isBrowser=void 0,t.isBrowser={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_ID:"sen_swap",REACT_APP_NAME:"Sen Swap",REACT_APP_AUTHOR_NAME:"Sentre",REACT_APP_AUTHOR_EMAIL:"hi@sentre.io",REACT_APP_TAGS:"dapps,sentre",REACT_APP_DESCRIPTION:"SPLT Swap for SPL tokens",REACT_APP_URL:"https://descartesnetwork.github.io/sen-swap/index.js"}.BROWSER||"undefined"!==typeof window&&!(null===(n=window.process)||void 0===n?void 0:n.hasOwnProperty("type")),t.chunks=function(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map(((n,r)=>e.slice(r*t,(r+1)*t)))}},94328:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.associated=t.findProgramAddressSync=t.createProgramAddressSync=t.createWithSeedSync=void 0;const i=n(97429),o=r(n(48744)),s=n(10119),a=n(71256),u=n(15872);function c(e,t){let n=i.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=i.Buffer.concat([n,l(e)])})),n=i.Buffer.concat([n,t.toBuffer(),i.Buffer.from("ProgramDerivedAddress")]);let r=(0,s.sha256)(new Uint8Array(n)),u=new o.default(r,16).toArray(void 0,32);if(a.PublicKey.isOnCurve(new Uint8Array(u)))throw new Error("Invalid seeds, address must fall off the curve");return new a.PublicKey(u)}t.createWithSeedSync=function(e,t,n){const r=i.Buffer.concat([e.toBuffer(),i.Buffer.from(t),n.toBuffer()]),o=s.sha256.digest(r);return new a.PublicKey(i.Buffer.from(o))},t.createProgramAddressSync=c,t.findProgramAddressSync=function(e,t){let n,r=255;for(;0!=r;){try{n=c(e.concat(i.Buffer.from([r])),t)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")};const l=e=>e instanceof i.Buffer?e:e instanceof Uint8Array?i.Buffer.from(e.buffer,e.byteOffset,e.byteLength):i.Buffer.from(e);t.associated=async function(e){let t=[i.Buffer.from([97,110,99,104,111,114])];for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];r.forEach((e=>{t.push(e instanceof i.Buffer?e:(0,u.translateAddress)(e).toBuffer())}));const[s]=await a.PublicKey.findProgramAddress(t,(0,u.translateAddress)(e));return s}},26434:function(e,t,n){"use strict";var r=n(97429).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.map=t.array=t.rustEnum=t.str=t.vecU8=t.tagged=t.vec=t.bool=t.option=t.publicKey=t.i128=t.u128=t.i64=t.u64=t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0;const o=n(12324),s=n(71256),a=i(n(48744));var u=n(12324);Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return u.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return u.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return u.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return u.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return u.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return u.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return u.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return u.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return u.struct}});class c extends o.Layout{constructor(e,t,n){super(e,n),this.blob=o.blob(e),this.signed=t}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=new a.default(this.blob.decode(e,t),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(r,"le",this.span),t,n)}}function l(e){return new c(8,!1,e)}t.u64=l,t.i64=function(e){return new c(8,!0,e)},t.u128=function(e){return new c(16,!1,e)},t.i128=function(e){return new c(16,!0,e)};class d extends o.Layout{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}t.publicKey=function(e){return new d(o.blob(32),(e=>new s.PublicKey(e)),(e=>e.toBuffer()),e)};class h extends o.Layout{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=o.u8()}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null===e||void 0===e?this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+1)+1)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+1);throw new Error("Invalid option "+this.property)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.discriminator.decode(e,t);if(0===n)return 1;if(1===n)return this.layout.getSpan(e,t+1)+1;throw new Error("Invalid option "+this.property)}}function p(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}function f(e){return e?1:0}function m(e){const t=o.u32("length"),n=o.struct([t,o.blob(o.offset(t,-t.span),"data")]);return new d(n,(e=>{let{data:t}=e;return t}),(e=>({data:e})),e)}t.option=function(e,t){return new h(e,t)},t.bool=function(e){return new d(o.u8(),p,f,e)},t.vec=function(e,t){const n=o.u32("length"),r=o.struct([n,o.seq(e,o.offset(n,-n.span),"values")]);return new d(r,(e=>{let{values:t}=e;return t}),(e=>({values:e})),t)},t.tagged=function(e,t,n){const r=o.struct([l("tag"),t.replicate("data")]);return new d(r,(function(t){let{tag:n,data:r}=t;if(!n.eq(e))throw new Error("Invalid tag, expected: "+e.toString("hex")+", got: "+n.toString("hex"));return r}),(t=>({tag:e,data:t})),n)},t.vecU8=m,t.str=function(e){return new d(m(),(e=>e.toString("utf-8")),(e=>r.from(e,"utf-8")),e)},t.rustEnum=function(e,t,n){const r=o.union(null!==n&&void 0!==n?n:o.u8(),t);return e.forEach(((e,t)=>r.addVariant(t,e,e.property))),r},t.array=function(e,t,n){const r=o.struct([o.seq(e,t,"values")]);return new d(r,(e=>{let{values:t}=e;return t}),(e=>({values:e})),n)};class g extends o.Layout{constructor(e,t,n){super(e.span+t.span,n),this.keyLayout=e,this.valueLayout=t}decode(e,t){t=t||0;return[this.keyLayout.decode(e,t),this.valueLayout.decode(e,t+this.keyLayout.getSpan(e,t))]}encode(e,t,n){n=n||0;const r=this.keyLayout.encode(e[0],t,n);return r+this.valueLayout.encode(e[1],t,n+r)}getSpan(e,t){return this.keyLayout.getSpan(e,t)+this.valueLayout.getSpan(e,t)}}t.map=function(e,t,n){const r=o.u32("length"),i=o.struct([r,o.seq(new g(e,t),o.offset(r,-r.span),"values")]);return new d(i,(e=>{let{values:t}=e;return new Map(t)}),(e=>({values:Array.from(e.entries())})),n)}},89768:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInstructionErrorResponse=t.KNOWN_PROGRAMS=t.DexError=void 0;const r=n(71256),i=n(1127),o=n(63786);var s;!function(e){e[e.InvalidMarketFlags=0]="InvalidMarketFlags",e[e.InvalidAskFlags=1]="InvalidAskFlags",e[e.InvalidBidFlags=2]="InvalidBidFlags",e[e.InvalidQueueLength=3]="InvalidQueueLength",e[e.OwnerAccountNotProvided=4]="OwnerAccountNotProvided",e[e.ConsumeEventsQueueFailure=5]="ConsumeEventsQueueFailure",e[e.WrongCoinVault=6]="WrongCoinVault",e[e.WrongPcVault=7]="WrongPcVault",e[e.WrongCoinMint=8]="WrongCoinMint",e[e.WrongPcMint=9]="WrongPcMint",e[e.CoinVaultProgramId=10]="CoinVaultProgramId",e[e.PcVaultProgramId=11]="PcVaultProgramId",e[e.CoinMintProgramId=12]="CoinMintProgramId",e[e.PcMintProgramId=13]="PcMintProgramId",e[e.WrongCoinMintSize=14]="WrongCoinMintSize",e[e.WrongPcMintSize=15]="WrongPcMintSize",e[e.WrongCoinVaultSize=16]="WrongCoinVaultSize",e[e.WrongPcVaultSize=17]="WrongPcVaultSize",e[e.UninitializedVault=18]="UninitializedVault",e[e.UninitializedMint=19]="UninitializedMint",e[e.CoinMintUninitialized=20]="CoinMintUninitialized",e[e.PcMintUninitialized=21]="PcMintUninitialized",e[e.WrongMint=22]="WrongMint",e[e.WrongVaultOwner=23]="WrongVaultOwner",e[e.VaultHasDelegate=24]="VaultHasDelegate",e[e.AlreadyInitialized=25]="AlreadyInitialized",e[e.WrongAccountDataAlignment=26]="WrongAccountDataAlignment",e[e.WrongAccountDataPaddingLength=27]="WrongAccountDataPaddingLength",e[e.WrongAccountHeadPadding=28]="WrongAccountHeadPadding",e[e.WrongAccountTailPadding=29]="WrongAccountTailPadding",e[e.RequestQueueEmpty=30]="RequestQueueEmpty",e[e.EventQueueTooSmall=31]="EventQueueTooSmall",e[e.SlabTooSmall=32]="SlabTooSmall",e[e.BadVaultSignerNonce=33]="BadVaultSignerNonce",e[e.InsufficientFunds=34]="InsufficientFunds",e[e.SplAccountProgramId=35]="SplAccountProgramId",e[e.SplAccountLen=36]="SplAccountLen",e[e.WrongFeeDiscountAccountOwner=37]="WrongFeeDiscountAccountOwner",e[e.WrongFeeDiscountMint=38]="WrongFeeDiscountMint",e[e.CoinPayerProgramId=39]="CoinPayerProgramId",e[e.PcPayerProgramId=40]="PcPayerProgramId",e[e.ClientIdNotFound=41]="ClientIdNotFound",e[e.TooManyOpenOrders=42]="TooManyOpenOrders",e[e.FakeErrorSoWeDontChangeNumbers=43]="FakeErrorSoWeDontChangeNumbers",e[e.BorrowError=44]="BorrowError",e[e.WrongOrdersAccount=45]="WrongOrdersAccount",e[e.WrongBidsAccount=46]="WrongBidsAccount",e[e.WrongAsksAccount=47]="WrongAsksAccount",e[e.WrongRequestQueueAccount=48]="WrongRequestQueueAccount",e[e.WrongEventQueueAccount=49]="WrongEventQueueAccount",e[e.RequestQueueFull=50]="RequestQueueFull",e[e.EventQueueFull=51]="EventQueueFull",e[e.MarketIsDisabled=52]="MarketIsDisabled",e[e.WrongSigner=53]="WrongSigner",e[e.TransferFailed=54]="TransferFailed",e[e.ClientOrderIdIsZero=55]="ClientOrderIdIsZero",e[e.WrongRentSysvarAccount=56]="WrongRentSysvarAccount",e[e.RentNotProvided=57]="RentNotProvided",e[e.OrdersNotRentExempt=58]="OrdersNotRentExempt",e[e.OrderNotFound=59]="OrderNotFound",e[e.OrderNotYours=60]="OrderNotYours",e[e.WouldSelfTrade=61]="WouldSelfTrade",e[e.Unknown=1e3]="Unknown"}(s=t.DexError||(t.DexError={})),t.KNOWN_PROGRAMS={[o.TOKEN_PROGRAM_ID.toString()]:"Token program",[r.SystemProgram.programId.toString()]:"System program"},t.parseInstructionErrorResponse=function(e,n){const[r,o]=n,a=e.instructions[r];let u;if(a.programId.toString()in i.PROGRAM_LAYOUT_VERSIONS)u=s[o.Custom];else if(a.programId.toString()in t.KNOWN_PROGRAMS){u=`${t.KNOWN_PROGRAMS[a.programId.toString()]} error ${o.Custom}`}else u=`Unknown program ${a.programId.toString()} custom error: ${o.Custom}`;return{failedInstructionIndex:r,error:u,failedProgram:a.programId.toString()}}},12463:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeeTier=t.getFeeRates=t.supportsSrmFeeDiscounts=void 0;const r=n(1127);t.supportsSrmFeeDiscounts=function(e){return r.getLayoutVersion(e)>1},t.getFeeRates=function(e){return 1===e?{taker:.002,maker:-3e-4}:2===e?{taker:.0018,maker:-3e-4}:3===e?{taker:.0016,maker:-3e-4}:4===e?{taker:.0014,maker:-3e-4}:5===e?{taker:.0012,maker:-3e-4}:6===e?{taker:.001,maker:-5e-4}:{taker:.0022,maker:-3e-4}},t.getFeeTier=function(e,t){return e>=1?6:t>=1e6?5:t>=1e5?4:t>=1e4?3:t>=1e3?2:t>=100?1:0}},94706:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.PermissionedCrank=t.ReferralFees=t.OpenOrdersPda=t.MarketProxyBuilder=t.MarketProxy=t.TokenInstructions=t.EVENT_QUEUE_LAYOUT=t.REQUEST_QUEUE_LAYOUT=t.decodeRequestQueue=t.decodeEventQueue=t.getLayoutVersion=t.MARKETS=t.TOKEN_MINTS=t.supportsSrmFeeDiscounts=t.getFeeRates=t.getFeeTier=t.NEW_ORDER_V3_OWNER_INDEX=t.NEW_ORDER_V3_OPEN_ORDERS_INDEX=t.NEW_ORDER_OWNER_INDEX=t.NEW_ORDER_OPEN_ORDERS_INDEX=t.SETTLE_FUNDS_QUOTE_WALLET_INDEX=t.SETTLE_FUNDS_BASE_WALLET_INDEX=t.decodeInstructionV2=t.decodeInstruction=t.DexInstructions=t.MARKET_STATE_LAYOUT_V2=t.MARKET_STATE_LAYOUT_V3=t.OpenOrders=t.Orderbook=t.Market=void 0;var a=n(83989);Object.defineProperty(t,"Market",{enumerable:!0,get:function(){return a.Market}}),Object.defineProperty(t,"Orderbook",{enumerable:!0,get:function(){return a.Orderbook}}),Object.defineProperty(t,"OpenOrders",{enumerable:!0,get:function(){return a.OpenOrders}}),Object.defineProperty(t,"MARKET_STATE_LAYOUT_V3",{enumerable:!0,get:function(){return a.MARKET_STATE_LAYOUT_V3}}),Object.defineProperty(t,"MARKET_STATE_LAYOUT_V2",{enumerable:!0,get:function(){return a.MARKET_STATE_LAYOUT_V2}});var u=n(2936);Object.defineProperty(t,"DexInstructions",{enumerable:!0,get:function(){return u.DexInstructions}}),Object.defineProperty(t,"decodeInstruction",{enumerable:!0,get:function(){return u.decodeInstruction}}),Object.defineProperty(t,"decodeInstructionV2",{enumerable:!0,get:function(){return u.decodeInstructionV2}}),Object.defineProperty(t,"SETTLE_FUNDS_BASE_WALLET_INDEX",{enumerable:!0,get:function(){return u.SETTLE_FUNDS_BASE_WALLET_INDEX}}),Object.defineProperty(t,"SETTLE_FUNDS_QUOTE_WALLET_INDEX",{enumerable:!0,get:function(){return u.SETTLE_FUNDS_QUOTE_WALLET_INDEX}}),Object.defineProperty(t,"NEW_ORDER_OPEN_ORDERS_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_OPEN_ORDERS_INDEX}}),Object.defineProperty(t,"NEW_ORDER_OWNER_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_OWNER_INDEX}}),Object.defineProperty(t,"NEW_ORDER_V3_OPEN_ORDERS_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_V3_OPEN_ORDERS_INDEX}}),Object.defineProperty(t,"NEW_ORDER_V3_OWNER_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_V3_OWNER_INDEX}});var c=n(12463);Object.defineProperty(t,"getFeeTier",{enumerable:!0,get:function(){return c.getFeeTier}}),Object.defineProperty(t,"getFeeRates",{enumerable:!0,get:function(){return c.getFeeRates}}),Object.defineProperty(t,"supportsSrmFeeDiscounts",{enumerable:!0,get:function(){return c.supportsSrmFeeDiscounts}});var l=n(1127);Object.defineProperty(t,"TOKEN_MINTS",{enumerable:!0,get:function(){return l.TOKEN_MINTS}}),Object.defineProperty(t,"MARKETS",{enumerable:!0,get:function(){return l.MARKETS}}),Object.defineProperty(t,"getLayoutVersion",{enumerable:!0,get:function(){return l.getLayoutVersion}});var d=n(31472);Object.defineProperty(t,"decodeEventQueue",{enumerable:!0,get:function(){return d.decodeEventQueue}}),Object.defineProperty(t,"decodeRequestQueue",{enumerable:!0,get:function(){return d.decodeRequestQueue}}),Object.defineProperty(t,"REQUEST_QUEUE_LAYOUT",{enumerable:!0,get:function(){return d.REQUEST_QUEUE_LAYOUT}}),Object.defineProperty(t,"EVENT_QUEUE_LAYOUT",{enumerable:!0,get:function(){return d.EVENT_QUEUE_LAYOUT}}),t.TokenInstructions=o(n(63786)),s(n(89768),t);var h=n(87002);Object.defineProperty(t,"MarketProxy",{enumerable:!0,get:function(){return h.MarketProxy}}),Object.defineProperty(t,"MarketProxyBuilder",{enumerable:!0,get:function(){return h.MarketProxyBuilder}});var p=n(18786);Object.defineProperty(t,"OpenOrdersPda",{enumerable:!0,get:function(){return p.OpenOrdersPda}}),Object.defineProperty(t,"ReferralFees",{enumerable:!0,get:function(){return p.ReferralFees}}),Object.defineProperty(t,"PermissionedCrank",{enumerable:!0,get:function(){return p.PermissionedCrank}}),Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return p.Logger}})},2936:function(e,t,n){"use strict";var r=n(97429).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DexInstructions=t.decodeInstructionV2=t.decodeInstruction=t.encodeInstructionV2=t.encodeInstruction=t.INSTRUCTION_LAYOUT_V2=t.INSTRUCTION_LAYOUT=t.NEW_ORDER_V3_OWNER_INDEX=t.NEW_ORDER_V3_OPEN_ORDERS_INDEX=t.NEW_ORDER_OWNER_INDEX=t.NEW_ORDER_OPEN_ORDERS_INDEX=t.SETTLE_FUNDS_QUOTE_WALLET_INDEX=t.SETTLE_FUNDS_BASE_WALLET_INDEX=void 0;const o=n(12324),s=n(84321),a=n(71256),u=n(63786),c=i(n(48744));t.SETTLE_FUNDS_BASE_WALLET_INDEX=5,t.SETTLE_FUNDS_QUOTE_WALLET_INDEX=6,t.NEW_ORDER_OPEN_ORDERS_INDEX=1,t.NEW_ORDER_OWNER_INDEX=4,t.NEW_ORDER_V3_OPEN_ORDERS_INDEX=1,t.NEW_ORDER_V3_OWNER_INDEX=7,t.INSTRUCTION_LAYOUT=new s.VersionedLayout(0,o.union(o.u32("instruction"))),t.INSTRUCTION_LAYOUT.inner.addVariant(0,o.struct([s.u64("baseLotSize"),s.u64("quoteLotSize"),o.u16("feeRateBps"),s.u64("vaultSignerNonce"),s.u64("quoteDustThreshold")]),"initializeMarket"),t.INSTRUCTION_LAYOUT.inner.addVariant(1,o.struct([s.sideLayout("side"),s.u64("limitPrice"),s.u64("maxQuantity"),s.orderTypeLayout("orderType"),s.u64("clientId")]),"newOrder"),t.INSTRUCTION_LAYOUT.inner.addVariant(2,o.struct([o.u16("limit")]),"matchOrders"),t.INSTRUCTION_LAYOUT.inner.addVariant(3,o.struct([o.u16("limit")]),"consumeEvents"),t.INSTRUCTION_LAYOUT.inner.addVariant(4,o.struct([s.sideLayout("side"),s.u128("orderId"),s.publicKeyLayout("openOrders"),o.u8("openOrdersSlot")]),"cancelOrder"),t.INSTRUCTION_LAYOUT.inner.addVariant(5,o.struct([]),"settleFunds"),t.INSTRUCTION_LAYOUT.inner.addVariant(6,o.struct([s.u64("clientId")]),"cancelOrderByClientId"),t.INSTRUCTION_LAYOUT.inner.addVariant(10,o.struct([s.sideLayout("side"),s.u64("limitPrice"),s.u64("maxBaseQuantity"),s.u64("maxQuoteQuantity"),s.selfTradeBehaviorLayout("selfTradeBehavior"),s.orderTypeLayout("orderType"),s.u64("clientId"),o.u16("limit")]),"newOrderV3"),t.INSTRUCTION_LAYOUT.inner.addVariant(11,o.struct([s.sideLayout("side"),s.u128("orderId")]),"cancelOrderV2"),t.INSTRUCTION_LAYOUT.inner.addVariant(12,o.struct([s.u64("clientId")]),"cancelOrderByClientIdV2"),t.INSTRUCTION_LAYOUT.inner.addVariant(14,o.struct([]),"closeOpenOrders"),t.INSTRUCTION_LAYOUT.inner.addVariant(15,o.struct([]),"initOpenOrders"),t.INSTRUCTION_LAYOUT.inner.addVariant(16,o.struct([o.u16("limit")]),"prune"),t.INSTRUCTION_LAYOUT.inner.addVariant(17,o.struct([o.u16("limit")]),"consumeEventsPermissioned"),t.INSTRUCTION_LAYOUT.inner.addVariant(18,o.struct([o.seq(s.u64(),8,"clientIds")]),"cancelOrdersByClientIds");const l=()=>o.struct([s.sideLayout("side"),s.u64("limitPrice"),s.u64("maxBaseQuantity"),s.u64("maxQuoteQuantity"),s.selfTradeBehaviorLayout("selfTradeBehavior"),s.orderTypeLayout("orderType"),s.u64("clientId"),o.u16("limit"),s.i64("maxTs")]);function d(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const i=r.alloc(n);return i.slice(0,t.INSTRUCTION_LAYOUT.encode(e,i))}function h(e){const n=r.alloc(100);return n.slice(0,t.INSTRUCTION_LAYOUT_V2.encode(e,n))}t.INSTRUCTION_LAYOUT.inner.addVariant(19,l(),"replaceOrderByClientId"),t.INSTRUCTION_LAYOUT.inner.addVariant(20,o.struct([s.u64("orderAmount"),o.seq(l(),8,"orders")]),"replaceOrdersByClientIds"),t.INSTRUCTION_LAYOUT_V2=new s.VersionedLayout(0,o.union(o.u32("instruction"))),t.INSTRUCTION_LAYOUT_V2.inner.addVariant(10,l(),"newOrderV3"),t.encodeInstruction=d,t.encodeInstructionV2=h,t.decodeInstruction=function(e){return t.INSTRUCTION_LAYOUT.decode(e)},t.decodeInstructionV2=function(e){return t.INSTRUCTION_LAYOUT_V2.decode(e)};t.DexInstructions=class{static initializeMarket(e){let{market:t,requestQueue:n,eventQueue:r,bids:i,asks:o,baseVault:s,quoteVault:u,baseMint:c,quoteMint:l,baseLotSize:h,quoteLotSize:p,feeRateBps:f,vaultSignerNonce:m,quoteDustThreshold:g,programId:y,authority:w,pruneAuthority:b,crankAuthority:v}=e;new a.PublicKey("SysvarRent111111111111111111111111111111111");return new a.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:w?l:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}].concat(w?{pubkey:w,isSigner:!1,isWritable:!1}:[]).concat(w&&b?{pubkey:b,isSigner:!1,isWritable:!1}:[]).concat(w&&b&&v?{pubkey:v,isSigner:!1,isWritable:!1}:[]),programId:y,data:d({initializeMarket:{baseLotSize:h,quoteLotSize:p,feeRateBps:f,vaultSignerNonce:m,quoteDustThreshold:g}})})}static newOrder(e){let{market:t,openOrders:n,payer:r,owner:i,requestQueue:o,baseVault:s,quoteVault:c,side:l,limitPrice:h,maxQuantity:p,orderType:f,clientId:m,programId:g,feeDiscountPubkey:y=null}=e;const w=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return y&&w.push({pubkey:y,isSigner:!1,isWritable:!1}),new a.TransactionInstruction({keys:w,programId:g,data:d({newOrder:m?{side:l,limitPrice:h,maxQuantity:p,orderType:f,clientId:m}:{side:l,limitPrice:h,maxQuantity:p,orderType:f}})})}static newOrderV3(e){let{market:t,openOrders:n,payer:r,owner:i,requestQueue:o,eventQueue:s,bids:l,asks:p,baseVault:f,quoteVault:m,side:g,limitPrice:y,maxBaseQuantity:w,maxQuoteQuantity:b,orderType:v,clientId:_,programId:A,selfTradeBehavior:S,feeDiscountPubkey:k=null,maxTs:E=null,replaceIfExists:T=!1}=e;const I=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:u.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];let P,x;return k&&I.push({pubkey:k,isSigner:!1,isWritable:!1}),T?(P="replaceOrderByClientId",x=d):(P="newOrderV3",x=E?h:d),new a.TransactionInstruction({keys:I,programId:A,data:x({[P]:{side:g,limitPrice:y,maxBaseQuantity:w,maxQuoteQuantity:b,selfTradeBehavior:S,orderType:v,clientId:_,limit:65535,maxTs:new c.default(null!==E&&void 0!==E?E:"9223372036854775807")}})})}static replaceOrdersByClientIds(e){let{market:t,openOrders:n,payer:r,owner:i,requestQueue:o,eventQueue:s,bids:l,asks:h,baseVault:p,quoteVault:f,feeDiscountPubkey:m=null,programId:g,orders:y}=e;const w=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:u.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return m&&w.push({pubkey:m,isSigner:!1,isWritable:!1}),new a.TransactionInstruction({keys:w,programId:g,data:d({replaceOrdersByClientIds:{orderAmount:new c.default(y.length),orders:y.map((e=>{var t;return{...e,maxTs:new c.default(null!==(t=e.maxTs)&&void 0!==t?t:"9223372036854775807"),limit:65535}}))}},15+60*y.length).slice(0,13+54*y.length)})}static matchOrders(e){let{market:t,requestQueue:n,eventQueue:r,bids:i,asks:o,baseVault:s,quoteVault:u,limit:c,programId:l}=e;return new a.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0}],programId:l,data:d({matchOrders:{limit:c}})})}static consumeEvents(e){let{market:t,eventQueue:n,coinFee:r,pcFee:i,openOrdersAccounts:o,limit:s,programId:u}=e;return new a.TransactionInstruction({keys:[...o.map((e=>({pubkey:e,isSigner:!1,isWritable:!0}))),{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWriteable:!0},{pubkey:i,isSigner:!1,isWritable:!0}],programId:u,data:d({consumeEvents:{limit:s}})})}static consumeEventsPermissioned(e){let{market:t,eventQueue:n,crankAuthority:r,openOrdersAccounts:i,limit:o,programId:s}=e;return new a.TransactionInstruction({keys:[...i.map((e=>({pubkey:e,isSigner:!1,isWritable:!0}))),{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:s,data:d({consumeEventsPermissioned:{limit:o}})})}static cancelOrder(e){let{market:t,openOrders:n,owner:r,requestQueue:i,side:o,orderId:s,openOrdersSlot:u,programId:c}=e;return new a.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:c,data:d({cancelOrder:{side:o,orderId:s,openOrders:n,openOrdersSlot:u}})})}static cancelOrderV2(e){const{market:t,bids:n,asks:r,eventQueue:i,openOrders:o,owner:s,side:u,orderId:c,programId:l}=e;return new a.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0}],programId:l,data:d({cancelOrderV2:{side:u,orderId:c}})})}static cancelOrderByClientId(e){let{market:t,openOrders:n,owner:r,requestQueue:i,clientId:o,programId:s}=e;return new a.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:s,data:d({cancelOrderByClientId:{clientId:o}})})}static cancelOrderByClientIdV2(e){let{market:t,openOrders:n,owner:r,bids:i,asks:o,eventQueue:s,clientId:u,programId:c}=e;return new a.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0}],programId:c,data:d({cancelOrderByClientIdV2:{clientId:u}})})}static cancelOrdersByClientIds(e){let{market:t,openOrders:n,owner:r,bids:i,asks:o,eventQueue:s,clientIds:u,programId:l}=e;if(u.length>8)throw new Error("Number of client ids cannot exceed 8!");for(;u.length<8;)u.push(new c.default(0));return new a.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0}],programId:l,data:d({cancelOrdersByClientIds:{clientIds:u}})})}static settleFunds(e){let{market:t,openOrders:n,owner:r,baseVault:i,quoteVault:o,baseWallet:s,quoteWallet:c,vaultSigner:l,programId:h,referrerQuoteWallet:p=null}=e;const f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:u.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}];return p&&f.push({pubkey:p,isSigner:!1,isWritable:!0}),new a.TransactionInstruction({keys:f,programId:h,data:d({settleFunds:{}})})}static closeOpenOrders(e){let{market:t,openOrders:n,owner:r,solWallet:i,programId:o}=e;const s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1}];return new a.TransactionInstruction({keys:s,programId:o,data:d({closeOpenOrders:{}})})}static initOpenOrders(e){let{market:t,openOrders:n,owner:r,programId:i,marketAuthority:o}=e;const s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}].concat(o?{pubkey:o,isSigner:!1,isWritable:!1}:[]);return new a.TransactionInstruction({keys:s,programId:i,data:d({initOpenOrders:{}})})}static prune(e){let{market:t,bids:n,asks:r,eventQueue:i,pruneAuthority:o,openOrders:s,openOrdersOwner:u,programId:c,limit:l}=e;const h=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0}];return new a.TransactionInstruction({keys:h,programId:c,data:d({prune:{limit:l}})})}}},84321:function(e,t,n){"use strict";var r=n(97429).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setLayoutEncoder=t.setLayoutDecoder=t.accountFlagsLayout=t.selfTradeBehaviorLayout=t.orderTypeLayout=t.sideLayout=t.VersionedLayout=t.WideBits=t.u128=t.i64=t.u64=t.publicKeyLayout=t.zeros=void 0;const o=n(12324),s=n(71256),a=i(n(48744));class u extends o.Blob{decode(e,t){const n=super.decode(e,t);if(!n.every((e=>0===e)))throw new Error("nonzero padding bytes");return n}}t.zeros=function(e){return new u(e)};class c extends o.Blob{constructor(e){super(32,e)}decode(e,t){return new s.PublicKey(super.decode(e,t))}encode(e,t,n){return super.encode(e.toBuffer(),t,n)}}t.publicKeyLayout=function(e){return new c(e)};class l extends o.Blob{decode(e,t){return new a.default(super.decode(e,t),10,"le")}encode(e,t,n){return super.encode(e.toArrayLike(r,"le",this.span),t,n)}}t.u64=function(e){return new l(8,e)},t.i64=function(e){return new l(8,e)},t.u128=function(e){return new l(16,e)};class d extends o.Layout{constructor(e){super(8,e),this._lower=o.bits(o.u32(),!1),this._upper=o.bits(o.u32(),!1)}addBoolean(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{...this._lower.decode(e,t),...this._upper.decode(e,t+this._lower.span)}}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._lower.encode(e,t,n)+this._upper.encode(e,t,n+this._lower.span)}}t.WideBits=d;class h extends o.Layout{constructor(e,t,n){super(t.span>0?t.span+1:t.span,n),this.version=e,this.inner=t}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.inner.decode(e,t+1)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.writeUInt8(this.version,n),1+this.inner.encode(e,t,n+1)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 1+this.inner.getSpan(e,t+1)}}t.VersionedLayout=h;class p extends o.UInt{constructor(e,t,n){super(t,n),this.values=e}encode(e,t,n){if(void 0!==this.values[e])return super.encode(this.values[e],t,n);throw new Error("Invalid "+this.property)}decode(e,t){const n=super.decode(e,t),r=Object.entries(this.values).find((e=>{let[,t]=e;return t===n}));if(r)return r[0];throw new Error("Invalid "+this.property)}}t.sideLayout=function(e){return new p({buy:0,sell:1},4,e)},t.orderTypeLayout=function(e){return new p({limit:0,ioc:1,postOnly:2},4,e)},t.selfTradeBehaviorLayout=function(e){return new p({decrementTake:0,cancelProvide:1,abortTransaction:2},4,e)};const f=new d;f.addBoolean("initialized"),f.addBoolean("market"),f.addBoolean("openOrders"),f.addBoolean("requestQueue"),f.addBoolean("eventQueue"),f.addBoolean("bids"),f.addBoolean("asks"),t.accountFlagsLayout=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"accountFlags";return f.replicate(e)},t.setLayoutDecoder=function(e,t){const n=e.decode;e.decode=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t(n.call(this,e,r))}},t.setLayoutEncoder=function(e,t){const n=e.encode;return e.encode=function(e,r,i){return n.call(this,t(e),r,i)},e}},87002:(e,t,n)=>{"use strict";var r=n(97429).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.MarketProxyBuilder=t.MarketProxyInstruction=t.MarketProxy=void 0;const i=n(93453),o=n(83989),s=n(2936);class a{constructor(e,t){this._market=e,this._instruction=t}get market(){return this._market}get instruction(){return this._instruction}get dexProgramId(){return this._market.programId}get proxyProgramId(){return this._instruction.proxyProgramId}}t.MarketProxy=a;class u{constructor(e,t,n,r){this._proxyProgramId=e,this._dexProgramId=t,this._market=n,this._middlewares=r}get proxyProgramId(){return this._proxyProgramId}newOrderV3(e){const t=this._market.makeNewOrderV3Instruction({...e,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.newOrderV3(t))),this.proxy(t)}initOpenOrders(e,t,n,r){const i=s.DexInstructions.initOpenOrders({market:t,openOrders:n,owner:e,programId:this._proxyProgramId,marketAuthority:r});return this._middlewares.forEach((e=>e.initOpenOrders(i))),this.proxy(i)}cancelOrder(e,t){const n=s.DexInstructions.cancelOrderV2({market:this._market.address,owner:e,openOrders:t.openOrdersAddress,bids:this._market.decoded.bids,asks:this._market.decoded.asks,eventQueue:this._market.decoded.eventQueue,side:t.side,orderId:t.orderId,openOrdersSlot:t.openOrdersSlot,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.cancelOrderV2(n))),this.proxy(n)}cancelOrderByClientId(e,t,n){const r=s.DexInstructions.cancelOrderByClientIdV2({market:this._market.address,openOrders:t,owner:e,bids:this._market.decoded.bids,asks:this._market.decoded.asks,eventQueue:this._market.decoded.eventQueue,clientId:n,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.cancelOrderByClientIdV2(r))),this.proxy(r)}settleFunds(e,t,n,o,a){const u=s.DexInstructions.settleFunds({market:this._market.address,openOrders:e,owner:t,baseVault:this._market.decoded.baseVault,quoteVault:this._market.decoded.quoteVault,baseWallet:n,quoteWallet:o,vaultSigner:i.utils.publicKey.createProgramAddressSync([this._market.address.toBuffer(),this._market.decoded.vaultSignerNonce.toArrayLike(r,"le",8)],this._dexProgramId),programId:this._proxyProgramId,referrerQuoteWallet:a});return this._middlewares.forEach((e=>e.settleFunds(u))),this.proxy(u)}closeOpenOrders(e,t,n){const r=s.DexInstructions.closeOpenOrders({market:this._market.address,openOrders:e,owner:t,solWallet:n,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.closeOpenOrders(r))),this.proxy(r)}prune(e,t,n){n||(n=65535);const r=s.DexInstructions.prune({market:this._market.address,bids:this._market.decoded.bids,asks:this._market.decoded.asks,eventQueue:this._market.decoded.eventQueue,pruneAuthority:this._market.decoded.pruneAuthority,openOrders:e,openOrdersOwner:t,programId:this._proxyProgramId,limit:n});return this._middlewares.forEach((e=>e.prune(r))),this.proxy(r)}consumeEvents(e,t){const n=s.DexInstructions.consumeEvents({market:this._market.address,eventQueue:this._market.decoded.eventQueue,coinFee:this._market.decoded.eventQueue,pcFee:this._market.decoded.eventQueue,openOrdersAccounts:e,limit:t,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.consumeEvents(n))),this.proxy(n)}consumeEventsPermissioned(e,t){const n=s.DexInstructions.consumeEventsPermissioned({market:this._market.address,eventQueue:this._market.decoded.eventQueue,crankAuthority:this._market.decoded.consumeEventsAuthority,openOrdersAccounts:e,limit:t,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.consumeEventsPermissioned(n))),this.proxy(n)}proxy(e){return e.keys=[{pubkey:this._dexProgramId,isWritable:!1,isSigner:!1},...e.keys],e}}t.MarketProxyInstruction=u;t.MarketProxyBuilder=class{constructor(){this._middlewares=[]}middleware(e){return this._middlewares.push(e),this}async load(e){let{connection:t,market:n,options:r={},dexProgramId:i,proxyProgramId:s}=e;const c=await o.Market.load(t,n,r,i,o.MARKET_STATE_LAYOUT_V3),l=new u(s,i,c,this._middlewares);return new a(c,l)}}},18786:(e,t,n)=>{"use strict";var r=n(97429).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.PermissionedCrank=t.ReferralFees=t.OpenOrdersPda=void 0;const i=n(93453),o=n(71256);t.OpenOrdersPda=class{constructor(e){let{proxyProgramId:t,dexProgramId:n}=e;this._proxyProgramId=t,this._dexProgramId=n}static async marketAuthority(e,t,n){const i=r.from([111,112,101,110,45,111,114,100,101,114,115,45,105,110,105,116]),[s]=await o.PublicKey.findProgramAddress([i,t.toBuffer(),e.toBuffer()],n);return s}static async openOrdersAddress(e,t,n,i){const s=r.from([111,112,101,110,45,111,114,100,101,114,115]),[a]=await o.PublicKey.findProgramAddress([s,n.toBuffer(),e.toBuffer(),t.toBuffer()],i);return a}initOpenOrders(e){const t=e.keys[2].pubkey,n=e.keys[1].pubkey,s=r.from([111,112,101,110,45,111,114,100,101,114,115]),a=r.from([111,112,101,110,45,111,114,100,101,114,115,45,105,110,105,116]),[u,c]=i.utils.publicKey.findProgramAddressSync([s,this._dexProgramId.toBuffer(),t.toBuffer(),n.toBuffer()],this._proxyProgramId),[l,d]=i.utils.publicKey.findProgramAddressSync([a,this._dexProgramId.toBuffer(),t.toBuffer()],this._proxyProgramId);e.keys[0].pubkey=u,e.keys[4].pubkey=l,e.keys[1].isWritable=!0,e.keys=[{pubkey:this._dexProgramId,isSigner:!1,isWritable:!1},{pubkey:o.SystemProgram.programId,isSigner:!1,isWritable:!1},...e.keys],e.data=r.concat([r.from([0,c,d]),e.data])}newOrderV3(e){e.data=r.concat([r.from([1]),e.data])}cancelOrderV2(e){e.data=r.concat([r.from([2]),e.data])}cancelOrderByClientIdV2(e){e.data=r.concat([r.from([3]),e.data])}settleFunds(e){e.data=r.concat([r.from([4]),e.data])}closeOpenOrders(e){e.data=r.concat([r.from([5]),e.data])}prune(e){e.data=r.concat([r.from([6]),e.data])}consumeEvents(e){e.data=r.concat([r.from([7]),e.data])}consumeEventsPermissioned(e){e.data=r.concat([r.from([8]),e.data])}};t.ReferralFees=class{initOpenOrders(e){}newOrderV3(e){}cancelOrderV2(e){}cancelOrderByClientIdV2(e){}settleFunds(e){}closeOpenOrders(e){}prune(e){}consumeEvents(e){}consumeEventsPermissioned(e){}};t.PermissionedCrank=class{initOpenOrders(e){}newOrderV3(e){}cancelOrderV2(e){}cancelOrderByClientIdV2(e){}settleFunds(e){}closeOpenOrders(e){}prune(e){}consumeEvents(e){}consumeEventsPermissioned(e){e.keys[e.keys.length-1].isSigner=!1}};t.Logger=class{initOpenOrders(e){console.log("Proxying initOpenOrders",this.ixToDisplay(e))}newOrderV3(e){console.log("Proxying newOrderV3",this.ixToDisplay(e))}cancelOrderV2(e){console.log("Proxying cancelOrderV2",this.ixToDisplay(e))}cancelOrderByClientIdV2(e){console.log("Proxying cancelOrderByClientIdV2",this.ixToDisplay(e))}settleFunds(e){console.log("Proxying settleFunds",this.ixToDisplay(e))}closeOpenOrders(e){console.log("Proxying closeOpenOrders",this.ixToDisplay(e))}prune(e){console.log("Proxying prune",this.ixToDisplay(e))}consumeEvents(e){console.log("Proxying consumeEvents",this.ixToDisplay(e))}consumeEventsPermissioned(e){console.log("Proxying consumeEventsPermissioned",this.ixToDisplay(e))}ixToDisplay(e){return{keys:e.keys.map((e=>({...e,pubkey:e.pubkey.toString()}))),programId:e.programId.toString(),data:new Uint8Array(e.data)}}}},83989:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMintDecimals=t.Orderbook=t.ORDERBOOK_LAYOUT=t.OpenOrders=t._OPEN_ORDERS_LAYOUT_V2=t._OPEN_ORDERS_LAYOUT_V1=t.Market=t.MARKET_STATE_LAYOUT_V3=t.MARKET_STATE_LAYOUT_V2=t._MARKET_STAT_LAYOUT_V1=void 0;const i=n(12324),o=n(84321),s=n(35366),a=n(2936),u=r(n(48744)),c=n(71256),l=n(31472),d=n(97429),h=n(12463),p=n(63786),f=n(1127);t._MARKET_STAT_LAYOUT_V1=i.struct([i.blob(5),o.accountFlagsLayout("accountFlags"),o.publicKeyLayout("ownAddress"),o.u64("vaultSignerNonce"),o.publicKeyLayout("baseMint"),o.publicKeyLayout("quoteMint"),o.publicKeyLayout("baseVault"),o.u64("baseDepositsTotal"),o.u64("baseFeesAccrued"),o.publicKeyLayout("quoteVault"),o.u64("quoteDepositsTotal"),o.u64("quoteFeesAccrued"),o.u64("quoteDustThreshold"),o.publicKeyLayout("requestQueue"),o.publicKeyLayout("eventQueue"),o.publicKeyLayout("bids"),o.publicKeyLayout("asks"),o.u64("baseLotSize"),o.u64("quoteLotSize"),o.u64("feeRateBps"),i.blob(7)]),t.MARKET_STATE_LAYOUT_V2=i.struct([i.blob(5),o.accountFlagsLayout("accountFlags"),o.publicKeyLayout("ownAddress"),o.u64("vaultSignerNonce"),o.publicKeyLayout("baseMint"),o.publicKeyLayout("quoteMint"),o.publicKeyLayout("baseVault"),o.u64("baseDepositsTotal"),o.u64("baseFeesAccrued"),o.publicKeyLayout("quoteVault"),o.u64("quoteDepositsTotal"),o.u64("quoteFeesAccrued"),o.u64("quoteDustThreshold"),o.publicKeyLayout("requestQueue"),o.publicKeyLayout("eventQueue"),o.publicKeyLayout("bids"),o.publicKeyLayout("asks"),o.u64("baseLotSize"),o.u64("quoteLotSize"),o.u64("feeRateBps"),o.u64("referrerRebatesAccrued"),i.blob(7)]),t.MARKET_STATE_LAYOUT_V3=i.struct([i.blob(5),o.accountFlagsLayout("accountFlags"),o.publicKeyLayout("ownAddress"),o.u64("vaultSignerNonce"),o.publicKeyLayout("baseMint"),o.publicKeyLayout("quoteMint"),o.publicKeyLayout("baseVault"),o.u64("baseDepositsTotal"),o.u64("baseFeesAccrued"),o.publicKeyLayout("quoteVault"),o.u64("quoteDepositsTotal"),o.u64("quoteFeesAccrued"),o.u64("quoteDustThreshold"),o.publicKeyLayout("requestQueue"),o.publicKeyLayout("eventQueue"),o.publicKeyLayout("bids"),o.publicKeyLayout("asks"),o.u64("baseLotSize"),o.u64("quoteLotSize"),o.u64("feeRateBps"),o.u64("referrerRebatesAccrued"),o.publicKeyLayout("authority"),o.publicKeyLayout("pruneAuthority"),o.publicKeyLayout("consumeEventsAuthority"),i.blob(992),i.blob(7)]);class m{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;const{skipPreflight:s=!1,commitment:a="recent"}=r;if(!e.accountFlags.initialized||!e.accountFlags.market)throw new Error("Invalid market state");this._decoded=e,this._baseSplTokenDecimals=t,this._quoteSplTokenDecimals=n,this._skipPreflight=s,this._commitment=a,this._programId=i,this._openOrdersAccountsCache={},this._feeDiscountKeysCache={},this._layoutOverride=o}static getLayout(e){return 1===f.getLayoutVersion(e)?t._MARKET_STAT_LAYOUT_V1:t.MARKET_STATE_LAYOUT_V2}static async findAccountsByMints(e,t,n,r){return A(e,r,[{memcmp:{offset:this.getLayout(r).offsetOf("baseMint"),bytes:t.toBase58()}},{memcmp:{offset:m.getLayout(r).offsetOf("quoteMint"),bytes:n.toBase58()}}])}static async load(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const{owner:o,data:s}=S(await e.getAccountInfo(t),"Market not found");if(!o.equals(r))throw new Error("Address not owned by program: "+o.toBase58());const a=(null!==i&&void 0!==i?i:this.getLayout(r)).decode(s);if(!a.accountFlags.initialized||!a.accountFlags.market||!a.ownAddress.equals(t))throw new Error("Invalid market");const[u,c]=await Promise.all([_(e,a.baseMint),_(e,a.quoteMint)]);return new m(a,u,c,n,r,i)}get programId(){return this._programId}get address(){return this._decoded.ownAddress}get publicKey(){return this.address}get baseMintAddress(){return this._decoded.baseMint}get quoteMintAddress(){return this._decoded.quoteMint}get bidsAddress(){return this._decoded.bids}get asksAddress(){return this._decoded.asks}get decoded(){return this._decoded}async loadBids(e){const{data:t}=S(await e.getAccountInfo(this._decoded.bids));return y.decode(this,t)}async loadAsks(e){const{data:t}=S(await e.getAccountInfo(this._decoded.asks));return y.decode(this,t)}async loadOrdersForOwner(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const[r,i,o]=await Promise.all([this.loadBids(e),this.loadAsks(e),this.findOpenOrdersAccountsForOwner(e,t,n)]);return this.filterForOpenOrders(r,i,o)}filterForOpenOrders(e,t,n){return[...e,...t].filter((e=>n.some((t=>e.openOrdersAddress.equals(t.address)))))}async findBaseTokenAccountsForOwner(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.baseMintAddress.equals(p.WRAPPED_SOL_MINT)&&n){const[n,r]=await Promise.all([this.findBaseTokenAccountsForOwner(e,t,!1),e.getAccountInfo(t)]);return null!==r?[{pubkey:t,account:r},...n]:n}return await this.getTokenAccountsByOwnerForMint(e,t,this.baseMintAddress)}async getTokenAccountsByOwnerForMint(e,t,n){return(await e.getTokenAccountsByOwner(t,{mint:n})).value}async findQuoteTokenAccountsForOwner(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.quoteMintAddress.equals(p.WRAPPED_SOL_MINT)&&n){const[n,r]=await Promise.all([this.findQuoteTokenAccountsForOwner(e,t,!1),e.getAccountInfo(t)]);return null!==r?[{pubkey:t,account:r},...n]:n}return await this.getTokenAccountsByOwnerForMint(e,t,this.quoteMintAddress)}async findOpenOrdersAccountsForOwner(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=t.toBase58(),i=(new Date).getTime();if(r in this._openOrdersAccountsCache&&i-this._openOrdersAccountsCache[r].ts<n)return this._openOrdersAccountsCache[r].accounts;const o=await g.findForMarketAndOwner(e,this.address,t,this._programId);return this._openOrdersAccountsCache[r]={accounts:o,ts:i},o}async replaceOrders(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;var i;if(!t.openOrdersAccount&&!t.openOrdersAddressKey){const n=null!==(i=t.owner.publicKey)&&void 0!==i?i:t.owner,o=await this.findOpenOrdersAccountsForOwner(e,n,r);t.openOrdersAddressKey=o[0].address}const o=new c.Transaction;return o.add(this.makeReplaceOrdersByClientIdsInstruction(t,n)),await this._sendTransaction(e,o,[t.owner])}async placeOrder(e,t){let{owner:n,payer:r,side:i,price:o,size:s,orderType:a="limit",clientId:u,openOrdersAddressKey:c,openOrdersAccount:l,feeDiscountPubkey:d,maxTs:h,replaceIfExists:p=!1}=t;const{transaction:f,signers:m}=await this.makePlaceOrderTransaction(e,{owner:n,payer:r,side:i,price:o,size:s,orderType:a,clientId:u,openOrdersAddressKey:c,openOrdersAccount:l,feeDiscountPubkey:d,maxTs:h,replaceIfExists:p});return await this._sendTransaction(e,f,[n,...m])}getSplTokenBalanceFromAccountInfo(e,t){return b(new u.default(e.data.slice(64,72),10,"le"),new u.default(10).pow(new u.default(t)))}get supportsSrmFeeDiscounts(){return h.supportsSrmFeeDiscounts(this._programId)}get supportsReferralFees(){return f.getLayoutVersion(this._programId)>1}get usesRequestQueue(){return f.getLayoutVersion(this._programId)<=2}async findFeeDiscountKeys(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];const i=(new Date).getTime(),o=t.toBase58();if(o in this._feeDiscountKeysCache&&i-this._feeDiscountKeysCache[o].ts<n)return this._feeDiscountKeysCache[o].accounts;if(this.supportsSrmFeeDiscounts){const n=(await this.getTokenAccountsByOwnerForMint(e,t,p.MSRM_MINT)).map((e=>{let{pubkey:t,account:n}=e;const r=this.getSplTokenBalanceFromAccountInfo(n,p.MSRM_DECIMALS);return{pubkey:t,mint:p.MSRM_MINT,balance:r,feeTier:h.getFeeTier(r,0)}})),i=(await this.getTokenAccountsByOwnerForMint(e,t,p.SRM_MINT)).map((e=>{let{pubkey:t,account:n}=e;const r=this.getSplTokenBalanceFromAccountInfo(n,p.SRM_DECIMALS);return{pubkey:t,mint:p.SRM_MINT,balance:r,feeTier:h.getFeeTier(0,r)}}));r=n.concat(i).sort(((e,t)=>e.feeTier>t.feeTier?-1:e.feeTier<t.feeTier?1:e.balance>t.balance?-1:e.balance<t.balance?1:0))}return this._feeDiscountKeysCache[o]={accounts:r,ts:i},r}async findBestFeeDiscountKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4;const r=await this.findFeeDiscountKeys(e,t,n);return r.length>0?{pubkey:r[0].pubkey,feeTier:r[0].feeTier}:{pubkey:null,feeTier:0}}async makePlaceOrderTransaction(e,t){let{owner:n,payer:r,side:i,price:o,size:s,orderType:a="limit",clientId:u,openOrdersAddressKey:l,openOrdersAccount:d,feeDiscountPubkey:h,selfTradeBehavior:f="decrementTake",maxTs:m,replaceIfExists:y=!1}=t,w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;var v,_;const A=null!==(v=n.publicKey)&&void 0!==v?v:n,S=await this.findOpenOrdersAccountsForOwner(e,A,w),k=new c.Transaction,E=[];let T,I;if(T=h||(void 0===h&&this.supportsSrmFeeDiscounts?(await this.findBestFeeDiscountKey(e,A,b)).pubkey:null),0===S.length){let t;t=d||new c.Account,k.add(await g.makeCreateAccountTransaction(e,this.address,A,t.publicKey,this._programId)),I=t.publicKey,E.push(t),this._openOrdersAccountsCache[A.toBase58()].ts=0}else I=d?d.publicKey:l||S[0].address;let P=null;if(r.equals(A)){if(!("buy"===i&&this.quoteMintAddress.equals(p.WRAPPED_SOL_MINT)||"sell"===i&&this.baseMintAddress.equals(p.WRAPPED_SOL_MINT)))throw new Error("Invalid payer account");{let e;P=new c.Account,"buy"===i?(e=Math.round(o*s*1.01*c.LAMPORTS_PER_SOL),S.length>0&&(e-=S[0].quoteTokenFree.toNumber())):(e=Math.round(s*c.LAMPORTS_PER_SOL),S.length>0&&(e-=S[0].baseTokenFree.toNumber())),e=Math.max(e,0)+1e7,k.add(c.SystemProgram.createAccount({fromPubkey:A,newAccountPubkey:P.publicKey,lamports:e,space:165,programId:p.TOKEN_PROGRAM_ID})),k.add(p.initializeAccount({account:P.publicKey,mint:p.WRAPPED_SOL_MINT,owner:A})),E.push(P)}}const x=this.makePlaceOrderInstruction(e,{owner:n,payer:null!==(_=null===P||void 0===P?void 0:P.publicKey)&&void 0!==_?_:r,side:i,price:o,size:s,orderType:a,clientId:u,openOrdersAddressKey:I,feeDiscountPubkey:T,selfTradeBehavior:f,maxTs:m,replaceIfExists:y});return k.add(x),P&&k.add(p.closeAccount({source:P.publicKey,destination:A,owner:A})),{transaction:k,signers:E,payer:n}}makePlaceOrderInstruction(e,t){var n;const{owner:r,payer:i,side:o,price:s,size:c,orderType:l="limit",clientId:d,openOrdersAddressKey:h,openOrdersAccount:p,feeDiscountPubkey:f=null}=t,m=null!==(n=r.publicKey)&&void 0!==n?n:r;if(this.baseSizeNumberToLots(c).lte(new u.default(0)))throw new Error("size too small");if(this.priceNumberToLots(s).lte(new u.default(0)))throw new Error("invalid price");return this.usesRequestQueue?a.DexInstructions.newOrder({market:this.address,requestQueue:this._decoded.requestQueue,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,openOrders:p?p.publicKey:h,owner:m,payer:i,side:o,limitPrice:this.priceNumberToLots(s),maxQuantity:this.baseSizeNumberToLots(c),orderType:l,clientId:d,programId:this._programId,feeDiscountPubkey:this.supportsSrmFeeDiscounts?f:null}):this.makeNewOrderV3Instruction(t)}makeNewOrderV3Instruction(e){var t;const{owner:n,payer:r,side:i,price:o,size:s,orderType:c="limit",clientId:l,openOrdersAddressKey:d,openOrdersAccount:h,feeDiscountPubkey:p=null,selfTradeBehavior:f="decrementTake",programId:m,maxTs:g,replaceIfExists:y}=e,w=null!==(t=n.publicKey)&&void 0!==t?t:n;return a.DexInstructions.newOrderV3({market:this.address,bids:this._decoded.bids,asks:this._decoded.asks,requestQueue:this._decoded.requestQueue,eventQueue:this._decoded.eventQueue,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,openOrders:h?h.publicKey:d,owner:w,payer:r,side:i,limitPrice:this.priceNumberToLots(o),maxBaseQuantity:this.baseSizeNumberToLots(s),maxQuoteQuantity:new u.default(this._decoded.quoteLotSize.toNumber()).mul(this.baseSizeNumberToLots(s).mul(this.priceNumberToLots(o))),orderType:c,clientId:l,programId:null!==m&&void 0!==m?m:this._programId,selfTradeBehavior:f,feeDiscountPubkey:this.supportsSrmFeeDiscounts?p:null,maxTs:g,replaceIfExists:y})}makeReplaceOrdersByClientIdsInstruction(e,t){var n,r;const i=null!==(n=e.owner.publicKey)&&void 0!==n?n:e.owner;return a.DexInstructions.replaceOrdersByClientIds({market:this.address,bids:this._decoded.bids,asks:this._decoded.asks,requestQueue:this._decoded.requestQueue,eventQueue:this._decoded.eventQueue,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,openOrders:e.openOrdersAccount?e.openOrdersAccount.publicKey:e.openOrdersAddressKey,owner:i,payer:e.payer,programId:null!==(r=e.programId)&&void 0!==r?r:this._programId,feeDiscountPubkey:this.supportsSrmFeeDiscounts?e.feeDiscountPubkey:null,orders:t.map((t=>{var n;return{side:t.side,limitPrice:this.priceNumberToLots(t.price),maxBaseQuantity:this.baseSizeNumberToLots(t.size),maxQuoteQuantity:new u.default(this._decoded.quoteLotSize.toNumber()).mul(this.baseSizeNumberToLots(t.size).mul(this.priceNumberToLots(t.price))),orderType:t.orderType,clientId:t.clientId,programId:null!==(n=e.programId)&&void 0!==n?n:this._programId,selfTradeBehavior:t.selfTradeBehavior,maxTs:t.maxTs}}))})}async _sendTransaction(e,t,n){const r=await e.sendTransaction(t,n,{skipPreflight:this._skipPreflight}),{value:i}=await e.confirmTransaction(r,this._commitment);if(null===i||void 0===i?void 0:i.err)throw new Error(JSON.stringify(i.err));return r}async cancelOrderByClientId(e,t,n,r){const i=await this.makeCancelOrderByClientIdTransaction(e,t.publicKey,n,r);return await this._sendTransaction(e,i,[t])}async cancelOrdersByClientIds(e,t,n,r){const i=await this.makeCancelOrdersByClientIdsTransaction(e,t.publicKey,n,r);return await this._sendTransaction(e,i,[t])}async makeCancelOrderByClientIdTransaction(e,t,n,r){const i=new c.Transaction;return this.usesRequestQueue?i.add(a.DexInstructions.cancelOrderByClientId({market:this.address,owner:t,openOrders:n,requestQueue:this._decoded.requestQueue,clientId:r,programId:this._programId})):i.add(a.DexInstructions.cancelOrderByClientIdV2({market:this.address,openOrders:n,owner:t,bids:this._decoded.bids,asks:this._decoded.asks,eventQueue:this._decoded.eventQueue,clientId:r,programId:this._programId})),i}async makeCancelOrdersByClientIdsTransaction(e,t,n,r){const i=new c.Transaction;return i.add(a.DexInstructions.cancelOrdersByClientIds({market:this.address,openOrders:n,owner:t,bids:this._decoded.bids,asks:this._decoded.asks,eventQueue:this._decoded.eventQueue,clientIds:r,programId:this._programId})),i}async cancelOrder(e,t,n){const r=await this.makeCancelOrderTransaction(e,t.publicKey,n);return await this._sendTransaction(e,r,[t])}async makeCancelOrderTransaction(e,t,n){const r=new c.Transaction;return r.add(this.makeCancelOrderInstruction(e,t,n)),r}makeCancelOrderInstruction(e,t,n){return this.usesRequestQueue?a.DexInstructions.cancelOrder({market:this.address,owner:t,openOrders:n.openOrdersAddress,requestQueue:this._decoded.requestQueue,side:n.side,orderId:n.orderId,openOrdersSlot:n.openOrdersSlot,programId:this._programId}):a.DexInstructions.cancelOrderV2({market:this.address,owner:t,openOrders:n.openOrdersAddress,bids:this._decoded.bids,asks:this._decoded.asks,eventQueue:this._decoded.eventQueue,side:n.side,orderId:n.orderId,openOrdersSlot:n.openOrdersSlot,programId:this._programId})}makeConsumeEventsInstruction(e,t){return a.DexInstructions.consumeEvents({market:this.address,eventQueue:this._decoded.eventQueue,coinFee:this._decoded.eventQueue,pcFee:this._decoded.eventQueue,openOrdersAccounts:e,limit:t,programId:this._programId})}makeConsumeEventsPermissionedInstruction(e,t){return a.DexInstructions.consumeEventsPermissioned({market:this.address,eventQueue:this._decoded.eventQueue,crankAuthority:this._decoded.consumeEventsAuthority,openOrdersAccounts:e,limit:t,programId:this._programId})}async settleFunds(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(!n.owner.equals(t.publicKey))throw new Error("Invalid open orders account");if(o&&!this.supportsReferralFees)throw new Error("This program ID does not support referrerQuoteWallet");const{transaction:s,signers:a}=await this.makeSettleFundsTransaction(e,n,r,i,o);return await this._sendTransaction(e,s,[t,...a])}async makeSettleFundsTransaction(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const o=await c.PublicKey.createProgramAddress([this.address.toBuffer(),this._decoded.vaultSignerNonce.toArrayLike(d.Buffer,"le",8)],this._programId),s=new c.Transaction,u=[];let l=null;return(this.baseMintAddress.equals(p.WRAPPED_SOL_MINT)&&n.equals(t.owner)||this.quoteMintAddress.equals(p.WRAPPED_SOL_MINT)&&r.equals(t.owner))&&(l=new c.Account,s.add(c.SystemProgram.createAccount({fromPubkey:t.owner,newAccountPubkey:l.publicKey,lamports:await e.getMinimumBalanceForRentExemption(165),space:165,programId:p.TOKEN_PROGRAM_ID})),s.add(p.initializeAccount({account:l.publicKey,mint:p.WRAPPED_SOL_MINT,owner:t.owner})),u.push(l)),s.add(a.DexInstructions.settleFunds({market:this.address,openOrders:t.address,owner:t.owner,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,baseWallet:n.equals(t.owner)&&l?l.publicKey:n,quoteWallet:r.equals(t.owner)&&l?l.publicKey:r,vaultSigner:o,programId:this._programId,referrerQuoteWallet:i})),l&&s.add(p.closeAccount({source:l.publicKey,destination:t.owner,owner:t.owner})),{transaction:s,signers:u,payer:t.owner}}async matchOrders(e,t,n){const r=this.makeMatchOrdersTransaction(n);return await this._sendTransaction(e,r,[t])}makeMatchOrdersTransaction(e){const t=new c.Transaction;return t.add(a.DexInstructions.matchOrders({market:this.address,requestQueue:this._decoded.requestQueue,eventQueue:this._decoded.eventQueue,bids:this._decoded.bids,asks:this._decoded.asks,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,limit:e,programId:this._programId})),t}async loadRequestQueue(e){const{data:t}=S(await e.getAccountInfo(this._decoded.requestQueue));return l.decodeRequestQueue(t)}async loadEventQueue(e){const{data:t}=S(await e.getAccountInfo(this._decoded.eventQueue));return l.decodeEventQueue(t)}async loadFills(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const{data:n}=S(await e.getAccountInfo(this._decoded.eventQueue));return l.decodeEventQueue(n,t).filter((e=>e.eventFlags.fill&&e.nativeQuantityPaid.gtn(0))).map(this.parseFillEvent.bind(this))}parseFillEvent(e){let t,n,r,i;return e.eventFlags.bid?(r="buy",i=e.eventFlags.maker?e.nativeQuantityPaid.add(e.nativeFeeOrRebate):e.nativeQuantityPaid.sub(e.nativeFeeOrRebate),n=b(i.mul(this._baseSplTokenMultiplier),this._quoteSplTokenMultiplier.mul(e.nativeQuantityReleased)),t=b(e.nativeQuantityReleased,this._baseSplTokenMultiplier)):(r="sell",i=e.eventFlags.maker?e.nativeQuantityReleased.sub(e.nativeFeeOrRebate):e.nativeQuantityReleased.add(e.nativeFeeOrRebate),n=b(i.mul(this._baseSplTokenMultiplier),this._quoteSplTokenMultiplier.mul(e.nativeQuantityPaid)),t=b(e.nativeQuantityPaid,this._baseSplTokenMultiplier)),{...e,side:r,price:n,feeCost:this.quoteSplSizeToNumber(e.nativeFeeOrRebate)*(e.eventFlags.maker?-1:1),size:t}}get _baseSplTokenMultiplier(){return new u.default(10).pow(new u.default(this._baseSplTokenDecimals))}get _quoteSplTokenMultiplier(){return new u.default(10).pow(new u.default(this._quoteSplTokenDecimals))}priceLotsToNumber(e){return b(e.mul(this._decoded.quoteLotSize).mul(this._baseSplTokenMultiplier),this._decoded.baseLotSize.mul(this._quoteSplTokenMultiplier))}priceNumberToLots(e){return new u.default(Math.round(e*Math.pow(10,this._quoteSplTokenDecimals)*this._decoded.baseLotSize.toNumber()/(Math.pow(10,this._baseSplTokenDecimals)*this._decoded.quoteLotSize.toNumber())))}baseSplSizeToNumber(e){return b(e,this._baseSplTokenMultiplier)}quoteSplSizeToNumber(e){return b(e,this._quoteSplTokenMultiplier)}baseSizeLotsToNumber(e){return b(e.mul(this._decoded.baseLotSize),this._baseSplTokenMultiplier)}baseSizeNumberToLots(e){return new u.default(Math.round(e*Math.pow(10,this._baseSplTokenDecimals))).div(this._decoded.baseLotSize)}quoteSizeLotsToNumber(e){return b(e.mul(this._decoded.quoteLotSize),this._quoteSplTokenMultiplier)}quoteSizeNumberToLots(e){return new u.default(Math.round(e*Math.pow(10,this._quoteSplTokenDecimals))).div(this._decoded.quoteLotSize)}get minOrderSize(){return this.baseSizeLotsToNumber(new u.default(1))}get tickSize(){return this.priceLotsToNumber(new u.default(1))}}t.Market=m,t._OPEN_ORDERS_LAYOUT_V1=i.struct([i.blob(5),o.accountFlagsLayout("accountFlags"),o.publicKeyLayout("market"),o.publicKeyLayout("owner"),o.u64("baseTokenFree"),o.u64("baseTokenTotal"),o.u64("quoteTokenFree"),o.u64("quoteTokenTotal"),o.u128("freeSlotBits"),o.u128("isBidBits"),i.seq(o.u128(),128,"orders"),i.seq(o.u64(),128,"clientIds"),i.blob(7)]),t._OPEN_ORDERS_LAYOUT_V2=i.struct([i.blob(5),o.accountFlagsLayout("accountFlags"),o.publicKeyLayout("market"),o.publicKeyLayout("owner"),o.u64("baseTokenFree"),o.u64("baseTokenTotal"),o.u64("quoteTokenFree"),o.u64("quoteTokenTotal"),o.u128("freeSlotBits"),o.u128("isBidBits"),i.seq(o.u128(),128,"orders"),i.seq(o.u64(),128,"clientIds"),o.u64("referrerRebatesAccrued"),i.blob(7)]);class g{constructor(e,t,n){this.address=e,this._programId=n,Object.assign(this,t)}static getLayout(e){return 1===f.getLayoutVersion(e)?t._OPEN_ORDERS_LAYOUT_V1:t._OPEN_ORDERS_LAYOUT_V2}static async findForOwner(e,t,n){const r=[{memcmp:{offset:this.getLayout(n).offsetOf("owner"),bytes:t.toBase58()}},{dataSize:this.getLayout(n).span}];return(await A(e,n,r)).map((e=>{let{publicKey:t,accountInfo:r}=e;return g.fromAccountInfo(t,r,n)}))}static async findForMarketAndOwner(e,t,n,r){const i=[{memcmp:{offset:this.getLayout(r).offsetOf("market"),bytes:t.toBase58()}},{memcmp:{offset:this.getLayout(r).offsetOf("owner"),bytes:n.toBase58()}},{dataSize:this.getLayout(r).span}];return(await A(e,r,i)).map((e=>{let{publicKey:t,accountInfo:n}=e;return g.fromAccountInfo(t,n,r)}))}static async load(e,t,n){const r=await e.getAccountInfo(t);if(null===r)throw new Error("Open orders account not found");return g.fromAccountInfo(t,r,n)}static fromAccountInfo(e,t,n){const{owner:r,data:i}=t;if(!r.equals(n))throw new Error("Address not owned by program");const o=this.getLayout(n).decode(i);if(!o.accountFlags.initialized||!o.accountFlags.openOrders)throw new Error("Invalid open orders account");return new g(e,o,n)}static async makeCreateAccountTransaction(e,t,n,r,i){return c.SystemProgram.createAccount({fromPubkey:n,newAccountPubkey:r,lamports:await e.getMinimumBalanceForRentExemption(this.getLayout(i).span),space:this.getLayout(i).span,programId:i})}get publicKey(){return this.address}}t.OpenOrders=g,t.ORDERBOOK_LAYOUT=i.struct([i.blob(5),o.accountFlagsLayout("accountFlags"),s.SLAB_LAYOUT.replicate("slab"),i.blob(7)]);class y{constructor(e,t,n){if(!t.initialized||!(t.bids^t.asks))throw new Error("Invalid orderbook");this.market=e,this.isBids=t.bids,this.slab=n}static get LAYOUT(){return t.ORDERBOOK_LAYOUT}static decode(e,n){const{accountFlags:r,slab:i}=t.ORDERBOOK_LAYOUT.decode(n);return new y(e,r,i)}getL2(e){const t=this.isBids,n=[];for(const{key:r,quantity:i}of this.slab.items(t)){const t=w(r);if(n.length>0&&n[n.length-1][0].eq(t))n[n.length-1][1]=n[n.length-1][1].add(i);else{if(n.length===e)break;n.push([t,i])}}return n.map((e=>{let[t,n]=e;return[this.market.priceLotsToNumber(t),this.market.baseSizeLotsToNumber(n),t,n]}))}[Symbol.iterator](){return this.items(!1)}*items(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(const{key:t,ownerSlot:n,owner:r,quantity:i,feeTier:o,clientOrderId:s}of this.slab.items(e)){const e=w(t);yield{orderId:t,clientId:s,openOrdersAddress:r,openOrdersSlot:n,feeTier:o,price:this.market.priceLotsToNumber(e),priceLots:e,size:this.market.baseSizeLotsToNumber(i),sizeLots:i,side:this.isBids?"buy":"sell"}}}}function w(e){return e.ushrn(64)}function b(e,t){const n=e.div(t).toNumber(),r=e.umod(t),i=r.gcd(t);return n+r.div(i).toNumber()/t.div(i).toNumber()}t.Orderbook=y;const v=i.struct([i.blob(44),i.u8("decimals"),i.blob(37)]);async function _(e,t){if(t.equals(p.WRAPPED_SOL_MINT))return 9;const{data:n}=S(await e.getAccountInfo(t),"mint not found"),{decimals:r}=v.decode(n);return r}async function A(e,t,n){const r=await e._rpcRequest("getProgramAccounts",[t.toBase58(),{commitment:e.commitment,filters:n,encoding:"base64"}]);if(r.error)throw new Error(r.error.message);return r.result.map((e=>{let{pubkey:t,account:{data:n,executable:r,owner:i,lamports:o}}=e;return{publicKey:new c.PublicKey(t),accountInfo:{data:d.Buffer.from(n[0],"base64"),executable:r,owner:new c.PublicKey(i),lamports:o}}}))}function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"account not found";if(null===e)throw new Error(t);return e}t.getMintDecimals=_},31472:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_QUEUE_LAYOUT=t.REQUEST_QUEUE_LAYOUT=t.decodeEventQueue=t.decodeRequestQueue=t.decodeEventsSince=void 0;const r=n(12324),i=n(84321),o=r.struct([r.blob(5),i.accountFlagsLayout("accountFlags"),r.u32("head"),i.zeros(4),r.u32("count"),i.zeros(4),r.u32("nextSeqNum"),i.zeros(4)]),s=r.bits(r.u8(),!1,"requestFlags");s.addBoolean("newOrder"),s.addBoolean("cancelOrder"),s.addBoolean("bid"),s.addBoolean("postOnly"),s.addBoolean("ioc");const a=r.struct([s,r.u8("openOrdersSlot"),r.u8("feeTier"),r.blob(5),i.u64("maxBaseSizeOrCancelId"),i.u64("nativeQuoteQuantityLocked"),i.u128("orderId"),i.publicKeyLayout("openOrders"),i.u64("clientOrderId")]),u=r.struct([r.blob(5),i.accountFlagsLayout("accountFlags"),r.u32("head"),i.zeros(4),r.u32("count"),i.zeros(4),r.u32("seqNum"),i.zeros(4)]),c=r.bits(r.u8(),!1,"eventFlags");c.addBoolean("fill"),c.addBoolean("out"),c.addBoolean("bid"),c.addBoolean("maker");const l=r.struct([c,r.u8("openOrdersSlot"),r.u8("feeTier"),r.blob(5),i.u64("nativeQuantityReleased"),i.u64("nativeQuantityPaid"),i.u64("nativeFeeOrRebate"),i.u128("orderId"),i.publicKeyLayout("openOrders"),i.u64("clientOrderId")]);function d(e,t,n,r){return t.decode(n,e.span+r*t.span)}function h(e,t,n,r){const i=e.decode(n),o=Math.floor((n.length-e.span)/t.span),s=[];if(r)for(let a=0;a<Math.min(r,o);++a){const r=(i.head+i.count+o-1-a)%o;s.push(d(e,t,n,r))}else for(let a=0;a<i.count;++a){const r=(i.head+a)%o;s.push(d(e,t,n,r))}return{header:i,nodes:s}}t.decodeEventsSince=function(e,t){const n=u.decode(e),r=Math.floor((e.length-u.span)/l.span),i=4294967296;let o=(n.seqNum-t+i)%i;o>r&&(o=r-1);const s=(n.seqNum-o+i)%i,a=((n.head+n.count)%r-o+r)%r,c=[];for(let h=0;h<o;++h){const t=d(u,l,e,(a+h)%r);t.seqNum=(s+h)%i,c.push(t)}return c},t.decodeRequestQueue=function(e,t){const{header:n,nodes:r}=h(o,a,e,t);if(!n.accountFlags.initialized||!n.accountFlags.requestQueue)throw new Error("Invalid requests queue");return r},t.decodeEventQueue=function(e,t){const{header:n,nodes:r}=h(u,l,e,t);if(!n.accountFlags.initialized||!n.accountFlags.eventQueue)throw new Error("Invalid events queue");return r},t.REQUEST_QUEUE_LAYOUT={HEADER:o,NODE:a},t.EVENT_QUEUE_LAYOUT={HEADER:u,NODE:l}},35366:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Slab=t.SLAB_LAYOUT=void 0;const i=r(n(48744)),o=n(12324),s=n(84321),a=o.struct([o.u32("bumpIndex"),s.zeros(4),o.u32("freeListLen"),s.zeros(4),o.u32("freeListHead"),o.u32("root"),o.u32("leafCount"),s.zeros(4)],"header"),u=o.union(o.u32("tag"),o.blob(68),"node");u.addVariant(0,o.struct([]),"uninitialized"),u.addVariant(1,o.struct([o.u32("prefixLen"),s.u128("key"),o.seq(o.u32(),2,"children")]),"innerNode"),u.addVariant(2,o.struct([o.u8("ownerSlot"),o.u8("feeTier"),o.blob(2),s.u128("key"),s.publicKeyLayout("owner"),s.u64("quantity"),s.u64("clientOrderId")]),"leafNode"),u.addVariant(3,o.struct([o.u32("next")]),"freeNode"),u.addVariant(4,o.struct([]),"lastFreeNode"),t.SLAB_LAYOUT=o.struct([a,o.seq(u,o.offset(a.layoutFor("bumpIndex"),a.offsetOf("bumpIndex")-a.span),"nodes")]);class c{constructor(e,t){this.header=e,this.nodes=t}static decode(e){return t.SLAB_LAYOUT.decode(e)}get(e){if(0===this.header.leafCount)return null;e instanceof i.default||(e=new i.default(e));let t=this.header.root;for(;;){const{leafNode:n,innerNode:r}=this.nodes[t];if(n)return n.key.eq(e)?n:null;if(!r)throw new Error("Invalid slab");if(!r.key.xor(e).iushrn(128-r.prefixLen).isZero())return null;t=r.children[e.testn(128-r.prefixLen-1)?1:0]}}[Symbol.iterator](){return this.items(!1)}*items(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0===this.header.leafCount)return;const t=[this.header.root];for(;t.length>0;){const n=t.pop(),{leafNode:r,innerNode:i}=this.nodes[n];r?yield r:i&&(e?t.push(i.children[0],i.children[1]):t.push(i.children[1],i.children[0]))}}}t.Slab=c,s.setLayoutDecoder(t.SLAB_LAYOUT,(e=>{let{header:t,nodes:n}=e;return new c(t,n)}))},63786:function(e,t,n){"use strict";var r=n(97429).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.closeAccount=t.mintTo=t.setAuthority=t.revoke=t.approve=t.transfer=t.initializeAccount=t.initializeMint=t.decodeTokenInstructionData=t.SRM_DECIMALS=t.SRM_MINT=t.MSRM_DECIMALS=t.MSRM_MINT=t.WRAPPED_SOL_MINT=t.TOKEN_PROGRAM_ID=t.CLOSE_ACCOUNT_OWNER_INDEX=t.CLOSE_ACCOUNT_DESTINATION_INDEX=t.CLOSE_ACCOUNT_SOURCE_INDEX=t.TRANSFER_OWNER_INDEX=t.TRANSFER_DESTINATION_INDEX=t.TRANSFER_SOURCE_INDEX=t.INITIALIZE_ACCOUNT_OWNER_INDEX=t.INITIALIZE_ACCOUNT_MINT_INDEX=t.INITIALIZE_ACCOUNT_ACCOUNT_INDEX=void 0;const a=s(n(12324)),u=n(71256),c=n(84321);t.INITIALIZE_ACCOUNT_ACCOUNT_INDEX=0,t.INITIALIZE_ACCOUNT_MINT_INDEX=1,t.INITIALIZE_ACCOUNT_OWNER_INDEX=2,t.TRANSFER_SOURCE_INDEX=0,t.TRANSFER_DESTINATION_INDEX=1,t.TRANSFER_OWNER_INDEX=2,t.CLOSE_ACCOUNT_SOURCE_INDEX=0,t.CLOSE_ACCOUNT_DESTINATION_INDEX=1,t.CLOSE_ACCOUNT_OWNER_INDEX=2,t.TOKEN_PROGRAM_ID=new u.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),t.WRAPPED_SOL_MINT=new u.PublicKey("So11111111111111111111111111111111111111112"),t.MSRM_MINT=new u.PublicKey("MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L"),t.MSRM_DECIMALS=0,t.SRM_MINT=new u.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),t.SRM_DECIMALS=6;const l=a.union(a.u8("instruction"));l.addVariant(0,a.struct([a.u8("decimals"),c.publicKeyLayout("mintAuthority"),a.u8("freezeAuthorityOption"),c.publicKeyLayout("freezeAuthority")]),"initializeMint"),l.addVariant(1,a.struct([]),"initializeAccount"),l.addVariant(3,a.struct([a.nu64("amount")]),"transfer"),l.addVariant(4,a.struct([a.nu64("amount")]),"approve"),l.addVariant(5,a.struct([]),"revoke"),l.addVariant(6,a.struct([a.u8("authorityType"),a.u8("newAuthorityOption"),c.publicKeyLayout("newAuthority")]),"setAuthority"),l.addVariant(7,a.struct([a.nu64("amount")]),"mintTo"),l.addVariant(8,a.struct([a.nu64("amount")]),"burn"),l.addVariant(9,a.struct([]),"closeAccount");const d=Math.max(...Object.values(l.registry).map((e=>e.span)));function h(e){const t=r.alloc(d),n=l.encode(e,t);return t.slice(0,n)}t.decodeTokenInstructionData=function(e){return l.decode(e)},t.initializeMint=function(e){let{mint:n,decimals:r,mintAuthority:i,freezeAuthority:o=null}=e;const s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new u.TransactionInstruction({keys:s,data:h({initializeMint:{decimals:r,mintAuthority:i,freezeAuthorityOption:!!o,freezeAuthority:o||new u.PublicKey(0)}}),programId:t.TOKEN_PROGRAM_ID})},t.initializeAccount=function(e){let{account:n,mint:r,owner:i}=e;const o=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new u.TransactionInstruction({keys:o,data:h({initializeAccount:{}}),programId:t.TOKEN_PROGRAM_ID})},t.transfer=function(e){let{source:n,destination:r,amount:i,owner:o}=e;const s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:s,data:h({transfer:{amount:i}}),programId:t.TOKEN_PROGRAM_ID})},t.approve=function(e){let{source:n,delegate:r,amount:i,owner:o}=e;const s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:s,data:h({approve:{amount:i}}),programId:t.TOKEN_PROGRAM_ID})},t.revoke=function(e){let{source:n,owner:r}=e;const i=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:i,data:h({revoke:{}}),programId:t.TOKEN_PROGRAM_ID})},t.setAuthority=function(e){let{target:n,currentAuthority:r,newAuthority:i,authorityType:o}=e;const s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:s,data:h({setAuthority:{authorityType:o,newAuthorityOption:!!i,newAuthority:i}}),programId:t.TOKEN_PROGRAM_ID})},t.mintTo=function(e){let{mint:n,destination:r,amount:i,mintAuthority:o}=e;const s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:s,data:h({mintTo:{amount:i}}),programId:t.TOKEN_PROGRAM_ID})},t.closeAccount=function(e){let{source:n,destination:r,owner:i}=e;const o=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:o,data:h({closeAccount:{}}),programId:t.TOKEN_PROGRAM_ID})}},1127:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MARKETS=t.TOKEN_MINTS=t.getLayoutVersion=t.PROGRAM_LAYOUT_VERSIONS=void 0;const i=n(71256),o=r(n(80104)),s=r(n(7458));t.PROGRAM_LAYOUT_VERSIONS={"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn":1,BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg:1,EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o:2,"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin":3},t.getLayoutVersion=function(e){return t.PROGRAM_LAYOUT_VERSIONS[e.toString()]||3},t.TOKEN_MINTS=s.default.map((e=>({address:new i.PublicKey(e.address),name:e.name}))),t.MARKETS=o.default.map((e=>({address:new i.PublicKey(e.address),name:e.name,programId:new i.PublicKey(e.programId),deprecated:e.deprecated})))},93453:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccountClient:()=>De,AccountsCoder:()=>X,BN:()=>g(),Coder:()=>le,EventCoder:()=>ne,InstructionCoder:()=>G,Program:()=>Je,Provider:()=>v,StateClient:()=>Me,StateCoder:()=>ue,TypesCoder:()=>$,Wallet:()=>_,getProvider:()=>S,setProvider:()=>A,utils:()=>p,web3:()=>y,workspace:()=>$e});var r={};n.r(r),n.d(r,{isSet:()=>se,set:()=>oe});var i={};n.r(i),n.d(i,{associated:()=>Ee,createProgramAddressSync:()=>Ae,createWithSeedSync:()=>_e,findProgramAddressSync:()=>Se});var o={};n.r(o),n.d(o,{decode:()=>qe,encode:()=>je});var s={};n.r(s),n.d(s,{decode:()=>Ke,encode:()=>Ve});var a={};n.r(a),n.d(a,{decode:()=>Ge,encode:()=>He});var u={};n.r(u),n.d(u,{decode:()=>Xe,encode:()=>Qe});var c={};n.r(c),n.d(c,{base64:()=>u,bs58:()=>a,hex:()=>o,utf8:()=>s});var l={};n.r(l),n.d(l,{hash:()=>et});var d={};n.r(d),n.d(d,{getMultipleAccounts:()=>rt,invoke:()=>nt});var h={};n.r(h),n.d(h,{associatedAddress:()=>st});var p={};n.r(p),n.d(p,{bytes:()=>c,features:()=>r,publicKey:()=>i,rpc:()=>d,sha256:()=>l,token:()=>h});var f,m=n(48744),g=n.n(m),y=n(71256);const w="undefined"!==typeof window&&!(null===(f=window.process)||void 0===f?void 0:f.hasOwnProperty("type"));var b=n(97429).Buffer;class v{constructor(e,t,n){this.connection=e,this.wallet=t,this.opts=n}static defaultOptions(){return{preflightCommitment:"recent",commitment:"recent"}}static local(e,t){t=null!==t&&void 0!==t?t:v.defaultOptions();const n=new y.Connection(null!==e&&void 0!==e?e:"http://localhost:8899",t.preflightCommitment),r=_.local();return new v(n,r,t)}static env(){if(w)return;const e=n(26477).env.ANCHOR_PROVIDER_URL;if(void 0===e)throw new Error("ANCHOR_PROVIDER_URL is not defined");const t=v.defaultOptions(),r=new y.Connection(e,t.commitment),i=_.local();return new v(r,i,t)}async send(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)}));const r=e.serialize();return await(0,y.sendAndConfirmRawTransaction)(this.connection,r,n)}async sendAll(e,t){void 0===t&&(t=this.opts);const n=await this.connection.getRecentBlockhash(t.preflightCommitment);let r=e.map((e=>{let t=e.tx,r=e.signers;return void 0===r&&(r=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=n.blockhash,r.filter((e=>void 0!==e)).forEach((e=>{t.partialSign(e)})),t}));const i=await this.wallet.signAllTransactions(r),o=[];for(let s=0;s<r.length;s+=1){const e=i[s].serialize();o.push(await(0,y.sendAndConfirmRawTransaction)(this.connection,e,t))}return o}async simulate(e,t,n){var r,i;return void 0===t&&(t=[]),void 0===n&&(n=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(r=n.preflightCommitment)&&void 0!==r?r:this.opts.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)})),await async function(e,t,n){t.recentBlockhash=await e._recentBlockhash(e._disableBlockhashCaching);const r=t.serializeMessage(),i=t._serialize(r).toString("base64"),o=[i,{encoding:"base64",commitment:n}],s=await e._rpcRequest("simulateTransaction",o);if(s.error)throw new Error("failed to simulate transaction: "+s.error.message);return s.result}(this.connection,e,null!==(i=n.commitment)&&void 0!==i?i:this.opts.commitment)}}class _{constructor(e){this.payer=e}static local(){const e=y.Keypair.fromSecretKey(b.from(JSON.parse(n(55555).readFileSync(n(84466).homedir()+"/.config/solana/id.json",{encoding:"utf-8"}))));return new _(e)}async signTransaction(e){return e.partialSign(this.payer),e}async signAllTransactions(e){return e.map((e=>(e.partialSign(this.payer),e)))}get publicKey(){return this.payer.publicKey}}function A(e){k=e}function S(){return null===k?v.local():k}let k=null;var E=n(8511),T=n.n(E),I=n(26434),P=n(68532);class x extends Error{}class M extends Error{constructor(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];super(...r),this.code=e,this.msg=t}static parse(e,t){let n,r=e.toString().split("custom program error: ");if(2!==r.length)return null;try{n=parseInt(r[1])}catch(o){return null}let i=t.get(n);return void 0!==i?new M(n,i):(i=O.get(n),void 0!==i?new M(n,i):null)}toString(){return this.msg}}const O=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[120,"The program was compiled without idl instructions"],[121,"The transaction was given an invalid program for the IDL instruction"],[140,"A mut constraint was violated"],[141,"A has_one constraint was violated"],[142,"A signer constraint was violated"],[143,"A raw constraint as violated"],[144,"An owner constraint was violated"],[145,"A rent exempt constraint was violated"],[146,"A seeds constraint was violated"],[147,"An executable constraint was violated"],[148,"A state constraint was violated"],[149,"An associated constraint was violated"],[150,"An associated init constraint was violated"],[151,"A close constraint was violated"],[152,"An address constraint was violated"],[160,"The account discriminator was already set on this account"],[161,"No 8 byte discriminator was found on the account"],[162,"8 byte discriminator did not match what was expected"],[163,"Failed to deserialize the account"],[164,"Failed to serialize the account"],[165,"Not enough account keys given to the instruction"],[166,"The given account is not mutable"],[167,"The given account is not owned by the executing program"],[180,"The given state account does not have the correct address"],[299,"The API being used is deprecated and should no longer be used"]]);class B{static fieldLayout(e,t){const n=void 0!==e.name?T()(e.name):void 0;switch(e.type){case"bool":return I.bool(n);case"u8":return I.u8(n);case"i8":return I.i8(n);case"u16":return I.u16(n);case"i16":return I.i16(n);case"u32":return I.u32(n);case"i32":return I.i32(n);case"u64":return I.u64(n);case"i64":return I.i64(n);case"u128":return I.u128(n);case"i128":return I.i128(n);case"bytes":return I.vecU8(n);case"string":return I.str(n);case"publicKey":return I.publicKey(n);default:if(e.type.vec)return I.vec(B.fieldLayout({name:void 0,type:e.type.vec},t),n);if(e.type.option)return I.option(B.fieldLayout({name:void 0,type:e.type.option},t),n);if(e.type.defined){if(void 0===t)throw new x("User defined types not provided");const r=t.filter((t=>t.name===e.type.defined));if(1!==r.length)throw new x(`Type not found: ${JSON.stringify(e)}`);return B.typeDefLayout(r[0],t,n)}if(e.type.array){let r=e.type.array[0],i=e.type.array[1],o=B.fieldLayout({name:void 0,type:r},t);return I.array(o,i,n)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,t,n){if("struct"===e.type.kind){const r=e.type.fields.map((e=>B.fieldLayout(e,t)));return I.struct(r,n)}if("enum"===e.type.kind){let r=e.type.variants.map((e=>{const n=T()(e.name);if(void 0===e.fields)return I.struct([],n);const r=e.fields.map((e=>{if(void 0===e.name)throw new Error("Tuple enum variants not yet implemented.");return B.fieldLayout(e,t)}));return I.struct(r,n)}));return void 0!==n?I.rustEnum(r).replicate(n):I.rustEnum(r,n)}throw new Error(`Unknown type kint: ${e}`)}}var D=function(){return D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},D.apply(this,arguments)};Object.create;Object.create;function R(e){return e.toLowerCase()}var U=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],L=/[^A-Z0-9]+/gi;function C(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function N(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?U:n,i=t.stripRegexp,o=void 0===i?L:i,s=t.transform,a=void 0===s?R:s,u=t.delimiter,c=void 0===u?" ":u,l=C(C(e,r,"$1\0$2"),o,"\0"),d=0,h=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(h-1);)h--;return l.slice(d,h).split("\0").map(a).join(c)}(e,D({delimiter:"."},t))}var F=n(10119),W=n(97429).Buffer;function z(e,t){if("enum"===t.type.kind){let n=t.type.variants.map((t=>void 0===t.fields?0:t.fields.map((t=>{if(void 0===t.name)throw new Error("Tuple enum variants not yet implemented.");return j(e,t.type)})).reduce(((e,t)=>e+t))));return Math.max(...n)+1}return void 0===t.type.fields?0:t.type.fields.map((t=>j(e,t.type))).reduce(((e,t)=>e+t))}function j(e,t){switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":return 4;case"u64":case"i64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if(void 0!==t.vec)return 1;if(void 0!==t.option)return 1+j(e,t.option);if(void 0!==t.defined){const n=e.types.filter((e=>e.name===t.defined));if(1!==n.length)throw new x(`Type not found: ${JSON.stringify(t)}`);return z(e,n[0])}if(void 0!==t.array){let n=t.array[0],r=t.array[1];return j(e,n)*r}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}function q(e,t){var n;let r=`${e}:${void 0===n&&(n={}),N(t,D({delimiter:"_"},n))}`;return W.from(F.sha256.digest(r)).slice(0,8)}var K=n(97429).Buffer;const V="state",H="global";class G{constructor(e){this.idl=e,this.ixLayout=G.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const n=q(H,e.name);t.set(P.encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),e.state&&e.state.methods.map((e=>{const n=q(V,e.name);t.set(P.encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t){return this._encode(H,e,t)}encodeState(e,t){return this._encode(V,e,t)}_encode(e,t,n){const r=K.alloc(1e3),i=T()(t),o=this.ixLayout.get(i).encode(n,r),s=r.slice(0,o);return K.concat([q(e,t),s])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map((t=>{let n=t.args.map((t=>B.fieldLayout(t,e.types)));const r=T()(t.name);return[r,I.struct(n,r)]})).concat(e.instructions.map((t=>{let n=t.args.map((t=>B.fieldLayout(t,e.types)));const r=T()(t.name);return[r,I.struct(n,r)]})));return new Map(t)}decode(e){"string"===typeof e&&(e=P.decode(e));let t=P.encode(e.slice(0,8)),n=e.slice(8);const r=this.sighashLayouts.get(t);return r?{data:r.layout.decode(n),name:r.name}:null}format(e,t){return Z.format(e,t,this.idl)}}class Z{static format(e,t,n){const r=n.instructions.filter((t=>e.name===t.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((t=>({name:t.name,type:Z.formatIdlType(t.type),data:Z.formatIdlData(t,e.data[t.name],n.types)}))),o=Z.flattenIdlAccounts(r.accounts);return{args:i,accounts:t.map(((e,t)=>t<o.length?{name:o[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){return"string"===typeof e?e:e.vec?`Vec<${this.formatIdlType(e.vec)}>`:e.option?`Option<${this.formatIdlType(e.option)}>`:e.defined?e.defined:void 0}static formatIdlData(e,t,n){if("string"===typeof e.type)return t.toString();if(e.type.vec)return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t))).join(", ")+"]";if(e.type.option)return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t);if(e.type.defined){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((t=>t.name===e.type.defined));if(1!==r.length)throw new Error(`Type not found: ${e.type.defined}`);return Z.formatIdlDataDefined(r[0],t,n)}return"unknown"}static formatIdlDataDefined(e,t,n){if("struct"===e.type.kind){return"{ "+Object.keys(t).map((r=>{const i=e.type.fields.filter((e=>e.name===r))[0];if(void 0===i)throw new Error("Unable to find type");return r+": "+Z.formatIdlData(i,t[r],n)})).join(", ")+" }"}if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const r=Object.keys(t)[0],i=t[r],o=Object.keys(i).map((t=>{var o;const s=i[t],a=null===(o=e.type.variants[r])||void 0===o?void 0:o.filter((e=>e.name===t))[0];if(void 0===a)throw new Error("Unable to find variant");return t+": "+Z.formatIdlData(a,s,n)})).join(", "),s=T()(r,{pascalCase:!0});return 0===o.length?s:`${s} { ${o} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map((e=>{const n=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.accounts){const r=t?`${t} > ${n}`:n;return Z.flattenIdlAccounts(e.accounts,r)}return{...e,name:t?`${t} > ${n}`:n}})).flat()}}var Q=n(97429).Buffer;class X{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,B.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t)}async encode(e,t){const n=Q.alloc(1e3),r=this.accountLayouts.get(e).encode(t,n);let i=n.slice(0,r),o=await J(e);return Q.concat([o,i])}decode(e,t){const n=t.slice(8);return this.accountLayouts.get(e).decode(n)}}async function J(e){return Q.from(F.sha256.digest(`account:${e}`)).slice(0,8)}var Y=n(97429).Buffer;class ${constructor(e){if(void 0===e.types)return void(this.layouts=new Map);const t=e.types.map((t=>[t.name,B.typeDefLayout(t,e.types)]));this.layouts=new Map(t)}encode(e,t){const n=Y.alloc(1e3),r=this.layouts.get(e).encode(t,n);return n.slice(0,r)}decode(e,t){return this.layouts.get(e).decode(t)}}var ee=n(12009),te=n(97429).Buffer;class ne{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let n={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,B.typeDefLayout(n,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>{return[ee.fromByteArray((t=e.name,te.from(F.sha256.digest(`event:${t}`)).slice(0,8))),e.name];var t})))}decode(e){let t;try{t=te.from(ee.toByteArray(e))}catch(i){return null}const n=ee.fromByteArray(t.slice(0,8)),r=this.discriminators.get(n);if(void 0===r)return null;return{data:this.layouts.get(r).decode(t.slice(8)),name:r}}}const re=new Set(["anchor-deprecated-state"]),ie=new Map;function oe(e){if(!re.has(e))throw new Error("Invalid feature");ie.set(e,!0)}function se(e){return void 0!==ie.get(e)}var ae=n(97429).Buffer;class ue{constructor(e){if(void 0===e.state)throw new Error("Idl state not defined.");this.layout=B.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const n=ae.alloc(1e3),r=this.layout.encode(t,n),i=await ce(e),o=n.slice(0,r);return ae.concat([i,o])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function ce(e){let t=se("anchor-deprecated-state")?"account":"state";return ae.from(F.sha256.digest(`${t}:${e}`)).slice(0,8)}class le{constructor(e){this.instruction=new G(e),this.accounts=new X(e),this.types=new $(e),this.events=new ne(e),e.state&&(this.state=new ue(e))}sighash(e,t){return q(e,t)}}var de=n(60266),he=n(81070);n(97429).Buffer;const pe=I.struct([I.publicKey("authority"),I.vecU8("data")]);var fe=n(48449),me=n.n(fe);function ge(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var n;let r=null!==(n=e.msg)&&void 0!==n?n:e.name;t.set(e.code,r)})),t}function ye(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e.args.length!=n.length)throw new Error("Invalid argument length");const i={};let o=0;return e.args.forEach((e=>{i[e.name]=n[o],o+=1})),i}function we(e,t){e.forEach((e=>{if(void 0!==e.accounts)we(e.accounts,t[e.name]);else if(void 0===t[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function be(e){if("string"===typeof e){return new y.PublicKey(e)}return e}var ve=n(97429).Buffer;function _e(e,t,n){const r=ve.concat([e.toBuffer(),ve.from(t),n.toBuffer()]),i=F.sha256.digest(r);return new y.PublicKey(ve.from(i))}function Ae(e,t){let n=ve.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=ve.concat([n,ke(e)])})),n=ve.concat([n,t.toBuffer(),ve.from("ProgramDerivedAddress")]);let r=(0,F.sha256)(new Uint8Array(n)),i=new(g())(r,16).toArray(void 0,32);if(y.PublicKey.isOnCurve(new Uint8Array(i)))throw new Error("Invalid seeds, address must fall off the curve");return new y.PublicKey(i)}function Se(e,t){let n,r=255;for(;0!=r;){try{n=Ae(e.concat(ve.from([r])),t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}const ke=e=>e instanceof ve?e:e instanceof Uint8Array?ve.from(e.buffer,e.byteOffset,e.byteLength):ve.from(e);async function Ee(e){let t=[ve.from([97,110,99,104,111,114])];for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.forEach((e=>{t.push(void 0!==e.buffer?e:be(e).toBuffer())}));const[o]=await y.PublicKey.findProgramAddress(t,be(e));return o}function Te(e,t){let n={};const r=e.args?e.args.length:0;if(t.length>r){if(t.length!==r+1)throw new Error("provided too many arguments ${args}");n=t.pop()}return[t,n]}class Ie{static build(e,t,n){if("_inner"===e.name)throw new x("the _inner name is reserved");const r=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];const[a,u]=Te(e,[...o]);we(e.accounts,u.accounts);const c=r.accounts(u.accounts);return void 0!==u.remainingAccounts&&c.push(...u.remainingAccounts),u.__private&&u.__private.logAccounts&&console.log("Outgoing account metas:",c),new y.TransactionInstruction({keys:c,programId:n,data:t(e.name,ye(e,...a))})};return r.accounts=t=>Ie.accountsArray(t,e.accounts),r}static accountsArray(e,t){return t.map((t=>{const n=t.accounts;if(void 0!==n){const r=e[t.name];return Ie.accountsArray(r,n).flat()}{const n=t;return{pubkey:be(e[t.name]),isWritable:n.isMut,isSigner:n.isSigner}}})).flat()}}class Pe{static build(e,t,n,r){return async function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];const a=t(...o),[,u]=Te(e,[...o]);try{return await r.send(a,u.signers,u.options)}catch(c){console.log("Translating error",c);let e=M.parse(c,n);if(null===e)throw c;throw e}}}}class xe{static build(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const[,o]=Te(e,[...r]),s=new y.Transaction;return void 0!==o.instructions&&s.add(...o.instructions),s.add(t(...r)),s}}}class Me{constructor(e,t,n,r){this._idl=e,this._programId=t,this._address=Oe(t),this._provider=null!==n&&void 0!==n?n:S(),this._coder=null!==r&&void 0!==r?r:new le(e),this._sub=null;const[i,o,s]=(()=>{let i={},o={},s={};return e.state.methods.forEach((a=>{const u=Ie.build(a,((e,t)=>r.instruction.encodeState(e,t)),t);u.accounts=e=>{const r=function(e,t,n,r){if("new"===n.name){const[n]=Se([],e);return[{pubkey:t.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:Oe(e),isWritable:!0,isSigner:!1},{pubkey:n,isWritable:!1,isSigner:!1},{pubkey:y.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e,isWritable:!1,isSigner:!1},{pubkey:y.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}]}return we(n.accounts,r),[{pubkey:Oe(e),isWritable:!0,isSigner:!1}]}(t,n,a,e);return r.concat(Ie.accountsArray(e,a.accounts))};const c=xe.build(a,u),l=Pe.build(a,c,ge(e),n),d=T()(a.name);i[d]=u,o[d]=c,s[d]=l})),[i,o,s]})();this.instruction=i,this.transaction=o,this.rpc=s}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(null===t)throw new Error(`Account does not exist ${e.toString()}`);if((await ce(this._idl.state.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(null!==this._sub)return this._sub.ee;const t=new(me()),n=this.provider.connection.onAccountChange(this.address(),(e=>{const n=this.coder.state.decode(e.data);t.emit("change",n)}),e);return this._sub={ee:t,listener:n},t}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function Oe(e){let[t]=Se([],e);return _e(t,"unversioned",e)}var Be=n(97429).Buffer;class De{constructor(e,t,n,r,i){this._idlAccount=t,this._programId=n,this._provider=null!==r&&void 0!==r?r:S(),this._coder=null!==i&&void 0!==i?i:new le(e),this._size=8+z(e,t)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetch(e){const t=await this._provider.connection.getAccountInfo(be(e));if(null===t)throw new Error(`Account does not exist ${e.toString()}`);if((await J(this._idlAccount.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this._coder.accounts.decode(this._idlAccount.name,t.data)}async all(e){let t=await J(this._idlAccount.name);return void 0!==e&&(t=Be.concat([t,e])),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:{offset:0,bytes:P.encode(t)}}]})).map((e=>{let{pubkey:t,account:n}=e;return{publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,n.data)}}))}subscribe(e,t){if(Re.get(e.toString()))return Re.get(e.toString()).ee;const n=new(me());e=be(e);const r=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);n.emit("change",t)}),t);return Re.set(e.toString(),{ee:n,listener:r}),n}unsubscribe(e){let t=Re.get(e.toString());t?Re&&this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{Re.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const n=this.size;return y.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:null!==t&&void 0!==t?t:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!==t&&void 0!==t?t:n),programId:this._programId})}async associated(){const e=await this.associatedAddress(...arguments);return await this.fetch(e)}async associatedAddress(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return await Ee(this._programId,...t)}}const Re=new Map;var Ue=n(21380),Le=n.n(Ue);const Ce="Program log: ".length;class Ne{constructor(e,t){this.coder=e,this.programId=t}parseLogs(e,t){const n=new We(e),r=new Fe(n.next());let i=n.next();for(;null!==i;){let[e,o,s]=this.handleLog(r,i);e&&t(e),o&&r.push(o),s&&r.pop(),i=n.next()}}handleLog(e,t){return e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log:")){const t=e.slice(Ce);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class Fe{constructor(e){const t=/^Program (.*) invoke.*$/g.exec(e)[1];this.stack=[t]}program(){return Ue.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){Ue.ok(this.stack.length>0),this.stack.pop()}}class We{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}var ze=n(97429).Buffer;function je(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")}function qe(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2===1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?ze.from([]):ze.from(t.map((e=>parseInt(e,16))))}function Ke(e){return("undefined"===typeof TextDecoder?new(n(58404).TextDecoder)("utf-8"):new TextDecoder("utf-8")).decode(e)}function Ve(e){return("undefined"===typeof TextEncoder?new(n(58404).TextEncoder)("utf-8"):new TextEncoder).encode(e)}function He(e){return P.encode(e)}function Ge(e){return P.decode(e)}var Ze=n(97429).Buffer;function Qe(e){return ee.fromByteArray(e)}function Xe(e){return Ze.from(ee.toByteArray(e))}class Je{constructor(e,t,n){t=be(t),this._idl=e,this._programId=t,this._provider=null!==n&&void 0!==n?n:S(),this._coder=new le(e);const[r,i,o,s,a,u]=class{static build(e,t,n,r){const i={},o={},s={},a={},u=ge(e),c=class{static build(e,t,n,r){if(void 0!==e.state)return new Me(e,n,r,t)}}.build(e,t,n,r);e.instructions.forEach((c=>{const l=Ie.build(c,((e,n)=>t.instruction.encode(e,n)),n),d=xe.build(c,l),h=Pe.build(c,d,u,r),p=class{static build(e,t,n,r,i,o,s){return async function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];const l=t(...u),[,d]=Te(e,[...u]);let h;try{h=await r.simulate(l,d.signers,d.options)}catch(m){console.log("Translating error",m);let e=M.parse(m,n);if(null===e)throw m;throw e}if(void 0===h)throw new Error("Unable to simulate transaction");if(h.value.err)throw new Error(`Simulate error: ${h.value.err.toString()}`);const p=h.value.logs;if(!p)throw new Error("Simulated logs not found");const f=[];return s.events&&new Ne(i,o).parseLogs(p,(e=>{f.push(e)})),{events:f,raw:p}}}}.build(c,d,u,r,t,n,e),f=T()(c.name);o[f]=l,s[f]=d,i[f]=h,a[f]=p}));const l=e.accounts?class{static build(e,t,n,r){const i={};return e.accounts.forEach((o=>{const s=T()(o.name);i[s]=new De(e,o,n,r,t)})),i}}.build(e,t,n,r):{};return[i,o,s,l,a,c]}}.build(e,this._coder,t,this._provider);this.rpc=r,this.instruction=i,this.transaction=o,this.account=s,this.simulate=a,this.state=u}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const n=be(e),r=await Je.fetchIdl(n,t);return new Je(r,n,t)}static async fetchIdl(e,t){t=null!==t&&void 0!==t?t:S();const n=be(e),r=await async function(e){const t=(await y.PublicKey.findProgramAddress([],e))[0];return await y.PublicKey.createWithSeed(t,"anchor:idl",e)}(n),i=await t.connection.getAccountInfo(r);let o=(s=i.data.slice(8),pe.decode(s));var s;const a=(0,he.rr)(o.data);return JSON.parse(Ke(a))}addEventListener(e,t){const n=new Ne(this._coder,this._programId);return this._provider.connection.onLogs(this._programId,((r,i)=>{r.err?console.error(r):n.parseLogs(r.logs,(n=>{n.name===e&&t(n.data,i.slot)}))}))}async removeEventListener(e){return this._provider.connection.removeOnLogsListener(e)}}let Ye=!1;const $e=new Proxy({},{get(e,t){if(w)return void console.log("Workspaces aren't available in the browser");const r=n(55555),i=n(26477);if(!Ye){const t=n(71633);let o=i.cwd();for(;!r.existsSync(t.join(o,"Anchor.toml"));){const e=t.dirname(o);e===o&&(o=void 0),o=e}if(void 0===o)throw new Error("Could not find workspace root.");const s=`${o}/target/idl`;if(!r.existsSync(s))throw new Error(`${s} doesn't exist. Did you use "anchor build"?`);const a=new Map;r.readdirSync(s).forEach((t=>{const n=`${s}/${t}`,i=r.readFileSync(n),o=JSON.parse(i);a.set(o.name,o);const u=T()(o.name,{pascalCase:!0});o.metadata&&o.metadata.address&&(e[u]=new Je(o,new y.PublicKey(o.metadata.address)))}));const u=de.parse(r.readFileSync(t.join(o,"Anchor.toml"),"utf-8")),c=u.provider.cluster;u.clusters&&u.clusters[c]&&function(e,t,r){Object.keys(t).forEach((i=>{const o=T()(i,{pascalCase:!0}),s=t[i],a=new y.PublicKey("string"===typeof s?s:s.address);let u=r.get(i);"string"!==typeof s&&s.idl&&(u=JSON.parse(n(55555).readFileSync(s.idl,"utf-8"))),e[o]=new Je(u,a)}))}(e,u.clusters[c],a),Ye=!0}return e[t]}});function et(e){return(0,F.sha256)(e)}var tt=n(97429).Buffer;async function nt(e,t,n,r){e=be(e),r||(r=S());const i=new y.Transaction;return i.add(new y.TransactionInstruction({programId:e,keys:null!==t&&void 0!==t?t:[],data:n})),await r.send(i)}async function rt(e,t){const n=[t.map((e=>e.toBase58())),{commitment:"recent"}],r=await e._rpcRequest("getMultipleAccounts",n);if(r.error)throw new Error("failed to get info about accounts "+t.map((e=>e.toBase58())).join(", ")+": "+r.error.message);Le()("undefined"!==typeof r.result);const i=[];for(const o of r.result.value){let e=null;if(null!==o){if(r.result.value){const{executable:t,owner:n,lamports:r,data:i}=o;Le()("base64"===i[1]),e={executable:t,owner:new y.PublicKey(n),lamports:r,data:tt.from(i[0],"base64")}}if(null===e)throw new Error("Invalid response");i.push(e)}else i.push(null)}return i.map(((e,n)=>null===e?null:{publicKey:t[n],account:e}))}const it=new y.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ot=new y.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");async function st(e){let{mint:t,owner:n}=e;return(await y.PublicKey.findProgramAddress([n.toBuffer(),it.toBuffer(),t.toBuffer()],ot))[0]}},62279:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythConnection=void 0;var o=n(94834),s=function(){function e(e,t,n){void 0===n&&(n="finalized"),this.productAccountKeyToProduct={},this.priceAccountKeyToProductAccountKey={},this.callbacks=[],this.connection=e,this.pythProgramKey=t,this.commitment=n}return e.prototype.handleProductAccount=function(e,t){var n=o.parseProductData(t.data),r=n.priceAccountKey,i=(n.type,n.product);this.productAccountKeyToProduct[e.toString()]=i,"11111111111111111111111111111111"!==r.toString()&&(this.priceAccountKeyToProductAccountKey[r.toString()]=e.toString())},e.prototype.handlePriceAccount=function(e,t,n){var r=this.productAccountKeyToProduct[this.priceAccountKeyToProductAccountKey[e.toString()]];if(void 0===r)throw new Error("Got a price update for an unknown product. This is a bug in the library, please report it to the developers.");for(var i=o.parsePriceData(t.data,n),s=0,a=this.callbacks;s<a.length;s++){(0,a[s])(r,i)}},e.prototype.handleAccount=function(e,t,n,r){var i=o.parseBaseData(t.data);if(i)switch(i.type){case o.AccountType.Mapping:break;case o.AccountType.Product:this.handleProductAccount(e,t);break;case o.AccountType.Price:n||this.handlePriceAccount(e,t,r);break;case o.AccountType.Test:break;default:throw new Error("Unknown account type: "+i.type+". Try upgrading pyth-client.")}},e.prototype.start=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,o,s=this;return i(this,(function(i){switch(i.label){case 0:return[4,this.connection.getProgramAccounts(this.pythProgramKey,this.commitment)];case 1:return e=i.sent(),[4,this.connection.getSlot(this.commitment)];case 2:for(t=i.sent(),n=0,r=e;n<r.length;n++)o=r[n],this.handleAccount(o.pubkey,o.account,!0,t);return this.connection.onProgramAccountChange(this.pythProgramKey,(function(e,t){s.handleAccount(e.accountId,e.accountInfo,!1,t.slot)}),this.commitment),[2]}}))}))},e.prototype.onPriceChange=function(e){this.callbacks.push(e)},e.prototype.stop=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return this.callbacks=[],[2]}))}))},e}();t.PythConnection=s},18437:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythHttpClient=void 0;var o=n(94834),s=function(){function e(e,t,n){void 0===n&&(n="finalized"),this.connection=e,this.pythProgramKey=t,this.commitment=n}return e.prototype.getData=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,s,a,u,c,l,d;return i(this,(function(i){switch(i.label){case 0:return e=new Set,t=new Set,n=new Set,r=new Map,s=new Map,a=new Array,[4,this.connection.getProgramAccounts(this.pythProgramKey,this.commitment)];case 1:return u=i.sent(),c=new Array,l=new Map,[4,this.connection.getSlot(this.commitment)];case 2:return d=i.sent(),u.forEach((function(i){var s=o.parseBaseData(i.account.data);if(s)switch(s.type){case o.AccountType.Mapping:break;case o.AccountType.Product:var a=o.parseProductData(i.account.data);l.set(i.pubkey.toBase58(),a.product),e.add(a.product.asset_type),t.add(a.product.symbol),n.add(a.product),r.set(a.product.symbol,a.product);break;case o.AccountType.Price:var u=o.parsePriceData(i.account.data,d);c.push(u);break;case o.AccountType.Test:break;default:throw new Error("Unknown account type: "+s.type+". Try upgrading pyth-client.")}})),c.forEach((function(e){var t=l.get(e.productAccountKey.toBase58());t&&(s.set(t.symbol,e),a.push(e))})),[2,{assetTypes:Array.from(e),symbols:Array.from(t),products:Array.from(n),productFromSymbol:r,productPrice:s,prices:a}]}}))}))},e}();t.PythHttpClient=s},35798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPythProgramKeyForCluster=void 0;var r=n(71256),i={"mainnet-beta":"FsJ3A3u2vn5cTVofAjvy6y5kwABJAqYWpe4975bi2epH",devnet:"gSbePebfvPy7tRqimPoVecS2UsBvYv46ynrzWocc92s",testnet:"8tfDNiaEyrV6Q1U4DEXrEigs9DoDtkugzFbybENEbCDz"};t.getPythProgramKeyForCluster=function(e){if(void 0!==i[e])return new r.PublicKey(i[e]);throw new Error("Invalid Solana cluster name: "+e+". Valid options are: "+JSON.stringify(Object.keys(i)))}},94834:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPythProgramKeyForCluster=t.PythHttpClient=t.PythConnection=t.parsePriceData=t.parseProductData=t.parseMappingData=t.parseBaseData=t.AccountType=t.DeriveType=t.PriceType=t.CorpAction=t.PriceStatus=t.MAX_SLOT_DIFFERENCE=t.Version=t.Version2=t.Magic=void 0;var r,i=n(71256),o=n(97429),s=n(48955);t.Magic=2712847316,t.Version2=2,t.Version=t.Version2,t.MAX_SLOT_DIFFERENCE=25,function(e){e[e.Unknown=0]="Unknown",e[e.Trading=1]="Trading",e[e.Halted=2]="Halted",e[e.Auction=3]="Auction"}(r=t.PriceStatus||(t.PriceStatus={})),function(e){e[e.NoCorpAct=0]="NoCorpAct"}(t.CorpAction||(t.CorpAction={})),function(e){e[e.Unknown=0]="Unknown",e[e.Price=1]="Price"}(t.PriceType||(t.PriceType={})),function(e){e[e.Unknown=0]="Unknown",e[e.Volatility=1]="Volatility"}(t.DeriveType||(t.DeriveType={})),function(e){e[e.Unknown=0]="Unknown",e[e.Mapping=1]="Mapping",e[e.Product=2]="Product",e[e.Price=3]="Price",e[e.Test=4]="Test"}(t.AccountType||(t.AccountType={}));var a=o.Buffer.alloc(32),u=function(e){return e.equals(a)?null:new i.PublicKey(e)};t.parseBaseData=function(e){if(!(e.byteLength<4)){var n=e.readUInt32LE(0);return n===t.Magic?{magic:n,version:e.readUInt32LE(4),type:e.readUInt32LE(8),size:e.readUInt32LE(12)}:void 0}};t.parseMappingData=function(e){for(var t=e.readUInt32LE(0),n=e.readUInt32LE(4),r=e.readUInt32LE(8),o=e.readUInt32LE(12),s=e.readUInt32LE(16),a=u(e.slice(24,56)),c=56,l=[],d=0;d<s;d++){var h=e.slice(c,c+32),p=new i.PublicKey(h);c+=32,l.push(p)}return{magic:t,version:n,type:r,size:o,nextMappingAccount:a,productAccountKeys:l}};t.parseProductData=function(e){for(var t=e.readUInt32LE(0),n=e.readUInt32LE(4),r=e.readUInt32LE(8),o=e.readUInt32LE(12),s=e.slice(16,48),a=new i.PublicKey(s),u={},c=48;c<o;){var l=e[c];if(c++,l){var d=e.slice(c,c+l).toString(),h=e[c+=l];c++;var p=e.slice(c,c+h).toString();c+=h,u[d]=p}}return{magic:t,version:n,type:r,size:o,priceAccountKey:a,product:u}};var c=function(e,t){var n=s.readBigInt64LE(e,0);return{valueComponent:n,value:Number(n)*Math.pow(10,t),numerator:s.readBigInt64LE(e,8),denominator:s.readBigInt64LE(e,16)}},l=function(e,t){var n=s.readBigInt64LE(e,0),r=Number(n)*Math.pow(10,t),i=s.readBigUInt64LE(e,8);return{priceComponent:n,price:r,confidenceComponent:i,confidence:Number(i)*Math.pow(10,t),status:e.readUInt32LE(16),corporateAction:e.readUInt32LE(20),publishSlot:Number(s.readBigUInt64LE(e,24))}};t.parsePriceData=function(e,n){var o,a,d=e.readUInt32LE(0),h=e.readUInt32LE(4),p=e.readUInt32LE(8),f=e.readUInt32LE(12),m=e.readUInt32LE(16),g=e.readInt32LE(20),y=e.readUInt32LE(24),w=e.readUInt32LE(28),b=s.readBigUInt64LE(e,32),v=s.readBigUInt64LE(e,40),_=c(e.slice(48,72),g),A=c(e.slice(72,96),g),S=s.readBigInt64LE(e,96),k=Number(S)*Math.pow(10,g),E=e.readUInt8(104),T=e.readInt8(105),I=e.readInt16LE(106),P=e.readInt32LE(108),x=new i.PublicKey(e.slice(112,144)),M=u(e.slice(144,176)),O=s.readBigUInt64LE(e,176),B=s.readBigInt64LE(e,184),D=Number(B)*Math.pow(10,g),R=s.readBigUInt64LE(e,192),U=Number(R)*Math.pow(10,g),L=s.readBigInt64LE(e,200),C=Number(L)*Math.pow(10,g),N=l(e.slice(208,240),g),F=N.status;n&&F===r.Trading&&n-N.publishSlot>t.MAX_SLOT_DIFFERENCE&&(F=r.Unknown),F===r.Trading&&(o=N.price,a=N.confidence);for(var W=[],z=240,j=!0;z<e.length&&j;){var q=u(e.slice(z,z+32));if(z+=32,q){var K=l(e.slice(z,z+32),g);z+=32;var V=l(e.slice(z,z+32),g);z+=32,W.push({publisher:q,aggregate:K,latest:V})}else j=!1}return{magic:d,version:h,type:p,size:f,priceType:m,exponent:g,numComponentPrices:y,numQuoters:w,lastSlot:b,validSlot:v,emaPrice:_,emaConfidence:A,drv1Component:S,drv1:k,minPublishers:E,drv2:T,drv3:I,drv4:P,productAccountKey:x,nextPriceAccountKey:M,previousSlot:O,previousPriceComponent:B,previousPrice:D,previousConfidenceComponent:R,previousConfidence:U,drv5Component:L,drv5:C,aggregate:N,priceComponents:W,price:o,confidence:a,status:F}};var d=n(62279);Object.defineProperty(t,"PythConnection",{enumerable:!0,get:function(){return d.PythConnection}});var h=n(18437);Object.defineProperty(t,"PythHttpClient",{enumerable:!0,get:function(){return h.PythHttpClient}});var p=n(35798);Object.defineProperty(t,"getPythProgramKeyForCluster",{enumerable:!0,get:function(){return p.getPythProgramKeyForCluster}})},48955:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readBigUInt64LE=t.readBigInt64LE=void 0;var n=function(e,t,n){return new Error('The value of "'+e+" is out of range. It must be "+t+". Received "+n)};function r(e,t){if("number"!==typeof e)throw function(e,t,n){return new Error('The "'+e+'" argument must be of type '+t+". Received "+n)}(t,"number",e)}function i(e,t){if(Math.floor(e)!==e)throw r(e,"offset"),n("offset","an integer",e);if(t<0)throw new Error("Attempt to access memory outside buffer bounds");throw n("offset",">= 0 and <= "+t,e)}t.readBigInt64LE=function(e,t){void 0===t&&(t=0),r(t,"offset");var n=e[t],o=e[t+7];void 0!==n&&void 0!==o||i(t,e.length-8);var s=e[t+4]+e[t+5]*Math.pow(2,8)+e[t+6]*Math.pow(2,16)+(o<<24);return(BigInt(s)<<BigInt(32))+BigInt(n+e[++t]*Math.pow(2,8)+e[++t]*Math.pow(2,16)+e[++t]*Math.pow(2,24))},t.readBigUInt64LE=function(e,t){void 0===t&&(t=0),r(t,"offset");var n=e[t],o=e[t+7];void 0!==n&&void 0!==o||i(t,e.length-8);var s=n+e[++t]*Math.pow(2,8)+e[++t]*Math.pow(2,16)+e[++t]*Math.pow(2,24),a=e[++t]+e[++t]*Math.pow(2,8)+e[++t]*Math.pow(2,16)+o*Math.pow(2,24);return BigInt(s)+(BigInt(a)<<BigInt(32))}},56249:function(e,t,n){var r;!function(i){"use strict";var o,s=1e6,a=1e6,u="[big.js] ",c=u+"Invalid ",l=c+"decimal places",d=u+"Division by zero",h={},p=void 0,f=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function m(e,t,n,r){var i=e.c;if(n===p&&(n=e.constructor.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error("[big.js] Invalid rounding mode");if(t<1)r=3===n&&(r||!!i[0])||0===t&&(1===n&&i[0]>=5||2===n&&(i[0]>5||5===i[0]&&(r||i[1]!==p))),i.length=1,r?(e.e=e.e-t+1,i[0]=1):i[0]=e.e=0;else if(t<i.length){if(r=1===n&&i[t]>=5||2===n&&(i[t]>5||5===i[t]&&(r||i[t+1]!==p||1&i[t-1]))||3===n&&(r||!!i[0]),i.length=t--,r)for(;++i[t]>9;)i[t]=0,t--||(++e.e,i.unshift(1));for(t=i.length;!i[--t];)i.pop()}return e}function g(e,t,n){var r=e.e,i=e.c.join(""),o=i.length;if(t)i=i.charAt(0)+(o>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>o)for(r-=o;r--;)i+="0";else r<o&&(i=i.slice(0,r)+"."+i.slice(r));else o>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&n?"-"+i:i}h.abs=function(){var e=new this.constructor(this);return e.s=1,e},h.cmp=function(e){var t,n=this,r=n.c,i=(e=new n.constructor(e)).c,o=n.s,s=e.s,a=n.e,u=e.e;if(!r[0]||!i[0])return r[0]?o:i[0]?-s:0;if(o!=s)return o;if(t=o<0,a!=u)return a>u^t?1:-1;for(s=(a=r.length)<(u=i.length)?a:u,o=-1;++o<s;)if(r[o]!=i[o])return r[o]>i[o]^t?1:-1;return a==u?0:a>u^t?1:-1},h.div=function(e){var t=this,n=t.constructor,r=t.c,i=(e=new n(e)).c,o=t.s==e.s?1:-1,a=n.DP;if(a!==~~a||a<0||a>s)throw Error(l);if(!i[0])throw Error(d);if(!r[0])return e.s=o,e.c=[e.e=0],e;var u,c,h,f,g,y=i.slice(),w=u=i.length,b=r.length,v=r.slice(0,u),_=v.length,A=e,S=A.c=[],k=0,E=a+(A.e=t.e-e.e)+1;for(A.s=o,o=E<0?0:E,y.unshift(0);_++<u;)v.push(0);do{for(h=0;h<10;h++){if(u!=(_=v.length))f=u>_?1:-1;else for(g=-1,f=0;++g<u;)if(i[g]!=v[g]){f=i[g]>v[g]?1:-1;break}if(!(f<0))break;for(c=_==u?i:y;_;){if(v[--_]<c[_]){for(g=_;g&&!v[--g];)v[g]=9;--v[g],v[_]+=10}v[_]-=c[_]}for(;!v[0];)v.shift()}S[k++]=f?h:++h,v[0]&&f?v[_]=r[w]||0:v=[r[w]]}while((w++<b||v[0]!==p)&&o--);return S[0]||1==k||(S.shift(),A.e--,E--),k>E&&m(A,E,n.RM,v[0]!==p),A},h.eq=function(e){return 0===this.cmp(e)},h.gt=function(e){return this.cmp(e)>0},h.gte=function(e){return this.cmp(e)>-1},h.lt=function(e){return this.cmp(e)<0},h.lte=function(e){return this.cmp(e)<1},h.minus=h.sub=function(e){var t,n,r,i,o=this,s=o.constructor,a=o.s,u=(e=new s(e)).s;if(a!=u)return e.s=-u,o.plus(e);var c=o.c.slice(),l=o.e,d=e.c,h=e.e;if(!c[0]||!d[0])return d[0]?e.s=-u:c[0]?e=new s(o):e.s=1,e;if(a=l-h){for((i=a<0)?(a=-a,r=c):(h=l,r=d),r.reverse(),u=a;u--;)r.push(0);r.reverse()}else for(n=((i=c.length<d.length)?c:d).length,a=u=0;u<n;u++)if(c[u]!=d[u]){i=c[u]<d[u];break}if(i&&(r=c,c=d,d=r,e.s=-e.s),(u=(n=d.length)-(t=c.length))>0)for(;u--;)c[t++]=0;for(u=t;n>a;){if(c[--n]<d[n]){for(t=n;t&&!c[--t];)c[t]=9;--c[t],c[n]+=10}c[n]-=d[n]}for(;0===c[--u];)c.pop();for(;0===c[0];)c.shift(),--h;return c[0]||(e.s=1,c=[h=0]),e.c=c,e.e=h,e},h.mod=function(e){var t,n=this,r=n.constructor,i=n.s,o=(e=new r(e)).s;if(!e.c[0])throw Error(d);return n.s=e.s=1,t=1==e.cmp(n),n.s=i,e.s=o,t?new r(n):(i=r.DP,o=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=i,r.RM=o,this.minus(n.times(e)))},h.plus=h.add=function(e){var t,n,r,i=this,o=i.constructor;if(e=new o(e),i.s!=e.s)return e.s=-e.s,i.minus(e);var s=i.e,a=i.c,u=e.e,c=e.c;if(!a[0]||!c[0])return c[0]||(a[0]?e=new o(i):e.s=i.s),e;if(a=a.slice(),t=s-u){for(t>0?(u=s,r=c):(t=-t,r=a),r.reverse();t--;)r.push(0);r.reverse()}for(a.length-c.length<0&&(r=c,c=a,a=r),t=c.length,n=0;t;a[t]%=10)n=(a[--t]=a[t]+c[t]+n)/10|0;for(n&&(a.unshift(n),++u),t=a.length;0===a[--t];)a.pop();return e.c=a,e.e=u,e},h.pow=function(e){var t=this,n=new t.constructor("1"),r=n,i=e<0;if(e!==~~e||e<-1e6||e>a)throw Error(c+"exponent");for(i&&(e=-e);1&e&&(r=r.times(t)),e>>=1;)t=t.times(t);return i?n.div(r):r},h.prec=function(e,t){if(e!==~~e||e<1||e>s)throw Error(c+"precision");return m(new this.constructor(this),e,t)},h.round=function(e,t){if(e===p)e=0;else if(e!==~~e||e<-s||e>s)throw Error(l);return m(new this.constructor(this),e+this.e+1,t)},h.sqrt=function(){var e,t,n,r=this,i=r.constructor,o=r.s,s=r.e,a=new i("0.5");if(!r.c[0])return new i(r);if(o<0)throw Error(u+"No square root");0===(o=Math.sqrt(r+""))||o===1/0?((t=r.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),e=new i(((o=Math.sqrt(t))==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+s)):e=new i(o+""),s=e.e+(i.DP+=4);do{n=e,e=a.times(n.plus(r.div(n)))}while(n.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return m(e,(i.DP-=4)+e.e+1,i.RM)},h.times=h.mul=function(e){var t,n=this,r=n.constructor,i=n.c,o=(e=new r(e)).c,s=i.length,a=o.length,u=n.e,c=e.e;if(e.s=n.s==e.s?1:-1,!i[0]||!o[0])return e.c=[e.e=0],e;for(e.e=u+c,s<a&&(t=i,i=o,o=t,c=s,s=a,a=c),t=new Array(c=s+a);c--;)t[c]=0;for(u=a;u--;){for(a=0,c=s+u;c>u;)a=t[c]+o[u]*i[c-u-1]+a,t[c--]=a%10,a=a/10|0;t[c]=a}for(a?++e.e:t.shift(),u=t.length;!t[--u];)t.pop();return e.c=t,e},h.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==p){if(e!==~~e||e<0||e>s)throw Error(l);for(n=m(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return g(n,!0,!!r)},h.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==p){if(e!==~~e||e<0||e>s)throw Error(l);for(e=e+(n=m(new n.constructor(n),e+n.e+1,t)).e+1;n.c.length<e;)n.c.push(0)}return g(n,!1,!!r)},h.toJSON=h.toString=function(){var e=this,t=e.constructor;return g(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},h.toNumber=function(){var e=Number(g(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(u+"Imprecise conversion");return e},h.toPrecision=function(e,t){var n=this,r=n.constructor,i=n.c[0];if(e!==p){if(e!==~~e||e<1||e>s)throw Error(c+"precision");for(n=m(new r(n),e,t);n.c.length<e;)n.c.push(0)}return g(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)},h.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(u+"valueOf disallowed");return g(e,e.e<=t.NE||e.e>=t.PE,!0)},o=function e(){function t(n){var r=this;if(!(r instanceof t))return n===p?e():new t(n);if(n instanceof t)r.s=n.s,r.e=n.e,r.c=n.c.slice();else{if("string"!==typeof n){if(!0===t.strict)throw TypeError(c+"number");n=0===n&&1/n<0?"-0":String(n)}!function(e,t){var n,r,i;if(!f.test(t))throw Error(c+"number");e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".",""));(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length);for(i=t.length,r=0;r<i&&"0"==t.charAt(r);)++r;if(r==i)e.c=[e.e=0];else{for(;i>0&&"0"==t.charAt(--i););for(e.e=n-r-1,e.c=[],n=0;r<=i;)e.c[n++]=+t.charAt(r++)}}(r,n)}r.constructor=t}return t.prototype=h,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=false,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}(),o.default=o.Big=o,void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},21380:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i,o,s=n(99697).codes,a=s.ERR_AMBIGUOUS_ARGUMENT,u=s.ERR_INVALID_ARG_TYPE,c=s.ERR_INVALID_ARG_VALUE,l=s.ERR_INVALID_RETURN_VALUE,d=s.ERR_MISSING_ARGS,h=n(77319),p=n(58404).inspect,f=n(58404).types,m=f.isPromise,g=f.isRegExp,y=Object.assign?Object.assign:n(42330).assign,w=Object.is?Object.is:n(94395);new Map;function b(){var e=n(56047);i=e.isDeepEqual,o=e.isDeepStrictEqual}var v=!1,_=e.exports=E,A={};function S(e){if(e.message instanceof Error)throw e.message;throw new h(e)}function k(e,t,n,r){if(!n){var i=!1;if(0===t)i=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var o=new h({actual:n,expected:!0,message:r,operator:"==",stackStartFn:e});throw o.generatedMessage=i,o}}function E(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];k.apply(void 0,[E,t.length].concat(t))}_.fail=function e(t,n,r,i,o){var s,a=arguments.length;if(0===a)s="Failed";else if(1===a)r=t,t=void 0;else{if(!1===v){v=!0;var u=process.emitWarning?process.emitWarning:console.warn.bind(console);u("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}2===a&&(i="!=")}if(r instanceof Error)throw r;var c={actual:t,expected:n,operator:void 0===i?"fail":i,stackStartFn:o||e};void 0!==r&&(c.message=r);var l=new h(c);throw s&&(l.message=s,l.generatedMessage=!0),l},_.AssertionError=h,_.ok=E,_.equal=function e(t,n,r){if(arguments.length<2)throw new d("actual","expected");t!=n&&S({actual:t,expected:n,message:r,operator:"==",stackStartFn:e})},_.notEqual=function e(t,n,r){if(arguments.length<2)throw new d("actual","expected");t==n&&S({actual:t,expected:n,message:r,operator:"!=",stackStartFn:e})},_.deepEqual=function e(t,n,r){if(arguments.length<2)throw new d("actual","expected");void 0===i&&b(),i(t,n)||S({actual:t,expected:n,message:r,operator:"deepEqual",stackStartFn:e})},_.notDeepEqual=function e(t,n,r){if(arguments.length<2)throw new d("actual","expected");void 0===i&&b(),i(t,n)&&S({actual:t,expected:n,message:r,operator:"notDeepEqual",stackStartFn:e})},_.deepStrictEqual=function e(t,n,r){if(arguments.length<2)throw new d("actual","expected");void 0===i&&b(),o(t,n)||S({actual:t,expected:n,message:r,operator:"deepStrictEqual",stackStartFn:e})},_.notDeepStrictEqual=function e(t,n,r){if(arguments.length<2)throw new d("actual","expected");void 0===i&&b();o(t,n)&&S({actual:t,expected:n,message:r,operator:"notDeepStrictEqual",stackStartFn:e})},_.strictEqual=function e(t,n,r){if(arguments.length<2)throw new d("actual","expected");w(t,n)||S({actual:t,expected:n,message:r,operator:"strictEqual",stackStartFn:e})},_.notStrictEqual=function e(t,n,r){if(arguments.length<2)throw new d("actual","expected");w(t,n)&&S({actual:t,expected:n,message:r,operator:"notStrictEqual",stackStartFn:e})};var T=function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n.forEach((function(e){e in t&&(void 0!==r&&"string"===typeof r[e]&&g(t[e])&&t[e].test(r[e])?i[e]=r[e]:i[e]=t[e])}))};function I(e,t,n,r,i,s){if(!(n in e)||!o(e[n],t[n])){if(!r){var a=new T(e,i),u=new T(t,i,e),c=new h({actual:a,expected:u,operator:"deepStrictEqual",stackStartFn:s});throw c.actual=e,c.expected=t,c.operator=s.name,c}S({actual:e,expected:t,message:r,operator:s.name,stackStartFn:s})}}function P(e,t,n,o){if("function"!==typeof t){if(g(t))return t.test(e);if(2===arguments.length)throw new u("expected",["Function","RegExp"],t);if("object"!==r(e)||null===e){var s=new h({actual:e,expected:t,message:n,operator:"deepStrictEqual",stackStartFn:o});throw s.operator=o.name,s}var a=Object.keys(t);if(t instanceof Error)a.push("name","message");else if(0===a.length)throw new c("error",t,"may not be an empty object");return void 0===i&&b(),a.forEach((function(r){"string"===typeof e[r]&&g(t[r])&&t[r].test(e[r])||I(e,t,r,n,a,o)})),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function x(e){if("function"!==typeof e)throw new u("fn","Function",e);try{e()}catch(t){return t}return A}function M(e){return m(e)||null!==e&&"object"===r(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function O(e){return Promise.resolve().then((function(){var t;if("function"===typeof e){if(!M(t=e()))throw new l("instance of Promise","promiseFn",t)}else{if(!M(e))throw new u("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return A})).catch((function(e){return e}))}))}function B(e,t,n,i){if("string"===typeof n){if(4===arguments.length)throw new u("error",["Object","Error","Function","RegExp"],n);if("object"===r(t)&&null!==t){if(t.message===n)throw new a("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===n)throw new a("error/message",'The error "'.concat(t,'" is identical to the message.'));i=n,n=void 0}else if(null!=n&&"object"!==r(n)&&"function"!==typeof n)throw new u("error",["Object","Error","Function","RegExp"],n);if(t===A){var o="";n&&n.name&&(o+=" (".concat(n.name,")")),o+=i?": ".concat(i):".";var s="rejects"===e.name?"rejection":"exception";S({actual:void 0,expected:n,operator:e.name,message:"Missing expected ".concat(s).concat(o),stackStartFn:e})}if(n&&!P(t,n,i,e))throw t}function D(e,t,n,r){if(t!==A){if("string"===typeof n&&(r=n,n=void 0),!n||P(t,n)){var i=r?": ".concat(r):".",o="doesNotReject"===e.name?"rejection":"exception";S({actual:t,expected:n,operator:e.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function R(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];k.apply(void 0,[R,t.length].concat(t))}_.throws=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];B.apply(void 0,[e,x(t)].concat(r))},_.rejects=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return O(t).then((function(t){return B.apply(void 0,[e,t].concat(r))}))},_.doesNotThrow=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];D.apply(void 0,[e,x(t)].concat(r))},_.doesNotReject=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return O(t).then((function(t){return D.apply(void 0,[e,t].concat(r))}))},_.ifError=function e(t){if(null!==t&&void 0!==t){var n="ifError got unwanted exception: ";"object"===r(t)&&"string"===typeof t.message?0===t.message.length&&t.constructor?n+=t.constructor.name:n+=t.message:n+=p(t);var i=new h({actual:t,expected:null,operator:"ifError",message:n,stackStartFn:e}),o=t.stack;if("string"===typeof o){var s=o.split("\n");s.shift();for(var a=i.stack.split("\n"),u=0;u<s.length;u++){var c=a.indexOf(s[u]);if(-1!==c){a=a.slice(0,c);break}}i.stack="".concat(a.join("\n"),"\n").concat(s.join("\n"))}throw i}},_.strict=y(R,_,{equal:_.strictEqual,deepEqual:_.deepStrictEqual,notEqual:_.notStrictEqual,notDeepEqual:_.notDeepStrictEqual}),_.strict.strict=_.strict},77319:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){var t="function"===typeof Map?new Map:void 0;return a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return c(e,arguments,d(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)},a(e)}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e,t,n){return c=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&l(i,n.prototype),i},c.apply(null,arguments)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}var p=n(58404).inspect,f=n(99697).codes.ERR_INVALID_ARG_TYPE;function m(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}var g="",y="",w="",b="",v={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function _(e){var t=Object.keys(e),n=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){n[t]=e[t]})),Object.defineProperty(n,"message",{value:e.message}),n}function A(e){return p(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function S(e,t,n){var r="",i="",o=0,s="",a=!1,u=A(e),c=u.split("\n"),l=A(t).split("\n"),d=0,p="";if("strictEqual"===n&&"object"===h(e)&&"object"===h(t)&&null!==e&&null!==t&&(n="strictEqualObject"),1===c.length&&1===l.length&&c[0]!==l[0]){var f=c[0].length+l[0].length;if(f<=10){if(("object"!==h(e)||null===e)&&("object"!==h(t)||null===t)&&(0!==e||0!==t))return"".concat(v[n],"\n\n")+"".concat(c[0]," !== ").concat(l[0],"\n")}else if("strictEqualObject"!==n){if(f<(process.stderr&&process.stderr.isTTY?process.stderr.columns:80)){for(;c[0][d]===l[0][d];)d++;d>2&&(p="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var n=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,n-e.length)}(" ",d),"^"),d=0)}}}for(var _=c[c.length-1],S=l[l.length-1];_===S&&(d++<2?s="\n  ".concat(_).concat(s):r=_,c.pop(),l.pop(),0!==c.length&&0!==l.length);)_=c[c.length-1],S=l[l.length-1];var k=Math.max(c.length,l.length);if(0===k){var E=u.split("\n");if(E.length>30)for(E[26]="".concat(g,"...").concat(b);E.length>27;)E.pop();return"".concat(v.notIdentical,"\n\n").concat(E.join("\n"),"\n")}d>3&&(s="\n".concat(g,"...").concat(b).concat(s),a=!0),""!==r&&(s="\n  ".concat(r).concat(s),r="");var T=0,I=v[n]+"\n".concat(y,"+ actual").concat(b," ").concat(w,"- expected").concat(b),P=" ".concat(g,"...").concat(b," Lines skipped");for(d=0;d<k;d++){var x=d-o;if(c.length<d+1)x>1&&d>2&&(x>4?(i+="\n".concat(g,"...").concat(b),a=!0):x>3&&(i+="\n  ".concat(l[d-2]),T++),i+="\n  ".concat(l[d-1]),T++),o=d,r+="\n".concat(w,"-").concat(b," ").concat(l[d]),T++;else if(l.length<d+1)x>1&&d>2&&(x>4?(i+="\n".concat(g,"...").concat(b),a=!0):x>3&&(i+="\n  ".concat(c[d-2]),T++),i+="\n  ".concat(c[d-1]),T++),o=d,i+="\n".concat(y,"+").concat(b," ").concat(c[d]),T++;else{var M=l[d],O=c[d],B=O!==M&&(!m(O,",")||O.slice(0,-1)!==M);B&&m(M,",")&&M.slice(0,-1)===O&&(B=!1,O+=","),B?(x>1&&d>2&&(x>4?(i+="\n".concat(g,"...").concat(b),a=!0):x>3&&(i+="\n  ".concat(c[d-2]),T++),i+="\n  ".concat(c[d-1]),T++),o=d,i+="\n".concat(y,"+").concat(b," ").concat(O),r+="\n".concat(w,"-").concat(b," ").concat(M),T+=2):(i+=r,r="",1!==x&&0!==d||(i+="\n  ".concat(O),T++))}if(T>20&&d<k-2)return"".concat(I).concat(P,"\n").concat(i,"\n").concat(g,"...").concat(b).concat(r,"\n")+"".concat(g,"...").concat(b)}return"".concat(I).concat(a?P:"","\n").concat(i).concat(r).concat(s).concat(p)}var k=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==h(e)||null===e)throw new f("options","Object",e);var r=e.message,i=e.operator,a=e.stackStartFn,u=e.actual,c=e.expected,l=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=r)n=o(this,d(t).call(this,String(r)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&1!==process.stderr.getColorDepth()?(g="\x1b[34m",y="\x1b[32m",b="\x1b[39m",w="\x1b[31m"):(g="",y="",b="",w="")),"object"===h(u)&&null!==u&&"object"===h(c)&&null!==c&&"stack"in u&&u instanceof Error&&"stack"in c&&c instanceof Error&&(u=_(u),c=_(c)),"deepStrictEqual"===i||"strictEqual"===i)n=o(this,d(t).call(this,S(u,c,i)));else if("notDeepStrictEqual"===i||"notStrictEqual"===i){var p=v[i],m=A(u).split("\n");if("notStrictEqual"===i&&"object"===h(u)&&null!==u&&(p=v.notStrictEqualObject),m.length>30)for(m[26]="".concat(g,"...").concat(b);m.length>27;)m.pop();n=1===m.length?o(this,d(t).call(this,"".concat(p," ").concat(m[0]))):o(this,d(t).call(this,"".concat(p,"\n\n").concat(m.join("\n"),"\n")))}else{var k=A(u),E="",T=v[i];"notDeepEqual"===i||"notEqual"===i?(k="".concat(v[i],"\n\n").concat(k)).length>1024&&(k="".concat(k.slice(0,1021),"...")):(E="".concat(A(c)),k.length>512&&(k="".concat(k.slice(0,509),"...")),E.length>512&&(E="".concat(E.slice(0,509),"...")),"deepEqual"===i||"equal"===i?k="".concat(T,"\n\n").concat(k,"\n\nshould equal\n\n"):E=" ".concat(i," ").concat(E)),n=o(this,d(t).call(this,"".concat(k).concat(E)))}return Error.stackTraceLimit=l,n.generatedMessage=!r,Object.defineProperty(s(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=u,n.expected=c,n.operator=i,Error.captureStackTrace&&Error.captureStackTrace(s(n),a),n.stack,n.name="AssertionError",o(n)}var n,a,u;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,a=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:p.custom,value:function(e,t){return p(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},t,{customInspect:!1,depth:0}))}}],a&&i(n.prototype,a),u&&i(n,u),t}(a(Error));e.exports=k},99697:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}var a,u,c={};function l(e,t,n){n||(n=Error);var r=function(n){function r(n,s,a){var u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),u=i(this,o(r).call(this,function(e,n,r){return"string"===typeof t?t:t(e,n,r)}(n,s,a))),u.code=e,u}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(r,n),r}(n);c[e]=r}function d(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}l("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),l("ERR_INVALID_ARG_TYPE",(function(e,t,i){var o,s,u,c;if(void 0===a&&(a=n(21380)),a("string"===typeof e,"'name' must be a string"),"string"===typeof t&&(s="not ",t.substr(!u||u<0?0:+u,s.length)===s)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))c="The ".concat(e," ").concat(o," ").concat(d(t,"type"));else{var l=function(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";c='The "'.concat(e,'" ').concat(l," ").concat(o," ").concat(d(t,"type"))}return c+=". Received type ".concat(r(i))}),TypeError),l("ERR_INVALID_ARG_VALUE",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===u&&(u=n(58404));var i=u.inspect(t);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(r,". Received ").concat(i)}),TypeError,RangeError),l("ERR_INVALID_RETURN_VALUE",(function(e,t,n){var i;return i=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(r(n)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(i,".")}),TypeError),l("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];void 0===a&&(a=n(21380)),a(t.length>0,"At least one arg needs to be specified");var i="The ",o=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),o){case 1:i+="".concat(t[0]," argument");break;case 2:i+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:i+=t.slice(0,o-1).join(", "),i+=", and ".concat(t[o-1]," arguments")}return"".concat(i," must be specified")}),TypeError),e.exports.codes=c},56047:(e,t,n)=>{"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var o=void 0!==/a/g.flags,s=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},a=function(e){var t=[];return e.forEach((function(e,n){return t.push([n,e])})),t},u=Object.is?Object.is:n(94395),c=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},l=Number.isNaN?Number.isNaN:n(26110);function d(e){return e.call.bind(e)}var h=d(Object.prototype.hasOwnProperty),p=d(Object.prototype.propertyIsEnumerable),f=d(Object.prototype.toString),m=n(58404).types,g=m.isAnyArrayBuffer,y=m.isArrayBufferView,w=m.isDate,b=m.isMap,v=m.isRegExp,_=m.isSet,A=m.isNativeError,S=m.isBoxedPrimitive,k=m.isNumberObject,E=m.isStringObject,T=m.isBooleanObject,I=m.isBigIntObject,P=m.isSymbolObject,x=m.isFloat32Array,M=m.isFloat64Array;function O(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<48||n>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function B(e){return Object.keys(e).filter(O).concat(c(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function D(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function R(e,t,n,r){if(e===t)return 0!==e||(!n||u(e,t));if(n){if("object"!==i(e))return"number"===typeof e&&l(e)&&l(t);if("object"!==i(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==i(e))return(null===t||"object"!==i(t))&&e==t;if(null===t||"object"!==i(t))return!1}var s,a,c,d,h=f(e);if(h!==f(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var p=B(e),m=B(t);return p.length===m.length&&L(e,t,n,r,1,p)}if("[object Object]"===h&&(!b(e)&&b(t)||!_(e)&&_(t)))return!1;if(w(e)){if(!w(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(v(e)){if(!v(t)||(c=e,d=t,!(o?c.source===d.source&&c.flags===d.flags:RegExp.prototype.toString.call(c)===RegExp.prototype.toString.call(d))))return!1}else if(A(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(y(e)){if(n||!x(e)&&!M(e)){if(!function(e,t){return e.byteLength===t.byteLength&&0===D(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}(e,t))return!1}else if(!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}(e,t))return!1;var O=B(e),R=B(t);return O.length===R.length&&L(e,t,n,r,0,O)}if(_(e))return!(!_(t)||e.size!==t.size)&&L(e,t,n,r,2);if(b(e))return!(!b(t)||e.size!==t.size)&&L(e,t,n,r,3);if(g(e)){if(a=t,(s=e).byteLength!==a.byteLength||0!==D(new Uint8Array(s),new Uint8Array(a)))return!1}else if(S(e)&&!function(e,t){return k(e)?k(t)&&u(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):E(e)?E(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):T(e)?T(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):I(e)?I(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):P(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}(e,t))return!1}return L(e,t,n,r,0)}function U(e,t){return t.filter((function(t){return p(e,t)}))}function L(e,t,n,r,i,o){if(5===arguments.length){o=Object.keys(e);var s=Object.keys(t);if(o.length!==s.length)return!1}for(var a=0;a<o.length;a++)if(!h(t,o[a]))return!1;if(n&&5===arguments.length){var u=c(e);if(0!==u.length){var l=0;for(a=0;a<u.length;a++){var d=u[a];if(p(e,d)){if(!p(t,d))return!1;o.push(d),l++}else if(p(t,d))return!1}var f=c(t);if(u.length!==f.length&&U(t,f).length!==l)return!1}else{var m=c(t);if(0!==m.length&&0!==U(t,m).length)return!1}}if(0===o.length&&(0===i||1===i&&0===e.length||0===e.size))return!0;if(void 0===r)r={val1:new Map,val2:new Map,position:0};else{var g=r.val1.get(e);if(void 0!==g){var y=r.val2.get(t);if(void 0!==y)return g===y}r.position++}r.val1.set(e,r.position),r.val2.set(t,r.position);var w=j(e,t,n,o,r,i);return r.val1.delete(e),r.val2.delete(t),w}function C(e,t,n,r){for(var i=s(e),o=0;o<i.length;o++){var a=i[o];if(R(t,a,n,r))return e.delete(a),!0}return!1}function N(e){switch(i(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(l(e))return!1}return!0}function F(e,t,n){var r=N(n);return null!=r?r:t.has(r)&&!e.has(r)}function W(e,t,n,r,i){var o=N(n);if(null!=o)return o;var s=t.get(o);return!(void 0===s&&!t.has(o)||!R(r,s,!1,i))&&(!e.has(o)&&R(r,s,!1,i))}function z(e,t,n,r,i,o){for(var a=s(e),u=0;u<a.length;u++){var c=a[u];if(R(n,c,i,o)&&R(r,t.get(c),i,o))return e.delete(c),!0}return!1}function j(e,t,n,o,u,c){var l=0;if(2===c){if(!function(e,t,n,r){for(var o=null,a=s(e),u=0;u<a.length;u++){var c=a[u];if("object"===i(c)&&null!==c)null===o&&(o=new Set),o.add(c);else if(!t.has(c)){if(n)return!1;if(!F(e,t,c))return!1;null===o&&(o=new Set),o.add(c)}}if(null!==o){for(var l=s(t),d=0;d<l.length;d++){var h=l[d];if("object"===i(h)&&null!==h){if(!C(o,h,n,r))return!1}else if(!n&&!e.has(h)&&!C(o,h,n,r))return!1}return 0===o.size}return!0}(e,t,n,u))return!1}else if(3===c){if(!function(e,t,n,o){for(var s=null,u=a(e),c=0;c<u.length;c++){var l=r(u[c],2),d=l[0],h=l[1];if("object"===i(d)&&null!==d)null===s&&(s=new Set),s.add(d);else{var p=t.get(d);if(void 0===p&&!t.has(d)||!R(h,p,n,o)){if(n)return!1;if(!W(e,t,d,h,o))return!1;null===s&&(s=new Set),s.add(d)}}}if(null!==s){for(var f=a(t),m=0;m<f.length;m++){var g=r(f[m],2),y=(d=g[0],g[1]);if("object"===i(d)&&null!==d){if(!z(s,e,d,y,n,o))return!1}else if(!n&&(!e.has(d)||!R(e.get(d),y,!1,o))&&!z(s,e,d,y,!1,o))return!1}return 0===s.size}return!0}(e,t,n,u))return!1}else if(1===c)for(;l<e.length;l++){if(!h(e,l)){if(h(t,l))return!1;for(var d=Object.keys(e);l<d.length;l++){var p=d[l];if(!h(t,p)||!R(e[p],t[p],n,u))return!1}return d.length===Object.keys(t).length}if(!h(t,l)||!R(e[l],t[l],n,u))return!1}for(l=0;l<o.length;l++){var f=o[l];if(!R(e[f],t[f],n,u))return!1}return!0}e.exports={isDeepEqual:function(e,t){return R(e,t,false)},isDeepStrictEqual:function(e,t){return R(e,t,true)}}},1583:function(e,t,n){var r;!function(i){"use strict";var o,s=1e6,a=1e6,u="[big.js] ",c=u+"Invalid ",l=c+"decimal places",d=c+"rounding mode",h=u+"Division by zero",p={},f=void 0,m=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function g(e,t,n,r){var i=e.c,o=e.e+t+1;if(o<i.length){if(1===n)r=i[o]>=5;else if(2===n)r=i[o]>5||5==i[o]&&(r||o<0||i[o+1]!==f||1&i[o-1]);else if(3===n)r=r||!!i[0];else if(r=!1,0!==n)throw Error(d);if(o<1)i.length=1,r?(e.e=-t,i[0]=1):i[0]=e.e=0;else{if(i.length=o--,r)for(;++i[o]>9;)i[o]=0,o--||(++e.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(n<0||n>3||n!==~~n)throw Error(d);return e}function y(e,t,n,r){var i,o,a=e.constructor,u=!e.c[0];if(n!==f){if(n!==~~n||n<(3==t)||n>s)throw Error(3==t?c+"precision":l);for(n=r-(e=new a(e)).e,e.c.length>++r&&g(e,n,a.RM),2==t&&(r=e.e+n+1);e.c.length<r;)e.c.push(0)}if(i=e.e,n=(o=e.c.join("")).length,2!=t&&(1==t||3==t&&r<=i||i<=a.NE||i>=a.PE))o=o.charAt(0)+(n>1?"."+o.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(i>0)if(++i>n)for(i-=n;i--;)o+="0";else i<n&&(o=o.slice(0,i)+"."+o.slice(i));else n>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&(!u||4==t)?"-"+o:o}p.abs=function(){var e=new this.constructor(this);return e.s=1,e},p.cmp=function(e){var t,n=this,r=n.c,i=(e=new n.constructor(e)).c,o=n.s,s=e.s,a=n.e,u=e.e;if(!r[0]||!i[0])return r[0]?o:i[0]?-s:0;if(o!=s)return o;if(t=o<0,a!=u)return a>u^t?1:-1;for(s=(a=r.length)<(u=i.length)?a:u,o=-1;++o<s;)if(r[o]!=i[o])return r[o]>i[o]^t?1:-1;return a==u?0:a>u^t?1:-1},p.div=function(e){var t=this,n=t.constructor,r=t.c,i=(e=new n(e)).c,o=t.s==e.s?1:-1,a=n.DP;if(a!==~~a||a<0||a>s)throw Error(l);if(!i[0])throw Error(h);if(!r[0])return new n(0*o);var u,c,d,p,m,y=i.slice(),w=u=i.length,b=r.length,v=r.slice(0,u),_=v.length,A=e,S=A.c=[],k=0,E=a+(A.e=t.e-e.e)+1;for(A.s=o,o=E<0?0:E,y.unshift(0);_++<u;)v.push(0);do{for(d=0;d<10;d++){if(u!=(_=v.length))p=u>_?1:-1;else for(m=-1,p=0;++m<u;)if(i[m]!=v[m]){p=i[m]>v[m]?1:-1;break}if(!(p<0))break;for(c=_==u?i:y;_;){if(v[--_]<c[_]){for(m=_;m&&!v[--m];)v[m]=9;--v[m],v[_]+=10}v[_]-=c[_]}for(;!v[0];)v.shift()}S[k++]=p?d:++d,v[0]&&p?v[_]=r[w]||0:v=[r[w]]}while((w++<b||v[0]!==f)&&o--);return S[0]||1==k||(S.shift(),A.e--),k>E&&g(A,a,n.RM,v[0]!==f),A},p.eq=function(e){return!this.cmp(e)},p.gt=function(e){return this.cmp(e)>0},p.gte=function(e){return this.cmp(e)>-1},p.lt=function(e){return this.cmp(e)<0},p.lte=function(e){return this.cmp(e)<1},p.minus=p.sub=function(e){var t,n,r,i,o=this,s=o.constructor,a=o.s,u=(e=new s(e)).s;if(a!=u)return e.s=-u,o.plus(e);var c=o.c.slice(),l=o.e,d=e.c,h=e.e;if(!c[0]||!d[0])return d[0]?(e.s=-u,e):new s(c[0]?o:0);if(a=l-h){for((i=a<0)?(a=-a,r=c):(h=l,r=d),r.reverse(),u=a;u--;)r.push(0);r.reverse()}else for(n=((i=c.length<d.length)?c:d).length,a=u=0;u<n;u++)if(c[u]!=d[u]){i=c[u]<d[u];break}if(i&&(r=c,c=d,d=r,e.s=-e.s),(u=(n=d.length)-(t=c.length))>0)for(;u--;)c[t++]=0;for(u=t;n>a;){if(c[--n]<d[n]){for(t=n;t&&!c[--t];)c[t]=9;--c[t],c[n]+=10}c[n]-=d[n]}for(;0===c[--u];)c.pop();for(;0===c[0];)c.shift(),--h;return c[0]||(e.s=1,c=[h=0]),e.c=c,e.e=h,e},p.mod=function(e){var t,n=this,r=n.constructor,i=n.s,o=(e=new r(e)).s;if(!e.c[0])throw Error(h);return n.s=e.s=1,t=1==e.cmp(n),n.s=i,e.s=o,t?new r(n):(i=r.DP,o=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=i,r.RM=o,this.minus(n.times(e)))},p.plus=p.add=function(e){var t,n=this,r=n.constructor,i=n.s,o=(e=new r(e)).s;if(i!=o)return e.s=-o,n.minus(e);var s=n.e,a=n.c,u=e.e,c=e.c;if(!a[0]||!c[0])return c[0]?e:new r(a[0]?n:0*i);if(a=a.slice(),i=s-u){for(i>0?(u=s,t=c):(i=-i,t=a),t.reverse();i--;)t.push(0);t.reverse()}for(a.length-c.length<0&&(t=c,c=a,a=t),i=c.length,o=0;i;a[i]%=10)o=(a[--i]=a[i]+c[i]+o)/10|0;for(o&&(a.unshift(o),++u),i=a.length;0===a[--i];)a.pop();return e.c=a,e.e=u,e},p.pow=function(e){var t=this,n=new t.constructor(1),r=n,i=e<0;if(e!==~~e||e<-1e6||e>a)throw Error(c+"exponent");for(i&&(e=-e);1&e&&(r=r.times(t)),e>>=1;)t=t.times(t);return i?n.div(r):r},p.round=function(e,t){var n=this.constructor;if(e===f)e=0;else if(e!==~~e||e<-s||e>s)throw Error(l);return g(new n(this),e,t===f?n.RM:t)},p.sqrt=function(){var e,t,n,r=this,i=r.constructor,o=r.s,s=r.e,a=new i(.5);if(!r.c[0])return new i(r);if(o<0)throw Error(u+"No square root");0===(o=Math.sqrt(r+""))||o===1/0?((t=r.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),e=new i(((o=Math.sqrt(t))==1/0?"1e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+s)):e=new i(o),s=e.e+(i.DP+=4);do{n=e,e=a.times(n.plus(r.div(n)))}while(n.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return g(e,i.DP-=4,i.RM)},p.times=p.mul=function(e){var t,n=this,r=n.constructor,i=n.c,o=(e=new r(e)).c,s=i.length,a=o.length,u=n.e,c=e.e;if(e.s=n.s==e.s?1:-1,!i[0]||!o[0])return new r(0*e.s);for(e.e=u+c,s<a&&(t=i,i=o,o=t,c=s,s=a,a=c),t=new Array(c=s+a);c--;)t[c]=0;for(u=a;u--;){for(a=0,c=s+u;c>u;)a=t[c]+o[u]*i[c-u-1]+a,t[c--]=a%10,a=a/10|0;t[c]=(t[c]+a)%10}for(a?++e.e:t.shift(),u=t.length;!t[--u];)t.pop();return e.c=t,e},p.toExponential=function(e){return y(this,1,e,e)},p.toFixed=function(e){return y(this,2,e,this.e+e)},p.toPrecision=function(e){return y(this,3,e,e-1)},p.toString=function(){return y(this)},p.valueOf=p.toJSON=function(){return y(this,4)},o=function e(){function t(n){var r=this;if(!(r instanceof t))return n===f?e():new t(n);n instanceof t?(r.s=n.s,r.e=n.e,r.c=n.c.slice()):function(e,t){var n,r,i;if(0===t&&1/t<0)t="-0";else if(!m.test(t+=""))throw Error(c+"number");e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".",""));(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length);for(i=t.length,r=0;r<i&&"0"==t.charAt(r);)++r;if(r==i)e.c=[e.e=0];else{for(;i>0&&"0"==t.charAt(--i););for(e.e=n-r-1,e.c=[],n=0;r<=i;)e.c[n++]=+t.charAt(r++)}}(r,n),r.constructor=t}return t.prototype=p,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.version="5.2.2",t}(),o.default=o.Big=o,void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},12324:(e,t,n)=>{"use strict";var r=n(97429).Buffer;class i{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function o(e,t){return t.property?e+"["+t.property+"]":e}t.Layout=i,t.nameWithProperty=o,t.bindConstructorLayout=function(e,t){if("function"!==typeof e)throw new TypeError("Class must be constructor");if(e.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof i))throw new TypeError("layout must be a Layout");if(t.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value:function(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(e,"decode",{value:function(e,n){return t.decode(e,n)},writable:!0})};class s extends i{isCount(){throw new Error("ExternalLayout is abstract")}}class a extends s{constructor(e,t){if(void 0===e&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t){void 0===t&&(t=0);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}class u extends s{constructor(e,t,n){if(!(e instanceof i))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof c||this.layout instanceof l}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class c extends i{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class l extends i{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}class d extends i{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeIntLE(e,n,this.span),this.span}}class h extends i{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeIntBE(e,n,this.span),this.span}}const p=Math.pow(2,32);function f(e){const t=Math.floor(e/p);return{hi32:t,lo32:e-t*p}}function m(e,t){return e*p+t}class g extends i{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return m(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=f(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class y extends i{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);return m(e.readUInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,n){void 0===n&&(n=0);const r=f(e);return t.writeUInt32BE(r.hi32,n),t.writeUInt32BE(r.lo32,n+4),8}}class w extends i{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return m(e.readInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=f(e);return t.writeUInt32LE(r.lo32,n),t.writeInt32LE(r.hi32,n+4),8}}class b extends i{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);return m(e.readInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,n){void 0===n&&(n=0);const r=f(e);return t.writeInt32BE(r.hi32,n),t.writeUInt32BE(r.lo32,n+4),8}}class v extends i{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatLE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeFloatLE(e,n),4}}class _ extends i{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatBE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeFloatBE(e,n),4}}class A extends i{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleLE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeDoubleLE(e,n),8}}class S extends i{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleBE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeDoubleBE(e,n),8}}class k extends i{constructor(e,t,n){if(!(e instanceof i))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof s&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(t instanceof s)&&0<e.span&&(r=t*e.span),super(r,n),this.elementLayout=e,this.count=t}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0,r=this.count;if(r instanceof s&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e,t){void 0===t&&(t=0);const n=[];let r=0,i=this.count;for(i instanceof s&&(i=i.decode(e,t));r<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t,n){void 0===n&&(n=0);const r=this.elementLayout,i=e.reduce(((e,i)=>e+r.encode(i,t,n+e)),0);return this.count instanceof s&&this.count.encode(e.length,t,n),i}}class E extends i{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof i),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof t&&void 0===n&&(n=t,t=void 0);for(const i of e)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(o){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(r){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const s of this.fields){let r=s.span;if(o=0<r?r:0,void 0!==s.property){const i=e[s.property];void 0!==i&&(o=s.encode(i,t,n),0>r&&(r=s.getSpan(t,n)))}i=n,n+=r}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!==typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class T{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class I extends T{constructor(e,t){if(!(e instanceof s&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class P extends i{constructor(e,t,n){const r=e instanceof c||e instanceof l;if(r)e=new I(new u(e));else if(e instanceof s&&e.isCount())e=new I(e);else if(!(e instanceof T))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof i))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let o=-1;t&&(o=t.span,0<=o&&r&&(o+=e.layout.span)),super(o,n),this.discriminator=e,this.usesPrefixDiscriminator=r,this.defaultLayout=t,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return a(e)},this.configGetSourceVariant=function(e){a=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(e,t+s)}else n=o.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new x(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return r.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class x extends i{constructor(e,t,n,r){if(!(e instanceof P))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof i))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof r)throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function M(e){return 0>e&&(e+=4294967296),e}class O extends i{constructor(e,t,n){if(!(e instanceof c||e instanceof l))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof t&&void 0===n&&(n=t,t=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let r=0;this._packedSetValue=function(e){return r=M(e),this},this._packedGetValue=function(){return r}}decode(e,t){const n=this.makeDestinationObject();void 0===t&&(t=0);const r=this.word.decode(e,t);this._packedSetValue(r);for(const i of this.fields)void 0!==i.property&&(n[i.property]=i.decode(r));return n}encode(e,t,n){void 0===n&&(n=0);const r=this.word.decode(t,n);this._packedSetValue(r);for(const i of this.fields)if(void 0!==i.property){const t=e[i.property];void 0!==t&&i.encode(t)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new B(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new D(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class B{constructor(e,t,n){if(!(e instanceof O))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const r=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-t),this.wordMask=M(this.valueMask<<this.start),this.property=n}decode(){return M(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==M(e&this.valueMask))throw new TypeError(o("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=M(e<<this.start);this.container._packedSetValue(M(t&~this.wordMask)|n)}}class D extends B{constructor(e,t){super(e,1,t)}decode(e,t){return!!B.prototype.decode.call(this,e,t)}encode(e){return"boolean"===typeof e&&(e=+e),B.prototype.encode.call(this,e)}}class R extends i{constructor(e,t){if(!(e instanceof s&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof s||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let i=this.length;if(this.length instanceof s&&(i=e.length),!r.isBuffer(e)||i!==e.length)throw new TypeError(o("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,i,"hex"),this.length instanceof s&&this.length.encode(i,t,n),i}}class U extends i{constructor(e){super(-1,e)}getSpan(e,t){if(!r.isBuffer(e))throw new TypeError("b must be a Buffer");void 0===t&&(t=0);let n=t;for(;n<e.length&&0!==e[n];)n+=1;return 1+n-t}decode(e,t,n){void 0===t&&(t=0);let r=this.getSpan(e,t);return e.slice(t,t+r-1).toString("utf-8")}encode(e,t,n){void 0===n&&(n=0),"string"!==typeof e&&(e=e.toString());const i=new r(e,"utf8"),o=i.length;if(n+o>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(t,n),t[n+o]=0,o+1}}class L extends i{constructor(e,t){if("string"===typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t){if(!r.isBuffer(e))throw new TypeError("b must be a Buffer");return void 0===t&&(t=0),e.length-t}decode(e,t,n){void 0===t&&(t=0);let r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return e.slice(t,t+r).toString("utf-8")}encode(e,t,n){void 0===n&&(n=0),"string"!==typeof e&&(e=e.toString());const i=new r(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(t,n),o}}class C extends i{constructor(e,t){super(0,t),this.value=e}decode(e,t,n){return this.value}encode(e,t,n){return 0}}t.ExternalLayout=s,t.GreedyCount=a,t.OffsetLayout=u,t.UInt=c,t.UIntBE=l,t.Int=d,t.IntBE=h,t.Float=v,t.FloatBE=_,t.Double=A,t.DoubleBE=S,t.Sequence=k,t.Structure=E,t.UnionDiscriminator=T,t.UnionLayoutDiscriminator=I,t.Union=P,t.VariantLayout=x,t.BitStructure=O,t.BitField=B,t.Boolean=D,t.Blob=R,t.CString=U,t.UTF8=L,t.Constant=C,t.greedy=(e,t)=>new a(e,t),t.offset=(e,t,n)=>new u(e,t,n),t.u8=e=>new c(1,e),t.u16=e=>new c(2,e),t.u24=e=>new c(3,e),t.u32=e=>new c(4,e),t.u40=e=>new c(5,e),t.u48=e=>new c(6,e),t.nu64=e=>new g(e),t.u16be=e=>new l(2,e),t.u24be=e=>new l(3,e),t.u32be=e=>new l(4,e),t.u40be=e=>new l(5,e),t.u48be=e=>new l(6,e),t.nu64be=e=>new y(e),t.s8=e=>new d(1,e),t.s16=e=>new d(2,e),t.s24=e=>new d(3,e),t.s32=e=>new d(4,e),t.s40=e=>new d(5,e),t.s48=e=>new d(6,e),t.ns64=e=>new w(e),t.s16be=e=>new h(2,e),t.s24be=e=>new h(3,e),t.s32be=e=>new h(4,e),t.s40be=e=>new h(5,e),t.s48be=e=>new h(6,e),t.ns64be=e=>new b(e),t.f32=e=>new v(e),t.f32be=e=>new _(e),t.f64=e=>new A(e),t.f64be=e=>new S(e),t.struct=(e,t,n)=>new E(e,t,n),t.bits=(e,t,n)=>new O(e,t,n),t.seq=(e,t,n)=>new k(e,t,n),t.union=(e,t,n)=>new P(e,t,n),t.unionLayoutDiscriminator=(e,t)=>new I(e,t),t.blob=(e,t)=>new R(e,t),t.cstr=e=>new U(e),t.utf8=(e,t)=>new L(e,t),t.const=(e,t)=>new C(e,t)},8511:e=>{"use strict";const t=(e,t)=>{if("string"!==typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");t=Object.assign({pascalCase:!1},t);if(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim(),0===e.length)return"";if(1===e.length)return t.pascalCase?e.toUpperCase():e.toLowerCase();return e!==e.toLowerCase()&&(e=(e=>{let t=!1,n=!1,r=!1;for(let i=0;i<e.length;i++){const o=e[i];t&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(e=e.slice(0,i)+"-"+e.slice(i),t=!1,r=n,n=!0,i++):n&&r&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o?(e=e.slice(0,i-1)+"-"+e.slice(i-1),r=n,n=!1,t=!0):(t=o.toLowerCase()===o&&o.toUpperCase()!==o,r=n,n=o.toUpperCase()===o&&o.toLowerCase()!==o)}return e})(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,((e,t)=>t.toUpperCase())).replace(/\d+(\w|$)/g,(e=>e.toUpperCase())),n=e,t.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n;var n};e.exports=t,e.exports.default=t},46995:function(e,t){var n="undefined"!==typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!==typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=f(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=l(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=function(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function _(e){var t=new h;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function A(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},A.error=function(){var e=new A(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];A.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new A(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(E){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise((function(r,o){var s=new b(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:_(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new A(t,e))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=h,e.Request=b,e.Response=A),t.Headers=h,t.Request=b,t.Response=A,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},69101:function(e,t,n){var r;!function(i){"use strict";var o,s=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},u=!0,c="[DecimalError] ",l=c+"Invalid argument: ",d=c+"Exponent out of range: ",h=Math.floor,p=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m=1e7,g=9007199254740991,y=h(1286742750677284.5),w={};function b(e,t){var n,r,i,o,s,a,c,l,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),u?x(t,h):t;if(c=e.d,l=t.d,s=e.e,i=t.e,c=c.slice(),o=s-i){for(o<0?(r=c,o=-o,a=l.length):(r=l,i=s,a=c.length),o>(a=(s=Math.ceil(h/7))>a?s+1:a+1)&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((a=c.length)-(o=l.length)<0&&(o=a,r=l,l=c,c=r),n=0;o;)n=(c[--o]=c[o]+l[o]+n)/m|0,c[o]%=m;for(n&&(c.unshift(n),++i),a=c.length;0==c[--a];)c.pop();return t.d=c,t.e=i,u?x(t,h):t}function v(e,t,n){if(e!==~~e||e<t||e>n)throw Error(l+e)}function _(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=T(n)),o+=r;(n=7-(r=(s=e[t])+"").length)&&(o+=T(n))}else if(0===s)return"0";for(;s%10===0;)s/=10;return o+s}w.absoluteValue=w.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},w.comparedTo=w.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},w.decimalPlaces=w.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},w.dividedBy=w.div=function(e){return A(this,new this.constructor(e))},w.dividedToIntegerBy=w.idiv=function(e){var t=this.constructor;return x(A(this,new t(e),0,1),t.precision)},w.equals=w.eq=function(e){return!this.cmp(e)},w.exponent=function(){return k(this)},w.greaterThan=w.gt=function(e){return this.cmp(e)>0},w.greaterThanOrEqualTo=w.gte=function(e){return this.cmp(e)>=0},w.isInteger=w.isint=function(){return this.e>this.d.length-2},w.isNegative=w.isneg=function(){return this.s<0},w.isPositive=w.ispos=function(){return this.s>0},w.isZero=function(){return 0===this.s},w.lessThan=w.lt=function(e){return this.cmp(e)<0},w.lessThanOrEqualTo=w.lte=function(e){return this.cmp(e)<1},w.logarithm=w.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(o))throw Error(c+"NaN");if(n.s<1)throw Error(c+(n.s?"NaN":"-Infinity"));return n.eq(o)?new r(0):(u=!1,t=A(I(n,s),I(e,s),s),u=!0,x(t,i))},w.minus=w.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?M(t,e):b(t,(e.s=-e.s,e))},w.modulo=w.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(c+"NaN");return n.s?(u=!1,t=A(n,e,0,1).times(e),u=!0,n.minus(t)):x(new r(n),i)},w.naturalExponential=w.exp=function(){return S(this)},w.naturalLogarithm=w.ln=function(){return I(this)},w.negated=w.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},w.plus=w.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?b(t,e):M(t,(e.s=-e.s,e))},w.precision=w.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(l+e);if(t=k(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},w.squareRoot=w.sqrt=function(){var e,t,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(c+"NaN")}for(e=k(a),u=!1,0==(i=Math.sqrt(+a))||i==1/0?(((t=_(a.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=h((e+1)/2)-(e<0||e%2),r=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(i.toString()),i=s=(n=l.precision)+3;;)if(r=(o=r).plus(A(a,o,s+2)).times(.5),_(o.d).slice(0,s)===(t=_(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&"4999"==t){if(x(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if("9999"!=t)break;s+=4}return u=!0,x(r,n)},w.times=w.mul=function(e){var t,n,r,i,o,s,a,c,l,d=this,h=d.constructor,p=d.d,f=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=p.length)<(l=f.length)&&(o=p,p=f,f=o,s=c,c=l,l=s),o=[],r=s=c+l;r--;)o.push(0);for(r=l;--r>=0;){for(t=0,i=c+r;i>r;)a=o[i]+f[r]*p[i-r-1]+t,o[i--]=a%m|0,t=a/m|0;o[i]=(o[i]+t)%m|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,u?x(e,h.precision):e},w.toDecimalPlaces=w.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(v(e,0,s),void 0===t?t=r.rounding:v(t,0,8),x(n,e+k(n)+1,t))},w.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=O(r,!0):(v(e,0,s),void 0===t?t=i.rounding:v(t,0,8),n=O(r=x(new i(r),e+1,t),!0,e+1)),n},w.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?O(i):(v(e,0,s),void 0===t?t=o.rounding:v(t,0,8),n=O((r=x(new o(i),e+k(i)+1,t)).abs(),!1,e+k(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},w.toInteger=w.toint=function(){var e=this,t=e.constructor;return x(new t(e),k(e)+1,t.rounding)},w.toNumber=function(){return+this},w.toPower=w.pow=function(e){var t,n,r,i,s,a,l=this,d=l.constructor,p=+(e=new d(e));if(!e.s)return new d(o);if(!(l=new d(l)).s){if(e.s<1)throw Error(c+"Infinity");return l}if(l.eq(o))return l;if(r=d.precision,e.eq(o))return x(l,r);if(a=(t=e.e)>=(n=e.d.length-1),s=l.s,a){if((n=p<0?-p:p)<=g){for(i=new d(o),t=Math.ceil(r/7+4),u=!1;n%2&&B((i=i.times(l)).d,t),0!==(n=h(n/2));)B((l=l.times(l)).d,t);return u=!0,e.s<0?new d(o).div(i):x(i,r)}}else if(s<0)throw Error(c+"NaN");return s=s<0&&1&e.d[Math.max(t,n)]?-1:1,l.s=1,u=!1,i=e.times(I(l,r+12)),u=!0,(i=S(i)).s=s,i},w.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=O(i,(n=k(i))<=o.toExpNeg||n>=o.toExpPos):(v(e,1,s),void 0===t?t=o.rounding:v(t,0,8),r=O(i=x(new o(i),e,t),e<=(n=k(i))||n<=o.toExpNeg,e)),r},w.toSignificantDigits=w.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(v(e,1,s),void 0===t?t=n.rounding:v(t,0,8)),x(new n(this),e,t)},w.toString=w.valueOf=w.val=w.toJSON=function(){var e=this,t=k(e),n=e.constructor;return O(e,t<=n.toExpNeg||t>=n.toExpPos)};var A=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%m|0,r=n/m|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*m+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,s){var a,u,l,d,h,p,f,g,y,w,b,v,_,A,S,E,T,I,P=r.constructor,M=r.s==i.s?1:-1,O=r.d,B=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(c+"Division by zero");for(u=r.e-i.e,T=B.length,S=O.length,g=(f=new P(M)).d=[],l=0;B[l]==(O[l]||0);)++l;if(B[l]>(O[l]||0)&&--u,(v=null==o?o=P.precision:s?o+(k(r)-k(i))+1:o)<0)return new P(0);if(v=v/7+2|0,l=0,1==T)for(d=0,B=B[0],v++;(l<S||d)&&v--;l++)_=d*m+(O[l]||0),g[l]=_/B|0,d=_%B|0;else{for((d=m/(B[0]+1)|0)>1&&(B=e(B,d),O=e(O,d),T=B.length,S=O.length),A=T,w=(y=O.slice(0,T)).length;w<T;)y[w++]=0;(I=B.slice()).unshift(0),E=B[0],B[1]>=m/2&&++E;do{d=0,(a=t(B,y,T,w))<0?(b=y[0],T!=w&&(b=b*m+(y[1]||0)),(d=b/E|0)>1?(d>=m&&(d=m-1),1==(a=t(h=e(B,d),y,p=h.length,w=y.length))&&(d--,n(h,T<p?I:B,p))):(0==d&&(a=d=1),h=B.slice()),(p=h.length)<w&&h.unshift(0),n(y,h,w),-1==a&&(a=t(B,y,T,w=y.length))<1&&(d++,n(y,T<w?I:B,w)),w=y.length):0===a&&(d++,y=[0]),g[l++]=d,a&&y[0]?y[w++]=O[A]||0:(y=[O[A]],w=1)}while((A++<S||void 0!==y[0])&&v--)}return g[0]||g.shift(),f.e=u,x(f,s?o+k(f)+1:o)}}();function S(e,t){var n,r,i,s,a,c=0,l=0,h=e.constructor,f=h.precision;if(k(e)>16)throw Error(d+k(e));if(!e.s)return new h(o);for(null==t?(u=!1,a=f):a=t,s=new h(.03125);e.abs().gte(.1);)e=e.times(s),l+=5;for(a+=Math.log(p(2,l))/Math.LN10*2+5|0,n=r=i=new h(o),h.precision=a;;){if(r=x(r.times(e),a),n=n.times(++c),_((s=i.plus(A(r,n,a))).d).slice(0,a)===_(i.d).slice(0,a)){for(;l--;)i=x(i.times(i),a);return h.precision=f,null==t?(u=!0,x(i,f)):i}i=s}}function k(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function E(e,t,n){if(t>e.LN10.sd())throw u=!0,n&&(e.precision=n),Error(c+"LN10 precision limit exceeded");return x(new e(e.LN10),t)}function T(e){for(var t="";e--;)t+="0";return t}function I(e,t){var n,r,i,s,a,l,d,h,p,f=1,m=e,g=m.d,y=m.constructor,w=y.precision;if(m.s<1)throw Error(c+(m.s?"NaN":"-Infinity"));if(m.eq(o))return new y(0);if(null==t?(u=!1,h=w):h=t,m.eq(10))return null==t&&(u=!0),E(y,h);if(h+=10,y.precision=h,r=(n=_(g)).charAt(0),s=k(m),!(Math.abs(s)<15e14))return d=E(y,h+2,w).times(s+""),m=I(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=w,null==t?(u=!0,x(m,w)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=_((m=m.times(e)).d)).charAt(0),f++;for(s=k(m),r>1?(m=new y("0."+n),s++):m=new y(r+"."+n.slice(1)),l=a=m=A(m.minus(o),m.plus(o),h),p=x(m.times(m),h),i=3;;){if(a=x(a.times(p),h),_((d=l.plus(A(a,new y(i),h))).d).slice(0,h)===_(l.d).slice(0,h))return l=l.times(2),0!==s&&(l=l.plus(E(y,h+2,w).times(s+""))),l=A(l,new y(f),h),y.precision=w,null==t?(u=!0,x(l,w)):l;l=d,i+=2}}function P(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=h(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),u&&(e.e>y||e.e<-y))throw Error(d+n)}else e.s=0,e.e=0,e.d=[0];return e}function x(e,t,n){var r,i,o,s,a,c,l,f,g=e.d;for(s=1,o=g[0];o>=10;o/=10)s++;if((r=t-s)<0)r+=7,i=t,l=g[f=0];else{if((f=Math.ceil((r+1)/7))>=(o=g.length))return e;for(l=o=g[f],s=1;o>=10;o/=10)s++;i=(r%=7)-7+s}if(void 0!==n&&(a=l/(o=p(10,s-i-1))%10|0,c=t<0||void 0!==g[f+1]||l%o,c=n<4?(a||c)&&(0==n||n==(e.s<0?3:2)):a>5||5==a&&(4==n||c||6==n&&(r>0?i>0?l/p(10,s-i):0:g[f-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return c?(o=k(e),g.length=1,t=t-o-1,g[0]=p(10,(7-t%7)%7),e.e=h(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==r?(g.length=f,o=1,f--):(g.length=f+1,o=p(10,7-r),g[f]=i>0?(l/p(10,s-i)%p(10,i)|0)*o:0),c)for(;;){if(0==f){(g[0]+=o)==m&&(g[0]=1,++e.e);break}if(g[f]+=o,g[f]!=m)break;g[f--]=0,o=1}for(r=g.length;0===g[--r];)g.pop();if(u&&(e.e>y||e.e<-y))throw Error(d+k(e));return e}function M(e,t){var n,r,i,o,s,a,c,l,d,h,p=e.constructor,f=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),u?x(t,f):t;if(c=e.d,h=t.d,r=t.e,l=e.e,c=c.slice(),s=l-r){for((d=s<0)?(n=c,s=-s,a=h.length):(n=h,r=l,a=c.length),s>(i=Math.max(Math.ceil(f/7),a)+2)&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(a=h.length))&&(a=i),i=0;i<a;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}s=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),a=c.length,i=h.length-a;i>0;--i)c[a++]=0;for(i=h.length;i>s;){if(c[--i]<h[i]){for(o=i;o&&0===c[--o];)c[o]=m-1;--c[o],c[i]+=m}c[i]-=h[i]}for(;0===c[--a];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,u?x(t,f):t):new p(0)}function O(e,t,n){var r,i=k(e),o=_(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+T(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+T(-i-1)+o,n&&(r=n-s)>0&&(o+=T(r))):i>=s?(o+=T(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+T(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=T(r))),e.s<0?"-"+o:o}function B(e,t){if(e.length>t)return e.length=t,!0}function D(e){if(!e||"object"!==typeof e)throw Error(c+"Object expected");var t,n,r,i=["precision",1,s,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(h(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(l+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(l+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(l+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):P(t,e.toString())}if("string"!==typeof e)throw Error(l+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(l+e);P(t,e)}if(o.prototype=w,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=D,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(a),a.default=a.Decimal=a,o=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},2674:(e,t,n)=>{"use strict";var r=n(30318),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,u=n(56060)(),c=a&&u,l=function(e,t,n,r){var i;(!(t in e)||"function"===typeof(i=r)&&"[object Function]"===o.call(i)&&r())&&(c?a(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},d=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=s.call(o,Object.getOwnPropertySymbols(t)));for(var a=0;a<o.length;a+=1)l(e,o[a],t[o[a]],n[o[a]])};d.supportsDescriptors=!!c,e.exports=d},42330:e=>{"use strict";function t(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(void 0!==i&&null!==i)for(var o=Object.keys(Object(i)),s=0,a=o.length;s<a;s++){var u=o[s],c=Object.getOwnPropertyDescriptor(i,u);void 0!==c&&c.enumerable&&(n[u]=i[u])}}return n}e.exports={assign:t,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}}},56060:(e,t,n)=>{"use strict";var r=n(89611)("%Object.defineProperty%",!0),i=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},53126:e=>{"use strict";e.exports=function(e){return e!==e}},26110:(e,t,n)=>{"use strict";var r=n(33130),i=n(2674),o=n(53126),s=n(83329),a=n(14321),u=r(s(),Number);i(u,{getPolyfill:s,implementation:o,shim:a}),e.exports=u},83329:(e,t,n)=>{"use strict";var r=n(53126);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}},14321:(e,t,n)=>{"use strict";var r=n(2674),i=n(83329);e.exports=function(){var e=i();return r(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},10119:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"===typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"===typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,!0).update(n)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createOutputMethod(r,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"===typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null===e||void 0===e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(n,r){return new HmacSha256(n,t,!0).update(r)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createHmacOutputMethod(r,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,n){var r,i=typeof e;if("string"===i){var o,s=[],a=e.length,u=0;for(r=0;r<a;++r)(o=e.charCodeAt(r))<128?s[u++]=o:o<2048?(s[u++]=192|o>>6,s[u++]=128|63&o):o<55296||o>=57344?(s[u++]=224|o>>12,s[u++]=128|o>>6&63,s[u++]=128|63&o):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++r)),s[u++]=240|o>>18,s[u++]=128|o>>12&63,s[u++]=128|o>>6&63,s[u++]=128|63&o);e=s}else{if("object"!==i)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var c=[],l=[];for(r=0;r<64;++r){var d=e[r]||0;c[r]=92^d,l[r]=54^d}Sha256.call(this,t,n),this.update(l),this.oKeyPad=c,this.inner=!0,this.sharedMemory=n}Sha256.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var r,i,o=0,s=e.length,a=this.blocks;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(i=this.start;o<s&&i<64;++o)a[i>>2]|=e[o]<<SHIFT[3&i++];else for(i=this.start;o<s&&i<64;++o)(r=e.charCodeAt(o))<128?a[i>>2]|=r<<SHIFT[3&i++]:r<2048?(a[i>>2]|=(192|r>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(a[i>>2]|=(224|r>>12)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++o)),a[i>>2]|=(240|r>>18)<<SHIFT[3&i++],a[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,n,r,i,o,s,a,u,c=this.h0,l=this.h1,d=this.h2,h=this.h3,p=this.h4,f=this.h5,m=this.h6,g=this.h7,y=this.blocks;for(e=16;e<64;++e)t=((i=y[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,n=((i=y[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,y[e]=y[e-16]+t+y[e-7]+n<<0;for(u=l&d,e=0;e<64;e+=4)this.first?(this.is224?(o=300032,g=(i=y[0]-1413257819)-150054599<<0,h=i+24177077<<0):(o=704751109,g=(i=y[0]-210244248)-1521486534<<0,h=i+143694565<<0),this.first=!1):(t=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),r=(o=c&l)^c&d^u,g=h+(i=g+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&f^~p&m)+K[e]+y[e])<<0,h=i+(t+r)<<0),t=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),r=(s=h&c)^h&l^o,m=d+(i=m+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&p^~g&f)+K[e+1]+y[e+1])<<0,t=((d=i+(t+r)<<0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(a=d&h)^d&c^s,f=l+(i=f+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&g^~m&p)+K[e+2]+y[e+2])<<0,t=((l=i+(t+r)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(u=l&d)^l&h^a,p=c+(i=p+(n=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&m^~f&g)+K[e+3]+y[e+3])<<0,c=i+(t+r)<<0;this.h0=this.h0+c<<0,this.h1=this.h1+l<<0,this.h2=this.h2+d<<0,this.h3=this.h3+h<<0,this.h4=this.h4+p<<0,this.h5=this.h5+f<<0,this.h6=this.h6+m<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,u=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(u+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,u=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||u.push(a>>24&255,a>>16&255,a>>8&255,255&a),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},46694:function(e){e.exports=function(){"use strict";var e=Math.imul,t=Math.clz32;function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function l(){return l=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&u(i,n.prototype),i},l.apply(null,arguments)}function d(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function h(e){var t="function"==typeof Map?new Map:void 0;return h=function(e){function n(){return l(e,arguments,a(this).constructor)}if(null===e||!d(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)},h(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function m(e){var t=c();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function g(e,t){return y(e)||w(e,t)||b(e,t)||_()}function y(e){if(Array.isArray(e))return e}function w(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}function b(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}var S=function(e){var t=Math.abs,i=Math.max,a=Math.floor;function u(e,t){var n;if(r(this,u),(n=c.call(this,e)).sign=t,Object.setPrototypeOf(p(n),u.prototype),e>u.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return n}s(u,e);var c=m(u);return o(u,[{key:"toDebugString",value:function(){var e,t=["BigInt["],n=A(this);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push((r?(r>>>0).toString(16):r)+", ")}}catch(e){n.e(e)}finally{n.f()}return t.push("]"),t.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(e&e-1)?u.__toStringBasePowerOfTwo(this,e):u.__toStringGeneric(this,e,!1)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var e=new u(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return u.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(e,t,n){n>this.length&&(n=this.length);for(var r=32767&e,i=e>>>15,o=0,s=t,a=0;a<n;a++){var c=this.__digit(a),l=32767&c,d=c>>>15,h=u.__imul(l,r),p=u.__imul(l,i),f=u.__imul(d,r),m=s+h+o;o=m>>>30,m&=1073741823,o+=(m+=((32767&p)<<15)+((32767&f)<<15))>>>30,s=u.__imul(d,i)+(p>>>15)+(f>>>15),this.__setDigit(a,1073741823&m)}if(0!==o||0!==s)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,n){for(var r,i=0,o=0;o<n;o++)i=(r=this.__halfDigit(t+o)+e.__halfDigit(o)+i)>>>15,this.__setHalfDigit(t+o,32767&r);return i}},{key:"__inplaceSub",value:function(e,t,n){var r=0;if(1&t){t>>=1;for(var i=this.__digit(t),o=32767&i,s=0;s<n-1>>>1;s++){var a=e.__digit(s),u=(i>>>15)-(32767&a)-r;r=1&u>>>15,this.__setDigit(t+s,(32767&u)<<15|32767&o),r=1&(o=(32767&(i=this.__digit(t+s+1)))-(a>>>15)-r)>>>15}var c=e.__digit(s),l=(i>>>15)-(32767&c)-r;if(r=1&l>>>15,this.__setDigit(t+s,(32767&l)<<15|32767&o),t+s+1>=this.length)throw new RangeError("out of bounds");0==(1&n)&&(r=1&(o=(32767&(i=this.__digit(t+s+1)))-(c>>>15)-r)>>>15,this.__setDigit(t+e.length,1073709056&i|32767&o))}else{t>>=1;for(var d=0;d<e.length-1;d++){var h=this.__digit(t+d),p=e.__digit(d),f=(32767&h)-(32767&p)-r,m=(h>>>15)-(p>>>15)-(r=1&f>>>15);r=1&m>>>15,this.__setDigit(t+d,(32767&m)<<15|32767&f)}var g=this.__digit(t+d),y=e.__digit(d),w=(32767&g)-(32767&y)-r;r=1&w>>>15;var b=0;0==(1&n)&&(r=1&(b=(g>>>15)-(y>>>15)-r)>>>15),this.__setDigit(t+d,(32767&b)<<15|32767&w)}return r}},{key:"__inplaceRightShift",value:function(e){if(0!==e){for(var t,n=this.__digit(0)>>>e,r=this.length-1,i=0;i<r;i++)t=this.__digit(i+1),this.__setDigit(i,1073741823&t<<30-e|n),n=t>>>e;this.__setDigit(r,n)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 32767&this[e>>>1]>>>15*(1&e)}},{key:"__setHalfDigit",value:function(e,t){var n=e>>>1,r=this.__digit(n),i=1&e?32767&r|t<<15:1073709056&r|32767&t;this.__setDigit(n,i)}}],[{key:"BigInt",value:function(e){var t=Number.isFinite;if("number"==typeof e){if(0===e)return u.__zero();if(u.__isOneDigitInt(e))return 0>e?u.__oneDigit(-e,!0):u.__oneDigit(e,!1);if(!t(e)||a(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return u.__fromDouble(e)}if("string"==typeof e){var r=u.__fromString(e);if(null===r)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return r}if("boolean"==typeof e)return!0===e?u.__oneDigit(1,!1):u.__zero();if("object"===n(e)){if(e.constructor===u)return e;var i=u.__toPrimitive(e);return u.BigInt(i)}throw new TypeError("Cannot convert "+e+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(0===t)return 0;if(1===t){var n=e.__unsignedDigit(0);return e.sign?-n:n}var r=e.__digit(t-1),i=u.__clz30(r),o=30*t-i;if(1024<o)return e.sign?-1/0:1/0;var s=o-1,a=r,c=t-1,l=i+3,d=32===l?0:a<<l;d>>>=12;var h=l-12,p=12<=l?0:a<<20+l,f=20+l;for(0<h&&0<c&&(c--,d|=(a=e.__digit(c))>>>30-h,p=a<<h+2,f=h+2);0<f&&0<c;)c--,a=e.__digit(c),p|=30<=f?a<<f-30:a>>>30-f,f-=30;var m=u.__decideRounding(e,f,c,a);if((1===m||0===m&&1==(1&p))&&0===(p=p+1>>>0)&&0!=++d>>>20&&(d=0,1023<++s))return e.sign?-1/0:1/0;var g=e.sign?-2147483648:0;return s=s+1023<<20,u.__kBitConversionInts[1]=g|s|d,u.__kBitConversionInts[0]=p,u.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(0===e.length)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?u.__absoluteSubOne(e).__trim():u.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return u.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return e.sign&&0==(1&t.__digit(0))?u.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");var n=t.__unsignedDigit(0);if(1===n)return e;if(n>=u.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){var r=1+(0|n/30),i=new u(r,e.sign&&0!=(1&n));i.__initializeDigits();var o=1<<n%30;return i.__setDigit(r-1,o),i}var s=null,a=e;for(0!=(1&n)&&(s=e),n>>=1;0!==n;n>>=1)a=u.multiply(a,a),0!=(1&n)&&(s=null===s?a:u.multiply(s,a));return s}},{key:"multiply",value:function(e,t){if(0===e.length)return e;if(0===t.length)return t;var n=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&n--;var r=new u(n,e.sign!==t.sign);r.__initializeDigits();for(var i=0;i<e.length;i++)u.__multiplyAccumulate(t,e.__digit(i),r,i);return r.__trim()}},{key:"divide",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(e,t))return u.__zero();var n,r=e.sign!==t.sign,i=t.__unsignedDigit(0);if(1===t.length&&32767>=i){if(1===i)return r===e.sign?e:u.unaryMinus(e);n=u.__absoluteDivSmall(e,i,null)}else n=u.__absoluteDivLarge(e,t,!0,!1);return n.sign=r,n.__trim()}},{key:"remainder",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(e,t))return e;var n=t.__unsignedDigit(0);if(1===t.length&&32767>=n){if(1===n)return u.__zero();var r=u.__absoluteModSmall(e,n);return 0===r?u.__zero():u.__oneDigit(r,e.sign)}var i=u.__absoluteDivLarge(e,t,!1,!0);return i.sign=e.sign,i.__trim()}},{key:"add",value:function(e,t){var n=e.sign;return n===t.sign?u.__absoluteAdd(e,t,n):0<=u.__absoluteCompare(e,t)?u.__absoluteSub(e,t,n):u.__absoluteSub(t,e,!n)}},{key:"subtract",value:function(e,t){var n=e.sign;return n===t.sign?0<=u.__absoluteCompare(e,t)?u.__absoluteSub(e,t,n):u.__absoluteSub(t,e,!n):u.__absoluteAdd(e,t,n)}},{key:"leftShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?u.__rightShiftByAbsolute(e,t):u.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?u.__leftShiftByAbsolute(e,t):u.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return 0>u.__compareToBigInt(e,t)}},{key:"lessThanOrEqual",value:function(e,t){return 0>=u.__compareToBigInt(e,t)}},{key:"greaterThan",value:function(e,t){return 0<u.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=u.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e.__digit(n)!==t.__digit(n))return!1;return!0}},{key:"notEqual",value:function(e,t){return!u.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign)return u.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var n=i(e.length,t.length)+1,r=u.__absoluteSubOne(e,n),o=u.__absoluteSubOne(t);return r=u.__absoluteOr(r,o,r),u.__absoluteAddOne(r,!0,r).__trim()}if(e.sign){var s=[t,e];e=s[0],t=s[1]}return u.__absoluteAndNot(e,u.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign)return u.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var n=i(e.length,t.length),r=u.__absoluteSubOne(e,n),o=u.__absoluteSubOne(t);return u.__absoluteXor(r,o,r).__trim()}var s=i(e.length,t.length)+1;if(e.sign){var a=[t,e];e=a[0],t=a[1]}var c=u.__absoluteSubOne(t,s);return c=u.__absoluteXor(c,e,c),u.__absoluteAddOne(c,!0,c).__trim()}},{key:"bitwiseOr",value:function(e,t){var n=i(e.length,t.length);if(!e.sign&&!t.sign)return u.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var r=u.__absoluteSubOne(e,n),o=u.__absoluteSubOne(t);return r=u.__absoluteAnd(r,o,r),u.__absoluteAddOne(r,!0,r).__trim()}if(e.sign){var s=[t,e];e=s[0],t=s[1]}var a=u.__absoluteSubOne(t,n);return a=u.__absoluteAndNot(a,e,a),u.__absoluteAddOne(a,!0,a).__trim()}},{key:"asIntN",value:function(e,t){if(0===t.length)return t;if(0>(e=a(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return u.__zero();if(e>=u.__kMaxLengthBits)return t;var n=0|(e+29)/30;if(t.length<n)return t;var r=t.__unsignedDigit(n-1),i=1<<(e-1)%30;if(t.length===n&&r<i)return t;if((r&i)!==i)return u.__truncateToNBits(e,t);if(!t.sign)return u.__truncateAndSubFromPowerOfTwo(e,t,!0);if(0==(r&i-1)){for(var o=n-2;0<=o;o--)if(0!==t.__digit(o))return u.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===n&&r===i?t:u.__truncateToNBits(e,t)}return u.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(0===t.length)return t;if(0>(e=a(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return u.__zero();if(t.sign){if(e>u.__kMaxLengthBits)throw new RangeError("BigInt too big");return u.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=u.__kMaxLengthBits)return t;var n=0|(e+29)/30;if(t.length<n)return t;var r=e%30;if(t.length==n){if(0===r)return t;if(0==t.__digit(n-1)>>>r)return t}return u.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=u.__toPrimitive(e),t=u.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=u.__toNumeric(e),t=u.__toNumeric(t),u.__isBigInt(e)&&u.__isBigInt(t))return u.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return u.__compare(e,t,0)}},{key:"LE",value:function(e,t){return u.__compare(e,t,1)}},{key:"GT",value:function(e,t){return u.__compare(e,t,2)}},{key:"GE",value:function(e,t){return u.__compare(e,t,3)}},{key:"EQ",value:function(e,t){for(;;){if(u.__isBigInt(e))return u.__isBigInt(t)?u.equal(e,t):u.EQ(t,e);if("number"==typeof e){if(u.__isBigInt(t))return u.__equalToNumber(t,e);if("object"!==n(t))return e==t;t=u.__toPrimitive(t)}else if("string"==typeof e){if(u.__isBigInt(t))return null!==(e=u.__fromString(e))&&u.equal(e,t);if("object"!==n(t))return e==t;t=u.__toPrimitive(t)}else if("boolean"==typeof e){if(u.__isBigInt(t))return u.__equalToNumber(t,+e);if("object"!==n(t))return e==t;t=u.__toPrimitive(t)}else if("symbol"===n(e)){if(u.__isBigInt(t))return!1;if("object"!==n(t))return e==t;t=u.__toPrimitive(t)}else{if("object"!==n(e))return e==t;if("object"===n(t)&&t.constructor!==u)return e==t;e=u.__toPrimitive(e)}}}},{key:"NE",value:function(e,t){return!u.EQ(e,t)}},{key:"DataViewGetBigInt64",value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return u.asIntN(64,u.DataViewGetBigUint64(e,t,n))}},{key:"DataViewGetBigUint64",value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=g(n?[4,0]:[0,4],2),i=r[0],o=r[1],s=e.getUint32(t+i,n),a=e.getUint32(t+o,n),c=new u(3,!1);return c.__setDigit(0,1073741823&a),c.__setDigit(1,(268435455&s)<<2|a>>>30),c.__setDigit(2,s>>>28),c.__trim()}},{key:"DataViewSetBigInt64",value:function(e,t,n){var r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];u.DataViewSetBigUint64(e,t,n,r)}},{key:"DataViewSetBigUint64",value:function(e,t,n){var r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],i=0,o=0;if(0<(n=u.asUintN(64,n)).length&&(o=n.__digit(0),1<n.length)){var s=n.__digit(1);o|=s<<30,i=s>>>2,2<n.length&&(i|=n.__digit(2)<<28)}var a=g(r?[4,0]:[0,4],2),c=a[0],l=a[1];e.setUint32(t+c,i,r),e.setUint32(t+l,o,r)}},{key:"__zero",value:function(){return new u(0,!1)}},{key:"__oneDigit",value:function(e,t){var n=new u(1,t);return n.__setDigit(0,e),n}},{key:"__decideRounding",value:function(e,t,n,r){if(0<t)return-1;var i;if(0>t)i=-t-1;else{if(0===n)return-1;n--,r=e.__digit(n),i=29}var o=1<<i;if(0==(r&o))return-1;if(0!=(r&(o-=1)))return 1;for(;0<n;)if(n--,0!==e.__digit(n))return 1;return 0}},{key:"__fromDouble",value:function(e){u.__kBitConversionDouble[0]=e;var t,n=(2047&u.__kBitConversionInts[1]>>>20)-1023,r=1+(0|n/30),i=new u(r,0>e),o=1048575&u.__kBitConversionInts[1]|1048576,s=u.__kBitConversionInts[0],a=20,c=n%30,l=0;if(c<a){var d=a-c;l=d+32,t=o>>>d,o=o<<32-d|s>>>d,s<<=32-d}else if(c===a)l=32,t=o,o=s,s=0;else{var h=c-a;l=32-h,t=o<<h|s>>>32-h,o=s<<h,s=0}i.__setDigit(r-1,t);for(var p=r-2;0<=p;p--)0<l?(l-=30,t=o>>>2,o=o<<30|s>>>2,s<<=30):t=0,i.__setDigit(p,t);return i.__trim()}},{key:"__isWhitespace",value:function(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0,r=e.length,i=0;if(i===r)return u.__zero();for(var o=e.charCodeAt(i);u.__isWhitespace(o);){if(++i===r)return u.__zero();o=e.charCodeAt(i)}if(43===o){if(++i===r)return null;o=e.charCodeAt(i),n=1}else if(45===o){if(++i===r)return null;o=e.charCodeAt(i),n=-1}if(0===t){if(t=10,48===o){if(++i===r)return u.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(t=16,++i===r)return null;o=e.charCodeAt(i)}else if(79===o||111===o){if(t=8,++i===r)return null;o=e.charCodeAt(i)}else if(66===o||98===o){if(t=2,++i===r)return null;o=e.charCodeAt(i)}}}else if(16===t&&48===o){if(++i===r)return u.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(++i===r)return null;o=e.charCodeAt(i)}}if(0!==n&&10!==t)return null;for(;48===o;){if(++i===r)return u.__zero();o=e.charCodeAt(i)}var s=r-i,a=u.__kMaxBitsPerChar[t],c=u.__kBitsPerCharTableMultiplier-1;if(s>1073741824/a)return null;var l=new u(0|(29+(a*s+c>>>u.__kBitsPerCharTableShift))/30,!1),d=10>t?t:10,h=10<t?t-10:0;if(0==(t&t-1)){a>>=u.__kBitsPerCharTableShift;var p=[],f=[],m=!1;do{for(var g,y=0,w=0;;){if(g=void 0,o-48>>>0<d)g=o-48;else{if(!((32|o)-97>>>0<h)){m=!0;break}g=(32|o)-87}if(w+=a,y=y<<a|g,++i===r){m=!0;break}if(o=e.charCodeAt(i),30<w+a)break}p.push(y),f.push(w)}while(!m);u.__fillFromParts(l,p,f)}else{l.__initializeDigits();var b=!1,v=0;do{for(var _,A=0,S=1;;){if(_=void 0,o-48>>>0<d)_=o-48;else{if(!((32|o)-97>>>0<h)){b=!0;break}_=(32|o)-87}var k=S*t;if(1073741823<k)break;if(S=k,A=A*t+_,v++,++i===r){b=!0;break}o=e.charCodeAt(i)}var E=0|(a*v+(c=30*u.__kBitsPerCharTableMultiplier-1)>>>u.__kBitsPerCharTableShift)/30;l.__inplaceMultiplyAdd(S,A,E)}while(!b)}if(i!==r){if(!u.__isWhitespace(o))return null;for(i++;i<r;i++)if(o=e.charCodeAt(i),!u.__isWhitespace(o))return null}return l.sign=-1===n,l.__trim()}},{key:"__fillFromParts",value:function(e,t,n){for(var r=0,i=0,o=0,s=t.length-1;0<=s;s--){var a=t[s],u=n[s];i|=a<<o,30===(o+=u)?(e.__setDigit(r++,i),o=0,i=0):30<o&&(e.__setDigit(r++,1073741823&i),i=a>>>u-(o-=30))}if(0!==i){if(r>=e.length)throw new Error("implementation bug");e.__setDigit(r++,i)}for(;r<e.length;r++)e.__setDigit(r,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var n=e.length,r=t-1,i=r=(15&(r=(51&(r=(85&r>>>1)+(85&r))>>>2)+(51&r))>>>4)+(15&r),o=t-1,s=e.__digit(n-1),a=0|(30*n-u.__clz30(s)+i-1)/i;if(e.sign&&a++,268435456<a)throw new Error("string too long");for(var c=Array(a),l=a-1,d=0,h=0,p=0;p<n-1;p++){var f=e.__digit(p),m=(d|f<<h)&o;c[l--]=u.__kConversionChars[m];var g=i-h;for(d=f>>>g,h=30-g;h>=i;)c[l--]=u.__kConversionChars[d&o],d>>>=i,h-=i}var y=(d|s<<h)&o;for(c[l--]=u.__kConversionChars[y],d=s>>>i-h;0!==d;)c[l--]=u.__kConversionChars[d&o],d>>>=i;if(e.sign&&(c[l--]="-"),-1!==l)throw new Error("implementation bug");return c.join("")}},{key:"__toStringGeneric",value:function(e,t,n){var r=e.length;if(0===r)return"";if(1===r){var i=e.__unsignedDigit(0).toString(t);return!1===n&&e.sign&&(i="-"+i),i}var o,s,a=30*r-u.__clz30(e.__digit(r-1)),c=u.__kMaxBitsPerChar[t]-1,l=a*u.__kBitsPerCharTableMultiplier,d=1+(l=0|(l+=c-1)/c)>>1,h=u.exponentiate(u.__oneDigit(t,!1),u.__oneDigit(d,!1)),p=h.__unsignedDigit(0);if(1===h.length&&32767>=p){(o=new u(e.length,!1)).__initializeDigits();for(var f,m=0,g=2*e.length-1;0<=g;g--)f=m<<15|e.__halfDigit(g),o.__setHalfDigit(g,0|f/p),m=0|f%p;s=m.toString(t)}else{var y=u.__absoluteDivLarge(e,h,!0,!0);o=y.quotient;var w=y.remainder.__trim();s=u.__toStringGeneric(w,t,!0)}o.__trim();for(var b=u.__toStringGeneric(o,t,!0);s.length<d;)s="0"+s;return!1===n&&e.sign&&(b="-"+b),b+s}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var n=e.sign;if(n!==t.sign)return u.__unequalSign(n);var r=u.__absoluteCompare(e,t);return 0<r?u.__absoluteGreater(n):0>r?u.__absoluteLess(n):0}},{key:"__compareToNumber",value:function(e,n){if(u.__isOneDigitInt(n)){var r=e.sign,i=0>n;if(r!==i)return u.__unequalSign(r);if(0===e.length){if(i)throw new Error("implementation bug");return 0===n?0:-1}if(1<e.length)return u.__absoluteGreater(r);var o=t(n),s=e.__unsignedDigit(0);return s>o?u.__absoluteGreater(r):s<o?u.__absoluteLess(r):0}return u.__compareToDouble(e,n)}},{key:"__compareToDouble",value:function(e,t){if(t!==t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;var n=e.sign;if(n!==0>t)return u.__unequalSign(n);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;u.__kBitConversionDouble[0]=t;var r=2047&u.__kBitConversionInts[1]>>>20;if(2047==r)throw new Error("implementation bug: handled elsewhere");var i=r-1023;if(0>i)return u.__absoluteGreater(n);var o=e.length,s=e.__digit(o-1),a=u.__clz30(s),c=30*o-a,l=i+1;if(c<l)return u.__absoluteLess(n);if(c>l)return u.__absoluteGreater(n);var d=1048576|1048575&u.__kBitConversionInts[1],h=u.__kBitConversionInts[0],p=20,f=29-a;if(f!==(0|(c-1)%30))throw new Error("implementation bug");var m,g=0;if(f<p){var y=p-f;g=y+32,m=d>>>y,d=d<<32-y|h>>>y,h<<=32-y}else if(f===p)g=32,m=d,d=h,h=0;else{var w=f-p;g=32-w,m=d<<w|h>>>32-w,d=h<<w,h=0}if((s>>>=0)>(m>>>=0))return u.__absoluteGreater(n);if(s<m)return u.__absoluteLess(n);for(var b=o-2;0<=b;b--){0<g?(g-=30,m=d>>>2,d=d<<30|h>>>2,h<<=30):m=0;var v=e.__unsignedDigit(b);if(v>m)return u.__absoluteGreater(n);if(v<m)return u.__absoluteLess(n)}if(0!==d||0!==h){if(0===g)throw new Error("implementation bug");return u.__absoluteLess(n)}return 0}},{key:"__equalToNumber",value:function(e,n){return u.__isOneDigitInt(n)?0===n?0===e.length:1===e.length&&e.sign===0>n&&e.__unsignedDigit(0)===t(n):0===u.__compareToDouble(e,n)}},{key:"__comparisonResultToBool",value:function(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}},{key:"__compare",value:function(e,t,n){if(e=u.__toPrimitive(e),t=u.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(n){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(u.__isBigInt(e)&&"string"==typeof t)return null!==(t=u.__fromString(t))&&u.__comparisonResultToBool(u.__compareToBigInt(e,t),n);if("string"==typeof e&&u.__isBigInt(t))return null!==(e=u.__fromString(e))&&u.__comparisonResultToBool(u.__compareToBigInt(e,t),n);if(e=u.__toNumeric(e),t=u.__toNumeric(t),u.__isBigInt(e)){if(u.__isBigInt(t))return u.__comparisonResultToBool(u.__compareToBigInt(e,t),n);if("number"!=typeof t)throw new Error("implementation bug");return u.__comparisonResultToBool(u.__compareToNumber(e,t),n)}if("number"!=typeof e)throw new Error("implementation bug");if(u.__isBigInt(t))return u.__comparisonResultToBool(u.__compareToNumber(t,e),2^n);if("number"!=typeof t)throw new Error("implementation bug");return 0===n?e<t:1===n?e<=t:2===n?e>t:3===n?e>=t:void 0}},{key:"__absoluteAdd",value:function(e,t,n){if(e.length<t.length)return u.__absoluteAdd(t,e,n);if(0===e.length)return e;if(0===t.length)return e.sign===n?e:u.unaryMinus(e);var r=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&r++;for(var i,o=new u(r,n),s=0,a=0;a<t.length;a++)s=(i=e.__digit(a)+t.__digit(a)+s)>>>30,o.__setDigit(a,1073741823&i);for(;a<e.length;a++){var c=e.__digit(a)+s;s=c>>>30,o.__setDigit(a,1073741823&c)}return a<o.length&&o.__setDigit(a,s),o.__trim()}},{key:"__absoluteSub",value:function(e,t,n){if(0===e.length)return e;if(0===t.length)return e.sign===n?e:u.unaryMinus(e);for(var r,i=new u(e.length,n),o=0,s=0;s<t.length;s++)o=1&(r=e.__digit(s)-t.__digit(s)-o)>>>30,i.__setDigit(s,1073741823&r);for(;s<e.length;s++){var a=e.__digit(s)-o;o=1&a>>>30,i.__setDigit(s,1073741823&a)}return i.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length;null===n?n=new u(r,t):n.sign=t;for(var i,o=1,s=0;s<r;s++)o=(i=e.__digit(s)+o)>>>30,n.__setDigit(s,1073741823&i);return 0!==o&&n.__setDigitGrow(r,1),n}},{key:"__absoluteSubOne",value:function(e,t){for(var n,r=e.length,i=new u(t=t||r,!1),o=1,s=0;s<r;s++)o=1&(n=e.__digit(s)-o)>>>30,i.__setDigit(s,1073741823&n);if(0!==o)throw new Error("implementation bug");for(var a=r;a<t;a++)i.__setDigit(a,0);return i}},{key:"__absoluteAnd",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,i=t.length,o=i;if(r<i){o=r;var s=e,a=r;e=t,r=i,t=s,i=a}var c=o;null===n?n=new u(c,!1):c=n.length;for(var l=0;l<o;l++)n.__setDigit(l,e.__digit(l)&t.__digit(l));for(;l<c;l++)n.__setDigit(l,0);return n}},{key:"__absoluteAndNot",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,i=t.length,o=i;r<i&&(o=r);var s=r;null===n?n=new u(s,!1):s=n.length;for(var a=0;a<o;a++)n.__setDigit(a,e.__digit(a)&~t.__digit(a));for(;a<r;a++)n.__setDigit(a,e.__digit(a));for(;a<s;a++)n.__setDigit(a,0);return n}},{key:"__absoluteOr",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,i=t.length,o=i;if(r<i){o=r;var s=e,a=r;e=t,r=i,t=s,i=a}var c=r;null===n?n=new u(c,!1):c=n.length;for(var l=0;l<o;l++)n.__setDigit(l,e.__digit(l)|t.__digit(l));for(;l<r;l++)n.__setDigit(l,e.__digit(l));for(;l<c;l++)n.__setDigit(l,0);return n}},{key:"__absoluteXor",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,i=t.length,o=i;if(r<i){o=r;var s=e,a=r;e=t,r=i,t=s,i=a}var c=r;null===n?n=new u(c,!1):c=n.length;for(var l=0;l<o;l++)n.__setDigit(l,e.__digit(l)^t.__digit(l));for(;l<r;l++)n.__setDigit(l,e.__digit(l));for(;l<c;l++)n.__setDigit(l,0);return n}},{key:"__absoluteCompare",value:function(e,t){var n=e.length-t.length;if(0!=n)return n;for(var r=e.length-1;0<=r&&e.__digit(r)===t.__digit(r);)r--;return 0>r?0:e.__unsignedDigit(r)>t.__unsignedDigit(r)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,n,r){if(0!==t){for(var i=32767&t,o=t>>>15,s=0,a=0,c=0;c<e.length;c++,r++){var l=n.__digit(r),d=e.__digit(c),h=32767&d,p=d>>>15,f=u.__imul(h,i),m=u.__imul(h,o),g=u.__imul(p,i);s=(l+=a+f+s)>>>30,l&=1073741823,s+=(l+=((32767&m)<<15)+((32767&g)<<15))>>>30,a=u.__imul(p,o)+(m>>>15)+(g>>>15),n.__setDigit(r,1073741823&l)}for(;0!==s||0!==a;r++){var y=n.__digit(r);y+=s+a,a=0,s=y>>>30,n.__setDigit(r,1073741823&y)}}}},{key:"__internalMultiplyAdd",value:function(e,t,n,r,i){for(var o=n,s=0,a=0;a<r;a++){var c=e.__digit(a),l=u.__imul(32767&c,t),d=u.__imul(c>>>15,t),h=l+((32767&d)<<15)+s+o;o=h>>>30,s=d>>>15,i.__setDigit(a,1073741823&h)}if(i.length>r)for(i.__setDigit(r++,o+s);r<i.length;)i.__setDigit(r++,0);else if(0!==o+s)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=new u(e.length,!1));for(var r=0,i=2*e.length-1;0<=i;i-=2){var o=(r<<15|e.__halfDigit(i))>>>0,s=0|o/t,a=0|(o=((r=0|o%t)<<15|e.__halfDigit(i-1))>>>0)/t;r=0|o%t,n.__setDigit(i>>>1,s<<15|a)}return n}},{key:"__absoluteModSmall",value:function(e,t){for(var n=0,r=2*e.length-1;0<=r;r--)n=0|((n<<15|e.__halfDigit(r))>>>0)%t;return n}},{key:"__absoluteDivLarge",value:function(e,t,n,r){var i=t.__halfDigitLength(),o=t.length,s=e.__halfDigitLength()-i,a=null;n&&(a=new u(s+2>>>1,!1)).__initializeDigits();var c=new u(i+2>>>1,!1);c.__initializeDigits();var l=u.__clz15(t.__halfDigit(i-1));0<l&&(t=u.__specialLeftShift(t,l,0));for(var d=u.__specialLeftShift(e,l,1),h=t.__halfDigit(i-1),p=0,f=s;0<=f;f--){var m=32767,g=d.__halfDigit(f+i);if(g!==h){var y=(g<<15|d.__halfDigit(f+i-1))>>>0;m=0|y/h;for(var w=0|y%h,b=t.__halfDigit(i-2),v=d.__halfDigit(f+i-2);u.__imul(m,b)>>>0>(w<<16|v)>>>0&&(m--,!(32767<(w+=h))););}u.__internalMultiplyAdd(t,m,0,o,c);var _=d.__inplaceSub(c,f,i+1);0!==_&&(_=d.__inplaceAdd(t,f,i),d.__setHalfDigit(f+i,32767&d.__halfDigit(f+i)+_),m--),n&&(1&f?p=m<<15:a.__setDigit(f>>>1,p|m))}if(r)return d.__inplaceRightShift(l),n?{quotient:a,remainder:d}:d;if(n)return a;throw new Error("unreachable")}},{key:"__clz15",value:function(e){return u.__clz30(e)-15}},{key:"__specialLeftShift",value:function(e,t,n){var r=e.length,i=new u(r+n,!1);if(0===t){for(var o=0;o<r;o++)i.__setDigit(o,e.__digit(o));return 0<n&&i.__setDigit(r,0),i}for(var s,a=0,c=0;c<r;c++)s=e.__digit(c),i.__setDigit(c,1073741823&s<<t|a),a=s>>>30-t;return 0<n&&i.__setDigit(r,a),i}},{key:"__leftShiftByAbsolute",value:function(e,t){var n=u.__toShiftAmount(t);if(0>n)throw new RangeError("BigInt too big");var r=0|n/30,i=n%30,o=e.length,s=0!==i&&0!=e.__digit(o-1)>>>30-i,a=o+r+(s?1:0),c=new u(a,e.sign);if(0===i){for(var l=0;l<r;l++)c.__setDigit(l,0);for(;l<a;l++)c.__setDigit(l,e.__digit(l-r))}else{for(var d=0,h=0;h<r;h++)c.__setDigit(h,0);for(var p,f=0;f<o;f++)p=e.__digit(f),c.__setDigit(f+r,1073741823&p<<i|d),d=p>>>30-i;if(s)c.__setDigit(o+r,d);else if(0!==d)throw new Error("implementation bug")}return c.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var n=e.length,r=e.sign,i=u.__toShiftAmount(t);if(0>i)return u.__rightShiftByMaximum(r);var o=0|i/30,s=i%30,a=n-o;if(0>=a)return u.__rightShiftByMaximum(r);var c=!1;if(r)if(0!=(e.__digit(o)&(1<<s)-1))c=!0;else for(var l=0;l<o;l++)if(0!==e.__digit(l)){c=!0;break}c&&0===s&&0==~e.__digit(n-1)&&a++;var d=new u(a,r);if(0===s){d.__setDigit(a-1,0);for(var h=o;h<n;h++)d.__setDigit(h-o,e.__digit(h))}else{for(var p,f=e.__digit(o)>>>s,m=n-o-1,g=0;g<m;g++)p=e.__digit(g+o+1),d.__setDigit(g,1073741823&p<<30-s|f),f=p>>>s;d.__setDigit(m,f)}return c&&(d=u.__absoluteAddOne(d,!0,d)),d.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?u.__oneDigit(1,!0):u.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var t=e.__unsignedDigit(0);return t>u.__kMaxLengthBits?-1:t}},{key:"__toPrimitive",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==n(e))return e;if(e.constructor===u)return e;if("undefined"!=typeof Symbol&&"symbol"===n(Symbol.toPrimitive)){var r=e[Symbol.toPrimitive];if(r){var i=r(t);if("object"!==n(i))return i;throw new TypeError("Cannot convert object to primitive value")}}var o=e.valueOf;if(o){var s=o.call(e);if("object"!==n(s))return s}var a=e.toString;if(a){var c=a.call(e);if("object"!==n(c))return c}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return u.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(e){return"object"===n(e)&&null!==e&&e.constructor===u}},{key:"__truncateToNBits",value:function(e,t){for(var n=0|(e+29)/30,r=new u(n,t.sign),i=n-1,o=0;o<i;o++)r.__setDigit(o,t.__digit(o));var s=t.__digit(i);if(0!=e%30){var a=32-e%30;s=s<<a>>>a}return r.__setDigit(i,s),r.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,n){for(var r,i=Math.min,o=0|(e+29)/30,s=new u(o,n),a=0,c=o-1,l=0,d=i(c,t.length);a<d;a++)l=1&(r=0-t.__digit(a)-l)>>>30,s.__setDigit(a,1073741823&r);for(;a<c;a++)s.__setDigit(a,0|1073741823&-l);var h,p=c<t.length?t.__digit(c):0,f=e%30;if(0===f)h=0-p-l,h&=1073741823;else{var m=32-f,g=1<<32-m;h=g-(p=p<<m>>>m)-l,h&=g-1}return s.__setDigit(c,h),s.__trim()}},{key:"__digitPow",value:function(e,t){for(var n=1;0<t;)1&t&&(n*=e),t>>>=1,e*=e;return n}},{key:"__isOneDigitInt",value:function(e){return(1073741823&e)===e}}]),u}(h(Array));return S.__kMaxLength=33554432,S.__kMaxLengthBits=S.__kMaxLength<<5,S.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],S.__kBitsPerCharTableShift=5,S.__kBitsPerCharTableMultiplier=1<<S.__kBitsPerCharTableShift,S.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],S.__kBitConversionBuffer=new ArrayBuffer(8),S.__kBitConversionDouble=new Float64Array(S.__kBitConversionBuffer),S.__kBitConversionInts=new Int32Array(S.__kBitConversionBuffer),S.__clz30=t?function(e){return t(e)-2}:function(e){var t=Math.LN2,n=Math.log;return 0===e?30:0|29-(0|n(e>>>0)/t)},S.__imul=e||function(e,t){return 0|e*t},S}()},50498:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",u="[object Date]",c="[object Error]",l="[object Function]",d="[object Map]",h="[object Number]",p="[object Object]",f="[object Promise]",m="[object RegExp]",g="[object Set]",y="[object String]",w="[object Symbol]",b="[object WeakMap]",v="[object ArrayBuffer]",_="[object DataView]",A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S=/^\w*$/,k=/^\./,E=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T=/\\(\\)?/g,I=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x[o]=x[s]=x[v]=x[a]=x[_]=x[u]=x[c]=x[l]=x[d]=x[h]=x[p]=x[m]=x[g]=x[y]=x[b]=!1;var M="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,O="object"==typeof self&&self&&self.Object===Object&&self,B=M||O||Function("return this")(),D=t&&!t.nodeType&&t,R=D&&e&&!e.nodeType&&e,U=R&&R.exports===D&&M.process,L=function(){try{return U&&U.binding("util")}catch(e){}}(),C=L&&L.isTypedArray;function N(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function F(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function W(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function z(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var j,q,K=Array.prototype,V=Function.prototype,H=Object.prototype,G=B["__core-js_shared__"],Z=function(){var e=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Q=V.toString,X=H.hasOwnProperty,J=H.toString,Y=RegExp("^"+Q.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=B.Symbol,ee=B.Uint8Array,te=H.propertyIsEnumerable,ne=K.splice,re=(j=Object.keys,q=Object,function(e){return j(q(e))}),ie=Le(B,"DataView"),oe=Le(B,"Map"),se=Le(B,"Promise"),ae=Le(B,"Set"),ue=Le(B,"WeakMap"),ce=Le(Object,"create"),le=Ke(ie),de=Ke(oe),he=Ke(se),pe=Ke(ae),fe=Ke(ue),me=$?$.prototype:void 0,ge=me?me.valueOf:void 0,ye=me?me.toString:void 0;function we(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ve(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _e(e){var t=-1,n=e?e.length:0;for(this.__data__=new ve;++t<n;)this.add(e[t])}function Ae(e){this.__data__=new be(e)}function Se(e,t){var n=Ze(e)||Ge(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!X.call(e,o)||i&&("length"==o||Ne(o,r))||n.push(o);return n}function ke(e,t){for(var n=e.length;n--;)if(He(e[n][0],t))return n;return-1}we.prototype.clear=function(){this.__data__=ce?ce(null):{}},we.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},we.prototype.get=function(e){var t=this.__data__;if(ce){var n=t[e];return n===r?void 0:n}return X.call(t,e)?t[e]:void 0},we.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:X.call(t,e)},we.prototype.set=function(e,t){return this.__data__[e]=ce&&void 0===t?r:t,this},be.prototype.clear=function(){this.__data__=[]},be.prototype.delete=function(e){var t=this.__data__,n=ke(t,e);return!(n<0)&&(n==t.length-1?t.pop():ne.call(t,n,1),!0)},be.prototype.get=function(e){var t=this.__data__,n=ke(t,e);return n<0?void 0:t[n][1]},be.prototype.has=function(e){return ke(this.__data__,e)>-1},be.prototype.set=function(e,t){var n=this.__data__,r=ke(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},ve.prototype.clear=function(){this.__data__={hash:new we,map:new(oe||be),string:new we}},ve.prototype.delete=function(e){return Ue(this,e).delete(e)},ve.prototype.get=function(e){return Ue(this,e).get(e)},ve.prototype.has=function(e){return Ue(this,e).has(e)},ve.prototype.set=function(e,t){return Ue(this,e).set(e,t),this},_e.prototype.add=_e.prototype.push=function(e){return this.__data__.set(e,r),this},_e.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.clear=function(){this.__data__=new be},Ae.prototype.delete=function(e){return this.__data__.delete(e)},Ae.prototype.get=function(e){return this.__data__.get(e)},Ae.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof be){var r=n.__data__;if(!oe||r.length<199)return r.push([e,t]),this;n=this.__data__=new ve(r)}return n.set(e,t),this};var Ee,Te=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),s=o.length;s--;){var a=o[Ee?s:++r];if(!1===t(i[a],a,i))break}return e};function Ie(e,t){for(var n=0,r=(t=Fe(t,e)?[t]:De(t)).length;null!=e&&n<r;)e=e[qe(t[n++])];return n&&n==r?e:void 0}function Pe(e,t){return null!=e&&t in Object(e)}function xe(e,t,n,r,i){return e===t||(null==e||null==t||!Ye(e)&&!$e(t)?e!==e&&t!==t:function(e,t,n,r,i,l){var f=Ze(e),b=Ze(t),A=s,S=s;f||(A=(A=Ce(e))==o?p:A);b||(S=(S=Ce(t))==o?p:S);var k=A==p&&!F(e),E=S==p&&!F(t),T=A==S;if(T&&!k)return l||(l=new Ae),f||tt(e)?Re(e,t,n,r,i,l):function(e,t,n,r,i,o,s){switch(n){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case v:return!(e.byteLength!=t.byteLength||!r(new ee(e),new ee(t)));case a:case u:case h:return He(+e,+t);case c:return e.name==t.name&&e.message==t.message;case m:case y:return e==t+"";case d:var l=W;case g:var p=2&o;if(l||(l=z),e.size!=t.size&&!p)return!1;var f=s.get(e);if(f)return f==t;o|=1,s.set(e,t);var b=Re(l(e),l(t),r,i,o,s);return s.delete(e),b;case w:if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,A,n,r,i,l);if(!(2&i)){var I=k&&X.call(e,"__wrapped__"),P=E&&X.call(t,"__wrapped__");if(I||P){var x=I?e.value():e,M=P?t.value():t;return l||(l=new Ae),n(x,M,r,i,l)}}if(!T)return!1;return l||(l=new Ae),function(e,t,n,r,i,o){var s=2&i,a=nt(e),u=a.length,c=nt(t).length;if(u!=c&&!s)return!1;var l=u;for(;l--;){var d=a[l];if(!(s?d in t:X.call(t,d)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var p=!0;o.set(e,t),o.set(t,e);var f=s;for(;++l<u;){var m=e[d=a[l]],g=t[d];if(r)var y=s?r(g,m,d,t,e,o):r(m,g,d,e,t,o);if(!(void 0===y?m===g||n(m,g,r,i,o):y)){p=!1;break}f||(f="constructor"==d)}if(p&&!f){var w=e.constructor,b=t.constructor;w==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,l)}(e,t,xe,n,r,i))}function Me(e){return!(!Ye(e)||function(e){return!!Z&&Z in e}(e))&&(Xe(e)||F(e)?Y:I).test(Ke(e))}function Oe(e){return"function"==typeof e?e:null==e?rt:"object"==typeof e?Ze(e)?function(e,t){if(Fe(e)&&We(t))return ze(qe(e),t);return function(n){var r=function(e,t,n){var r=null==e?void 0:Ie(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&function(e,t,n){t=Fe(t,e)?[t]:De(t);var r,i=-1,o=t.length;for(;++i<o;){var s=qe(t[i]);if(!(r=null!=e&&n(e,s)))break;e=e[s]}if(r)return r;return!!(o=e?e.length:0)&&Je(o)&&Ne(s,o)&&(Ze(e)||Ge(e))}(e,t,Pe)}(n,e):xe(t,r,void 0,3)}}(e[0],e[1]):function(e){var t=function(e){var t=nt(e),n=t.length;for(;n--;){var r=t[n],i=e[r];t[n]=[r,i,We(i)]}return t}(e);if(1==t.length&&t[0][2])return ze(t[0][0],t[0][1]);return function(n){return n===e||function(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var u=(a=n[i])[0],c=e[u],l=a[1];if(s&&a[2]){if(void 0===c&&!(u in e))return!1}else{var d=new Ae;if(r)var h=r(c,l,u,e,t,d);if(!(void 0===h?xe(l,c,r,3,d):h))return!1}}return!0}(n,e,t)}}(e):function(e){return Fe(e)?(t=qe(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return Ie(t,e)}}(e);var t}(e)}function Be(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||H;return e===n}(e))return re(e);var t=[];for(var n in Object(e))X.call(e,n)&&"constructor"!=n&&t.push(n);return t}function De(e){return Ze(e)?e:je(e)}function Re(e,t,n,r,i,o){var s=2&i,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,d=!0,h=1&i?new _e:void 0;for(o.set(e,t),o.set(t,e);++l<a;){var p=e[l],f=t[l];if(r)var m=s?r(f,p,l,t,e,o):r(p,f,l,e,t,o);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!N(t,(function(e,t){if(!h.has(t)&&(p===e||n(p,e,r,i,o)))return h.add(t)}))){d=!1;break}}else if(p!==f&&!n(p,f,r,i,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Ue(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Le(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Me(n)?n:void 0}var Ce=function(e){return J.call(e)};function Ne(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||P.test(e))&&e>-1&&e%1==0&&e<t}function Fe(e,t){if(Ze(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!et(e))||(S.test(e)||!A.test(e)||null!=t&&e in Object(t))}function We(e){return e===e&&!Ye(e)}function ze(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(ie&&Ce(new ie(new ArrayBuffer(1)))!=_||oe&&Ce(new oe)!=d||se&&Ce(se.resolve())!=f||ae&&Ce(new ae)!=g||ue&&Ce(new ue)!=b)&&(Ce=function(e){var t=J.call(e),n=t==p?e.constructor:void 0,r=n?Ke(n):void 0;if(r)switch(r){case le:return _;case de:return d;case he:return f;case pe:return g;case fe:return b}return t});var je=Ve((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(et(e))return ye?ye.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return k.test(e)&&n.push(""),e.replace(E,(function(e,t,r,i){n.push(r?i.replace(T,"$1"):t||e)})),n}));function qe(e){if("string"==typeof e||et(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ke(e){if(null!=e){try{return Q.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ve(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(Ve.Cache||ve),n}function He(e,t){return e===t||e!==e&&t!==t}function Ge(e){return function(e){return $e(e)&&Qe(e)}(e)&&X.call(e,"callee")&&(!te.call(e,"callee")||J.call(e)==o)}Ve.Cache=ve;var Ze=Array.isArray;function Qe(e){return null!=e&&Je(e.length)&&!Xe(e)}function Xe(e){var t=Ye(e)?J.call(e):"";return t==l||"[object GeneratorFunction]"==t}function Je(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Ye(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function $e(e){return!!e&&"object"==typeof e}function et(e){return"symbol"==typeof e||$e(e)&&J.call(e)==w}var tt=C?function(e){return function(t){return e(t)}}(C):function(e){return $e(e)&&Je(e.length)&&!!x[J.call(e)]};function nt(e){return Qe(e)?Se(e):Be(e)}function rt(e){return e}e.exports=function(e,t){var n={};return t=Oe(t),function(e,t){e&&Te(e,t,nt)}(e,(function(e,r,i){n[r]=t(e,r,i)})),n}},87963:e=>{"use strict";var t=function(e){return e!==e};e.exports=function(e,n){return 0===e&&0===n?1/e===1/n:e===n||!(!t(e)||!t(n))}},94395:(e,t,n)=>{"use strict";var r=n(2674),i=n(33130),o=n(87963),s=n(80083),a=n(30878),u=i(s(),Object);r(u,{getPolyfill:s,implementation:o,shim:a}),e.exports=u},80083:(e,t,n)=>{"use strict";var r=n(87963);e.exports=function(){return"function"===typeof Object.is?Object.is:r}},30878:(e,t,n)=>{"use strict";var r=n(80083),i=n(2674);e.exports=function(){var e=r();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},60870:(e,t,n)=>{"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=n(20941),a=Object.prototype.propertyIsEnumerable,u=!a.call({toString:null},"toString"),c=a.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{d(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"===typeof e,n="[object Function]"===o.call(e),r=s(e),a=t&&"[object String]"===o.call(e),h=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var f=c&&n;if(a&&e.length>0&&!i.call(e,0))for(var m=0;m<e.length;++m)h.push(String(m));if(r&&e.length>0)for(var g=0;g<e.length;++g)h.push(String(g));else for(var y in e)f&&"prototype"===y||!i.call(e,y)||h.push(String(y));if(u)for(var w=function(e){if("undefined"===typeof window||!p)return d(e);try{return d(e)}catch(t){return!1}}(e),b=0;b<l.length;++b)w&&"constructor"===l[b]||!i.call(e,l[b])||h.push(l[b]);return h}}e.exports=r},30318:(e,t,n)=>{"use strict";var r=Array.prototype.slice,i=n(20941),o=Object.keys,s=o?function(e){return o(e)}:n(60870),a=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?a(r.call(e)):a(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},20941:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},84466:(e,t)=>{t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!==typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!==typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},71633:e=>{"use strict";function t(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){-1===u?(r="",i=0):i=(r=r.slice(0,u)).length-1-r.lastIndexOf("/"),o=a,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=a,s=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,a):r=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var r={resolve:function(){for(var e,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s;o>=0?s=arguments[o]:(void 0===e&&(e=process.cwd()),s=e),t(s),0!==s.length&&(r=s+"/"+r,i=47===s.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,s=o-i,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var u=n.length-a,c=s<u?s:u,l=-1,d=0;d<=c;++d){if(d===c){if(u>c){if(47===n.charCodeAt(a+d))return n.slice(a+d+1);if(0===d)return n.slice(a+d)}else s>c&&(47===e.charCodeAt(i+d)?l=d:0===d&&(l=0));break}var h=e.charCodeAt(i+d);if(h!==n.charCodeAt(a+d))break;47===h&&(l=d)}var p="";for(d=i+l+1;d<=o;++d)d!==o&&47!==e.charCodeAt(d)||(0===p.length?p+="..":p+="/..");return p.length>0?p+n.slice(a+l):(a+=l,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,i=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(n=e.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!==typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,i=0,o=-1,s=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,u=-1;for(r=e.length-1;r>=0;--r){var c=e.charCodeAt(r);if(47===c){if(!s){i=r+1;break}}else-1===u&&(s=!1,u=r+1),a>=0&&(c===n.charCodeAt(a)?-1===--a&&(o=r):(a=-1,o=u))}return i===o?o=u:-1===o&&(o=e.length),e.slice(i,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!s){i=r+1;break}}else-1===o&&(s=!1,o=r+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var n=-1,r=0,i=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var u=e.charCodeAt(a);if(47!==u)-1===i&&(o=!1,i=a+1),46===u?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1);else if(!o){r=a+1;break}}return-1===n||-1===i||0===s||1===s&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}("/",e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,i=e.charCodeAt(0),o=47===i;o?(n.root="/",r=1):r=0;for(var s=-1,a=0,u=-1,c=!0,l=e.length-1,d=0;l>=r;--l)if(47!==(i=e.charCodeAt(l)))-1===u&&(c=!1,u=l+1),46===i?-1===s?s=l:1!==d&&(d=1):-1!==s&&(d=-1);else if(!c){a=l+1;break}return-1===s||-1===u||0===d||1===d&&s===u-1&&s===a+1?-1!==u&&(n.base=n.name=0===a&&o?e.slice(1,u):e.slice(a,u)):(0===a&&o?(n.name=e.slice(1,s),n.base=e.slice(1,u)):(n.name=e.slice(a,s),n.base=e.slice(a,u)),n.ext=e.slice(s,u)),a>0?n.dir=e.slice(0,a-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},26477:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var a,u=[],c=!1,l=-1;function d(){c&&a&&(c=!1,a.length?u=a.concat(u):l=-1,u.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(a=u,u=[];++l<t;)a&&a[l].run();l=-1,t=u.length}a=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},51105:(e,t,n)=>{"use strict";var r=n(42612),i=n(23878),o=Object.prototype.hasOwnProperty;function s(e){return e&&"EPROMISERETRY"===e.code&&o.call(e,"retried")}e.exports=function(e,t){var n,o;return"object"===typeof e&&"function"===typeof t&&(n=t,t=e,e=n),o=i.operation(t),new Promise((function(t,n){o.attempt((function(i){Promise.resolve().then((function(){return e((function(e){throw s(e)&&(e=e.retried),r(new Error("Retrying"),"EPROMISERETRY",{retried:e})}),i)})).then(t,(function(e){s(e)&&(e=e.retried,o.retry(e||new Error))||n(e)}))}))}))}},42612:e=>{"use strict";function t(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}e.exports=function(e,n,r){if(!e||"string"===typeof e)throw new TypeError("Please pass an Error to err-code");r||(r={}),"object"===typeof n&&(r=n,n=void 0),null!=n&&(r.code=n);try{return t(e,r)}catch(i){r.message=e.message,r.stack=e.stack;const n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(e)),t(new n,r)}}},23878:(e,t,n)=>{e.exports=n(90315)},90315:(e,t,n)=>{var r=n(91202);t.operation=function(e){var n=t.timeouts(e);return new r(n,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],i=0;i<t.retries;i++)r.push(this.createTimeout(i,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(i,t)),r.sort((function(e,t){return e-t})),r},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*t.minTimeout*Math.pow(t.factor,e));return r=Math.min(r,t.maxTimeout)},t.wrap=function(e,n,r){if(n instanceof Array&&(r=n,n=null),!r)for(var i in r=[],e)"function"===typeof e[i]&&r.push(i);for(var o=0;o<r.length;o++){var s=r[o],a=e[s];e[s]=function(r){var i=t.operation(n),o=Array.prototype.slice.call(arguments,1),s=o.pop();o.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),s.apply(this,arguments))})),i.attempt((function(){r.apply(e,o)}))}.bind(e,a),e[s].options=n}}},91202:e=>{function t(e,t){"boolean"===typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),n=this._timeouts.shift()}var r=this,i=setTimeout((function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout((function(){r._operationTimeoutCb(r._attempts)}),r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)}),n);return this._options.unref&&i.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],o=i.message,s=(e[o]||0)+1;e[o]=s,s>=n&&(t=i,n=s)}return t}},86243:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r="Invariant failed";function i(e,t){if(!e)throw new Error(r)}},23909:e=>{e.exports&&(e.exports=function(e){"use strict";return e.prototype.toFormat=function(e,t,n){if(!this.e&&0!==this.e)return this.toString();var r,i,o,s,a,u,c,l,d,h,p,f,m,g,y,w=this.format||{},b=this.constructor.format||{};if(e!=a?"object"==typeof e?(n=e,e=a):t!=a?"object"==typeof t?(n=t,t=a):"object"!=typeof n&&(n={}):n={}:n={},l=(r=this.toFixed(e,t).split("."))[0],d=r[1],u=(c=this.s<0?l.slice(1):l).length,(h=n.decimalSeparator)==a&&(h=w.decimalSeparator)==a&&(h=b.decimalSeparator)==a&&(h="."),(p=n.groupSeparator)==a&&(p=w.groupSeparator)==a&&(p=b.groupSeparator),p&&((f=n.groupSize)==a&&(f=w.groupSize)==a&&(f=b.groupSize)==a&&(f=0),(m=n.secondaryGroupSize)==a&&(m=w.secondaryGroupSize)==a&&(m=b.secondaryGroupSize)==a&&(m=0),m?(i=+m,u-=o=+f):(i=+f,o=+m),i>0&&u>0)){for(s=u%i||i,l=c.substr(0,s);s<u;s+=i)l+=p+c.substr(s,i);o>0&&(l+=p+c.slice(s)),this.s<0&&(l="-"+l)}return d?((g=n.fractionGroupSeparator)==a&&(g=w.fractionGroupSeparator)==a&&(g=b.fractionGroupSeparator),g&&((y=n.fractionGroupSize)==a&&(y=w.fractionGroupSize)==a&&(y=b.fractionGroupSize)==a&&(y=0),(y=+y)&&(d=d.replace(new RegExp("\\d{"+y+"}\\B","g"),"$&"+g))),l+h+d):l},e.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},e})},60266:(e,t,n)=>{var r=n(28076),i=n(54640);e.exports={parse:function(e){var t=r.parse(e.toString());return i.compile(t)}}},54640:e=>{"use strict";e.exports={compile:function(e){var t=[],n=[],r="",i=Object.create(null),o=i;return function(e){for(var t,n=0;n<e.length;n++)switch((t=e[n]).type){case"Assign":a(t);break;case"ObjectPath":d(t);break;case"ArrayPath":h(t)}return i}(e);function s(e,t,n){var r=new Error(e);throw r.line=t,r.column=n,r}function a(e){var i,a=e.key,l=e.value,d=e.line,h=e.column;i=r?r+"."+a:a,"undefined"!==typeof o[a]&&s("Cannot redefine existing key '"+i+"'.",d,h),o[a]=c(l),u(i)||(t.push(i),n.push(i))}function u(e){return-1!==t.indexOf(e)}function c(e){return"Array"===e.type?function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n];null===t?t=r.type:r.type!==t&&s("Cannot add value of type "+r.type+" to array of type "+t+".",r.line,r.column)}return e.map(c)}(e.value):"InlineTable"===e.type?l(e.value):e.value}function l(e){for(var t=Object.create(null),n=0;n<e.length;n++){var r=e[n];"InlineTable"===r.value.type?t[r.key]=l(r.value.value):"InlineTableValue"===r.type&&(t[r.key]=c(r.value))}return t}function d(e){var n=e.value,a=n.map(f).join("."),c=e.line,l=e.column;u(a)&&s("Cannot redefine existing key '"+n+"'.",c,l),t.push(a),o=p(i,n,Object.create(null),c,l),r=n}function h(e){var n=e.value,a=n.map(f).join("."),c=e.line,l=e.column;if(u(a)||t.push(a),(t=t.filter((function(e){return 0!==e.indexOf(a)}))).push(a),o=p(i,n,[],c,l),r=a,o instanceof Array){var d=Object.create(null);o.push(d),o=d}else s("Cannot redefine existing key '"+n+"'.",c,l)}function p(e,t,r,i,o){for(var a=[],u="",c=(t.join("."),e),l=0;l<t.length;l++){var d=t[l];a.push(d),u=a.join("."),"undefined"===typeof c[d]?l===t.length-1?c[d]=r:c[d]=Object.create(null):l!==t.length-1&&n.indexOf(u)>-1&&s("Cannot redefine existing key '"+u+"'.",i,o),(c=c[d])instanceof Array&&c.length&&l<t.length-1&&(c=c[c.length-1])}return c}function f(e){return e.indexOf(".")>-1?'"'+e+'"':e}}}},28076:e=>{e.exports=function(){function e(e,t,n,r,i,o){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=i,this.column=o,this.name="SyntaxError"}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:function(t){var n,r=arguments.length>1?arguments[1]:{},i={},o={start:Rt},s=Rt,a=function(){return Mn},u=i,c="#",l={type:"literal",value:"#",description:'"#"'},d=void 0,h={type:"any",description:"any character"},p="[",f={type:"literal",value:"[",description:'"["'},m="]",g={type:"literal",value:"]",description:'"]"'},y=function(e){Bn(Dn("ObjectPath",e,xt,Mt))},w=function(e){Bn(Dn("ArrayPath",e,xt,Mt))},b=function(e,t){return e.concat(t)},v=function(e){return[e]},_=function(e){return e},A=".",S={type:"literal",value:".",description:'"."'},k="=",E={type:"literal",value:"=",description:'"="'},T=function(e,t){Bn(Dn("Assign",t,xt,Mt,e))},I=function(e){return e.join("")},P=function(e){return e.value},x='"""',M={type:"literal",value:'"""',description:'"\\"\\"\\""'},O=null,B=function(e){return Dn("String",e.join(""),xt,Mt)},D='"',R={type:"literal",value:'"',description:'"\\""'},U="'''",L={type:"literal",value:"'''",description:"\"'''\""},C="'",N={type:"literal",value:"'",description:'"\'"'},F=function(e){return e},W=function(e){return e},z="\\",j={type:"literal",value:"\\",description:'"\\\\"'},q=function(){return""},K="e",V={type:"literal",value:"e",description:'"e"'},H="E",G={type:"literal",value:"E",description:'"E"'},Z=function(e,t){return Dn("Float",parseFloat(e+"e"+t),xt,Mt)},Q=function(e){return Dn("Float",parseFloat(e),xt,Mt)},X="+",J={type:"literal",value:"+",description:'"+"'},Y=function(e){return e.join("")},$="-",ee={type:"literal",value:"-",description:'"-"'},te=function(e){return"-"+e.join("")},ne=function(e){return Dn("Integer",parseInt(e,10),xt,Mt)},re="true",ie={type:"literal",value:"true",description:'"true"'},oe=function(){return Dn("Boolean",!0,xt,Mt)},se="false",ae={type:"literal",value:"false",description:'"false"'},ue=function(){return Dn("Boolean",!1,xt,Mt)},ce=function(){return Dn("Array",[],xt,Mt)},le=function(e){return Dn("Array",e?[e]:[],xt,Mt)},de=function(e){return Dn("Array",e,xt,Mt)},he=function(e,t){return Dn("Array",e.concat(t),xt,Mt)},pe=function(e){return e},fe=",",me={type:"literal",value:",",description:'","'},ge="{",ye={type:"literal",value:"{",description:'"{"'},we="}",be={type:"literal",value:"}",description:'"}"'},ve=function(e){return Dn("InlineTable",e,xt,Mt)},_e=function(e,t){return Dn("InlineTableValue",t,xt,Mt,e)},Ae=function(e){return"."+e},Se=function(e){return e.join("")},ke=":",Ee={type:"literal",value:":",description:'":"'},Te=function(e){return e.join("")},Ie="T",Pe={type:"literal",value:"T",description:'"T"'},xe="Z",Me={type:"literal",value:"Z",description:'"Z"'},Oe=function(e,t){return Dn("Date",new Date(e+"T"+t+"Z"),xt,Mt)},Be=function(e,t){return Dn("Date",new Date(e+"T"+t),xt,Mt)},De=/^[ \t]/,Re={type:"class",value:"[ \\t]",description:"[ \\t]"},Ue="\n",Le={type:"literal",value:"\n",description:'"\\n"'},Ce="\r",Ne={type:"literal",value:"\r",description:'"\\r"'},Fe=/^[0-9a-f]/i,We={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},ze=/^[0-9]/,je={type:"class",value:"[0-9]",description:"[0-9]"},qe="_",Ke={type:"literal",value:"_",description:'"_"'},Ve=function(){return""},He=/^[A-Za-z0-9_\-]/,Ge={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},Ze=function(e){return e.join("")},Qe='\\"',Xe={type:"literal",value:'\\"',description:'"\\\\\\""'},Je=function(){return'"'},Ye="\\\\",$e={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},et=function(){return"\\"},tt="\\b",nt={type:"literal",value:"\\b",description:'"\\\\b"'},rt=function(){return"\b"},it="\\t",ot={type:"literal",value:"\\t",description:'"\\\\t"'},st=function(){return"\t"},at="\\n",ut={type:"literal",value:"\\n",description:'"\\\\n"'},ct=function(){return"\n"},lt="\\f",dt={type:"literal",value:"\\f",description:'"\\\\f"'},ht=function(){return"\f"},pt="\\r",ft={type:"literal",value:"\\r",description:'"\\\\r"'},mt=function(){return"\r"},gt="\\U",yt={type:"literal",value:"\\U",description:'"\\\\U"'},wt=function(e){return Rn(e.join(""))},bt="\\u",vt={type:"literal",value:"\\u",description:'"\\\\u"'},_t=0,At=0,St=0,kt={line:1,column:1,seenCR:!1},Et=0,Tt=[],It=0,Pt={};if("startRule"in r){if(!(r.startRule in o))throw new Error("Can't start parsing from rule \""+r.startRule+'".');s=o[r.startRule]}function xt(){return Ot(At).line}function Mt(){return Ot(At).column}function Ot(e){return St!==e&&(St>e&&(St=0,kt={line:1,column:1,seenCR:!1}),function(e,n,r){var i,o;for(i=n;i<r;i++)"\n"===(o=t.charAt(i))?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}(kt,St,e),St=e),kt}function Bt(e){_t<Et||(_t>Et&&(Et=_t,Tt=[]),Tt.push(e))}function Dt(n,r,i){var o=Ot(i),s=i<t.length?t.charAt(i):null;return null!==r&&function(e){var t=1;for(e.sort((function(e,t){return e.description<t.description?-1:e.description>t.description?1:0}));t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(r),new e(null!==n?n:function(e,t){var n,r=new Array(e.length);for(n=0;n<e.length;n++)r[n]=e[n].description;return"Expected "+(e.length>1?r.slice(0,-1).join(", ")+" or "+r[e.length-1]:r[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(e){return"\\x0"+t(e)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(e){return"\\x"+t(e)})).replace(/[\u0180-\u0FFF]/g,(function(e){return"\\u0"+t(e)})).replace(/[\u1080-\uFFFF]/g,(function(e){return"\\u"+t(e)}))}(t)+'"':"end of input")+" found."}(r,s),r,s,i,o.line,o.column)}function Rt(){var e,t,n,r=49*_t+0,o=Pt[r];if(o)return _t=o.nextPos,o.result;for(e=_t,t=[],n=Ut();n!==i;)t.push(n),n=Ut();return t!==i&&(At=e,t=a()),e=t,Pt[r]={nextPos:_t,result:e},e}function Ut(){var e,t,n,r,o,s,a,c=49*_t+1,l=Pt[c];if(l)return _t=l.nextPos,l.result;for(e=_t,t=[],n=vn();n!==i;)t.push(n),n=vn();if(t!==i)if((n=Lt())!==i){for(r=[],o=vn();o!==i;)r.push(o),o=vn();if(r!==i){for(o=[],s=Ct();s!==i;)o.push(s),s=Ct();if(o!==i){if(s=[],(a=_n())!==i)for(;a!==i;)s.push(a),a=_n();else s=u;s===i&&(s=Sn()),s!==i?e=t=[t,n,r,o,s]:(_t=e,e=u)}else _t=e,e=u}else _t=e,e=u}else _t=e,e=u;else _t=e,e=u;if(e===i){if(e=_t,t=[],(n=vn())!==i)for(;n!==i;)t.push(n),n=vn();else t=u;if(t!==i){if(n=[],(r=_n())!==i)for(;r!==i;)n.push(r),r=_n();else n=u;n===i&&(n=Sn()),n!==i?e=t=[t,n]:(_t=e,e=u)}else _t=e,e=u;e===i&&(e=_n())}return Pt[c]={nextPos:_t,result:e},e}function Lt(){var e,t=49*_t+2,n=Pt[t];return n?(_t=n.nextPos,n.result):((e=Ct())===i&&(e=Nt())===i&&(e=Ft())===i&&(e=qt()),Pt[t]={nextPos:_t,result:e},e)}function Ct(){var e,n,r,o,s,a,p=49*_t+3,f=Pt[p];if(f)return _t=f.nextPos,f.result;if(e=_t,35===t.charCodeAt(_t)?(n=c,_t++):(n=i,0===It&&Bt(l)),n!==i){for(r=[],o=_t,s=_t,It++,(a=_n())===i&&(a=Sn()),It--,a===i?s=d:(_t=s,s=u),s!==i?(t.length>_t?(a=t.charAt(_t),_t++):(a=i,0===It&&Bt(h)),a!==i?o=s=[s,a]:(_t=o,o=u)):(_t=o,o=u);o!==i;)r.push(o),o=_t,s=_t,It++,(a=_n())===i&&(a=Sn()),It--,a===i?s=d:(_t=s,s=u),s!==i?(t.length>_t?(a=t.charAt(_t),_t++):(a=i,0===It&&Bt(h)),a!==i?o=s=[s,a]:(_t=o,o=u)):(_t=o,o=u);r!==i?e=n=[n,r]:(_t=e,e=u)}else _t=e,e=u;return Pt[p]={nextPos:_t,result:e},e}function Nt(){var e,n,r,o,s,a,c=49*_t+4,l=Pt[c];if(l)return _t=l.nextPos,l.result;if(e=_t,91===t.charCodeAt(_t)?(n=p,_t++):(n=i,0===It&&Bt(f)),n!==i){for(r=[],o=vn();o!==i;)r.push(o),o=vn();if(r!==i)if((o=Wt())!==i){for(s=[],a=vn();a!==i;)s.push(a),a=vn();s!==i?(93===t.charCodeAt(_t)?(a=m,_t++):(a=i,0===It&&Bt(g)),a!==i?(At=e,e=n=y(o)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;return Pt[c]={nextPos:_t,result:e},e}function Ft(){var e,n,r,o,s,a,c,l,d=49*_t+5,h=Pt[d];if(h)return _t=h.nextPos,h.result;if(e=_t,91===t.charCodeAt(_t)?(n=p,_t++):(n=i,0===It&&Bt(f)),n!==i)if(91===t.charCodeAt(_t)?(r=p,_t++):(r=i,0===It&&Bt(f)),r!==i){for(o=[],s=vn();s!==i;)o.push(s),s=vn();if(o!==i)if((s=Wt())!==i){for(a=[],c=vn();c!==i;)a.push(c),c=vn();a!==i?(93===t.charCodeAt(_t)?(c=m,_t++):(c=i,0===It&&Bt(g)),c!==i?(93===t.charCodeAt(_t)?(l=m,_t++):(l=i,0===It&&Bt(g)),l!==i?(At=e,e=n=w(s)):(_t=e,e=u)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;else _t=e,e=u;return Pt[d]={nextPos:_t,result:e},e}function Wt(){var e,t,n,r=49*_t+6,o=Pt[r];if(o)return _t=o.nextPos,o.result;if(e=_t,t=[],(n=jt())!==i)for(;n!==i;)t.push(n),n=jt();else t=u;return t!==i&&(n=zt())!==i?(At=e,e=t=b(t,n)):(_t=e,e=u),e===i&&(e=_t,(t=zt())!==i&&(At=e,t=v(t)),e=t),Pt[r]={nextPos:_t,result:e},e}function zt(){var e,t,n,r,o,s=49*_t+7,a=Pt[s];if(a)return _t=a.nextPos,a.result;for(e=_t,t=[],n=vn();n!==i;)t.push(n),n=vn();if(t!==i)if((n=Kt())!==i){for(r=[],o=vn();o!==i;)r.push(o),o=vn();r!==i?(At=e,e=t=_(n)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u;if(e===i){for(e=_t,t=[],n=vn();n!==i;)t.push(n),n=vn();if(t!==i)if((n=Vt())!==i){for(r=[],o=vn();o!==i;)r.push(o),o=vn();r!==i?(At=e,e=t=_(n)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}return Pt[s]={nextPos:_t,result:e},e}function jt(){var e,n,r,o,s,a,c,l=49*_t+8,d=Pt[l];if(d)return _t=d.nextPos,d.result;for(e=_t,n=[],r=vn();r!==i;)n.push(r),r=vn();if(n!==i)if((r=Kt())!==i){for(o=[],s=vn();s!==i;)o.push(s),s=vn();if(o!==i)if(46===t.charCodeAt(_t)?(s=A,_t++):(s=i,0===It&&Bt(S)),s!==i){for(a=[],c=vn();c!==i;)a.push(c),c=vn();a!==i?(At=e,e=n=_(r)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;else _t=e,e=u;if(e===i){for(e=_t,n=[],r=vn();r!==i;)n.push(r),r=vn();if(n!==i)if((r=Vt())!==i){for(o=[],s=vn();s!==i;)o.push(s),s=vn();if(o!==i)if(46===t.charCodeAt(_t)?(s=A,_t++):(s=i,0===It&&Bt(S)),s!==i){for(a=[],c=vn();c!==i;)a.push(c),c=vn();a!==i?(At=e,e=n=_(r)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;else _t=e,e=u}return Pt[l]={nextPos:_t,result:e},e}function qt(){var e,n,r,o,s,a,c=49*_t+9,l=Pt[c];if(l)return _t=l.nextPos,l.result;if(e=_t,(n=Kt())!==i){for(r=[],o=vn();o!==i;)r.push(o),o=vn();if(r!==i)if(61===t.charCodeAt(_t)?(o=k,_t++):(o=i,0===It&&Bt(E)),o!==i){for(s=[],a=vn();a!==i;)s.push(a),a=vn();s!==i&&(a=Ht())!==i?(At=e,e=n=T(n,a)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;if(e===i)if(e=_t,(n=Vt())!==i){for(r=[],o=vn();o!==i;)r.push(o),o=vn();if(r!==i)if(61===t.charCodeAt(_t)?(o=k,_t++):(o=i,0===It&&Bt(E)),o!==i){for(s=[],a=vn();a!==i;)s.push(a),a=vn();s!==i&&(a=Ht())!==i?(At=e,e=n=T(n,a)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;return Pt[c]={nextPos:_t,result:e},e}function Kt(){var e,t,n,r=49*_t+10,o=Pt[r];if(o)return _t=o.nextPos,o.result;if(e=_t,t=[],(n=Tn())!==i)for(;n!==i;)t.push(n),n=Tn();else t=u;return t!==i&&(At=e,t=I(t)),e=t,Pt[r]={nextPos:_t,result:e},e}function Vt(){var e,t,n=49*_t+11,r=Pt[n];return r?(_t=r.nextPos,r.result):(e=_t,(t=Qt())!==i&&(At=e,t=P(t)),(e=t)===i&&(e=_t,(t=Jt())!==i&&(At=e,t=P(t)),e=t),Pt[n]={nextPos:_t,result:e},e)}function Ht(){var e,t=49*_t+12,n=Pt[t];return n?(_t=n.nextPos,n.result):((e=Gt())===i&&(e=bn())===i&&(e=rn())===i&&(e=sn())===i&&(e=un())===i&&(e=cn())===i&&(e=pn()),Pt[t]={nextPos:_t,result:e},e)}function Gt(){var e,t=49*_t+13,n=Pt[t];return n?(_t=n.nextPos,n.result):((e=Zt())===i&&(e=Qt())===i&&(e=Xt())===i&&(e=Jt()),Pt[t]={nextPos:_t,result:e},e)}function Zt(){var e,n,r,o,s,a=49*_t+14,c=Pt[a];if(c)return _t=c.nextPos,c.result;if(e=_t,t.substr(_t,3)===x?(n=x,_t+=3):(n=i,0===It&&Bt(M)),n!==i)if((r=_n())===i&&(r=O),r!==i){for(o=[],s=en();s!==i;)o.push(s),s=en();o!==i?(t.substr(_t,3)===x?(s=x,_t+=3):(s=i,0===It&&Bt(M)),s!==i?(At=e,e=n=B(o)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u;return Pt[a]={nextPos:_t,result:e},e}function Qt(){var e,n,r,o,s=49*_t+15,a=Pt[s];if(a)return _t=a.nextPos,a.result;if(e=_t,34===t.charCodeAt(_t)?(n=D,_t++):(n=i,0===It&&Bt(R)),n!==i){for(r=[],o=Yt();o!==i;)r.push(o),o=Yt();r!==i?(34===t.charCodeAt(_t)?(o=D,_t++):(o=i,0===It&&Bt(R)),o!==i?(At=e,e=n=B(r)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;return Pt[s]={nextPos:_t,result:e},e}function Xt(){var e,n,r,o,s,a=49*_t+16,c=Pt[a];if(c)return _t=c.nextPos,c.result;if(e=_t,t.substr(_t,3)===U?(n=U,_t+=3):(n=i,0===It&&Bt(L)),n!==i)if((r=_n())===i&&(r=O),r!==i){for(o=[],s=nn();s!==i;)o.push(s),s=nn();o!==i?(t.substr(_t,3)===U?(s=U,_t+=3):(s=i,0===It&&Bt(L)),s!==i?(At=e,e=n=B(o)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u;return Pt[a]={nextPos:_t,result:e},e}function Jt(){var e,n,r,o,s=49*_t+17,a=Pt[s];if(a)return _t=a.nextPos,a.result;if(e=_t,39===t.charCodeAt(_t)?(n=C,_t++):(n=i,0===It&&Bt(N)),n!==i){for(r=[],o=$t();o!==i;)r.push(o),o=$t();r!==i?(39===t.charCodeAt(_t)?(o=C,_t++):(o=i,0===It&&Bt(N)),o!==i?(At=e,e=n=B(r)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;return Pt[s]={nextPos:_t,result:e},e}function Yt(){var e,n,r,o=49*_t+18,s=Pt[o];return s?(_t=s.nextPos,s.result):((e=Pn())===i&&(e=_t,n=_t,It++,34===t.charCodeAt(_t)?(r=D,_t++):(r=i,0===It&&Bt(R)),It--,r===i?n=d:(_t=n,n=u),n!==i?(t.length>_t?(r=t.charAt(_t),_t++):(r=i,0===It&&Bt(h)),r!==i?(At=e,e=n=F(r)):(_t=e,e=u)):(_t=e,e=u)),Pt[o]={nextPos:_t,result:e},e)}function $t(){var e,n,r,o=49*_t+19,s=Pt[o];return s?(_t=s.nextPos,s.result):(e=_t,n=_t,It++,39===t.charCodeAt(_t)?(r=C,_t++):(r=i,0===It&&Bt(N)),It--,r===i?n=d:(_t=n,n=u),n!==i?(t.length>_t?(r=t.charAt(_t),_t++):(r=i,0===It&&Bt(h)),r!==i?(At=e,e=n=F(r)):(_t=e,e=u)):(_t=e,e=u),Pt[o]={nextPos:_t,result:e},e)}function en(){var e,n,r,o=49*_t+20,s=Pt[o];return s?(_t=s.nextPos,s.result):((e=Pn())===i&&(e=tn())===i&&(e=_t,n=_t,It++,t.substr(_t,3)===x?(r=x,_t+=3):(r=i,0===It&&Bt(M)),It--,r===i?n=d:(_t=n,n=u),n!==i?(t.length>_t?(r=t.charAt(_t),_t++):(r=i,0===It&&Bt(h)),r!==i?(At=e,e=n=W(r)):(_t=e,e=u)):(_t=e,e=u)),Pt[o]={nextPos:_t,result:e},e)}function tn(){var e,n,r,o,s=49*_t+21,a=Pt[s];if(a)return _t=a.nextPos,a.result;if(e=_t,92===t.charCodeAt(_t)?(n=z,_t++):(n=i,0===It&&Bt(j)),n!==i)if(_n()!==i){for(r=[],o=An();o!==i;)r.push(o),o=An();r!==i?(At=e,e=n=q()):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u;return Pt[s]={nextPos:_t,result:e},e}function nn(){var e,n,r,o=49*_t+22,s=Pt[o];return s?(_t=s.nextPos,s.result):(e=_t,n=_t,It++,t.substr(_t,3)===U?(r=U,_t+=3):(r=i,0===It&&Bt(L)),It--,r===i?n=d:(_t=n,n=u),n!==i?(t.length>_t?(r=t.charAt(_t),_t++):(r=i,0===It&&Bt(h)),r!==i?(At=e,e=n=F(r)):(_t=e,e=u)):(_t=e,e=u),Pt[o]={nextPos:_t,result:e},e)}function rn(){var e,n,r,o,s=49*_t+23,a=Pt[s];return a?(_t=a.nextPos,a.result):(e=_t,(n=on())===i&&(n=an()),n!==i?(101===t.charCodeAt(_t)?(r=K,_t++):(r=i,0===It&&Bt(V)),r===i&&(69===t.charCodeAt(_t)?(r=H,_t++):(r=i,0===It&&Bt(G))),r!==i&&(o=an())!==i?(At=e,e=n=Z(n,o)):(_t=e,e=u)):(_t=e,e=u),e===i&&(e=_t,(n=on())!==i&&(At=e,n=Q(n)),e=n),Pt[s]={nextPos:_t,result:e},e)}function on(){var e,n,r,o,s,a,c=49*_t+24,l=Pt[c];return l?(_t=l.nextPos,l.result):(e=_t,43===t.charCodeAt(_t)?(n=X,_t++):(n=i,0===It&&Bt(J)),n===i&&(n=O),n!==i?(r=_t,(o=In())!==i?(46===t.charCodeAt(_t)?(s=A,_t++):(s=i,0===It&&Bt(S)),s!==i&&(a=In())!==i?r=o=[o,s,a]:(_t=r,r=u)):(_t=r,r=u),r!==i?(At=e,e=n=Y(r)):(_t=e,e=u)):(_t=e,e=u),e===i&&(e=_t,45===t.charCodeAt(_t)?(n=$,_t++):(n=i,0===It&&Bt(ee)),n!==i?(r=_t,(o=In())!==i?(46===t.charCodeAt(_t)?(s=A,_t++):(s=i,0===It&&Bt(S)),s!==i&&(a=In())!==i?r=o=[o,s,a]:(_t=r,r=u)):(_t=r,r=u),r!==i?(At=e,e=n=te(r)):(_t=e,e=u)):(_t=e,e=u)),Pt[c]={nextPos:_t,result:e},e)}function sn(){var e,t,n=49*_t+25,r=Pt[n];return r?(_t=r.nextPos,r.result):(e=_t,(t=an())!==i&&(At=e,t=ne(t)),e=t,Pt[n]={nextPos:_t,result:e},e)}function an(){var e,n,r,o,s,a=49*_t+26,c=Pt[a];if(c)return _t=c.nextPos,c.result;if(e=_t,43===t.charCodeAt(_t)?(n=X,_t++):(n=i,0===It&&Bt(J)),n===i&&(n=O),n!==i){if(r=[],(o=En())!==i)for(;o!==i;)r.push(o),o=En();else r=u;r!==i?(o=_t,It++,46===t.charCodeAt(_t)?(s=A,_t++):(s=i,0===It&&Bt(S)),It--,s===i?o=d:(_t=o,o=u),o!==i?(At=e,e=n=Y(r)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;if(e===i)if(e=_t,45===t.charCodeAt(_t)?(n=$,_t++):(n=i,0===It&&Bt(ee)),n!==i){if(r=[],(o=En())!==i)for(;o!==i;)r.push(o),o=En();else r=u;r!==i?(o=_t,It++,46===t.charCodeAt(_t)?(s=A,_t++):(s=i,0===It&&Bt(S)),It--,s===i?o=d:(_t=o,o=u),o!==i?(At=e,e=n=te(r)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;return Pt[a]={nextPos:_t,result:e},e}function un(){var e,n,r=49*_t+27,o=Pt[r];return o?(_t=o.nextPos,o.result):(e=_t,t.substr(_t,4)===re?(n=re,_t+=4):(n=i,0===It&&Bt(ie)),n!==i&&(At=e,n=oe()),(e=n)===i&&(e=_t,t.substr(_t,5)===se?(n=se,_t+=5):(n=i,0===It&&Bt(ae)),n!==i&&(At=e,n=ue()),e=n),Pt[r]={nextPos:_t,result:e},e)}function cn(){var e,n,r,o,s,a=49*_t+28,c=Pt[a];if(c)return _t=c.nextPos,c.result;if(e=_t,91===t.charCodeAt(_t)?(n=p,_t++):(n=i,0===It&&Bt(f)),n!==i){for(r=[],o=hn();o!==i;)r.push(o),o=hn();r!==i?(93===t.charCodeAt(_t)?(o=m,_t++):(o=i,0===It&&Bt(g)),o!==i?(At=e,e=n=ce()):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;if(e===i&&(e=_t,91===t.charCodeAt(_t)?(n=p,_t++):(n=i,0===It&&Bt(f)),n!==i?((r=ln())===i&&(r=O),r!==i?(93===t.charCodeAt(_t)?(o=m,_t++):(o=i,0===It&&Bt(g)),o!==i?(At=e,e=n=le(r)):(_t=e,e=u)):(_t=e,e=u)):(_t=e,e=u),e===i)){if(e=_t,91===t.charCodeAt(_t)?(n=p,_t++):(n=i,0===It&&Bt(f)),n!==i){if(r=[],(o=dn())!==i)for(;o!==i;)r.push(o),o=dn();else r=u;r!==i?(93===t.charCodeAt(_t)?(o=m,_t++):(o=i,0===It&&Bt(g)),o!==i?(At=e,e=n=de(r)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;if(e===i)if(e=_t,91===t.charCodeAt(_t)?(n=p,_t++):(n=i,0===It&&Bt(f)),n!==i){if(r=[],(o=dn())!==i)for(;o!==i;)r.push(o),o=dn();else r=u;r!==i&&(o=ln())!==i?(93===t.charCodeAt(_t)?(s=m,_t++):(s=i,0===It&&Bt(g)),s!==i?(At=e,e=n=he(r,o)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u}return Pt[a]={nextPos:_t,result:e},e}function ln(){var e,t,n,r,o,s=49*_t+29,a=Pt[s];if(a)return _t=a.nextPos,a.result;for(e=_t,t=[],n=hn();n!==i;)t.push(n),n=hn();if(t!==i)if((n=Ht())!==i){for(r=[],o=hn();o!==i;)r.push(o),o=hn();r!==i?(At=e,e=t=pe(n)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u;return Pt[s]={nextPos:_t,result:e},e}function dn(){var e,n,r,o,s,a,c,l=49*_t+30,d=Pt[l];if(d)return _t=d.nextPos,d.result;for(e=_t,n=[],r=hn();r!==i;)n.push(r),r=hn();if(n!==i)if((r=Ht())!==i){for(o=[],s=hn();s!==i;)o.push(s),s=hn();if(o!==i)if(44===t.charCodeAt(_t)?(s=fe,_t++):(s=i,0===It&&Bt(me)),s!==i){for(a=[],c=hn();c!==i;)a.push(c),c=hn();a!==i?(At=e,e=n=pe(r)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;else _t=e,e=u;return Pt[l]={nextPos:_t,result:e},e}function hn(){var e,t=49*_t+31,n=Pt[t];return n?(_t=n.nextPos,n.result):((e=vn())===i&&(e=_n())===i&&(e=Ct()),Pt[t]={nextPos:_t,result:e},e)}function pn(){var e,n,r,o,s,a,c=49*_t+32,l=Pt[c];if(l)return _t=l.nextPos,l.result;if(e=_t,123===t.charCodeAt(_t)?(n=ge,_t++):(n=i,0===It&&Bt(ye)),n!==i){for(r=[],o=vn();o!==i;)r.push(o),o=vn();if(r!==i){for(o=[],s=fn();s!==i;)o.push(s),s=fn();if(o!==i){for(s=[],a=vn();a!==i;)s.push(a),a=vn();s!==i?(125===t.charCodeAt(_t)?(a=we,_t++):(a=i,0===It&&Bt(be)),a!==i?(At=e,e=n=ve(o)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u}else _t=e,e=u}else _t=e,e=u;return Pt[c]={nextPos:_t,result:e},e}function fn(){var e,n,r,o,s,a,c,l,d,h,p,f=49*_t+33,m=Pt[f];if(m)return _t=m.nextPos,m.result;for(e=_t,n=[],r=vn();r!==i;)n.push(r),r=vn();if(n!==i)if((r=Kt())!==i){for(o=[],s=vn();s!==i;)o.push(s),s=vn();if(o!==i)if(61===t.charCodeAt(_t)?(s=k,_t++):(s=i,0===It&&Bt(E)),s!==i){for(a=[],c=vn();c!==i;)a.push(c),c=vn();if(a!==i)if((c=Ht())!==i){for(l=[],d=vn();d!==i;)l.push(d),d=vn();if(l!==i)if(44===t.charCodeAt(_t)?(d=fe,_t++):(d=i,0===It&&Bt(me)),d!==i){for(h=[],p=vn();p!==i;)h.push(p),p=vn();h!==i?(At=e,e=n=_e(r,c)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;else _t=e,e=u;if(e===i){for(e=_t,n=[],r=vn();r!==i;)n.push(r),r=vn();if(n!==i)if((r=Kt())!==i){for(o=[],s=vn();s!==i;)o.push(s),s=vn();if(o!==i)if(61===t.charCodeAt(_t)?(s=k,_t++):(s=i,0===It&&Bt(E)),s!==i){for(a=[],c=vn();c!==i;)a.push(c),c=vn();a!==i&&(c=Ht())!==i?(At=e,e=n=_e(r,c)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;else _t=e,e=u}return Pt[f]={nextPos:_t,result:e},e}function mn(){var e,n,r,o=49*_t+34,s=Pt[o];return s?(_t=s.nextPos,s.result):(e=_t,46===t.charCodeAt(_t)?(n=A,_t++):(n=i,0===It&&Bt(S)),n!==i&&(r=In())!==i?(At=e,e=n=Ae(r)):(_t=e,e=u),Pt[o]={nextPos:_t,result:e},e)}function gn(){var e,n,r,o,s,a,c,l,d,h,p,f,m=49*_t+35,g=Pt[m];return g?(_t=g.nextPos,g.result):(e=_t,n=_t,(r=En())!==i&&(o=En())!==i&&(s=En())!==i&&(a=En())!==i?(45===t.charCodeAt(_t)?(c=$,_t++):(c=i,0===It&&Bt(ee)),c!==i&&(l=En())!==i&&(d=En())!==i?(45===t.charCodeAt(_t)?(h=$,_t++):(h=i,0===It&&Bt(ee)),h!==i&&(p=En())!==i&&(f=En())!==i?n=r=[r,o,s,a,c,l,d,h,p,f]:(_t=n,n=u)):(_t=n,n=u)):(_t=n,n=u),n!==i&&(At=e,n=Se(n)),e=n,Pt[m]={nextPos:_t,result:e},e)}function yn(){var e,n,r,o,s,a,c,l,d,h,p,f=49*_t+36,m=Pt[f];return m?(_t=m.nextPos,m.result):(e=_t,n=_t,(r=En())!==i&&(o=En())!==i?(58===t.charCodeAt(_t)?(s=ke,_t++):(s=i,0===It&&Bt(Ee)),s!==i&&(a=En())!==i&&(c=En())!==i?(58===t.charCodeAt(_t)?(l=ke,_t++):(l=i,0===It&&Bt(Ee)),l!==i&&(d=En())!==i&&(h=En())!==i?((p=mn())===i&&(p=O),p!==i?n=r=[r,o,s,a,c,l,d,h,p]:(_t=n,n=u)):(_t=n,n=u)):(_t=n,n=u)):(_t=n,n=u),n!==i&&(At=e,n=Te(n)),e=n,Pt[f]={nextPos:_t,result:e},e)}function wn(){var e,n,r,o,s,a,c,l,d,h,p,f,m,g,y,w,b,v=49*_t+37,_=Pt[v];return _?(_t=_.nextPos,_.result):(e=_t,n=_t,(r=En())!==i&&(o=En())!==i?(58===t.charCodeAt(_t)?(s=ke,_t++):(s=i,0===It&&Bt(Ee)),s!==i&&(a=En())!==i&&(c=En())!==i?(58===t.charCodeAt(_t)?(l=ke,_t++):(l=i,0===It&&Bt(Ee)),l!==i&&(d=En())!==i&&(h=En())!==i?((p=mn())===i&&(p=O),p!==i?(45===t.charCodeAt(_t)?(f=$,_t++):(f=i,0===It&&Bt(ee)),f===i&&(43===t.charCodeAt(_t)?(f=X,_t++):(f=i,0===It&&Bt(J))),f!==i&&(m=En())!==i&&(g=En())!==i?(58===t.charCodeAt(_t)?(y=ke,_t++):(y=i,0===It&&Bt(Ee)),y!==i&&(w=En())!==i&&(b=En())!==i?n=r=[r,o,s,a,c,l,d,h,p,f,m,g,y,w,b]:(_t=n,n=u)):(_t=n,n=u)):(_t=n,n=u)):(_t=n,n=u)):(_t=n,n=u)):(_t=n,n=u),n!==i&&(At=e,n=Te(n)),e=n,Pt[v]={nextPos:_t,result:e},e)}function bn(){var e,n,r,o,s,a=49*_t+38,c=Pt[a];return c?(_t=c.nextPos,c.result):(e=_t,(n=gn())!==i?(84===t.charCodeAt(_t)?(r=Ie,_t++):(r=i,0===It&&Bt(Pe)),r!==i&&(o=yn())!==i?(90===t.charCodeAt(_t)?(s=xe,_t++):(s=i,0===It&&Bt(Me)),s!==i?(At=e,e=n=Oe(n,o)):(_t=e,e=u)):(_t=e,e=u)):(_t=e,e=u),e===i&&(e=_t,(n=gn())!==i?(84===t.charCodeAt(_t)?(r=Ie,_t++):(r=i,0===It&&Bt(Pe)),r!==i&&(o=wn())!==i?(At=e,e=n=Be(n,o)):(_t=e,e=u)):(_t=e,e=u)),Pt[a]={nextPos:_t,result:e},e)}function vn(){var e,n=49*_t+39,r=Pt[n];return r?(_t=r.nextPos,r.result):(De.test(t.charAt(_t))?(e=t.charAt(_t),_t++):(e=i,0===It&&Bt(Re)),Pt[n]={nextPos:_t,result:e},e)}function _n(){var e,n,r,o=49*_t+40,s=Pt[o];return s?(_t=s.nextPos,s.result):(10===t.charCodeAt(_t)?(e=Ue,_t++):(e=i,0===It&&Bt(Le)),e===i&&(e=_t,13===t.charCodeAt(_t)?(n=Ce,_t++):(n=i,0===It&&Bt(Ne)),n!==i?(10===t.charCodeAt(_t)?(r=Ue,_t++):(r=i,0===It&&Bt(Le)),r!==i?e=n=[n,r]:(_t=e,e=u)):(_t=e,e=u)),Pt[o]={nextPos:_t,result:e},e)}function An(){var e,t=49*_t+41,n=Pt[t];return n?(_t=n.nextPos,n.result):((e=_n())===i&&(e=vn()),Pt[t]={nextPos:_t,result:e},e)}function Sn(){var e,n,r=49*_t+42,o=Pt[r];return o?(_t=o.nextPos,o.result):(e=_t,It++,t.length>_t?(n=t.charAt(_t),_t++):(n=i,0===It&&Bt(h)),It--,n===i?e=d:(_t=e,e=u),Pt[r]={nextPos:_t,result:e},e)}function kn(){var e,n=49*_t+43,r=Pt[n];return r?(_t=r.nextPos,r.result):(Fe.test(t.charAt(_t))?(e=t.charAt(_t),_t++):(e=i,0===It&&Bt(We)),Pt[n]={nextPos:_t,result:e},e)}function En(){var e,n,r=49*_t+44,o=Pt[r];return o?(_t=o.nextPos,o.result):(ze.test(t.charAt(_t))?(e=t.charAt(_t),_t++):(e=i,0===It&&Bt(je)),e===i&&(e=_t,95===t.charCodeAt(_t)?(n=qe,_t++):(n=i,0===It&&Bt(Ke)),n!==i&&(At=e,n=Ve()),e=n),Pt[r]={nextPos:_t,result:e},e)}function Tn(){var e,n=49*_t+45,r=Pt[n];return r?(_t=r.nextPos,r.result):(He.test(t.charAt(_t))?(e=t.charAt(_t),_t++):(e=i,0===It&&Bt(Ge)),Pt[n]={nextPos:_t,result:e},e)}function In(){var e,t,n,r=49*_t+46,o=Pt[r];if(o)return _t=o.nextPos,o.result;if(e=_t,t=[],(n=En())!==i)for(;n!==i;)t.push(n),n=En();else t=u;return t!==i&&(At=e,t=Ze(t)),e=t,Pt[r]={nextPos:_t,result:e},e}function Pn(){var e,n,r=49*_t+47,o=Pt[r];return o?(_t=o.nextPos,o.result):(e=_t,t.substr(_t,2)===Qe?(n=Qe,_t+=2):(n=i,0===It&&Bt(Xe)),n!==i&&(At=e,n=Je()),(e=n)===i&&(e=_t,t.substr(_t,2)===Ye?(n=Ye,_t+=2):(n=i,0===It&&Bt($e)),n!==i&&(At=e,n=et()),(e=n)===i&&(e=_t,t.substr(_t,2)===tt?(n=tt,_t+=2):(n=i,0===It&&Bt(nt)),n!==i&&(At=e,n=rt()),(e=n)===i&&(e=_t,t.substr(_t,2)===it?(n=it,_t+=2):(n=i,0===It&&Bt(ot)),n!==i&&(At=e,n=st()),(e=n)===i&&(e=_t,t.substr(_t,2)===at?(n=at,_t+=2):(n=i,0===It&&Bt(ut)),n!==i&&(At=e,n=ct()),(e=n)===i&&(e=_t,t.substr(_t,2)===lt?(n=lt,_t+=2):(n=i,0===It&&Bt(dt)),n!==i&&(At=e,n=ht()),(e=n)===i&&(e=_t,t.substr(_t,2)===pt?(n=pt,_t+=2):(n=i,0===It&&Bt(ft)),n!==i&&(At=e,n=mt()),(e=n)===i&&(e=xn()))))))),Pt[r]={nextPos:_t,result:e},e)}function xn(){var e,n,r,o,s,a,c,l,d,h,p,f=49*_t+48,m=Pt[f];return m?(_t=m.nextPos,m.result):(e=_t,t.substr(_t,2)===gt?(n=gt,_t+=2):(n=i,0===It&&Bt(yt)),n!==i?(r=_t,(o=kn())!==i&&(s=kn())!==i&&(a=kn())!==i&&(c=kn())!==i&&(l=kn())!==i&&(d=kn())!==i&&(h=kn())!==i&&(p=kn())!==i?r=o=[o,s,a,c,l,d,h,p]:(_t=r,r=u),r!==i?(At=e,e=n=wt(r)):(_t=e,e=u)):(_t=e,e=u),e===i&&(e=_t,t.substr(_t,2)===bt?(n=bt,_t+=2):(n=i,0===It&&Bt(vt)),n!==i?(r=_t,(o=kn())!==i&&(s=kn())!==i&&(a=kn())!==i&&(c=kn())!==i?r=o=[o,s,a,c]:(_t=r,r=u),r!==i?(At=e,e=n=wt(r)):(_t=e,e=u)):(_t=e,e=u)),Pt[f]={nextPos:_t,result:e},e)}var Mn=[];function On(e,t,n){var r=new Error(e);throw r.line=t,r.column=n,r}function Bn(e){Mn.push(e)}function Dn(e,t,n,r,i){var o={type:e,value:t,line:n(),column:r()};return i&&(o.key=i),o}function Rn(e,t,n){var r=parseInt("0x"+e);if(!(!isFinite(r)||Math.floor(r)!=r||r<0||r>1114111||r>55295&&r<57344))return Un(r);On("Invalid Unicode escape code: "+e,t,n)}function Un(){var e,t,n=16384,r=[],i=-1,o=arguments.length;if(!o)return"";for(var s="";++i<o;){var a=Number(arguments[i]);a<=65535?r.push(a):(e=55296+((a-=65536)>>10),t=a%1024+56320,r.push(e,t)),(i+1==o||r.length>n)&&(s+=String.fromCharCode.apply(null,r),r.length=0)}return s}if((n=s())!==i&&_t===t.length)return n;throw n!==i&&_t<t.length&&Bt({type:"end",description:"end of input"}),Dt(null,Tt,Et)}}}()},81070:(e,t,n)=>{"use strict";n.d(t,{rr:()=>un});function r(e){let t=e.length;for(;--t>=0;)e[t]=0}const i=256,o=286,s=30,a=15,u=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),c=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),l=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),d=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=new Array(576);r(h);const p=new Array(60);r(p);const f=new Array(512);r(f);const m=new Array(256);r(m);const g=new Array(29);r(g);const y=new Array(s);function w(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let b,v,_;function A(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}r(y);const S=e=>e<256?f[e]:f[256+(e>>>7)],k=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},E=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,k(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},T=(e,t,n)=>{E(e,n[2*t],n[2*t+1])},I=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},P=(e,t,n)=>{const r=new Array(16);let i,o,s=0;for(i=1;i<=a;i++)r[i]=s=s+n[i-1]<<1;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=I(r[t]++,t))}},x=e=>{let t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},M=e=>{e.bi_valid>8?k(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},O=(e,t,n,r)=>{const i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},B=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&O(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!O(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},D=(e,t,n)=>{let r,o,s,a,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],o=e.pending_buf[e.l_buf+l],l++,0===r?T(e,o,t):(s=m[o],T(e,s+i+1,t),a=u[s],0!==a&&(o-=g[s],E(e,o,a)),r--,s=S(r),T(e,s,n),a=c[s],0!==a&&(r-=y[s],E(e,r,a)))}while(l<e.last_lit);T(e,256,t)},R=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems;let s,u,c,l=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<o;s++)0!==n[2*s]?(e.heap[++e.heap_len]=l=s,e.depth[s]=0):n[2*s+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[2*c]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[2*c+1]);for(t.max_code=l,s=e.heap_len>>1;s>=1;s--)B(e,n,s);c=o;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],B(e,n,1),u=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=u,n[2*c]=n[2*s]+n[2*u],e.depth[c]=(e.depth[s]>=e.depth[u]?e.depth[s]:e.depth[u])+1,n[2*s+1]=n[2*u+1]=c,e.heap[1]=c++,B(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,u=t.stat_desc.extra_base,c=t.stat_desc.max_length;let l,d,h,p,f,m,g=0;for(p=0;p<=a;p++)e.bl_count[p]=0;for(n[2*e.heap[e.heap_max]+1]=0,l=e.heap_max+1;l<573;l++)d=e.heap[l],p=n[2*n[2*d+1]+1]+1,p>c&&(p=c,g++),n[2*d+1]=p,d>r||(e.bl_count[p]++,f=0,d>=u&&(f=s[d-u]),m=n[2*d],e.opt_len+=m*(p+f),o&&(e.static_len+=m*(i[2*d+1]+f)));if(0!==g){do{for(p=c-1;0===e.bl_count[p];)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[c]--,g-=2}while(g>0);for(p=c;0!==p;p--)for(d=e.bl_count[p];0!==d;)h=e.heap[--l],h>r||(n[2*h+1]!==p&&(e.opt_len+=(p-n[2*h+1])*n[2*h],n[2*h+1]=p),d--)}})(e,t),P(n,l,e.bl_count)},U=(e,t,n)=>{let r,i,o=-1,s=t[1],a=0,u=7,c=4;for(0===s&&(u=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=t[2*(r+1)+1],++a<u&&i===s||(a<c?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=i,0===s?(u=138,c=3):i===s?(u=6,c=3):(u=7,c=4))},L=(e,t,n)=>{let r,i,o=-1,s=t[1],a=0,u=7,c=4;for(0===s&&(u=138,c=3),r=0;r<=n;r++)if(i=s,s=t[2*(r+1)+1],!(++a<u&&i===s)){if(a<c)do{T(e,i,e.bl_tree)}while(0!==--a);else 0!==i?(i!==o&&(T(e,i,e.bl_tree),a--),T(e,16,e.bl_tree),E(e,a-3,2)):a<=10?(T(e,17,e.bl_tree),E(e,a-3,3)):(T(e,18,e.bl_tree),E(e,a-11,7));a=0,o=i,0===s?(u=138,c=3):i===s?(u=6,c=3):(u=7,c=4)}};let C=!1;const N=(e,t,n,r)=>{E(e,0+(r?1:0),3),((e,t,n,r)=>{M(e),r&&(k(e,n),k(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n})(e,t,n,!0)};var F=(e,t,n,r)=>{let o,s,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<i;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),R(e,e.l_desc),R(e,e.d_desc),a=(e=>{let t;for(U(e,e.dyn_ltree,e.l_desc.max_code),U(e,e.dyn_dtree,e.d_desc.max_code),R(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),o=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=o&&(o=s)):o=s=n+5,n+4<=o&&-1!==t?N(e,t,n,r):4===e.strategy||s===o?(E(e,2+(r?1:0),3),D(e,h,p)):(E(e,4+(r?1:0),3),((e,t,n,r)=>{let i;for(E(e,t-257,5),E(e,n-1,5),E(e,r-4,4),i=0;i<r;i++)E(e,e.bl_tree[2*d[i]+1],3);L(e,e.dyn_ltree,t-1),L(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),D(e,e.dyn_ltree,e.dyn_dtree)),x(e),r&&M(e)},W={_tr_init:e=>{C||((()=>{let e,t,n,r,i;const d=new Array(16);for(n=0,r=0;r<28;r++)for(g[r]=n,e=0;e<1<<u[r];e++)m[n++]=r;for(m[n-1]=r,i=0,r=0;r<16;r++)for(y[r]=i,e=0;e<1<<c[r];e++)f[i++]=r;for(i>>=7;r<s;r++)for(y[r]=i<<7,e=0;e<1<<c[r]-7;e++)f[256+i++]=r;for(t=0;t<=a;t++)d[t]=0;for(e=0;e<=143;)h[2*e+1]=8,e++,d[8]++;for(;e<=255;)h[2*e+1]=9,e++,d[9]++;for(;e<=279;)h[2*e+1]=7,e++,d[7]++;for(;e<=287;)h[2*e+1]=8,e++,d[8]++;for(P(h,287,d),e=0;e<s;e++)p[2*e+1]=5,p[2*e]=I(e,5);b=new w(h,u,257,o,a),v=new w(p,c,0,s,a),_=new w(new Array(0),l,0,19,7)})(),C=!0),e.l_desc=new A(e.dyn_ltree,b),e.d_desc=new A(e.dyn_dtree,v),e.bl_desc=new A(e.bl_tree,_),e.bi_buf=0,e.bi_valid=0,x(e)},_tr_stored_block:N,_tr_flush_block:F,_tr_tally:(e,t,n)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(m[n]+i+1)]++,e.dyn_dtree[2*S(t)]++),e.last_lit===e.lit_bufsize-1),_tr_align:e=>{E(e,2,3),T(e,256,h),(e=>{16===e.bi_valid?(k(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var z=(e,t,n,r)=>{let i=65535&e|0,o=e>>>16&65535|0,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{i=i+t[r++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0};const j=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var q=(e,t,n,r)=>{const i=j,o=r+n;e^=-1;for(let s=r;s<o;s++)e=e>>>8^i[255&(e^t[s])];return-1^e},K={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},V={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:H,_tr_stored_block:G,_tr_flush_block:Z,_tr_tally:Q,_tr_align:X}=W,{Z_NO_FLUSH:J,Z_PARTIAL_FLUSH:Y,Z_FULL_FLUSH:$,Z_FINISH:ee,Z_BLOCK:te,Z_OK:ne,Z_STREAM_END:re,Z_STREAM_ERROR:ie,Z_DATA_ERROR:oe,Z_BUF_ERROR:se,Z_DEFAULT_COMPRESSION:ae,Z_FILTERED:ue,Z_HUFFMAN_ONLY:ce,Z_RLE:le,Z_FIXED:de,Z_DEFAULT_STRATEGY:he,Z_UNKNOWN:pe,Z_DEFLATED:fe}=V,me=258,ge=262,ye=103,we=113,be=666,ve=(e,t)=>(e.msg=K[t],t),_e=e=>(e<<1)-(e>4?9:0),Ae=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let Se=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const ke=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Ee=(e,t)=>{Z(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ke(e.strm)},Te=(e,t)=>{e.pending_buf[e.pending++]=t},Ie=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Pe=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=z(e.adler,t,i,n):2===e.state.wrap&&(e.adler=q(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},xe=(e,t)=>{let n,r,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match;const u=e.strstart>e.w_size-ge?e.strstart-(e.w_size-ge):0,c=e.window,l=e.w_mask,d=e.prev,h=e.strstart+me;let p=c[o+s-1],f=c[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(n=t,c[n+s]===f&&c[n+s-1]===p&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<h);if(r=me-(h-o),o=h-me,r>s){if(e.match_start=t,s=r,r>=a)break;p=c[o+s-1],f=c[o+s]}}}while((t=d[t&l])>u&&0!==--i);return s<=e.lookahead?s:e.lookahead},Me=e=>{const t=e.w_size;let n,r,i,o,s;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ge)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do{i=e.head[--n],e.head[n]=i>=t?i-t:0}while(--r);r=t,n=r;do{i=e.prev[--n],e.prev[n]=i>=t?i-t:0}while(--r);o+=t}if(0===e.strm.avail_in)break;if(r=Pe(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=r,e.lookahead+e.insert>=3)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=Se(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=Se(e,e.ins_h,e.window[s+3-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<ge&&0!==e.strm.avail_in)},Oe=(e,t)=>{let n,r;for(;;){if(e.lookahead<ge){if(Me(e),e.lookahead<ge&&t===J)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Se(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-ge&&(e.match_length=xe(e,n)),e.match_length>=3)if(r=Q(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Se(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Se(e,e.ins_h,e.window[e.strstart+1]);else r=Q(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Ee(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===ee?(Ee(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ee(e,!1),0===e.strm.avail_out)?1:2},Be=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<ge){if(Me(e),e.lookahead<ge&&t===J)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Se(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ge&&(e.match_length=xe(e,n),e.match_length<=5&&(e.strategy===ue||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=Q(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=Se(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(Ee(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=Q(e,0,e.window[e.strstart-1]),r&&Ee(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Q(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===ee?(Ee(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ee(e,!1),0===e.strm.avail_out)?1:2};function De(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const Re=[new De(0,0,0,0,((e,t)=>{let n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Me(e),0===e.lookahead&&t===J)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,Ee(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-ge&&(Ee(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ee?(Ee(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Ee(e,!1),e.strm.avail_out),1)})),new De(4,4,8,4,Oe),new De(4,5,16,8,Oe),new De(4,6,32,32,Oe),new De(4,4,16,16,Be),new De(8,16,32,32,Be),new De(8,16,128,128,Be),new De(8,32,128,256,Be),new De(32,128,258,1024,Be),new De(32,258,258,4096,Be)];function Ue(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=fe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Ae(this.dyn_ltree),Ae(this.dyn_dtree),Ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Le=e=>{if(!e||!e.state)return ve(e,ie);e.total_in=e.total_out=0,e.data_type=pe;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:we,e.adler=2===t.wrap?0:1,t.last_flush=J,H(t),ne},Ce=e=>{const t=Le(e);var n;return t===ne&&((n=e.state).window_size=2*n.w_size,Ae(n.head),n.max_lazy_match=Re[n.level].max_lazy,n.good_match=Re[n.level].good_length,n.nice_match=Re[n.level].nice_length,n.max_chain_length=Re[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},Ne=(e,t,n,r,i,o)=>{if(!e)return ie;let s=1;if(t===ae&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>9||n!==fe||r<8||r>15||t<0||t>9||o<0||o>de)return ve(e,ie);8===r&&(r=9);const a=new Ue;return e.state=a,a.strm=e,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=o,a.method=n,Ce(e)};var Fe={deflateInit:(e,t)=>Ne(e,t,fe,15,8,he),deflateInit2:Ne,deflateReset:Ce,deflateResetKeep:Le,deflateSetHeader:(e,t)=>e&&e.state?2!==e.state.wrap?ie:(e.state.gzhead=t,ne):ie,deflate:(e,t)=>{let n,r;if(!e||!e.state||t>te||t<0)return e?ve(e,ie):ie;const i=e.state;if(!e.output||!e.input&&0!==e.avail_in||i.status===be&&t!==ee)return ve(e,0===e.avail_out?se:ie);i.strm=e;const o=i.last_flush;if(i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,Te(i,31),Te(i,139),Te(i,8),i.gzhead?(Te(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Te(i,255&i.gzhead.time),Te(i,i.gzhead.time>>8&255),Te(i,i.gzhead.time>>16&255),Te(i,i.gzhead.time>>24&255),Te(i,9===i.level?2:i.strategy>=ce||i.level<2?4:0),Te(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Te(i,255&i.gzhead.extra.length),Te(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=q(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(Te(i,0),Te(i,0),Te(i,0),Te(i,0),Te(i,0),Te(i,9===i.level?2:i.strategy>=ce||i.level<2?4:0),Te(i,3),i.status=we);else{let t=fe+(i.w_bits-8<<4)<<8,n=-1;n=i.strategy>=ce||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=n<<6,0!==i.strstart&&(t|=32),t+=31-t%31,i.status=we,Ie(i,t),0!==i.strstart&&(Ie(i,e.adler>>>16),Ie(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(e.adler=q(e.adler,i.pending_buf,i.pending-n,n)),ke(e),n=i.pending,i.pending!==i.pending_buf_size));)Te(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=q(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=q(e.adler,i.pending_buf,i.pending-n,n)),ke(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Te(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=q(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=q(e.adler,i.pending_buf,i.pending-n,n)),ke(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Te(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=q(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.status=ye)}else i.status=ye;if(i.status===ye&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&ke(e),i.pending+2<=i.pending_buf_size&&(Te(i,255&e.adler),Te(i,e.adler>>8&255),e.adler=0,i.status=we)):i.status=we),0!==i.pending){if(ke(e),0===e.avail_out)return i.last_flush=-1,ne}else if(0===e.avail_in&&_e(t)<=_e(o)&&t!==ee)return ve(e,se);if(i.status===be&&0!==e.avail_in)return ve(e,se);if(0!==e.avail_in||0!==i.lookahead||t!==J&&i.status!==be){let n=i.strategy===ce?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(Me(e),0===e.lookahead)){if(t===J)return 1;break}if(e.match_length=0,n=Q(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Ee(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ee?(Ee(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ee(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===le?((e,t)=>{let n,r,i,o;const s=e.window;for(;;){if(e.lookahead<=me){if(Me(e),e.lookahead<=me&&t===J)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=e.strstart+me;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=me-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=Q(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Q(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Ee(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ee?(Ee(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ee(e,!1),0===e.strm.avail_out)?1:2})(i,t):Re[i.level].func(i,t);if(3!==n&&4!==n||(i.status=be),1===n||3===n)return 0===e.avail_out&&(i.last_flush=-1),ne;if(2===n&&(t===Y?X(i):t!==te&&(G(i,0,0,!1),t===$&&(Ae(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),ke(e),0===e.avail_out))return i.last_flush=-1,ne}return t!==ee?ne:i.wrap<=0?re:(2===i.wrap?(Te(i,255&e.adler),Te(i,e.adler>>8&255),Te(i,e.adler>>16&255),Te(i,e.adler>>24&255),Te(i,255&e.total_in),Te(i,e.total_in>>8&255),Te(i,e.total_in>>16&255),Te(i,e.total_in>>24&255)):(Ie(i,e.adler>>>16),Ie(i,65535&e.adler)),ke(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?ne:re)},deflateEnd:e=>{if(!e||!e.state)return ie;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==ye&&t!==we&&t!==be?ve(e,ie):(e.state=null,t===we?ve(e,oe):ne)},deflateSetDictionary:(e,t)=>{let n=t.length;if(!e||!e.state)return ie;const r=e.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return ie;if(1===i&&(e.adler=z(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(Ae(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const o=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Me(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=Se(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,Me(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=s,e.input=a,e.avail_in=o,r.wrap=i,ne},deflateInfo:"pako deflate (from Nodeca project)"};const We=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var ze=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(const t in n)We(n,t)&&(e[t]=n[t])}}return e},je=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,o=e.length;r<o;r++){let t=e[r];n.set(t,i),i+=t.length}return n};let qe=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(cn){qe=!1}const Ke=new Uint8Array(256);for(let ln=0;ln<256;ln++)Ke[ln]=ln>=252?6:ln>=248?5:ln>=240?4:ln>=224?3:ln>=192?2:1;Ke[254]=Ke[254]=1;var Ve=e=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,o,s=e.length,a=0;for(i=0;i<s;i++)n=e.charCodeAt(i),55296===(64512&n)&&i+1<s&&(r=e.charCodeAt(i+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),o=0,i=0;o<a;i++)n=e.charCodeAt(i),55296===(64512&n)&&i+1<s&&(r=e.charCodeAt(i+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},He=(e,t)=>{const n=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,i;const o=new Array(2*n);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){o[i++]=t;continue}let s=Ke[t];if(s>4)o[i++]=65533,r+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&r<n;)t=t<<6|63&e[r++],s--;s>1?o[i++]=65533:t<65536?o[i++]=t:(t-=65536,o[i++]=55296|t>>10&1023,o[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&qe)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(o,i)},Ge=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+Ke[e[n]]>t?n:t};var Ze=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Qe=Object.prototype.toString,{Z_NO_FLUSH:Xe,Z_SYNC_FLUSH:Je,Z_FULL_FLUSH:Ye,Z_FINISH:$e,Z_OK:et,Z_STREAM_END:tt,Z_DEFAULT_COMPRESSION:nt,Z_DEFAULT_STRATEGY:rt,Z_DEFLATED:it}=V;function ot(e){this.options=ze({level:nt,method:it,chunkSize:16384,windowBits:15,memLevel:8,strategy:rt},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ze,this.strm.avail_out=0;let n=Fe.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==et)throw new Error(K[n]);if(t.header&&Fe.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"===typeof t.dictionary?Ve(t.dictionary):"[object ArrayBuffer]"===Qe.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=Fe.deflateSetDictionary(this.strm,e),n!==et)throw new Error(K[n]);this._dict_set=!0}}function st(e,t){const n=new ot(t);if(n.push(e,!0),n.err)throw n.msg||K[n.err];return n.result}ot.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=t===~~t?t:!0===t?$e:Xe,"string"===typeof e?n.input=Ve(e):"[object ArrayBuffer]"===Qe.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===Je||o===Ye)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=Fe.deflate(n,o),i===tt)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Fe.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===et;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},ot.prototype.onData=function(e){this.chunks.push(e)},ot.prototype.onEnd=function(e){e===et&&(this.result=je(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var at={Deflate:ot,deflate:st,deflateRaw:function(e,t){return(t=t||{}).raw=!0,st(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,st(e,t)},constants:V};var ut=function(e,t){let n,r,i,o,s,a,u,c,l,d,h,p,f,m,g,y,w,b,v,_,A,S,k,E;const T=e.state;n=e.next_in,k=e.input,r=n+(e.avail_in-5),i=e.next_out,E=e.output,o=i-(t-e.avail_out),s=i+(e.avail_out-257),a=T.dmax,u=T.wsize,c=T.whave,l=T.wnext,d=T.window,h=T.hold,p=T.bits,f=T.lencode,m=T.distcode,g=(1<<T.lenbits)-1,y=(1<<T.distbits)-1;e:do{p<15&&(h+=k[n++]<<p,p+=8,h+=k[n++]<<p,p+=8),w=f[h&g];t:for(;;){if(b=w>>>24,h>>>=b,p-=b,b=w>>>16&255,0===b)E[i++]=65535&w;else{if(!(16&b)){if(0===(64&b)){w=f[(65535&w)+(h&(1<<b)-1)];continue t}if(32&b){T.mode=12;break e}e.msg="invalid literal/length code",T.mode=30;break e}v=65535&w,b&=15,b&&(p<b&&(h+=k[n++]<<p,p+=8),v+=h&(1<<b)-1,h>>>=b,p-=b),p<15&&(h+=k[n++]<<p,p+=8,h+=k[n++]<<p,p+=8),w=m[h&y];n:for(;;){if(b=w>>>24,h>>>=b,p-=b,b=w>>>16&255,!(16&b)){if(0===(64&b)){w=m[(65535&w)+(h&(1<<b)-1)];continue n}e.msg="invalid distance code",T.mode=30;break e}if(_=65535&w,b&=15,p<b&&(h+=k[n++]<<p,p+=8,p<b&&(h+=k[n++]<<p,p+=8)),_+=h&(1<<b)-1,_>a){e.msg="invalid distance too far back",T.mode=30;break e}if(h>>>=b,p-=b,b=i-o,_>b){if(b=_-b,b>c&&T.sane){e.msg="invalid distance too far back",T.mode=30;break e}if(A=0,S=d,0===l){if(A+=u-b,b<v){v-=b;do{E[i++]=d[A++]}while(--b);A=i-_,S=E}}else if(l<b){if(A+=u+l-b,b-=l,b<v){v-=b;do{E[i++]=d[A++]}while(--b);if(A=0,l<v){b=l,v-=b;do{E[i++]=d[A++]}while(--b);A=i-_,S=E}}}else if(A+=l-b,b<v){v-=b;do{E[i++]=d[A++]}while(--b);A=i-_,S=E}for(;v>2;)E[i++]=S[A++],E[i++]=S[A++],E[i++]=S[A++],v-=3;v&&(E[i++]=S[A++],v>1&&(E[i++]=S[A++]))}else{A=i-_;do{E[i++]=E[A++],E[i++]=E[A++],E[i++]=E[A++],v-=3}while(v>2);v&&(E[i++]=E[A++],v>1&&(E[i++]=E[A++]))}break}}break}}while(n<r&&i<s);v=p>>3,n-=v,p-=v<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<s?s-i+257:257-(i-s),T.hold=h,T.bits=p};const ct=15,lt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),dt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ht=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ft=(e,t,n,r,i,o,s,a)=>{const u=a.bits;let c,l,d,h,p,f,m=0,g=0,y=0,w=0,b=0,v=0,_=0,A=0,S=0,k=0,E=null,T=0;const I=new Uint16Array(16),P=new Uint16Array(16);let x,M,O,B=null,D=0;for(m=0;m<=ct;m++)I[m]=0;for(g=0;g<r;g++)I[t[n+g]]++;for(b=u,w=ct;w>=1&&0===I[w];w--);if(b>w&&(b=w),0===w)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(y=1;y<w&&0===I[y];y++);for(b<y&&(b=y),A=1,m=1;m<=ct;m++)if(A<<=1,A-=I[m],A<0)return-1;if(A>0&&(0===e||1!==w))return-1;for(P[1]=0,m=1;m<ct;m++)P[m+1]=P[m]+I[m];for(g=0;g<r;g++)0!==t[n+g]&&(s[P[t[n+g]]++]=g);if(0===e?(E=B=s,f=19):1===e?(E=lt,T-=257,B=dt,D-=257,f=256):(E=ht,B=pt,f=-1),k=0,g=0,m=y,p=o,v=b,_=0,d=-1,S=1<<b,h=S-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){x=m-_,s[g]<f?(M=0,O=s[g]):s[g]>f?(M=B[D+s[g]],O=E[T+s[g]]):(M=96,O=0),c=1<<m-_,l=1<<v,y=l;do{l-=c,i[p+(k>>_)+l]=x<<24|M<<16|O|0}while(0!==l);for(c=1<<m-1;k&c;)c>>=1;if(0!==c?(k&=c-1,k+=c):k=0,g++,0===--I[m]){if(m===w)break;m=t[n+s[g]]}if(m>b&&(k&h)!==d){for(0===_&&(_=b),p+=y,v=m-_,A=1<<v;v+_<w&&(A-=I[v+_],!(A<=0));)v++,A<<=1;if(S+=1<<v,1===e&&S>852||2===e&&S>592)return 1;d=k&h,i[d]=b<<24|v<<16|p-o|0}}return 0!==k&&(i[p+k]=m-_<<24|64<<16|0),a.bits=b,0};const{Z_FINISH:mt,Z_BLOCK:gt,Z_TREES:yt,Z_OK:wt,Z_STREAM_END:bt,Z_NEED_DICT:vt,Z_STREAM_ERROR:_t,Z_DATA_ERROR:At,Z_MEM_ERROR:St,Z_BUF_ERROR:kt,Z_DEFLATED:Et}=V,Tt=12,It=30,Pt=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function xt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Mt=e=>{if(!e||!e.state)return _t;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,wt},Ot=e=>{if(!e||!e.state)return _t;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Mt(e)},Bt=(e,t)=>{let n;if(!e||!e.state)return _t;const r=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?_t:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Ot(e))},Dt=(e,t)=>{if(!e)return _t;const n=new xt;e.state=n,n.window=null;const r=Bt(e,t);return r!==wt&&(e.state=null),r};let Rt,Ut,Lt=!0;const Ct=e=>{if(Lt){Rt=new Int32Array(512),Ut=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ft(1,e.lens,0,288,Rt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ft(2,e.lens,0,32,Ut,0,e.work,{bits:5}),Lt=!1}e.lencode=Rt,e.lenbits=9,e.distcode=Ut,e.distbits=5},Nt=(e,t,n,r)=>{let i;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var Ft={inflateReset:Ot,inflateReset2:Bt,inflateResetKeep:Mt,inflateInit:e=>Dt(e,15),inflateInit2:Dt,inflate:(e,t)=>{let n,r,i,o,s,a,u,c,l,d,h,p,f,m,g,y,w,b,v,_,A,S,k=0;const E=new Uint8Array(4);let T,I;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return _t;n=e.state,n.mode===Tt&&(n.mode=13),s=e.next_out,i=e.output,u=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,c=n.hold,l=n.bits,d=a,h=u,S=wt;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}if(2&n.wrap&&35615===c){n.check=0,E[0]=255&c,E[1]=c>>>8&255,n.check=q(n.check,E,2,0),c=0,l=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=It;break}if((15&c)!==Et){e.msg="unknown compression method",n.mode=It;break}if(c>>>=4,l-=4,A=8+(15&c),0===n.wbits)n.wbits=A;else if(A>n.wbits){e.msg="invalid window size",n.mode=It;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:Tt,c=0,l=0;break;case 2:for(;l<16;){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}if(n.flags=c,(255&n.flags)!==Et){e.msg="unknown compression method",n.mode=It;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=It;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=q(n.check,E,2,0)),c=0,l=0,n.mode=3;case 3:for(;l<32;){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,E[2]=c>>>16&255,E[3]=c>>>24&255,n.check=q(n.check,E,4,0)),c=0,l=0,n.mode=4;case 4:for(;l<16;){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=q(n.check,E,2,0)),c=0,l=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=q(n.check,E,2,0)),c=0,l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(p=n.length,p>a&&(p=a),p&&(n.head&&(A=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+p),A)),512&n.flags&&(n.check=q(n.check,r,p,o)),a-=p,o+=p,n.length-=p),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===a)break e;p=0;do{A=r[o+p++],n.head&&A&&n.length<65536&&(n.head.name+=String.fromCharCode(A))}while(A&&p<a);if(512&n.flags&&(n.check=q(n.check,r,p,o)),a-=p,o+=p,A)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===a)break e;p=0;do{A=r[o+p++],n.head&&A&&n.length<65536&&(n.head.comment+=String.fromCharCode(A))}while(A&&p<a);if(512&n.flags&&(n.check=q(n.check,r,p,o)),a-=p,o+=p,A)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=It;break}c=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Tt;break;case 10:for(;l<32;){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}e.adler=n.check=Pt(c),c=0,l=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=s,e.avail_out=u,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=l,vt;e.adler=n.check=1,n.mode=Tt;case Tt:if(t===gt||t===yt)break e;case 13:if(n.last){c>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}switch(n.last=1&c,c>>>=1,l-=1,3&c){case 0:n.mode=14;break;case 1:if(Ct(n),n.mode=20,t===yt){c>>>=2,l-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=It}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}if((65535&c)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=It;break}if(n.length=65535&c,c=0,l=0,n.mode=15,t===yt)break e;case 15:n.mode=16;case 16:if(p=n.length,p){if(p>a&&(p=a),p>u&&(p=u),0===p)break e;i.set(r.subarray(o,o+p),s),a-=p,o+=p,u-=p,s+=p,n.length-=p;break}n.mode=Tt;break;case 17:for(;l<14;){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=It;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}n.lens[P[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[P[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},S=ft(0,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,S){e.msg="invalid code lengths set",n.mode=It;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[c&(1<<n.lenbits)-1],g=k>>>24,y=k>>>16&255,w=65535&k,!(g<=l);){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}if(w<16)c>>>=g,l-=g,n.lens[n.have++]=w;else{if(16===w){for(I=g+2;l<I;){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}if(c>>>=g,l-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=It;break}A=n.lens[n.have-1],p=3+(3&c),c>>>=2,l-=2}else if(17===w){for(I=g+3;l<I;){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}c>>>=g,l-=g,A=0,p=3+(7&c),c>>>=3,l-=3}else{for(I=g+7;l<I;){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}c>>>=g,l-=g,A=0,p=11+(127&c),c>>>=7,l-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=It;break}for(;p--;)n.lens[n.have++]=A}}if(n.mode===It)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=It;break}if(n.lenbits=9,T={bits:n.lenbits},S=ft(1,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,S){e.msg="invalid literal/lengths set",n.mode=It;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},S=ft(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,S){e.msg="invalid distances set",n.mode=It;break}if(n.mode=20,t===yt)break e;case 20:n.mode=21;case 21:if(a>=6&&u>=258){e.next_out=s,e.avail_out=u,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=l,ut(e,h),s=e.next_out,i=e.output,u=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,c=n.hold,l=n.bits,n.mode===Tt&&(n.back=-1);break}for(n.back=0;k=n.lencode[c&(1<<n.lenbits)-1],g=k>>>24,y=k>>>16&255,w=65535&k,!(g<=l);){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}if(y&&0===(240&y)){for(b=g,v=y,_=w;k=n.lencode[_+((c&(1<<b+v)-1)>>b)],g=k>>>24,y=k>>>16&255,w=65535&k,!(b+g<=l);){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}c>>>=b,l-=b,n.back+=b}if(c>>>=g,l-=g,n.back+=g,n.length=w,0===y){n.mode=26;break}if(32&y){n.back=-1,n.mode=Tt;break}if(64&y){e.msg="invalid literal/length code",n.mode=It;break}n.extra=15&y,n.mode=22;case 22:if(n.extra){for(I=n.extra;l<I;){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;k=n.distcode[c&(1<<n.distbits)-1],g=k>>>24,y=k>>>16&255,w=65535&k,!(g<=l);){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}if(0===(240&y)){for(b=g,v=y,_=w;k=n.distcode[_+((c&(1<<b+v)-1)>>b)],g=k>>>24,y=k>>>16&255,w=65535&k,!(b+g<=l);){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}c>>>=b,l-=b,n.back+=b}if(c>>>=g,l-=g,n.back+=g,64&y){e.msg="invalid distance code",n.mode=It;break}n.offset=w,n.extra=15&y,n.mode=24;case 24:if(n.extra){for(I=n.extra;l<I;){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=It;break}n.mode=25;case 25:if(0===u)break e;if(p=h-u,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=It;break}p>n.wnext?(p-=n.wnext,f=n.wsize-p):f=n.wnext-p,p>n.length&&(p=n.length),m=n.window}else m=i,f=s-n.offset,p=n.length;p>u&&(p=u),u-=p,n.length-=p;do{i[s++]=m[f++]}while(--p);0===n.length&&(n.mode=21);break;case 26:if(0===u)break e;i[s++]=n.length,u--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===a)break e;a--,c|=r[o++]<<l,l+=8}if(h-=u,e.total_out+=h,n.total+=h,h&&(e.adler=n.check=n.flags?q(n.check,i,h,s-h):z(n.check,i,h,s-h)),h=u,(n.flags?c:Pt(c))!==n.check){e.msg="incorrect data check",n.mode=It;break}c=0,l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===a)break e;a--,c+=r[o++]<<l,l+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=It;break}c=0,l=0}n.mode=29;case 29:S=bt;break e;case It:S=At;break e;case 31:return St;default:return _t}return e.next_out=s,e.avail_out=u,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=l,(n.wsize||h!==e.avail_out&&n.mode<It&&(n.mode<27||t!==mt))&&Nt(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,n.wrap&&h&&(e.adler=n.check=n.flags?q(n.check,i,h,e.next_out-h):z(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Tt?128:0)+(20===n.mode||15===n.mode?256:0),(0===d&&0===h||t===mt)&&S===wt&&(S=kt),S},inflateEnd:e=>{if(!e||!e.state)return _t;let t=e.state;return t.window&&(t.window=null),e.state=null,wt},inflateGetHeader:(e,t)=>{if(!e||!e.state)return _t;const n=e.state;return 0===(2&n.wrap)?_t:(n.head=t,t.done=!1,wt)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,i,o;return e&&e.state?(r=e.state,0!==r.wrap&&11!==r.mode?_t:11===r.mode&&(i=1,i=z(i,t,n,0),i!==r.check)?At:(o=Nt(e,t,n,n),o?(r.mode=31,St):(r.havedict=1,wt))):_t},inflateInfo:"pako inflate (from Nodeca project)"};var Wt=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const zt=Object.prototype.toString,{Z_NO_FLUSH:jt,Z_FINISH:qt,Z_OK:Kt,Z_STREAM_END:Vt,Z_NEED_DICT:Ht,Z_STREAM_ERROR:Gt,Z_DATA_ERROR:Zt,Z_MEM_ERROR:Qt}=V;function Xt(e){this.options=ze({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ze,this.strm.avail_out=0;let n=Ft.inflateInit2(this.strm,t.windowBits);if(n!==Kt)throw new Error(K[n]);if(this.header=new Wt,Ft.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=Ve(t.dictionary):"[object ArrayBuffer]"===zt.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Ft.inflateSetDictionary(this.strm,t.dictionary),n!==Kt)))throw new Error(K[n])}function Jt(e,t){const n=new Xt(t);if(n.push(e),n.err)throw n.msg||K[n.err];return n.result}Xt.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=t===~~t?t:!0===t?qt:jt,"[object ArrayBuffer]"===zt.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Ft.inflate(n,s),o===Ht&&i&&(o=Ft.inflateSetDictionary(n,i),o===Kt?o=Ft.inflate(n,s):o===Zt&&(o=Ht));n.avail_in>0&&o===Vt&&n.state.wrap>0&&0!==e[n.next_in];)Ft.inflateReset(n),o=Ft.inflate(n,s);switch(o){case Gt:case Zt:case Ht:case Qt:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(0===n.avail_out||o===Vt))if("string"===this.options.to){let e=Ge(n.output,n.next_out),t=n.next_out-e,i=He(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==Kt||0!==a){if(o===Vt)return o=Ft.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Xt.prototype.onData=function(e){this.chunks.push(e)},Xt.prototype.onEnd=function(e){e===Kt&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=je(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Yt={Inflate:Xt,inflate:Jt,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Jt(e,t)},ungzip:Jt,constants:V};const{Deflate:$t,deflate:en,deflateRaw:tn,gzip:nn}=at,{Inflate:rn,inflate:on,inflateRaw:sn,ungzip:an}=Yt;var un=on},80104:e=>{"use strict";e.exports=JSON.parse('[{"address":"B37pZmwrwXHjpgvd9hHDAx1yeDsNevTnbbrN9W12BoGK","deprecated":true,"name":"soALEPH/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"CAgAeMD7quTdnr6RPa7JySQpjf3irAmefYNdTb6anemq","deprecated":true,"name":"BTC/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"ASKiV944nKg1W9vsf7hf3fTsjawK6DwLwrnB2LH9n61c","deprecated":true,"name":"soETH/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"Cdp72gDcYMCLLk3aDkPxjeiirKoFqK38ECm8Ywvk94Wi","deprecated":true,"name":"SOL/soUSDC","programId":"BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg"},{"address":"68J6nkWToik6oM9rTatKSR5ibVSykAtzftBUEAvpRsys","deprecated":true,"name":"SRM/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"8Jzed8Fafu1RU1CQDWdiETSrqAJy1ukZ5JL6Pma3p3a2","deprecated":true,"name":"SRM/SOL","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9wDmxsfwaDb2ysmZpBLzxKzoWrF1zHzBN7PV5EmJe19R","deprecated":true,"name":"soSUSHI/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"GbQSffne1NcJbS4jsewZEpRGYVR4RNnuVUN8Ht6vAGb6","deprecated":true,"name":"soSXP/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"7kgkDyW7dmyMeP8KFXzbcUZz1R2WHsovDZ7n3ihZuNDS","deprecated":true,"name":"MSRM/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"FZqrBXz7ADGsmDf1TM9YgysPUfvtG8rJiNUrqDpHc9Au","deprecated":true,"name":"soFTT/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"FJg9FUtbN3fg3YFbMCFiZKjGh5Bn4gtzxZmtxFzmz9kT","deprecated":true,"name":"soYFI/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"7GZ59DMgJ7D6dfoJTpszPayTRyua9jwcaGJXaRMMF1my","deprecated":true,"name":"soLINK/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"uPNcBgFhrLW3FtvyYYbBUi53BBEQf9e4NPgwxaLu5Hn","deprecated":true,"name":"soHGET/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"3puWJFZyCso14EdxhywjD7xqyTarpsULx483mzvqxQRW","deprecated":true,"name":"soCREAM/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"8Ae7Uhigx8k4fKdJG7irdPCVDZLvWsJfeTH2t5fr3TVD","deprecated":true,"name":"soUBXT/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"Hze5AUX4Qp1cTujiJ4CsAMRGn4g6ZpgXsmptFn3xxhWg","deprecated":true,"name":"soHNT/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"FJq4HX3bUSgF3yQZ8ADALtJYfAyr9fz36SNG18hc3dgF","deprecated":true,"name":"soFRONT/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"BZMuoQ2i2noNUXMdrRDivc7MwjGspNJTCfZkdHMwK18T","deprecated":true,"name":"soALEPH/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5LgJphS6D5zXwUVPU7eCryDBkyta3AidrJ5vjNU6BcGW","deprecated":true,"name":"BTC/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"DmEDKZPXXkWgaYiKgWws2ZXWWKCh41eryDPRVD4zKnD9","deprecated":true,"name":"soETH/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"EBFTQNg2QjyxV7WDDenoLbfLLXLcbSz6w1YrdTCGPWT5","deprecated":true,"name":"SOL/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"8YmQZRXGizZXYPCDmxgjwB8X8XN4PZG7MMwNg76iAmPZ","deprecated":true,"name":"SRM/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9vFuX2BizwinWjkZLQTmThDcNMFEcY3wVXYuqnRQtcD","deprecated":true,"name":"soSUSHI/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"C5NReXAeQhfjiDCGPFj1UUmDxDqF8v2CUVKoYuQqb4eW","deprecated":true,"name":"soSXP/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"58H7ZRmiyWtsrz2sQGz1qQCMW6n7447xhNNehUSQGPj5","deprecated":true,"name":"MSRM/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"ES8skmkEeyH1BYFThd2FtyaFKhkqtwH7XWp8mXptv3vg","deprecated":true,"name":"soFTT/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"Gw78CYLLFbgmmn4rps9KoPAnNtBQ2S1foL2Mn6Z5ZHYB","deprecated":true,"name":"soYFI/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"WjfsTPyrvUUrhGJ9hVQFubMnKDcnQS8VxSXU7L2gLcA","deprecated":true,"name":"soLINK/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"2ZmB255T4FVUugpeXTFxD6Yz5GE47yTByYvqSTDUbk3G","deprecated":true,"name":"soHGET/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FGJtCDXoHLHjagP5Ht6xcUFt2rW3z8MJPe87rFKP2ZW6","deprecated":true,"name":"soCREAM/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7K6MPog6LskZmyaYwqtLvRUuedoiE68nirbQ9tK3LasE","deprecated":true,"name":"soUBXT/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9RyozJe3bkAFfH3jmoiKHjkWCoLTxn7aBQSi6YfaV6ab","deprecated":true,"name":"soHNT/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AGtBbGuJZiv3Ko3dfT4v6g4kCqnNc9DXfoGLe5HpjmWx","deprecated":true,"name":"soFRONT/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AA1HSrsMcRNzjaQfRMTNarHR9B7e4U79LJ2319UtiqPF","deprecated":true,"name":"soAKRO/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AUAobJdffexcoJBMeyLorpShu3ZtG9VvPEPjoeTN4u5Z","deprecated":true,"name":"soHXRO/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"GpdYLFbKHeSeDGqsnQ4jnP7D1294iBpQcsN1VPwhoaFS","deprecated":true,"name":"soUNI/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"sxS9EdTx1UPe4j2c6Au9f1GKZXrFj5pTgNKgjGGtGdY","deprecated":true,"name":"soKEEP/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"CfnnU38ACScF6pcurxSB3FLXeZmfFYunVKExeUyosu5P","deprecated":true,"name":"soMATH/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7NR5GDouQYkkfppVkNhpa4HfJ2LwqUQymE3b4CYQiYHa","deprecated":true,"name":"soALEPH/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"CVfYa8RGXnuDBeGmniCcdkBwoLqVxh92xB1JqgRQx3F","deprecated":true,"name":"BTC/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"H5uzEytiByuXt964KampmuNCurNDwkVVypkym75J2DQW","deprecated":true,"name":"soETH/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7xMDbYTCqQEcK2aM9LbetGtNFJpzKdfXzLL5juaLh4GJ","deprecated":true,"name":"SOL/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"CDdR97S8y96v3To93aKvi3nCnjUrbuVSuumw8FLvbVeg","deprecated":true,"name":"SRM/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7LVJtqSrF6RudMaz5rKGTmR3F3V5TKoDcN6bnk68biYZ","deprecated":true,"name":"soSUSHI/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"13vjJ8pxDMmzen26bQ5UrouX8dkXYPW1p3VLVDjxXrKR","deprecated":true,"name":"soSXP/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AwvPwwSprfDZ86beBJDNH5vocFvuw4ZbVQ6upJDbSCXZ","deprecated":true,"name":"MSRM/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FfDb3QZUdMW2R2aqJQgzeieys4ETb3rPrFFfPSemzq7R","deprecated":true,"name":"soFTT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"4QL5AQvXdMSCVZmnKXiuMMU83Kq3LCwVfU8CyznqZELG","deprecated":true,"name":"soYFI/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7JCG9TsCx3AErSV3pvhxiW4AbkKRcJ6ZAveRmJwrgQ16","deprecated":true,"name":"soLINK/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"3otQFkeQ7GNUKT3i2p3aGTQKS2SAw6NLYPE5qxh3PoqZ","deprecated":true,"name":"soHGET/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"2M8EBxFbLANnCoHydypL1jupnRHG782RofnvkatuKyLL","deprecated":true,"name":"soCREAM/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"3UqXdFtNBZsFrFtRGAWGvy9R8H6GJR2hAyGRdYT9BgG3","deprecated":true,"name":"soUBXT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9jiasgdYGGh34fAbBQSwkKe1dYSapXbjy2sLsYpetqFp","deprecated":true,"name":"soHNT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7oKqJhnz9b8af8Mw47dieTiuxeaHnRYYGBiqCrRpzTRD","deprecated":true,"name":"soFRONT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"F1rxD8Ns5w4WzVcTRdaJ96LG7YKaA5a25BBmM32yFP4b","deprecated":true,"name":"soAKRO/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"6ToedDwjRCvrcKX7fnHSTA9uABQe1dcLK6YgS5B9M3wo","deprecated":true,"name":"soHXRO/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FURvCsDUiuUaxZ13pZqQbbfktFGWmQVTHz7tL992LQVZ","deprecated":true,"name":"soUNI/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"EcfDRMrEJ3yW4SgrRyyxTPoKqAZDNSBV8EerigT7BNSS","deprecated":true,"name":"soKEEP/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"2bPsJ6bZ9KDLfJ8QgSN1Eb4mRsbAiaGyHN6cJkoVLpwd","deprecated":true,"name":"soMATH/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"B1GypajMh7S8zJVp6M1xMfu6zGsMgvYrt3cSn9wG7Dd6","deprecated":true,"name":"soTOMO/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"rPTGvVrNFYzBeTEcYnHiaWGNnkSXsWNNjUgk771LkwJ","deprecated":true,"name":"soLUA/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FrDavxi4QawYnQY259PVfYUjUvuyPNfqSXbLBqMnbfWJ","deprecated":true,"name":"FIDA/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"CVn1nJ5Utuseyy2qqwrpYoJz9Y7jjYonVL4UYvcCepDH","deprecated":true,"name":"KIN/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"BqjGW7ousAizgs8VrHo5SR1LxTksAQPtb8cKZZiNvX5D","deprecated":true,"name":"MAPS/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"GcoKtAmTy5QyuijXSmJKBtFdt99e6Buza18Js7j9AJ6e","deprecated":false,"name":"soALEPH/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"A8YFbxQYFVqKZaoYJLLUVcQiWP7G2MeEgW5wsAQgMvFw","deprecated":false,"name":"BTC/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4tSvZvnbyzHXLMTiFonMyxZoHmFqau1XArcRCVHLZ5gX","deprecated":false,"name":"soETH/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"ByRys5tuUWDgL73G8JBAEfkdFf8JWBzPBDHsBVQ5vbQA","deprecated":false,"name":"SRM/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"A1Q9iJDVVS8Wsswr9ajeZugmj64bQVCYLZQLra2TMBMo","deprecated":false,"name":"soSUSHI/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4LUro5jaPaTurXK737QAxgJywdhABnFAMQkXX4ZyqqaZ","deprecated":false,"name":"soSXP/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4VKLSYdvrQ5ngQrt1d2VS8o4ewvb2MMUZLiejbnGPV33","deprecated":false,"name":"MSRM/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2Pbh1CvRVku1TgewMfycemghf6sU9EyuFDcNXqvRmSxc","deprecated":false,"name":"soFTT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7qcCo8jqepnjjvB5swP4Afsr3keVBs6gNpBTNubd1Kr2","deprecated":false,"name":"soYFI/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3hwH1txjJVS8qv588tWrjHfRxdqNjBykM1kMcit484up","deprecated":false,"name":"soLINK/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"88vztw7RTN6yJQchVvxrs6oXUDryvpv9iJaFa1EEmg87","deprecated":false,"name":"soHGET/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7nZP6feE94eAz9jmfakNJWPwEKaeezuKKC5D1vrnqyo2","deprecated":false,"name":"soCREAM/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2wr3Ab29KNwGhtzr5HaPCyfU1qGJzTUAN4amCLZWaD1H","deprecated":false,"name":"soUBXT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CnUV42ZykoKUnMDdyefv5kP6nDSJf7jFd7WXAecC6LYr","deprecated":false,"name":"soHNT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"9Zx1CvxSVdroKMMWf2z8RwrnrLiQZ9VkQ7Ex3syQqdSH","deprecated":false,"name":"soFRONT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5CZXTTgVZKSzgSA3AFMN5a2f3hmwmmJ6hU8BHTEJ3PX8","deprecated":false,"name":"soAKRO/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6Pn1cSiRos3qhBf54uBP9ZQg8x3JTardm1dL3n4p29tA","deprecated":false,"name":"soHXRO/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6JYHjaQBx6AtKSSsizDMwozAEDEZ5KBsSUzH7kRjGJon","deprecated":false,"name":"soUNI/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"J7cPYBrXVy8Qeki2crZkZavcojf2sMRyQU7nx438Mf8t","deprecated":false,"name":"soMATH/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"8BdpjpSD5n3nk8DQLqPUyTZvVqFu6kcff5bzUX5dqDpy","deprecated":false,"name":"soTOMO/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4xyWjQ74Eifq17vbue5Ut9xfFNfuVB116tZLEpiZuAn8","deprecated":false,"name":"soLUA/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"jyei9Fpj2GtHLDDGgcuhDacxYLLiSyxU4TY7KxB2xai","deprecated":false,"name":"SRM/SOL","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"9wFFyRfZBsuAha4YcuxcXLKwMxJR43S7fPfQLusDBzvT","deprecated":false,"name":"SOL/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"E14BKBhDWD4EuTkWj1ooZezesGxMW8LPCps4W5PuzZJo","deprecated":false,"name":"FIDA/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"Bn6NPyr6UzrFAwC4WmvPvDr2Vm8XSUnFykM2aQroedgn","deprecated":false,"name":"KIN/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3A8XQRWXC7BjLpgLDDBhQJLT5yPCzS16cGYRKHkKxvYo","deprecated":false,"name":"MAPS/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3rgacody9SvM88QR83GHaNdEEx4Fe2V2ed5GJp2oeKDr","deprecated":false,"name":"soKEEP/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"EmCzMQfXMgNHcnRoFwAdPe1i2SuiSzMj1mx6wu3KN2uA","deprecated":true,"name":"soALEPH/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"8AcVjMG2LTbpkjNoyq8RwysokqZunkjy3d5JDzxC6BJa","deprecated":true,"name":"BTC/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"HfCZdJ1wfsWKfYP2qyWdXTT5PWAGWFctzFjLH48U1Hsd","deprecated":true,"name":"soETH/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"8mDuvJJSgoodovMRYArtVVYBbixWYdGzR47GPrRT65YJ","deprecated":true,"name":"SOL/soUSDT","programId":"BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg"},{"address":"HARFLhSq8nECZk4DVFKvzqXMNMA9a3hjvridGMFizeLa","deprecated":true,"name":"SRM/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"DzFjazak6EKHnaB2w6qSsArnj28CV1TKd2Smcj9fqtHW","deprecated":true,"name":"soSUSHI/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"GuvWMATdEV6DExWnXncPYEzn4ePWYkvGdC8pu8gsn7m7","deprecated":true,"name":"soSXP/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"H4snTKK9adiU15gP22ErfZYtro3aqR9BTMXiH3AwiUTQ","deprecated":true,"name":"MSRM/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"DHDdghmkBhEpReno3tbzBPtsxCt6P3KrMzZvxavTktJt","deprecated":true,"name":"soFTT/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"5zu5bTZZvqESAAgFsr12CUMxdQvMrvU9CgvC1GW8vJdf","deprecated":true,"name":"soYFI/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"F5xschQBMpu1gD2q1babYEAVJHR1buj1YazLiXyQNqSW","deprecated":true,"name":"soLINK/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"BAbc9baz4hV1hnYjWSJ6cZDRjfvziWbYGQu9UFkcdUmx","deprecated":true,"name":"soHGET/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"EBxJWA2nLV57ZntbjizxH527ZjPNLT5cpUHMnY5k3oq","deprecated":true,"name":"soCREAM/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"46VdEkj4MJwZinwVb3Y7DUDpVXLNb9YW7P2waKU3vCqr","deprecated":true,"name":"soUBXT/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"Hc22rHKrhbrZBaQMmhJvPTkp1yDr31PDusU8wKoqFSZV","deprecated":true,"name":"soHNT/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"HFoca5HKwiTPpw9iUY5iXWqzkXdu88dS7YrpSvt2uhyF","deprecated":true,"name":"soFRONT/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"5xnYnWca2bFwC6cPufpdsCbDJhMjYCC59YgwoZHEfiee","deprecated":true,"name":"soALEPH/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"EXnGBBSamqzd3uxEdRLUiYzjJkTwQyorAaFXdfteuGXe","deprecated":true,"name":"BTC/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5abZGhrELnUnfM9ZUnvK6XJPoBU5eShZwfFPkdhAC7o","deprecated":true,"name":"soETH/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7xLk17EQQ5KLDLDe44wCmupJKJjTGd8hs3eSVVhCx932","deprecated":true,"name":"SOL/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"H3APNWA8bZW2gLMSq5sRL41JSMmEJ648AqoEdDgLcdvB","deprecated":true,"name":"SRM/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"4uZTPc72sCDcVRfKKii67dTPm2Xe4ri3TYnGcUQrtnU9","deprecated":true,"name":"soSUSHI/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"33GHmwG9woY95JuWNi74Aa8uKvysSXxif9P1EwwkrCRz","deprecated":true,"name":"soSXP/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FUaF58sDrgbqakHTR8RUwRLauSofRTjqyCsqThFPh6YM","deprecated":true,"name":"MSRM/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5NqjQVXLuLSDnsnQMfWp3rF9gbWDusWG4B1Xwtk3rZ5S","deprecated":true,"name":"soFTT/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"97NiXHUNkpYd1eb2HthSDGhaPfepuqMAV3QsZhAgb1wm","deprecated":true,"name":"soYFI/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"hBswhpNyz4m5nt4KwtCA7jYXvh7VmyZ4TuuPmpaKQb1","deprecated":true,"name":"soLINK/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"GaeUpY7CT8rjoeVGjY1t3mJJDd1bdXxYWtrGSpsVFors","deprecated":true,"name":"soHGET/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7qq9BABQvTWKZuJ5fX2PeTKX6XVtduEs9zW9WS21fSzN","deprecated":true,"name":"soCREAM/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"DCHvVahuLTNWBGUtEzF5GrTdx5FRpxqEJiS6Ru1hrDfD","deprecated":true,"name":"soUBXT/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"DWjJ8VHdGYBxDQYdrRBVDWkHswrgjuBFEv5pBhiRoPBz","deprecated":true,"name":"soHNT/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"56eqxJYzPigm4FkigiBdsfebjMgAbKNh24E7oiKLBtye","deprecated":true,"name":"soFRONT/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FQbCNSVH3RgosCPB4CJRstkLh5hXkvuXzAjQzT11oMYo","deprecated":true,"name":"soAKRO/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"Fs5xtGUmJTYo8Ao75M3R3m3mVX53KMUhzfXCmyRLnp2P","deprecated":true,"name":"soHXRO/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"ChKV7mxecPqFPGYJjhzowPHDiLKFWXXVujUiE3EWxFcg","deprecated":true,"name":"soUNI/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"6N3oU7ALvn2RPwdpYVzPBgQJ8njT29inBbS2tSrwx8fh","deprecated":true,"name":"soKEEP/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5P6dJbyKySFXMYNWiEcNQu8xPRYsehYzCeVpae9Ueqrg","deprecated":true,"name":"soMATH/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"H7c8FcQPJ2E5tJmpWBPSi7xCAbk8immdtUxKFRUyE4Ro","deprecated":true,"name":"soTOMO/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7PSeX1AEtBY9KvgegF5rUh452VemMh7oDzFtJgH7sxMG","deprecated":true,"name":"soLUA/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AF2oQQaLtcrTnQyVs3EPTdyw57TPaK6njKYDq2Qw7LqP","deprecated":true,"name":"soSWAG/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9TE15E5h61zJ5VmQAAHkGrAuQdFTth33aBbKdcrppZBp","deprecated":true,"name":"FIDA/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"8HEaA1vSA5mGQoHcvRPNibnuZvnUpSjJJru9HJNH3SqM","deprecated":true,"name":"KIN/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"8EuuEwULFM7n7zthPjC7kA64LPRzYkpAyuLFiLuVg7D4","deprecated":true,"name":"soUSDT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"8grUs4WZoTs4KJ8LfRNUBs6SNkMTp5BnVRzJgQ2ranDT","deprecated":true,"name":"MAPS/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FoCuWt4KboucUg2PwmQ3dbkvLqYPLnAo1Rsm8p7QPyf","deprecated":true,"name":"soALEPH/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5r8FfnbNYcQbS1m4CYmoHYGjBtu6bxfo6UJHNRfzPiYH","deprecated":true,"name":"BTC/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"71CtEComq2XdhGNbXBuYPmosAjMCPSedcgbNi5jDaGbR","deprecated":true,"name":"soETH/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"EZyQ9zyqQsw3QcsLksoWyd1UFVjHZkzRx8N4ZMnZQrS2","deprecated":true,"name":"SRM/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6ERBjj692XHLWwWSRAUpiKenXshcwmPqhMy7RMapeoKa","deprecated":true,"name":"soSUSHI/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CQ3kAGxPmpBbak2RSHWyMeRhyLYbH6oVZHJxgjzDLpLW","deprecated":true,"name":"soSXP/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2Hqn46jhwaQMQ3zEnHtxrWxQZom6qwLXAgdsFJM1Srwh","deprecated":true,"name":"MSRM/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"G5jqZNo2UVCTnJxgEhKCYvqFRs3MxsnH8Bervq3rfLoL","deprecated":true,"name":"soFTT/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CbwtTHEpfTnCyLw4GoTbKk7WyrXkuATLfLadY2odBSsY","deprecated":true,"name":"soYFI/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5GjhBAYx8pYeCeUQt7rt93KQZnoQFuDq9Jx4iqq97Mip","deprecated":true,"name":"soLINK/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"9jMPV9E23pTirMjC7vz5suRNkd25311G3Httg7jTib8R","deprecated":true,"name":"soCREAM/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"DsSz9KWT97T4RewRTqTNDpNFQyxMPcuYNAJw2xHAzSiZ","deprecated":true,"name":"soUBXT/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3k1sURztjxhjYczjyioQ7y2UkMB6K5Ksi3SWvLeLx6Ex","deprecated":true,"name":"soHNT/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"B791G8UCahfmABVcR2wPAMK6LJnuqxSAqiG6wX3mmVVM","deprecated":true,"name":"soFRONT/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"95f7fxfUh8WqUTrdjorHRXm6rTfkWqr23ioGMmKMjedP","deprecated":true,"name":"soAKRO/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"H4RxtmQ4P3TYPt78G3DuHgaGzyFct6MfaeYneLB5PyeG","deprecated":true,"name":"soHXRO/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7myaZEGZf9m72T1Mqm8GTx5MnmSFS5NCXSwRP18W4EA3","deprecated":true,"name":"soUNI/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7cRKzNoqjF9VtzvdnP129VYP3izivk9iY3jMJBMzREVT","deprecated":true,"name":"soHGET/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"GV9fYzdwipoaagXFxe5tzDMPcmSVQati5CUvBPsEZThH","deprecated":true,"name":"soMATH/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"AaMLXcwYYi5fA41JNCB2ukAmQyKHitYx5NnpsiWWev6R","deprecated":true,"name":"soTOMO/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5ZeNLrduGi3WkH9CPwv2Zpbkh38MH8v63aSi2aBUW23g","deprecated":true,"name":"soLUA/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"Ec1aq54XKH9o5fe169cU2sCcxxTP54eeQCe77SpizKuc","deprecated":true,"name":"soUSDT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"G3uhFg2rBFunHUXtCera13vyQ5KCS8Hx3d4HohLoZbT5","deprecated":true,"name":"SOL/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2NMTG7tFZidRpQk9Sf4dgQyJb9HxKCyXjQdiuXww3sKm","deprecated":true,"name":"soSWAG/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7QpJAiwGmqY1SiucjfPXvgeWwCobyV6hZSgzMysZX6Ww","deprecated":true,"name":"FIDA/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CmLhvXARncLncE1949XBfQWeJh6Zvw3FE5A3Z5ecPYQH","deprecated":true,"name":"KIN/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"FhP3X2ptdi7L1RtWK9Vfow5dyzD92gfXiA57e8eqxvka","deprecated":true,"name":"MAPS/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"DE7xJE2EkaV81wLabDMuhBzUwFhhwfURLdz1aXBBQZQ1","deprecated":true,"name":"soKEEP/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5nLJ22h1DUfeCfwbFxPYK8zbfbri7nA9bXoDcR8AcJjs","deprecated":false,"name":"MSRM/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7dLVkUfBVfCGkFhSXDCq1ukM9usathSgS716t643iFGF","deprecated":false,"name":"soETH/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"8afKwzHR3wJE7W7Y5hvQkngXh6iTepSZuutRMMy96MjR","deprecated":false,"name":"soSXP/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"cgani53cMZgYfRMgSrNekJTMaLmccRfspsfTbXWRg7u","deprecated":false,"name":"soCEL/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"Gyp1UGRgbrb6z8t7fpssxEKQgEmcJ4pVnWW3ds2p6ZPY","deprecated":false,"name":"soALEPH/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4ztJEvQyryoYagj2uieep3dyPwG2pyEwb2dKXTwmXe82","deprecated":false,"name":"soCREAM/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"HEGnaVL5i48ubPBqWAhodnZo8VsSLzEM3Gfc451DnFj9","deprecated":false,"name":"soKEEP/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"8FpuMGLtMZ7Wt9ZvyTGuTVwTwwzLYfS5NZWcHxbP1Wuh","deprecated":false,"name":"soHNT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5GAPymgnnWieGcRrcghZdA3aanefqa4cZx1ZSE8UTyMV","deprecated":false,"name":"soMAPS/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"AADohBGxvf7bvixs2HKC3dG2RuU3xpZDwaTzYFJThM8U","deprecated":false,"name":"TRYB/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"EbV7pPpEvheLizuYX3gUCvWM8iySbSRAhu2mQ5Vz2Mxf","deprecated":false,"name":"FIDA/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"FcPet5fz9NLdbXwVM6kw2WTHzRAD7mT78UjwTpawd7hJ","deprecated":false,"name":"soRSR/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"AtNnsY1AyRERWJ8xCskfz38YdvruWVJQUVXgScC1iPb","deprecated":false,"name":"SRM/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"teE55QrL4a4QSfydR9dnHF97jgCfptpuigbb53Lo95g","deprecated":false,"name":"RAY/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"C1EuT9VokAKLiW7i2ASnZUvxDoKuKkCpDDeNxAptuNe4","deprecated":false,"name":"BTC/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"Hr3wzG8mZXNHV7TuL6YqtgfVUesCqMxGYCEyP3otywZE","deprecated":false,"name":"soFTT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"HLvRdctRB48F9yLnu9E24LUTRt89D48Z35yi1HcxayDf","deprecated":false,"name":"soAKRO/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2SSnWNrc83otLpfRo792P6P3PESZpdr8cu2r8zCE6bMD","deprecated":false,"name":"soUNI/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"F1T7b6pnR8Pge3qmfNUfW6ZipRDiGpMww6TKTrRU4NiL","deprecated":false,"name":"soUBXT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"HWHvQhFmJB3NUcu1aihKmrKegfVxBEHzwVX6yZCKEsi1","deprecated":false,"name":"SOL/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"35tV8UsHH8FnSAi3YFRrgCu4K9tb883wKnAXpnihot5r","deprecated":false,"name":"soLUA/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6DgQRTpJTnAYBSShngAVZZDq7j9ogRN1GfSQ3cq9tubW","deprecated":false,"name":"soSUSHI/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2WghiBkDL2yRhHdvm8CpprrkmfguuQGJTCDfPSudKBAZ","deprecated":false,"name":"soMATH/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"ErQXxiNfJgd4fqQ58PuEw5xY35TZG84tHT6FXf5s4UxY","deprecated":false,"name":"soHGET/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CGC4UgWwqA9PET6Tfx6o6dLv94EK2coVkPtxgNHuBtxj","deprecated":false,"name":"soFRONT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"GnKPri4thaGipzTbp8hhSGSrHgG4F8MFiZVrbRn16iG2","deprecated":false,"name":"soTOMO/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6bxuB5N3bt3qW8UnPNLgMMzDq5sEH8pFmYJYGgzvE11V","deprecated":false,"name":"soAAVE/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7cknqHAuGpfVXPtFoJpFvUjJ8wkmyEfbFusmwMfNy3FE","deprecated":false,"name":"MAPS/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4absuMsgemvdjfkgdLQq1zKEjw3dHBoCWkzKoctndyqd","deprecated":false,"name":"soHXRO/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4nCFQr8sahhhL4XJ7kngGFBmpkmyf3xLzemuMhn6mWTm","deprecated":false,"name":"KIN/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3Xg9Q4VtZhD4bVYJbTfgGWFV5zjE3U7ztSHa938zizte","deprecated":false,"name":"soYFI/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3yEZ9ZpXSQapmKjLAGKZEzUNA1rcupJtsDp5mPBWmGZR","deprecated":false,"name":"soLINK/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"J2XSt77XWim5HwtUM8RUwQvmRXNZsbMKpp5GTKpHafvf","deprecated":false,"name":"soSWAG/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"77quYg4MGneUdjgXCunt9GgM1usmrxKY31twEy3WHwcS","deprecated":false,"name":"USDT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"GKLev6UHeX1KSDCyo2bzyG6wqhByEzDBkmYTxEdmYJgB","deprecated":false,"name":"OXY/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"HdBhZrnrxpje39ggXnTb6WuTWVvj5YKcSHwYGQCRsVj","deprecated":false,"name":"OXY/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"OXY/USDC","address":"GZ3WBFsqntmERPwumFEYgrX2B7J7G11MzNZAy7Hje27X","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"xCOPE/USDC","address":"7MpMwArporUHEGW7quUpkPZp5L5cHPs9eKUfKCdaPHq2","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"COPE/USDC","address":"6fc7v3PmjZG9Lk2XTot6BywGyYLkBQuzuFKd4FpCsPxk","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"MER/USDC","address":"HhvDWug3ftYNx5148ZmrQxzvEmohN2pKVNiRT4TVoekF","deprecated":true,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"MER/USDT","address":"6HwcY27nbeb933UkEcxqJejtjWLfNQFWkGCjAVNes6g7","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"MER/USDC","address":"G4LcexdCzzJUKZfqyVDQFzpkjhB1JoCNL8Kooxi9nJz5","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"SNY/USDC","address":"DPfj2jYwPaezkCmUNm5SSYfkrkz8WFqwGLcxDDUsN3gA","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"SLRS/USDC","address":"2Gx3UfV831BAh8uQv1FKSPKS9yajfeeD8GJ4ZNb2o2YP","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"ETHV/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"HrgkuJryyKRserkoz7LBFYkASzhXHWp9XA6fRYCA6PHb"},{"name":"IETHV/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"5aoLj1bySDhhWjo7cLfT3pF2gqNGd63uEJ9HMSfASESL"},{"name":"SBR/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"HXBi8YBwbh4TXF6PjVw81m8Z3Cc4WBofvauj5SBFdgUs"},{"name":"renBTC/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"74Ciu5yRzhe8TFTHvQuEVbFZJrbnCMRoohBK33NNiPtv"},{"name":"renDOGE/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"5FpKCWYXgHWZ9CdDMHjwxAfqxJLdw2PRXuAmtECkzADk"},{"name":"DXL/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"DYfigimKWc5VhavR4moPBibx9sMcWYVSjVdWvPztBPTa"},{"name":"MNGO/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"3d4rzwpy9iGdCZvgxcu7B1YocYffVLsQXPXkBZKt2zLc"},{"name":"CYS/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"6V6y6QFi17QZC9qNRpVp7SaPiHpCTp2skbRQkUyZZXPW"},{"name":"POLIS/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"HxFLKUAmAMLz1jtT3hbvCMELwH5H9tpM2QugP8sKyfhW"},{"name":"ATLAS/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"Di66GTLsV64JgCCYGVcY21RZ173BHkjJVgPyezNN7P1K"},{"name":"LIKE/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"3WptgZZu34aiDrLMUiPntTYZGNZ72yT1yxHYxSdbTArX"},{"name":"MSOL/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"6oGsL2puUgySccKzn9XA9afqF217LfxP5ocq4B3LWsjy"},{"name":"MSOL/SOL","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"5cLrMai1DsLRYc1Nio9qMTicsWtvzjzZfJPXyAoF4t1Z"},{"name":"AAVE/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"8WZrmdpLckptiVKd2fPHPjewRVYQGQkjxi9vzRYG1sfs"},{"name":"AAVE/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"LghsMERQWQFK3zWMTrUkoyAJARQw2wSmcYZjexeN3zy"},{"name":"AKRO/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"G3h8NZgJozk9crme2me6sKDJuSQ12mNCtvC9NbSWqGuk"},{"name":"AKRO/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"DvbiPxKzuXZPcmUcYDqBz1tvUrXYPsNrRAjSeuwHtmEA"},{"name":"ALEPH/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"Fw4mvuE7KZmTjQPxP2sRpHwPDfRMWnKBupFZGyW9CAQH"},{"name":"ALEPH/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"GZeHR8uCTVoHVDZFRVXTgm386DK1EKehy9yMS3BFChcL"},{"name":"CEL/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"79ESpYSb2hM14KTRXPZUwDkxUGC5irE2esd1vxdXfnZz"},{"name":"CEL/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"J9ww1yufRNDDbUbDXmew2mW2ozkx7cme7dMvKjMQVHrL"},{"name":"CREAM/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"4pdQ2D4gehMhGu4z9jeQbEPUFbTxB5qcPr3zCynjJGyp"},{"name":"CREAM/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"6fspxMfBmYFTGFBDN5MU33A55i2MkGr7eSjBLPCAU6y9"},{"name":"ETH/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"8Gmi2HhZmwQPVdCwzS7CM66MGstMXPcTVHA7jF19cLZz"},{"name":"ETH/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"ch7kmPrtoQUSEPBggcNAvLGiMQkJagVwd3gDYfd8m7Q"},{"name":"FRONT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"B95oZN5HCLGmFAhbzReWBA9cuSGPFQAXeuhm2FfpdrML"},{"name":"FRONT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"DZTYyy1L5Pr6DmTtYY5bEuU9g3LQ4XGvuYiN3zS25yG7"},{"name":"FTT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"2wteg25ch227n4Rh1CN4WNrDZXBpRBpWJ48mEC2K7f4r"},{"name":"FTT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"BoHojHESAv4McZx9gXd1bWTZMq25JYyGz4qL1m5C3nvk"},{"name":"HGET/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"27e1mB6UoPohbc3MmwMXu5QM7b2E3k5Mbhwv6JguwyXg"},{"name":"HGET/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"BdRzTEKb7Qdu4tWts5zXjwcpQErZxEzvShKZ5QcthMag"},{"name":"HXRO/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"CBb5zXwNRB73WVjs2m21P5prcEZa6SWmej74Vzxh8dRm"},{"name":"HXRO/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"3BScwNxtMrEcQ5VTHyXHYQR98dTaxfyXGaLkuSjBY1dW"},{"name":"LINK/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"FJMjxMCiDKn16TLhXUdEbVDH5wC6k9EHYJTcrH6NcbDE"},{"name":"LINK/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"Gr2KmhK7Upr4uW56B1QQrJuhhgmot6zAHJeZALTMStiX"},{"name":"LUA/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"J9imTcEeahZqKuaoQaPcCeSGCMWL8qSACpK4B7bC8NN4"},{"name":"LUA/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"BMJ3CvQZ57cNnuc3Lz5Pb6cW6Sr9kZGz3qz2bJQTE24A"},{"name":"MATH/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"G8L1YLrktaG1t8YBMJs3CwV96nExvJJCSpw3DARPDjE2"},{"name":"MATH/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"CkvNfATB7nky8zPLuwS9bgcFbVRkQdkd5zuKEovyo9rs"},{"name":"RAY/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"2xiv8A5xrJ7RnGdxXB42uFEkYHJjszEhaJyKKt4WaLep"},{"name":"RSR/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"GqgkxEswUwHBntmzb5GpUhKrVpJhzreSruZycuJwdNwB"},{"name":"RSR/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"2j2or38X2FUbpkK4gkgvjDtqN3ibkKw3v5yn7o2gHqPc"},{"name":"SUSHI/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"3uWVMWu7cwMnYMAAdtsZNwaaqeeeZHARGZwcExnQiFay"},{"name":"SUSHI/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"T3aC6qcPAJtX1gqkckfSxBPdPWziz5fLYRt5Dz3Nafq"},{"name":"SWAG/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"wSkeLMv3ktJyLm51bvQWxY2saGKqGxbnUFimPxbgEvQ"},{"name":"SWAG/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"6URQ4zFWvPm1fhJCKKWorrh8X3mmTFiDDyXEUmSf8Rb2"},{"name":"SXP/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"G5F84rfqmWqzZv5GBpSn8mMwW8zJ2B4Y1GpGupiwjHNM"},{"name":"SXP/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"2FQbPW1ticJz2SMMbEXxbKWJKmw1wLc6ggSP2HyzdMen"},{"name":"UBXT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"Hh4p7tJpqkGW6xsHM2LiPPMpJg43fwn5TbmVmfrURdLY"},{"name":"UBXT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"5xhjc3ZtAwnBK3qsaro28VChL7WrxY9N4SG6UZpYxpGc"},{"name":"UNI/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"B7b5rjQuqQCuGqmUBWmcCTqaL3Z1462mo4NArqty6QFR"},{"name":"UNI/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"FrKM6kJtAjXknHPEpkrQtJSXZwUxV5dq26wDpc4YjQST"},{"name":"YFI/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"BiJXGFc1c4gyPpv9HLRJoKbZewWQrTCHGuxYKjYMQJpC"},{"name":"YFI/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"9sue9TZAeUhNtNAPPGb9dke7rkJeXktGD3u8ZC37GWnQ"},{"name":"AVAX/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"E8JQstcwjuqN5kdMyUJLNuaectymnhffkvfg1j286UCr"},{"name":"AXSet/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"HZCheduA4nsSuQpVww1TiyKZpXSAitqaXxjBD2ymg22X"},{"name":"BNB/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"4UPUurKveNEJgBqJzqHPyi8DhedvpYsMXi7d43CjAg2f"},{"name":"BNB/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"FjbKNZME5yVSC1R3HJM99kB3yir3q3frS5MteMFD72sV"},{"name":"GALA/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"F7WJsoxTWQRmAwAyFe9APmuVv4HqmhchFtdbR9dvAUDm"},{"name":"MATICpo/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"5WRoQxE59966N2XfD2wYy1uhuyKeoVJ9NBMH6r6RNYEF"},{"name":"ROSE/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"EybAYkmRKCyD4w8AErTG1bqmnvT85LFuPQPMCc8J3yD"},{"name":"SAND/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"3FE2g3cadTJjN3C7gNRavwnv7Yh9Midq7h9KgTVUE7tR"},{"name":"LUNA/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"HBTu8hNaoT3VyiSSzJYa8jwt9sDGKtJviSwFa11iXdmE"},{"name":"SHIB/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"Er7Jp4PADPVHifykFwbVoHdkL1RtZSsx9zGJrPJTrCgW"},{"name":"UST/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"8WmckvEoVGZvtN8knjdzFGbWJ3Sr4BcWdyzSYuCrD4YK"},{"name":"FAB/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"Cud48DK2qoxsWNzQeTL5D8sAiHsGwG8Ev1VMNcYLayxt"},{"name":"JET/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"6pQMoHDC2o8eeFxyTKtfnsr8d48hKFWsRpLHAqVHH2ZP"},{"name":"scnSOL/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"D52sefGCWho2nd5UGxWd7wCftAzeNEMNYZkdEPGEdQTb"},{"name":"stSOL/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"5F7LGsP1LPtaRV7vVKgxwNYX4Vf22xvuzyXjyar7jJqp"}]')},7458:e=>{"use strict";e.exports=JSON.parse('[{"address":"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E","name":"BTC"},{"address":"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk","name":"ETH"},{"address":"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3","name":"FTT"},{"address":"3JSf5tPeuscJGtaCp5giEiDhv51gQ4v3zWg8DGgyLfAB","name":"YFI"},{"address":"CWE8jPTUYhdCTZYWPTe1o5DFqfdjzWKc9WKz6rSjQUdG","name":"LINK"},{"address":"Ga2AXHpfAF6mv2ekZwcsJFqu7wB4NV331qNH7fW9Nst8","name":"XRP"},{"address":"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB","name":"USDT"},{"address":"BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4","name":"WUSDT"},{"address":"BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW","name":"WUSDC"},{"address":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","name":"USDC"},{"address":"MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L","name":"MSRM"},{"address":"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt","name":"SRM"},{"address":"AR1Mtgh7zAtxuxGd2XPovXPVjcSdY3i4rQYisNadjfKy","name":"SUSHI"},{"address":"SF3oTvfWzEP3DTwGSvUXRrGTvr75pdZNnBLAH9bzMuX","name":"SXP"},{"address":"CsZ5LZkDS7h9TDKjrbL7VAwQZ9nsRu8vJLhRYfmGaN8K","name":"ALEPH"},{"address":"BtZQfWqDGbk9Wf2rXEiWyQBdBY1etnUUn6zEphvVS7yN","name":"HGET"},{"address":"5Fu5UUgbjpUvdBveb3a1JTNirL8rXtiYeSMWvKjtUNQv","name":"CREAM"},{"address":"873KLxCbz7s9Kc4ZzgYRtNmhfkQrhfyWGZJBmyCbC3ei","name":"UBXT"},{"address":"HqB7uswoVg4suaQiDP3wjxob1G5WdZ144zhdStwMCq7e","name":"HNT"},{"address":"9S4t2NEAiJVMvPdRYKVrfJpBafPBLtvbvyS3DecojQHw","name":"FRONT"},{"address":"6WNVCuxCGJzNjmMZoKyhZJwvJ5tYpsLyAtagzYASqBoF","name":"AKRO"},{"address":"DJafV9qemGp7mLMEn5wrfqaFwxsbLgUsGVS16zKRk9kc","name":"HXRO"},{"address":"DEhAasscXF4kEGxFgJ3bq4PpVGp5wyUxMRvn6TzGVHaw","name":"UNI"},{"address":"GUohe4DJUA5FKPWo3joiPgsB7yzer7LpDmt1Vhzy3Zht","name":"KEEP"},{"address":"GeDS162t9yGJuLEHPWXXGrb1zwkzinCgRwnT8vHYjKza","name":"MATH"},{"address":"So11111111111111111111111111111111111111112","name":"SOL"},{"address":"GXMvfY2jpQctDqZ9RoU3oWPhufKiCcFEfchvYumtX7jd","name":"TOMO"},{"address":"EqWCKXfs3x47uVosDpTRgFniThL9Y8iCztJaapxbEaVX","name":"LUA"},{"address":"9F9fNTT6qwjsu4X4yWYKZpsbw5qT7o6yR2i57JF2jagy","name":"SWAG"},{"address":"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp","name":"FIDA"},{"address":"kinXdEcpDQeHPEuQnqmUgtYykqKGVFq6CeVX5iAHJq6","name":"KIN"},{"address":"MAPS41MDahZ9QdKXhVa4dWB9RuyfV4XqhyAZ8XcYepb","name":"MAPS"},{"address":"z3dn17yLaGMKffVogeFHQ9zWVcXgqgf3PQnDsNs2g6M","name":"OXY"},{"address":"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R","name":"RAY"},{"address":"3K6rftdAaQYMPunrtNRHgnK2UAtjm2JwyT2oCiTDouYE","name":"xCOPE"},{"address":"dK83wTVypEpa1pqiBbHY3MNuUnT3ADUZM4wk9VZXZEc","name":"AAVE"},{"address":"DgHK9mfhMtUwwv54GChRrU54T2Em5cuszq2uMuen1ZVE","name":"CEL"},{"address":"7ncCLJpP3MNww17LW8bRvx8odQQnubNtfNZBL5BgAEHW","name":"RSR"},{"address":"6ry4WBDvAwAnrYJVv6MCog4J8zx6S3cPgSqnTsDZ73AR","name":"TRYB"},{"address":"8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh","name":"COPE"},{"address":"MERt85fc5boKw3BW1eYdxonEuJNvXbiMbs6hvheau5K","name":"MER"},{"address":"4dmKkXNHdgYsXqBHCuMikNQWwVomZURhYvkkX5c4pQ7y","name":"SNY"},{"address":"SLRSSpSLUTP7okbCUBYStWCo1vUgyt775faPqz8HUMr","name":"SLRS"},{"address":"CDJWUqTcYTVAKXAVXoQZFes5JUFc7owSeq7eMQcDSbo5","name":"renBTC"},{"address":"ArUkYE2XDKzqy77PRRGjo4wREWwqk6RXTfM9NeqzPvjU","name":"renDOGE"},{"address":"GsNzxJfFn6zQdJGeYsupJWzUAm57Ba7335mfhWvFiE9Z","name":"DXL"}]')}}]);
//# sourceMappingURL=636.a17ff5a5.chunk.js.map