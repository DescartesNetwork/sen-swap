(globalThis.webpackChunksen_swap=globalThis.webpackChunksen_swap||[]).push([[929],{73634:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Page:()=>Ut,Widget:()=>Wt,widgetConfig:()=>Ft});var n=s(55754),i=s(98846),r=s(92950),a=s(45055),o=s(95418),l=s(99019),d=s(4550),c=s.n(d);const u={"logo-telegram":s.p+"static/media/icon-telegram.2450489f40d03000fe65fc1c6f238d85.svg"};var h=s(45263);const p=(0,r.forwardRef)((({name:e,className:t,...s},n)=>{const i=t?"anticon "+t:"anticon";return(0,h.jsx)("span",{className:i,...s,children:u[e]?(0,h.jsx)("ion-icon",{ref:n,src:u[e]}):(0,h.jsx)("ion-icon",{ref:n,name:e})})})),m=[void 0],f=({mintAddress:e,size:t=24,icon:s=(0,h.jsx)(p,{name:"diamond-outline"}),reversed:n=!1,...a})=>{const[d,c]=(0,r.useState)(m),{tokenProvider:u}=(0,i.useMint)(),{pools:f}=(0,i.usePool)(),g=(0,r.useCallback)((async e=>{const t=await u.findByAddress(e);if(null!==t&&void 0!==t&&t.logoURI)return t.logoURI}),[u]),x=(0,r.useCallback)((async()=>{if(!o.account.isAddress(e))return c(m);const t=Object.values(f).find((({mint_lpt:t})=>t===e));if(t){const{mint_a:e,mint_b:s}=t,i=await Promise.all([e,s].map(g));return n&&i.reverse(),c(i)}const s=await g(e);return c([s])}),[e,n,g,f]);return(0,r.useEffect)((()=>{x()}),[x]),1===d.length?(0,h.jsx)(l.Avatar,{src:d[0],size:t,style:{backgroundColor:"#2D3355",border:"none"},...a,children:s}):(0,h.jsx)(l.Avatar.Group,{style:{display:"block",whiteSpace:"nowrap"},...a,children:d.map(((e,n)=>(0,h.jsx)(l.Avatar,{src:e,size:t,style:{backgroundColor:"#2D3355",border:"none"},children:s},n)))})},g="Unknown Token",x=({mintAddress:e,separator:t=" \u2022 ",reversed:s=!1})=>{const[n,a]=(0,r.useState)(g),{tokenProvider:l}=(0,i.useMint)(),{pools:d}=(0,i.usePool)(),c=(0,r.useCallback)((async e=>{const t=await l.findByAddress(e);return null!==t&&void 0!==t&&t.name?t.name:g}),[l]),u=(0,r.useCallback)((async()=>{if(!o.account.isAddress(e))return a(g);const n=Object.values(d).find((({mint_lpt:t})=>t===e));if(n){const{mint_a:e,mint_b:i}=n,r=await Promise.all([e,i].map(c));return s&&r.reverse(),a(`${r.join(t)} LP`)}const i=await c(e);return a(i)}),[e,s,c,d,t]);return(0,r.useEffect)((()=>{u()}),[u]),(0,h.jsx)("span",{children:n})},y="TOKN",v=({mintAddress:e,separator:t=" \u2022 ",reversed:s=!1})=>{const[n,a]=(0,r.useState)(y),{tokenProvider:l}=(0,i.useMint)(),{pools:d}=(0,i.usePool)(),c=(0,r.useCallback)((async e=>{const t=await l.findByAddress(e);return null!==t&&void 0!==t&&t.symbol?t.symbol:e.substring(0,4)}),[l]),u=(0,r.useCallback)((async()=>{if(!o.account.isAddress(e))return a(y);const n=Object.values(d).find((({mint_lpt:t})=>t===e));if(n){const{mint_a:e,mint_b:i}=n,r=await Promise.all([e,i].map(c));return s&&r.reverse(),a(r.join(t))}const i=await c(e);return a(i)}),[e,s,c,d,t]);return(0,r.useEffect)((()=>{u()}),[u]),(0,h.jsx)("span",{children:n})},j=()=>{const{bid:{mintInfo:e},ask:{mintInfo:t}}=(0,n.useSelector)((e=>e)),s=(null===e||void 0===e?void 0:e.address)||"",i=(null===t||void 0===t?void 0:t.address)||"";return(0,h.jsxs)(l.Space,{children:[(0,h.jsxs)(l.Avatar.Group,{children:[(0,h.jsx)(f,{mintAddress:s}),(0,h.jsx)(f,{mintAddress:i})]}),(0,h.jsxs)(l.Typography.Text,{children:[(0,h.jsx)(v,{mintAddress:s})," / ",(0,h.jsx)(v,{mintAddress:i})]})]})};var b=s(76907),w=s.n(b),k=s(21111),A=s.n(k),C=s(34559);const S=({chartData:e=[],labels:t=[],type:s="line",configs:n,disableAxe:i=!1,chartId:a="sen_chart"})=>{const{backgroundColor:o}=n||{},[l,d]=(0,r.useState)(!1),c=(0,r.useCallback)(((e,t,s)=>({labels:t,datasets:[{...n,data:e,backgroundColor:s}]})),[n]),u=(0,r.useRef)(null),p=(0,r.useCallback)((()=>{var e,t;if(!u||!o)return"#dadada";const n=null===u||void 0===u||null===(e=u.current)||void 0===e||null===(t=e.canvas)||void 0===t?void 0:t.getContext("2d"),i=null===n||void 0===n?void 0:n.createLinearGradient(0,0,0,180);null===i||void 0===i||i.addColorStop(0,o),null===i||void 0===i||i.addColorStop(1,`${o}00`);return"line"===s?i:o}),[o,s]);return(0,r.useEffect)((()=>{var s;const n=u.current,i=null===n||void 0===n||null===(s=n.data.datasets)||void 0===s?void 0:s.find((({data:e})=>e)),r=A()(null===i||void 0===i?void 0:i.data,e);n&&!r&&(n.data=c(e,t,p()),null===n||void 0===n||n.update())}),[e,c,p,t]),(0,h.jsx)("canvas",{id:a,height:"180px",ref:e=>{if(!e)return;const t=e.getContext("2d");t&&!l&&(u.current=new(w())(t,{type:s,data:{labels:[],datasets:[{data:[]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{gridLines:{drawBorder:!1,display:!1},ticks:{display:!i}}],yAxes:[{gridLines:{drawBorder:!1,display:!1},ticks:{display:!i,beginAtZero:!1,maxTicksLimit:8,callback:function(e,t,s){return(0,C.uR)(e).format("0,0.[0]a")}}}]},plugins:{legend:!1},hover:{onHover:(e,t)=>{const s=document.getElementById(a);s&&(s.style.cursor=t[0]?"pointer":"default")}}}}),d(!0))}})},T=()=>(0,h.jsx)(l.Row,{style:{height:170},align:"middle",justify:"center",children:(0,h.jsx)(l.Col,{children:(0,h.jsx)(l.Empty,{})})});var I=s(20418),R=s(21995),B=s.n(R);new I.Z;const M=async(e,t)=>{try{const s=await B()({method:"get",url:`https://api.coingecko.com/api/v3/coins/${e}/market_chart?vs_currency=usd&days=${t.days}&interval=${t.interval}`});return s.data.prices.map((e=>({time:e[0],val:e[1]})))}catch(s){return[]}};var D;!function(e){e.day="day",e.week="week",e.month="month",e.year="year"}(D||(D={}));const P={day:{amount:4,unit:"hours",format:"HH:00"},week:{amount:1,unit:"days",format:"MMM DD"},month:{amount:5,unit:"days",format:"MMM DD"},year:{amount:2,unit:"months",format:"MMM DD"}},z={day:{days:1,interval:"hourly"},week:{days:7,interval:"daily"},month:{days:31,interval:"daily"},year:{days:365,interval:"daily"}},L="#3E8C6A",N=0,E=14,q="TVL",_="transparent",U=()=>{var e,t,s;const[a,o]=(0,r.useState)(D.week),[d,u]=(0,r.useState)([]),p=(0,n.useSelector)((e=>e.bid)),m=(0,n.useSelector)((e=>e.ask)),{tokenProvider:f}=(0,i.useMint)(),g={borderColor:_,borderRadius:N,pointRadius:N,tooltip:q,pointHitRadius:E,pointHoverRadius:N,backgroundColor:L},x=(0,r.useCallback)((e=>{const t=[],{format:s,amount:n,unit:i}=P[a];let r=c()();for(const a of e.reverse()){const e=c()(a.time).format(s);if(e===r.format(s)){let o=e;e===c()().format(s)&&(o=c()().format("HH:mm")),r&&t.unshift({label:o,val:a.val}),r=r.subtract(n,i)}else"00:00"===e&&t.unshift({label:r.format("MMM DD"),val:a.val})}u(t)}),[a]),y=(0,r.useCallback)((e=>{const t=[],{format:s,amount:n,unit:i}=P[a];let r=c()();for(const a of e.reverse()){const e=c()(a.time).format(s);e!==r.format(s)||(r=r.subtract(n,i),t.unshift({label:e,val:a.val}))}u(t)}),[a]),v=(0,r.useCallback)((async()=>{var e,t,s,n;const i=await f.findByAddress((null===(e=p.mintInfo)||void 0===e?void 0:e.address)||""),r=await f.findByAddress((null===(t=m.mintInfo)||void 0===t?void 0:t.address)||""),o=null===i||void 0===i||null===(s=i.extensions)||void 0===s?void 0:s.coingeckoId,l=null===r||void 0===r||null===(n=r.extensions)||void 0===n?void 0:n.coingeckoId,d=p.accountAddress===m.accountAddress;if(!l||!o||d)return u([]);const c=z[a],[h,g]=await Promise.all([M(o,c),M(l,c)]),v=[];for(let a=h.length-1;a>=0;a--){const e=h[a],t=g[g.length-h.length+a];e&&t&&v.unshift({time:e.time,val:e.val/t.val})}return a===D.day?x(v):y(v)}),[m.accountAddress,null===(e=m.mintInfo)||void 0===e?void 0:e.address,p.accountAddress,null===(t=p.mintInfo)||void 0===t?void 0:t.address,a,y,x,f]);(0,r.useEffect)((()=>{v()}),[v]);const b=(null===(s=d[d.length-1])||void 0===s?void 0:s.val)||0,w=(0,C.uR)(b).format(b>1?"0,0.[00]":"0,0.[00000000]");return(0,h.jsx)(l.Card,{bordered:!1,className:"card-swap",bodyStyle:{paddingTop:28},children:(0,h.jsxs)(l.Row,{gutter:[24,24],children:[(0,h.jsx)(l.Col,{flex:"auto",children:(0,h.jsxs)(l.Row,{gutter:[20,20],children:[(0,h.jsx)(l.Col,{flex:"auto",children:(0,h.jsx)(j,{})}),d&&!!d.length&&(0,h.jsx)(l.Col,{children:(0,h.jsxs)(l.Radio.Group,{defaultValue:D.week,onChange:e=>o(e.target.value),className:"chart-radio-btn",children:[(0,h.jsx)(l.Radio.Button,{value:D.day,children:"1D"}),(0,h.jsx)(l.Radio.Button,{value:D.week,children:"1W"}),(0,h.jsx)(l.Radio.Button,{value:D.month,children:"1M"}),(0,h.jsx)(l.Radio.Button,{value:D.year,children:"1Y"})]})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(l.Typography.Title,{level:2,children:b?w:""})})]})}),(0,h.jsx)(l.Col,{span:24,children:d&&d.length?(0,h.jsx)(S,{chartData:null===d||void 0===d?void 0:d.map((e=>e.val)),labels:null===d||void 0===d?void 0:d.map((e=>e.label)),configs:g}):(0,h.jsx)(T,{})})]})})},F=e=>{const[t,s]=(0,r.useState)(void 0),{getDecimals:n}=(0,i.useMint)(),a=(0,r.useCallback)((async()=>{try{const t=await n(e);return s(t)}catch(t){return s(void 0)}}),[e,n]);return(0,r.useEffect)((()=>{a()}),[a]),t},W=(e,t,s)=>o.account.isAddress(e)&&void 0!==t&&void 0!==s?{mintAddress:e,amount:t,decimals:s,balance:Number(o.utils.undecimalize(t,s))}:{amount:BigInt(0),decimals:0,balance:0},Y=e=>{const{wallet:{address:t,lamports:s}}=(0,i.useWallet)(),{accounts:n}=(0,i.useAccount)(),{amount:r,mint:a}=n[e]||{},l=F(a)||0;return o.account.isAddress(t)&&o.account.isAddress(e)?e===t?W(o.DEFAULT_EMPTY_ADDRESS,s,9):W(a,r,l):W()},H=Y,Z=(e,t)=>{const{mint_a:s,mint_b:n,reserve_a:i,reserve_b:r}=t;if(e===s)return i;if(e===n)return r;throw new Error("Cannot find reserves")},G=(e,t,s,n=0)=>{const i=[],r=new Map(e),a=e.get(t);return n>=3||(r.delete(t),null===a||void 0===a||a.forEach(((e,a)=>{const o=t,l=o===e.mint_a?e.mint_b:e.mint_a,d={srcMintAddress:o,dstMintAddress:l,poolData:{...e,address:a}};if(l===s)return i.push([d]);G(r,l,s,n++).forEach((e=>i.push([d,...e])))}))),i},O=o.Swap.oracle,Q=(e,t)=>{if(!e)return BigInt(0);const{srcMintAddress:s,dstMintAddress:n,poolData:i}=t,{fee_ratio:r,tax_ratio:a}=i,o=Z(s,i),l=Z(n,i);if(!o||!l)return BigInt(0);const{askAmount:d}=O.swap(e,o,l,r,a);return d},K=(e,t)=>{if(!e)return BigInt(0);const{srcMintAddress:s,dstMintAddress:n,poolData:i}=t,{fee_ratio:r,tax_ratio:a}=i,o=Z(s,i),l=Z(n,i);if(!o||!l)return BigInt(0);return O.inverseSwap(e,o,l,r,a)};let V;!function(e){e[e.goodSwap=.01]="goodSwap",e[e.acceptableSwap=.05]="acceptableSwap"}(V||(V={}));const J=()=>{const{route:{best:e},bid:{amount:t,mintInfo:s},ask:{amount:i}}=(0,n.useSelector)((e=>e));if(!Number(t)||!Number(i))return 0;let r=o.utils.decimalize(t,s.decimals),a=1;return e.forEach((e=>{const t=Number(o.utils.undecimalize(((e,t)=>{if(!e)return BigInt(0);const{srcMintAddress:s,dstMintAddress:n,poolData:i}=t,{fee_ratio:r,tax_ratio:a}=i,o=Z(s,i),l=Z(n,i);return o&&l?O.slippage(e,o,l,r,a):BigInt(0)})(r,e),9));a*=1-t;const s=Q(r,e);r=s})),1-a},X=()=>{const e=J();return e<V.goodSwap?"#14E041":e>V.acceptableSwap?"#D72311":"#FA8C16"},$=J,ee=BigInt(1e9),te=({onCallback:e=(()=>{}),forceSwap:t=!1})=>{const[s,a]=(0,r.useState)(!1),{route:{best:d},bid:{amount:c,mintInfo:{address:u,decimals:p},accountAddress:m},ask:{amount:f,mintInfo:{decimals:g}},settings:{slippage:x,advanced:y}}=(0,n.useSelector)((e=>e)),{wallet:{address:v,lamports:j}}=(0,i.useWallet)(),{amount:b}=H(m),w=$(),k=(0,r.useMemo)((()=>{if(!Number(c)||u!==o.DEFAULT_WSOL)return BigInt(0);const e=o.utils.decimalize(c,p);return e<=b?BigInt(0):e-b}),[b,c,u,p]),A=(0,r.useMemo)((()=>{if(u!==o.DEFAULT_WSOL)return o.utils.undecimalize(b,p);const e=o.utils.decimalize(.01,p),t=j+b-e;return t<=b?o.utils.undecimalize(b,p):o.utils.undecimalize(t,p)}),[b,u,p,j]),S=(0,r.useCallback)((async()=>{const{swap:e,splt:t,wallet:s}=window.sentre;if(!s)throw new Error("Wallet is not connected");const n=await Promise.all(d.map((async({srcMintAddress:e,dstMintAddress:s,poolData:{address:n}})=>({poolAddress:n,srcAddress:await t.deriveAssociatedAddress(v,e),dstAddress:await t.deriveAssociatedAddress(v,s)})))),i=o.utils.decimalize(c,p),r=o.utils.decimalize(f,g)*(ee-o.utils.decimalize(x,9))/ee;return await e.route(i,r,n,s)}),[d,p,g,x,v,c,f]),T=!y&&w>V.acceptableSwap&&!t,I=T||!d.length||!Number(c)||!Number(f)||Number(c)>Number(A);return(0,h.jsx)(l.Button,{type:"primary",onClick:async()=>{try{a(!0),await(async()=>{const{swap:e,wallet:t}=window.sentre;if(!t)throw new Error("Wallet is not connected");if(k)return await e.wrapSol(k,t)})();const{txId:t}=await S();return window.notify({type:"success",description:"Swap successfully. Click to view details.",onClick:()=>window.open((0,C.kU)(t),"_blank")}),e()}catch(t){return window.notify({type:"error",description:t.message})}finally{return a(!1)}},disabled:I,loading:s,block:!0,children:T?"Too High Price Impact":t?"Swap Anyway":"Swap"})},se=()=>{const{bid:{mintInfo:e},route:{best:t}}=(0,n.useSelector)((e=>e)),s=null===e||void 0===e?void 0:e.address,i=(0,r.useMemo)((()=>{if(!t.length||!o.account.isAddress(s))return[];let e=[s];for(const s of t){const{dstMintAddress:t}=s;o.account.isAddress(t)&&e.push(t)}return e}),[s,t]);return(0,h.jsx)(l.Space,{children:null===i||void 0===i?void 0:i.map(((e,t)=>(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(f,{mintAddress:e}),i.length>t+1&&(0,h.jsx)(p,{name:"chevron-forward-outline"})]},t)))})},ne=()=>{const[e,t]=(0,r.useState)(!1),{bid:{mintInfo:s,amount:i},ask:{mintInfo:a,amount:o}}=(0,n.useSelector)((e=>e)),d=(null===s||void 0===s?void 0:s.address)||"",c=(null===a||void 0===a?void 0:a.address)||"",u=(0,C.uR)(Number(o)/Number(i)).format("0,0.[000000]"),m=(0,C.uR)(Number(i)/Number(o)).format("0,0.[000000]");return(0,h.jsxs)(l.Space,{children:[(0,h.jsx)(l.Button,{type:"text",onClick:()=>t(!e),shape:"circle",icon:(0,h.jsx)(p,{name:"swap-horizontal-outline"})}),(0,h.jsx)(l.Typography.Text,{children:e?m:u}),(0,h.jsxs)(l.Typography.Text,{children:[e?(0,h.jsx)(v,{mintAddress:d}):(0,h.jsx)(v,{mintAddress:c})," / ",e?(0,h.jsx)(v,{mintAddress:c}):(0,h.jsx)(v,{mintAddress:d})]})]})},ie=({label:e="",content:t=""})=>(0,h.jsxs)(l.Row,{children:[(0,h.jsx)(l.Col,{flex:"auto",children:(0,h.jsx)(l.Typography.Text,{type:"secondary",children:e})}),(0,h.jsx)(l.Col,{children:(0,h.jsx)("span",{children:t})})]}),re=()=>{const{settings:{slippage:e}}=(0,n.useSelector)((e=>e)),t=$(),s=X();return(0,h.jsxs)(l.Row,{gutter:[12,12],children:[(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(ie,{label:"Price impact",content:(0,h.jsx)(l.Typography.Text,{style:{color:s},children:(0,C.uR)(Number(t)).format("0.[0000]%")})})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(ie,{label:"Price",content:(0,h.jsx)(ne,{})})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(ie,{label:"Slippage Tolerance",content:(0,C.uR)(e).format("0.[00]%")})}),(0,h.jsx)(l.Col,{span:24,style:{minHeight:24},children:(0,h.jsx)(ie,{label:"Route",content:(0,h.jsx)(se,{})})})]})};var ae=s(19289);const oe=(0,ae.createAsyncThunk)("bid/updateBidData",(async({prioritized:e,reset:t,...s},{getState:n})=>{const{bid:{priority:i},ask:{priority:r}}=n();Number(s.amount)<0&&(s.amount="");const a=t?0:e?r+1:i;return{...s,priority:a}})),le=(0,ae.createSlice)({name:"bid",initialState:{amount:"",mintInfo:{address:"",decimals:0},accountAddress:"",poolAddresses:[],priority:0},reducers:{},extraReducers:e=>{e.addCase(oe.fulfilled,((e,{payload:t})=>{Object.assign(e,t)}))}}).reducer,de=({visible:e=!1,onCancle:t=(()=>{})})=>{var s,i,a,o;const[d,c]=(0,r.useState)(!1),u=(0,n.useSelector)((e=>e.bid)),m=(0,n.useSelector)((e=>e.ask)),g=$()>V.acceptableSwap;return(0,h.jsx)(l.Modal,{title:(0,h.jsx)(l.Typography.Title,{level:4,children:" Confirm swap"}),onCancel:()=>t(!1),footer:null,visible:e,children:(0,h.jsxs)(l.Row,{gutter:[16,24],children:[(0,h.jsx)(l.Col,{span:24,children:(0,h.jsxs)(l.Row,{align:"middle",justify:"space-between",children:[(0,h.jsx)(l.Col,{children:(0,h.jsxs)(l.Space,{direction:"vertical",children:[(0,h.jsx)(l.Typography.Text,{children:"From"}),(0,h.jsxs)(l.Space,{children:[(0,h.jsx)(f,{mintAddress:null===(s=u.mintInfo)||void 0===s?void 0:s.address}),(0,h.jsx)(l.Typography.Text,{children:(0,h.jsx)(v,{mintAddress:null===(i=u.mintInfo)||void 0===i?void 0:i.address})})]}),(0,h.jsx)(l.Typography.Title,{level:4,children:u.amount})]})}),(0,h.jsx)(l.Col,{children:(0,h.jsx)(p,{name:"arrow-forward-outline",style:{fontSize:24}})}),(0,h.jsx)(l.Col,{children:(0,h.jsxs)(l.Space,{direction:"vertical",align:"end",children:[(0,h.jsx)(l.Typography.Text,{children:"To"}),(0,h.jsxs)(l.Space,{children:[(0,h.jsx)(f,{mintAddress:null===(a=m.mintInfo)||void 0===a?void 0:a.address}),(0,h.jsx)(l.Typography.Text,{children:(0,h.jsx)(v,{mintAddress:null===(o=m.mintInfo)||void 0===o?void 0:o.address})})]}),(0,h.jsx)(l.Typography.Title,{level:4,children:m.amount})]})})]})}),(0,h.jsx)(l.Col,{children:(0,h.jsx)(l.Card,{bordered:!1,className:"confirm-info",children:(0,h.jsx)(re,{})})}),g&&(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(l.Checkbox,{checked:d,onChange:()=>c(!d),children:"The price impact is currently high. Tick the checkbox to accept the swap."})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(te,{onCallback:()=>t(!1),forceSwap:d})})]})})},ce=()=>{const[e,t]=(0,r.useState)(!1),s=(0,n.useDispatch)(),i=$()>V.acceptableSwap;return(0,h.jsx)(l.Card,{bordered:!1,children:(0,h.jsxs)(l.Row,{gutter:[24,24],children:[(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(l.Typography.Title,{level:5,children:"Review & Swap"})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(re,{})}),(0,h.jsx)(l.Col,{span:24})," ",(0,h.jsx)(l.Col,{span:24,children:i?(0,h.jsx)(l.Button,{type:"primary",onClick:()=>t(!0),block:!0,children:"Review & Swap"}):(0,h.jsx)(te,{onCallback:()=>s(oe({amount:"",prioritized:!0}))})}),i&&(0,h.jsx)(de,{visible:e,onCancle:t})]})})},ue={address:"",icon:"",name:"TOKEN",price:0,priceChange:0,rank:0,symbol:"TOKEN",totalVolume:0},he=e=>{const[t,s]=(0,r.useState)(ue),{tokenProvider:n}=(0,i.useMint)(),a=(0,r.useCallback)((async()=>{if(!e)return s(ue);try{var t;const i=await n.findByAddress(e),r=null===i||void 0===i||null===(t=i.extensions)||void 0===t?void 0:t.coingeckoId,a=await(0,C.l$)(r);return s(a)}catch(i){return s(ue)}}),[e,n]);return(0,r.useEffect)((()=>{a()}),[a]),t},pe=({mintAddress:e,tvl:t="",price:s,format:n="0,0.[00]a"})=>(0,h.jsxs)(l.Space,{direction:"vertical",size:4,children:[(0,h.jsx)(f,{mintAddress:e}),(0,h.jsxs)(l.Space,{children:[(0,h.jsx)(l.Typography.Text,{children:"TVL:"}),(0,h.jsx)(l.Typography.Title,{level:5,children:(0,C.uR)(t).format(n)}),(0,h.jsx)(l.Typography.Title,{level:5,children:(0,h.jsx)(v,{mintAddress:e})})]}),(0,h.jsxs)(l.Typography.Text,{className:"caption",type:"secondary",children:["~ $",(0,C.uR)(s).format(n)]})]}),me=()=>{const{route:{best:e},bid:{mintInfo:t},ask:{mintInfo:s}}=(0,n.useSelector)((e=>e)),i=he(t.address),a=he(s.address),{poolData:d}=e[0]||{},{poolData:c}=e[e.length-1]||{},u=(e,t)=>{try{return o.account.isAddress(e)&&t?Z(e,t):BigInt(0)}catch(s){return BigInt(0)}},p=(0,r.useMemo)((()=>{if(!t.decimals)return 0;const e=u(t.address,d);return Number(o.utils.undecimalize(e,t.decimals))}),[t,d]),m=(0,r.useMemo)((()=>{if(!s.decimals)return 0;const e=u(s.address,c);return Number(o.utils.undecimalize(e,s.decimals))}),[s,c]);return(0,h.jsx)(l.Card,{bordered:!1,children:(0,h.jsxs)(l.Row,{gutter:[16,16],wrap:!1,children:[(0,h.jsx)(l.Col,{span:11,children:(0,h.jsx)(pe,{mintAddress:(null===t||void 0===t?void 0:t.address)||"",tvl:p,price:p*i.price})}),(0,h.jsx)(l.Col,{children:(0,h.jsx)(l.Divider,{type:"vertical",style:{height:"100%"}})}),(0,h.jsx)(l.Col,{span:11,children:(0,h.jsx)(pe,{mintAddress:(null===s||void 0===s?void 0:s.address)||"",tvl:m,price:m*a.price})})]})})};const fe=s.p+"static/media/sen.f2d012c907167ba613b035621b6423cb.svg",ge=({spacing:e=4,iconSize:t=20})=>(0,h.jsxs)(l.Space,{size:e,children:[(0,h.jsx)(l.Typography.Text,{style:{fontSize:12,color:"#7A7B85"},children:"Powered by"}),(0,h.jsx)(l.Avatar,{src:fe,size:t})]}),xe=({label:e,value:t,onClick:s,active:n=!1})=>(0,h.jsx)(l.Typography.Text,{style:{cursor:"pointer",color:n?"#F9575E":"inherit"},onClick:()=>s(t),children:e}),ye=({value:e,onChange:t})=>(0,h.jsxs)(l.Row,{gutter:[8,8],children:[(0,h.jsx)(l.Col,{span:24,children:(0,h.jsxs)(l.Row,{gutter:[8,8],wrap:!1,children:[(0,h.jsx)(l.Col,{flex:"auto",children:(0,h.jsx)(l.Typography.Text,{type:"secondary",style:{fontSize:12},children:"Slippage Tolerance"})}),(0,h.jsx)(l.Col,{children:(0,h.jsx)(l.Tooltip,{placement:"right",title:(0,h.jsxs)("span",{children:["Your transaction will be canceled if the confirmed price breaks the limited range of"," ",(0,h.jsx)("strong",{style:{color:"#f9575e"},children:100*e+"%."})]}),children:(0,h.jsx)(l.Button,{type:"text",shape:"circle",size:"small",icon:(0,h.jsx)(p,{name:"information-circle-outline"})})})})]})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(l.Row,{gutter:[8,8],wrap:!1,justify:"space-between",children:[.001,.005,.01,.05,1].map(((s,n)=>(0,h.jsx)(l.Col,{children:(0,h.jsx)(xe,{label:1===s?"Freely":100*s+"%",value:s,onClick:t,active:s===e})},n)))})})]}),ve=({value:e,onChange:t})=>(0,h.jsxs)(l.Row,{gutter:[8,8],children:[(0,h.jsx)(l.Col,{span:24,children:(0,h.jsxs)(l.Row,{gutter:[8,8],wrap:!1,children:[(0,h.jsx)(l.Col,{flex:"auto",children:(0,h.jsx)(l.Typography.Text,{type:"secondary",style:{fontSize:12},children:"Advanced Mode"})}),(0,h.jsx)(l.Col,{children:(0,h.jsx)(l.Switch,{size:"small",checkedChildren:(0,h.jsx)(p,{name:"calculator-outline"}),unCheckedChildren:(0,h.jsx)(p,{name:"sparkles-outline"}),checked:e,onChange:t})})]})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsxs)(l.Typography.Paragraph,{style:{fontSize:12,textAlign:"justify"},children:[(0,h.jsx)(p,{name:"warning-outline"})," This advanced mode will disable the automatic protection that often results in bad rates and lost funds. Only use this mode if you know what you are doing."]})})]}),je="settings",be=(0,ae.createAsyncThunk)("settings/updateSettings",(async e=>({...e}))),we=(0,ae.createSlice)({name:je,initialState:{slippage:.01,advanced:!1},reducers:{},extraReducers:e=>{e.addCase(be.fulfilled,((e,{payload:t})=>{Object.assign(e,t)}))}}).reducer,ke=()=>{const e=(0,n.useDispatch)(),{slippage:t,advanced:s}=(0,n.useSelector)((e=>e.settings));return(0,h.jsxs)(l.Row,{gutter:[4,4],justify:"end",align:"middle",wrap:!1,children:[(0,h.jsx)(l.Col,{children:(0,h.jsx)(ge,{})}),(0,h.jsx)(l.Col,{children:(0,h.jsx)(l.Divider,{type:"vertical",style:{padding:0}})}),(0,h.jsx)(l.Col,{children:(0,h.jsx)(l.Popover,{placement:"bottomRight",overlayInnerStyle:{width:300},content:(0,h.jsxs)(l.Row,{gutter:[8,8],children:[(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(l.Typography.Title,{level:5,children:"Settings"})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(ye,{value:t,onChange:t=>e(be({slippage:t}))})}),(0,h.jsx)(l.Divider,{style:{marginTop:8,marginBottom:8}}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(ve,{value:s,onChange:t=>e(be({advanced:t}))})})]}),trigger:"click",children:(0,h.jsx)(l.Button,{type:"text",shape:"circle",size:"small",icon:(0,h.jsx)(p,{name:"settings-outline"})})})})]})};var Ae=s(44891);const Ce=({onChange:e,disabled:t=!1})=>{const[s,n]=(0,r.useState)([]),[a,o]=(0,r.useState)(""),{tokenProvider:d}=(0,i.useMint)(),{pools:c}=(0,i.usePool)(),u=(0,r.useCallback)((async()=>{const e=Object.values(c).map((({mint_a:e,mint_b:t})=>[e,t])).flat().filter(((e,t,s)=>s.indexOf(e)===t)),t=Object.values(c).map((({mint_lpt:e})=>e)),s=(await Promise.all(e.map((async e=>{const s=await d.findByAddress(e);return{address:e,checked:Boolean(s)||t.includes(e)}})))).sort(((e,t)=>!e.checked&&t.checked?1:e.checked&&!t.checked?-1:0)).map((({address:e})=>e));return n(s)}),[d,c]);(0,r.useEffect)((()=>{u()}),[u]);const m=(0,r.useCallback)((async()=>{if(!a||a.length<3)return e(s);const t=(await d.find(a)).filter((({address:e})=>s.includes(e))).map((({address:e})=>e));return s.forEach((e=>{if(!t.includes(e)&&e.toLowerCase().includes(a.toLowerCase()))return t.push(e)})),e(t)}),[a,e,d,s]);return(0,r.useEffect)((()=>{m()}),[m]),(0,h.jsx)(l.Card,{className:"card-child",bodyStyle:{padding:8},bordered:!1,children:(0,h.jsx)(l.Input,{placeholder:"Search",value:a,size:"small",bordered:!1,suffix:(0,h.jsx)(l.Button,{type:"text",style:{marginRight:-7},size:"small",onClick:a?()=>o(""):()=>{},icon:(0,h.jsx)(p,{name:a?"close-outline":"search-outline"}),disabled:t}),onChange:e=>o(e.target.value),disabled:t})})},Se=({mintAddress:e,onClick:t,active:s=!1})=>(0,h.jsx)(l.Card,{className:"card-child"+(s?" active":""),bodyStyle:{padding:"8px 16px",cursor:"pointer"},bordered:s,onClick:t,hoverable:!0,children:(0,h.jsx)(l.Row,{gutter:[16,16],children:(0,h.jsx)(l.Col,{span:24,children:(0,h.jsxs)(l.Space,{size:12,style:{marginLeft:-4},children:[(0,h.jsx)(f,{mintAddress:e,size:32}),(0,h.jsx)(l.Typography.Text,{style:{margin:0},children:(0,h.jsx)(v,{mintAddress:e})}),(0,h.jsx)(l.Divider,{type:"vertical",style:{margin:0}}),(0,h.jsx)(l.Typography.Text,{type:"secondary",style:{margin:0,fontSize:12},children:(0,h.jsx)(x,{mintAddress:e})})]})})})}),Te=({value:e,onChange:t,hiddenTokens:s})=>{const[n,a]=(0,r.useState)([]),{address:d}=e.mintInfo||{},{pools:c}=(0,i.usePool)(),{getDecimals:u}=(0,i.useMint)(),p=(0,r.useCallback)((e=>o.account.isAddress(e)?Object.keys(c).filter((t=>{const{mint_a:s,mint_b:n}=c[t];return[s,n].includes(e)})):[]),[c]),m=(0,r.useCallback)((async e=>{const s=p(e),n=await u(e);return t({mintInfo:{address:e,decimals:n},poolAddresses:s})}),[p,t,u]);return(0,h.jsxs)(l.Row,{gutter:[16,16],children:[(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(l.Typography.Title,{level:5,children:"Token Selection"})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(l.Divider,{style:{margin:0}})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(Ce,{onChange:a})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(l.Row,{gutter:[16,16],style:{height:300},className:"scrollbar",children:(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(l.Row,{gutter:[16,16],children:n.map(((e,t)=>null!==s&&void 0!==s&&s.includes(e)?null:(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(Ae.ZP,{height:48,overflow:!0,children:(0,h.jsx)(Se,{mintAddress:e,onClick:()=>m(e),active:d===e})})},t)))})})})})]})},Ie=({value:e,onChange:t,hiddenTokens:s})=>{var n;const[i,o]=(0,r.useState)(!1),d=(0,a.useHistory)(),{state:c}=(0,a.useLocation)();(0,r.useEffect)((()=>{i&&setTimeout(Ae.be,500)}),[i]);const u=(null===e||void 0===e||null===(n=e.mintInfo)||void 0===n?void 0:n.address)||"";return(0,h.jsxs)(r.Fragment,{children:[(0,h.jsxs)(l.Space,{style:{cursor:"pointer"},onClick:()=>o(!0),children:[(0,h.jsx)(f,{mintAddress:u}),(0,h.jsx)(l.Typography.Text,{type:"secondary",children:(0,h.jsx)(v,{mintAddress:u})}),(0,h.jsx)(l.Divider,{type:"vertical",style:{marginLeft:4}})]}),(0,h.jsx)(l.Modal,{visible:i,onCancel:()=>o(!1),closeIcon:(0,h.jsx)(p,{name:"close"}),footer:null,destroyOnClose:!0,centered:!0,children:(0,h.jsxs)(l.Row,{gutter:[16,16],children:[(0,h.jsx)(l.Col,{span:24}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(Te,{hiddenTokens:s,value:e,onChange:e=>(o(!1),c&&d.replace({...d.location,state:{}}),t(e))})})]})})]})};let Re;const Be=(0,r.forwardRef)((({max:e,onValue:t=(()=>{}),onChange:s=(()=>{}),...n},i)=>{var a;const[o,d]=(0,r.useState)(""),[c,u]=(0,r.useState)(null),m=(0,r.useRef)(i),f=(0,r.useCallback)((s=>{const n=e=>{Re&&(clearTimeout(Re),Re=void 0),d(e),Re=setTimeout((()=>d("")),500)};return/^\d*(\.\d*)?$/.test(s)?e&&parseFloat(s)>parseFloat(e.toString())?n("Not enough balance"):t(s):n("Invalid character")}),[e,t]);return null!==c&&(null===m||void 0===m||null===(a=m.current)||void 0===a||a.setSelectionRange(c,c)),(0,h.jsx)(l.Tooltip,{title:(0,h.jsxs)(l.Space,{children:[(0,h.jsx)(p,{name:"warning"}),o]}),visible:!!o,children:(0,h.jsx)(l.Input,{...n,onChange:e=>{s(e),u(e.target.selectionStart),f(e.target.value||"")},ref:m})})}));var Me=s(63805);const De={appId:"sen_swap",url:"https://descartesnetwork.github.io/sen-swap/index.js"},Pe={devnet:{node:"https://api.devnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},testnet:{node:"https://api.testnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},mainnet:{node:"https://api.mainnet-beta.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}},ze={devnet:{bidDefault:"2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj",askDefault:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ"},testnet:{bidDefault:"2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj",askDefault:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ"},mainnet:{bidDefault:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",askDefault:"SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M"}},Le={devnet:{wormholeAddress:"rRsXLHe7sBHdyKU3KY3wbcgWvoT1Ntqudf6e9PKusgb"},testnet:{wormholeAddress:"rRsXLHe7sBHdyKU3KY3wbcgWvoT1Ntqudf6e9PKusgb"},mainnet:{wormholeAddress:"rRsXLHe7sBHdyKU3KY3wbcgWvoT1Ntqudf6e9PKusgb"}},Ne={devnet:{assetsRoute:"/app/sen_assets"},testnet:{assetsRoute:"/app/sen_assets"},mainnet:{assetsRoute:"/app/sen_assets"}},Ee={manifest:{development:{...De},staging:{...De},production:{...De}}[Me.OB],sol:Pe[Me.ef],swap:ze[Me.ef],wormhole:Le[Me.ef],route:Ne[Me.ef]},qe=(0,ae.createAsyncThunk)("ask/updateAskData",(async({prioritized:e,reset:t,...s},{getState:n})=>{const{bid:{priority:i},ask:{priority:r}}=n();Number(s.amount)<0&&(s.amount="");const a=t?0:e?i+1:r;return{...s,priority:a}})),_e=(0,ae.createSlice)({name:"ask",initialState:{amount:"",mintInfo:{address:"",decimals:0},accountAddress:"",poolAddresses:[],priority:0},reducers:{},extraReducers:e=>{e.addCase(qe.fulfilled,((e,{payload:t})=>{Object.assign(e,t)}))}}).reducer,Ue={accountAddress:"",poolAddresses:[]},Fe=e=>{const{wallet:t}=(0,i.useWallet)(),{tokenProvider:s}=(0,i.useMint)(),{pools:n}=(0,i.usePool)(),[a,l]=(0,r.useState)(Ue),d=(0,r.useCallback)((async()=>{if(!o.account.isAddress(e)||!Object.keys(n).length)return l(Ue);const i=await s.findByAddress(e);if(!i)return l(Ue);const{splt:r}=window.sentre,a=await r.deriveAssociatedAddress(t.address,e),d=Object.keys(n).filter((t=>{const{mint_a:s,mint_b:i}=n[t];return[s,i].includes(e)}));l({accountAddress:a,mintInfo:i,poolAddresses:d})}),[e,n,s,t.address]);return(0,r.useEffect)((()=>{d()}),[d]),a},We=()=>{var e;const t=(0,n.useDispatch)(),{wallet:s}=(0,i.useWallet)(),{ask:{amount:d,accountAddress:c,mintInfo:u,poolAddresses:p},bid:{mintInfo:{address:m}}}=(0,n.useSelector)((e=>e)),{state:f}=(0,a.useLocation)(),{balance:g}=H(c),x=Fe(Ee.swap.askDefault),y=null===f||void 0===f?void 0:f.poolAddress;(0,r.useEffect)((()=>{o.account.isAddress(c)||o.account.isAddress(y)||t(qe(x))}),[c,t,y,x]);const j=(0,r.useMemo)((()=>({mintInfo:u,poolAddresses:p})),[u,p]);return(0,h.jsxs)(l.Row,{gutter:[8,8],children:[(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(l.Typography.Text,{children:"To"})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(Be,{placeholder:"0",value:d,onValue:e=>t(qe({amount:e,prioritized:!0})),size:"large",prefix:(0,h.jsx)(Ie,{hiddenTokens:[m],value:j,onChange:async e=>{const{splt:n}=window.sentre,{address:i}=e.mintInfo||{};if(!o.account.isAddress(i))return t(qe({amount:"",prioritized:!0,...e}));const r=await n.deriveAssociatedAddress(s.address,i);t(qe({amount:"",prioritized:!0,accountAddress:r,...e}))}})})}),(0,h.jsx)(l.Col,{flex:"auto"}),(0,h.jsx)(l.Col,{children:(0,h.jsxs)(l.Space,{className:"caption",children:[(0,h.jsx)(l.Typography.Text,{type:"secondary",children:"Available:"}),(0,h.jsx)(l.Typography.Text,{type:"secondary",children:(0,C.uR)(g).format("0,0.[00]")}),(0,h.jsx)(l.Typography.Text,{type:"secondary",children:(0,h.jsx)(v,{mintAddress:(null===(e=j.mintInfo)||void 0===e?void 0:e.address)||""})})]})})]})};var Ye=s(52222),He=s(53933);const Ze={mainnet:"worm2ZoG2kUd4vFXhvjh93UUH596ayRfgQ2MgjNMTth",testnet:"Brdguy7BmNB4qwEbcqqMbyV5CyJd2sxQNUn6NEpMSsUb",devnet:"3u8hJUVTA4jH1wYAyUur7FFZVQ8H635K3tSHHF4ssjQ5"},Ge={mainnet:"wormDTUJ6AWPNvk59vGQbDvGJmqbDTdgWgAqcLBCgUb",testnet:"A4Us8EhCC76XdGAN17L4KpRNEK423nMivVHZzZqFqqBg",devnet:"DZnkkTmCiFWfYTfT41X3Rd1kDgozqzxWaHqsw6W4x2oe"},Oe=()=>He.Z.get("network")||"mainnet",Qe=async e=>{const t=(()=>{const e=Oe();return{chainId:Ye.rQ,tokenBridgeAddress:Ge[e],bridgeAddress:Ze[e]}})();return(0,Ye._b)(window.sentre.splt.connection,t.tokenBridgeAddress,e)},Ke="#F9575E",Ve=()=>{const e=(0,r.lazy)((()=>s.e(662).then(s.t.bind(s,31662,23)).then((e=>({default:e.FrameWormhole})))));return(0,h.jsx)(r.Suspense,{fallback:"Loading...",children:(0,h.jsx)(e,{})})},Je=()=>{const[e,t]=(0,r.useState)(!1),{bid:{mintInfo:s}}=(0,n.useSelector)((e=>e)),{address:i}=s||{};return(0,r.useEffect)((()=>{(async()=>{if(!o.account.isAddress(i))return t(!1);const e=await Qe(i);t(e)})()}),[i]),e?(0,h.jsx)(l.Popover,{overlayInnerStyle:{background:"transparent",width:375,boxShadow:"none"},trigger:"click",content:(0,h.jsx)(Ve,{}),children:(0,h.jsx)(l.Tag,{style:{margin:0,borderRadius:4,color:(0,C.p)(Ke),cursor:"pointer"},color:(0,C.p)(Ke,.2),children:"Wormhole Bridge"})}):null},{swap:{bidDefault:Xe}}=Ee,$e=()=>{var e;const t=(0,n.useDispatch)(),{wallet:{address:s,lamports:d}}=(0,i.useWallet)(),{bid:{amount:c,accountAddress:u,mintInfo:p,poolAddresses:m},ask:{mintInfo:{address:f}}}=(0,n.useSelector)((e=>e)),{amount:g}=H(u),x=Fe(Xe),{state:y}=(0,a.useLocation)(),j=null===y||void 0===y?void 0:y.poolAddress,{address:b,decimals:w}=p;(0,r.useEffect)((()=>{o.account.isAddress(u)||o.account.isAddress(j)||t(oe(x))}),[u,t,j,x]);const k=(0,r.useMemo)((()=>({mintInfo:p,poolAddresses:m})),[p,m]),A=(0,r.useMemo)((()=>{if(b!==o.DEFAULT_WSOL)return o.utils.undecimalize(g,w);const e=o.utils.decimalize(.01,w),t=d+g-e;return t<=g?o.utils.undecimalize(g,w):o.utils.undecimalize(t,w)}),[g,w,d,b]),S=e=>t(oe({amount:e,prioritized:!0}));return(0,h.jsxs)(l.Row,{gutter:[8,8],children:[(0,h.jsx)(l.Col,{flex:"auto",children:(0,h.jsx)(l.Typography.Text,{children:"From"})}),(0,h.jsx)(l.Col,{children:(0,h.jsx)(Je,{})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(Be,{placeholder:"0",value:c,onValue:S,size:"large",prefix:(0,h.jsx)(Ie,{hiddenTokens:[f],value:k,onChange:async e=>{const{splt:n}=window.sentre,{address:i}=e.mintInfo||{};if(!o.account.isAddress(i))return t(oe({amount:"",prioritized:!0,...e}));const r=await n.deriveAssociatedAddress(s,i);return t(oe({amount:"",prioritized:!0,accountAddress:r,...e}))}}),suffix:(0,h.jsx)(l.Button,{type:"text",size:"small",style:{fontSize:12,marginRight:-7},onClick:()=>S(A),children:"MAX"})})}),(0,h.jsx)(l.Col,{flex:"auto"}),(0,h.jsx)(l.Col,{children:(0,h.jsxs)(l.Space,{className:"caption",children:[(0,h.jsx)(l.Typography.Text,{type:"secondary",children:"Available:"}),(0,h.jsx)(l.Typography.Text,{type:"secondary",children:(0,C.uR)(A||0).format("0,0.[00]")}),(0,h.jsx)(l.Typography.Text,{type:"secondary",children:(0,h.jsx)(v,{mintAddress:(null===(e=k.mintInfo)||void 0===e?void 0:e.address)||""})})]})})]})},et="route",tt={amount:BigInt(0),amounts:[],best:[]},st=(0,ae.createAsyncThunk)("route/updateRoute",(async(e,{getState:t})=>{const{route:s}=t();return e?{...s,...e}:{...s}})),nt=(0,ae.createSlice)({name:et,initialState:tt,reducers:{},extraReducers:e=>{e.addCase(st.fulfilled,((e,{payload:t})=>{Object.assign(e,t)}))}}).reducer,it=({spacing:e=12})=>{var t,s;const d=(0,n.useDispatch)(),[c,u]=(0,r.useState)({best:[],amounts:[],amount:BigInt(0)}),{bid:m,ask:f}=(0,n.useSelector)((e=>e)),{pools:g}=(0,i.usePool)(),{state:x}=(0,a.useLocation)(),y=null===x||void 0===x?void 0:x.poolAddress,v=null===x||void 0===x?void 0:x.originalRoute,j=(0,r.useCallback)((async()=>{const{amount:e,priority:t,...s}=m,{amount:n,priority:i,...r}=f,a=t>i?e:n,o=t>i?qe:oe;await d(oe({...r,amount:"",reset:!0})),await d(qe({...s,amount:"",reset:!0})),await d(o({amount:a,prioritized:!0}))}),[d,f,m]),b=(0,r.useCallback)((async()=>{const{poolAddresses:e,mintInfo:{address:t},amount:s,priority:n}=m,{poolAddresses:i,mintInfo:{address:r},amount:a,priority:l}=f;let d={best:[],amounts:[],amount:BigInt(0)};if(!Number(s)&&!Number(a)||!o.account.isAddress(t)||!o.account.isAddress(r)||!e.length||!i.length)return u(d);let c=G((e=>{const t=new Map;for(const s in e){const n=e[s];1===(null===n||void 0===n?void 0:n.state)&&[n.mint_a,n.mint_b].forEach((e=>{var i;t.has(e)||t.set(e,new Map),null===(i=t.get(e))||void 0===i||i.set(s,n)}))}return t})(g),t,r);return c.length?(v&&(c=c.filter((e=>1===e.length&&e[0].poolData.address===y))),d=l<n?((e,{amount:t,mintInfo:s})=>{let n={best:[],amounts:[],amount:BigInt(0)};return e.forEach((e=>{let i=o.utils.decimalize(t,s.decimals);const r=new Array;e.forEach((e=>{r.push(i),i=Q(i,e)}));const a=n.amount;i>a&&(n={best:e,amounts:r,amount:i})})),n})(c,m):((e,{amount:t,mintInfo:s})=>{let n={best:[],amounts:[],amount:BigInt(0)};for(const i of e){const e=[...i].reverse();let r=o.utils.decimalize(t,s.decimals);const a=new Array;for(const t of e){if(r=K(r,t),r<=BigInt(0))break;a.unshift(r)}if(r<=BigInt(0))continue;const l=n.amount;(r<l||!l)&&(n={best:i,amounts:a,amount:r})}return n})(c,f),u(d)):u(d)}),[f,m,v,y,g]),w=(0,r.useCallback)((()=>{const e=m.priority,t=f.priority;t<e&&d(qe({amount:o.utils.undecimalize(c.amount,f.mintInfo.decimals)})),e<t&&d(oe({amount:o.utils.undecimalize(c.amount,m.mintInfo.decimals)})),d(st({...c}))}),[f.priority,c,m.priority,d,null===(t=m.mintInfo)||void 0===t?void 0:t.decimals,null===(s=f.mintInfo)||void 0===s?void 0:s.decimals]);return(0,r.useEffect)((()=>{w()}),[w]),(0,r.useEffect)((()=>{b()}),[b]),(0,h.jsxs)(l.Row,{gutter:[e,e],justify:"center",children:[(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)($e,{})}),(0,h.jsx)(l.Col,{children:(0,h.jsx)(l.Button,{size:"small",icon:(0,h.jsx)(p,{name:"git-compare-outline"}),onClick:j})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(We,{})})]})},rt=()=>(0,h.jsxs)(l.Row,{gutter:[24,24],children:[(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(l.Row,{gutter:[8,8],justify:"end",align:"middle",wrap:!1,children:(0,h.jsx)(l.Col,{children:(0,h.jsx)(ke,{})})})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(it,{})})]}),at=()=>(0,h.jsxs)(l.Row,{gutter:[24,24],children:[(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(l.Card,{bordered:!1,className:"card-swap",children:(0,h.jsx)(rt,{})})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(ce,{})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(me,{})})]}),ot={success:[20,224,65],pending:[212,177,6],error:[215,35,17],failed:[215,35,17]},lt=({tag:e})=>{const t=t=>{let s=ot[e];return`rgba(${s[0]},  ${s[1]}, ${s[2]},${t||1})`};return(0,h.jsx)(l.Tag,{style:{margin:0,borderRadius:4,color:t(),textTransform:"capitalize"},color:t(.1),children:e})},dt="0,00.[0000]a",ct=[{title:"TIME",dataIndex:"time"},{title:"TRANSACTION",dataIndex:"transactionId",render:e=>(0,h.jsxs)(l.Space,{align:"baseline",children:[(0,h.jsx)(l.Typography.Text,{onClick:()=>window.open((0,C.kU)(e),"_blank"),style:{fontWeight:700,cursor:"pointer"},children:(0,C.Xn)(e,3,"...")}),(0,h.jsx)(l.Button,{type:"text",size:"small",onClick:()=>window.open((0,C.kU)(e),"_blank"),icon:(0,h.jsx)(p,{name:"open-outline"})})]})},{title:"BID",dataIndex:"bid",render:(e,t)=>t.from?(0,h.jsxs)(l.Space,{size:8,children:[(0,h.jsx)(f,{mintAddress:t.from}),(0,C.uR)(t.amountFrom).format(dt),(0,h.jsx)(v,{mintAddress:t.from})]}):"--"},{title:"ASK",dataIndex:"ask",render:(e,t)=>t.to?(0,h.jsxs)(l.Space,{size:8,children:[(0,h.jsx)(f,{mintAddress:t.to}),(0,C.uR)(t.amountTo).format(dt),(0,h.jsx)(v,{mintAddress:t.to})]}):"--"},{title:"STATUS",dataIndex:"status",width:100,render:(e,t)=>(0,h.jsx)(lt,{tag:t.status})}];var ut=s(55852),ht=s(68532),pt=s.n(ht);class mt{constructor(){this.programId="",this.programInfo=void 0,this.signature="",this.blockTime=0,this.time=0,this.owner="",this.actionType="",this.actionTransfers=[],this.programTransfer=[]}}class ft{constructor(){this.address="",this.mint="",this.decimals=0,this.preBalance="0",this.postBalance="0"}}class gt{constructor(){this.source=void 0,this.destination=void 0,this.amount="0"}}var xt=s(71256);const yt=700;class vt{constructor(){this.conn=window.sentre.splt.connection}async fetchSignatures(e,t,s=700){s>yt&&(s=yt);const n={limit:s,before:t};return this.conn.getConfirmedSignaturesForAddress2(e,n)}async fetchConfirmTransaction(e){let t=[];const s=[];for(let i=0;i<=e.length/150;i++){const t=150*i,n=e.slice(t,t+150);s.push(this.conn.getParsedConfirmedTransactions(n))}const n=await Promise.all(s);for(const i of n)t=t.concat(i);return t}async fetchTransactions(e,t){const s=(new Date).getTime()/1e3;let{secondFrom:n,secondTo:i,lastSignature:r,limit:a}=t;n=Math.floor(n||0),i=Math.floor(i||s);const o=new xt.PublicKey(e);let l=[],d=!1;for(;!d;){const e=await this.fetchSignatures(o,r,a);if(null===e||void 0===e||!e.length||d)break;for(const t of e){const e=t.blockTime;if(e&&!(e>i)){if(e<n){d=!0;break}r=t.signature,l.push(t.signature)}}if(a&&l.length>=a)break;if((null===e||void 0===e?void 0:e.length)<yt)break}return await this.fetchConfirmTransaction(l)}}let jt;!function(e){e.Transfer="transfer"}(jt||(jt={}));const bt=1e3;let wt;!function(e){e.YMD="YYYYMMDD",e.SortableTimePattern="YYYY-MM-DD HH:mm:ss"}(wt||(wt={}));class kt{constructor(){this.milliSeconds=(new Date).valueOf()}setMilliSeconds(e){this.milliSeconds=e}static fromSeconds(e){const t=new kt,s=e*bt;return t.setMilliSeconds(s),t}static fromYmd(e){const t=new kt,s=c()(e,wt.YMD).valueOf();return t.setMilliSeconds(s),t}static getListDate(e,t){const s=[];let n=kt.fromYmd(e);const i=kt.fromYmd(t);for(;n.ymd()<=i.ymd();)s.push(n.ymd()),n=n.addDay();return s}format(e){const t=new Date(this.milliSeconds);return c()(t).format(e)}subtractDay(e=1){const t=c()(this.milliSeconds).subtract(e,"days").valueOf();return kt.fromSeconds(t/bt)}addDay(e=1){const t=c()(this.milliSeconds).add(e,"days").valueOf();return kt.fromSeconds(t/bt)}seconds(){return(this.milliSeconds-this.milliSeconds%bt)/bt}ymd(){return Number(this.format(wt.YMD))}static today(e=wt.YMD){return c()().format(e)}}var At=s(97429).Buffer;const{struct:Ct}=s(70320),St={key:"code",type:"u8"};let Tt;!function(e){e.Route="SWAP"}(Tt||(Tt={}));const It={8:Tt.Route};class Rt extends class{constructor(){this.solana=void 0,this.parseAction=e=>"",this.solana=new vt}async collect(e,t,s){let{lastSignature:n,limit:i}=t,r=!1,a=[],o=n;for(;!r;){const n=await this.solana.fetchTransactions(e,{...t,lastSignature:o});for(const e of n){o=e.transaction.signatures[0];const t=this.parseTransLog(e);t&&a.push(t)}if(!s)break;if(a=a.filter((e=>s(e))),!n.length||r)break;if(i&&a.length>=i){r=!0;break}}return a}parseTransLog(e){var t,s;const{blockTime:n,meta:i,transaction:r}=e;if(!n||!i)return;const{postTokenBalances:a,preTokenBalances:o,postBalances:l,preBalances:d}=i,{signatures:c,message:u}=r,h=(null===(t=i.innerInstructions)||void 0===t||null===(s=t[0])||void 0===s?void 0:s.instructions)||[],p=u.instructions[0]||[],m=new mt;m.signature=c[0],m.blockTime=n,m.time=kt.fromSeconds(n).ymd(),m.programId=p.programId.toString();const f=this.parseAccountInfo(u.accountKeys,a||[],o||[],l,d);return this.isParsedInstruction(p)?(m.programTransfer=this.parseListActionTransfer([p],f),m):(m.actionTransfers=this.parseListActionTransfer(h,f),m.programInfo={programId:p.programId.toString(),data:p.data},m.actionType=this.parseAction(m),m)}isParsedInstruction(e){return void 0!==e.parsed}parseListActionTransfer(e,t){const s=[];for(const n of e){if(!this.isParsedInstruction(n))continue;const e=n.parsed||{};if(e.type===jt.Transfer){const n=e.info,i=this.parseActionTransfer(n,t);i&&s.push(i)}}return s}parseActionTransfer(e,t){const{source:s,destination:n,amount:i,lamports:r}=e,a=i||r.toString();if(!a||!t.has(s)||!t.has(n))return;const o=new gt;return o.source=t.get(s),o.destination=t.get(n),o.amount=a,o}parseAccountInfo(e,t,s,n,i){const r=new Map;for(const a of t){const{accountIndex:t,mint:s,uiTokenAmount:n}=a,i=new ft;i.address=e[t].pubkey.toString(),i.postBalance=n.amount,i.mint=s,i.decimals=n.decimals,r.set(i.address,i)}for(const a of s){const{accountIndex:t,uiTokenAmount:s}=a,n=e[t].pubkey.toString(),i=r.get(n)||new ft;i.preBalance=s.amount,r.set(i.address,i)}return e.forEach(((e,t)=>{const s=e.pubkey.toString();if(!o.account.isAssociatedAddress(s)){const e=r.get(s)||new ft;e.address=s,e.mint="11111111111111111111111111111111",e.postBalance=String(n[t]||0),e.preBalance=String(i[t]||0),e.decimals=9,r.set(e.address,e)}})),r}}{constructor(...e){super(...e),this.parseAction=e=>{var t;const s=null===(t=e.programInfo)||void 0===t?void 0:t.data;if(!s)return"";const n=pt().decode(s),i=new Ct([St]).fromBuffer(At.from(n));return It[i.code]||""}}}const Bt="history",Mt=e=>!!e.actionTransfers.length&&"SWAP"===e.actionType,Dt=(0,ae.createAsyncThunk)("history/fetchHistorySwap",(async({lastSignature:e,isLoadMore:t},{getState:s})=>{var n;const{sol:{swapAddress:i}}=ut.Z,{history:{historySwap:r}}=s(),a=await(null===(n=window.sentre.wallet)||void 0===n?void 0:n.getAddress());if(!a)throw Error("Loggin first");const l={limit:20,lastSignature:e},d=new Rt,u=await d.collect(a,l,Mt);let h=[];t&&(h=[...r]);for(const y of u){var p,m,f,g,x;if(!y.actionType)continue;const e={},t=y.actionTransfers;let s;const n=t[0];t.length>1&&(s=t[t.length-1]);if(y.programId!==i)continue;const r=new Date(1e3*y.blockTime);e.time=c()(r).format("MMM DD, YYYY HH:mm"),e.amountFrom=n.destination?Number(o.utils.undecimalize(BigInt(n.amount),n.destination.decimals)):void 0,e.amountTo=null!==(p=s)&&void 0!==p&&p.destination?Number(o.utils.undecimalize(BigInt(s.amount),s.destination.decimals)):void 0,e.from=null===(m=n.destination)||void 0===m?void 0:m.mint,e.to=null===(f=s)||void 0===f||null===(g=f.destination)||void 0===g?void 0:g.mint,e.transactionId=y.signature,e.key=y.signature,e.status=n.destination&&null!==(x=s)&&void 0!==x&&x.destination?"success":"failed",h.push(e)}return{historySwap:h}})),Pt=(0,ae.createSlice)({name:Bt,initialState:{historySwap:[]},reducers:{},extraReducers:e=>{e.addCase(Dt.fulfilled,((e,{payload:t})=>{Object.assign(e,t)}))}}).reducer,zt=()=>{const[e,t]=(0,r.useState)(5),[s,i]=(0,r.useState)(!1),{historySwap:a}=(0,n.useSelector)((e=>e.history)),o=(0,n.useDispatch)(),d=(0,r.useCallback)((async()=>{i(!0),await o(Dt({})).unwrap(),i(!1)}),[o]);(0,r.useEffect)((()=>{d()}),[d]);const c=(0,r.useMemo)((()=>e>5?{height:"auto"}:{height:462}),[e]);return(0,h.jsx)(l.Card,{bordered:!1,style:{...c},children:(0,h.jsxs)(l.Row,{gutter:[16,24],children:[(0,h.jsx)(l.Col,{flex:"auto",children:(0,h.jsx)(l.Typography.Title,{level:5,children:"Swap history"})}),(0,h.jsx)(l.Col,{children:(0,h.jsx)(l.Button,{onClick:()=>{d(),t(5)},children:"Refresh"})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsxs)(l.Row,{justify:"center",gutter:[16,9],children:[(0,h.jsx)(l.Col,{span:24,style:{minHeight:310},children:(0,h.jsx)(l.Table,{columns:ct,dataSource:a.slice(0,e),loading:s,pagination:!1,rowClassName:(e,t)=>t%2?"odd-row":"even-row",scroll:{x:800}})}),(0,h.jsx)(l.Col,{children:(0,h.jsx)(l.Button,{onClick:()=>{const s=a.slice(0,e).length;if(a.length-s<=15){var n;const e=null===(n=a[a.length-1])||void 0===n?void 0:n.transactionId;o(Dt({lastSignature:e,isLoadMore:!0}))}t(e+5)},type:"text",icon:(0,h.jsx)(p,{name:"chevron-down-outline"}),disabled:e>=a.length,children:"View more"})})]})})]})})},Lt=()=>{const{pools:e}=(0,i.usePool)(),t=(0,n.useDispatch)(),{state:s}=(0,a.useLocation)(),[d,c]=(0,r.useState)(""),[u,p]=(0,r.useState)(""),m=Fe(d),f=Fe(u),g=null===s||void 0===s?void 0:s.poolAddress,x=(0,r.useCallback)((()=>{if(!o.account.isAddress(g))return;const t=e[g];t&&(c(null===t||void 0===t?void 0:t.mint_a),p(null===t||void 0===t?void 0:t.mint_b))}),[g,e]);return(0,r.useEffect)((()=>{x()}),[x]),(0,r.useEffect)((()=>{o.account.isAddress(m.accountAddress)&&o.account.isAddress(f.accountAddress)&&(t(oe(m)),t(qe(f)))}),[f,m,t]),(0,h.jsxs)(l.Row,{gutter:[24,24],style:{paddingBottom:12},children:[(0,h.jsx)(l.Col,{lg:8,md:12,xs:24,children:(0,h.jsx)(at,{})}),(0,h.jsx)(l.Col,{lg:16,md:12,xs:24,children:(0,h.jsxs)(l.Row,{gutter:[24,24],children:[(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(U,{})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(zt,{})})]})})]})},Nt=()=>{const[e,t]=(0,r.useState)(!1),{route:{best:s},bid:{amount:i},ask:{amount:a}}=(0,n.useSelector)((e=>e)),o=$(),d=X(),c=!s.length||!Number(i)||!Number(a);return(0,h.jsxs)(l.Row,{gutter:[12,12],children:[(0,h.jsx)(l.Col,{span:24,children:(0,h.jsx)(it,{spacing:12})}),(0,h.jsx)(l.Col,{span:24,children:(0,h.jsxs)(l.Row,{align:"bottom",children:[(0,h.jsx)(l.Col,{flex:"auto",children:(0,h.jsx)(l.Popover,{placement:"bottomLeft",content:(0,h.jsx)(re,{}),trigger:"click",children:(0,h.jsxs)(l.Space,{style:{cursor:"pointer"},direction:"vertical",size:4,children:[(0,h.jsxs)(l.Space,{children:[(0,h.jsx)(l.Typography.Text,{children:(0,h.jsx)(p,{name:"information-circle-outline",style:{color:"#7A7B85"}})}),(0,h.jsx)(l.Typography.Text,{type:"secondary",children:"Price impact"})]}),(0,h.jsx)(l.Typography.Text,{style:{color:d},children:(0,C.uR)(Number(o)).format("0.[0000]%")})]})})}),(0,h.jsx)(l.Col,{children:(0,h.jsx)(l.Button,{onClick:()=>t(!0),size:"large",block:!0,type:"primary",disabled:c,children:"Review & Swap"})})]})}),(0,h.jsx)(de,{visible:e,onCancle:t})]})};var Et=s(85912);const qt=(0,ae.configureStore)({middleware:e=>e(Et.h),devTools:(0,Et.$)("sen_swap"),reducer:{ask:_e,bid:le,settings:we,route:nt,history:Pt}}),{manifest:{appId:_t}}=Ee,Ut=()=>(0,h.jsx)(i.UIProvider,{appId:_t,antd:!0,children:(0,h.jsx)(i.MintProvider,{children:(0,h.jsx)(i.PoolProvider,{children:(0,h.jsx)(i.AccountProvider,{children:(0,h.jsx)(i.WalletProvider,{children:(0,h.jsx)(n.Provider,{store:qt,children:(0,h.jsx)(Lt,{})})})})})})}),Ft={size:"small",type:"solid"},Wt=()=>(0,h.jsx)(i.UIProvider,{appId:_t,antd:!0,children:(0,h.jsx)(i.MintProvider,{children:(0,h.jsx)(i.PoolProvider,{children:(0,h.jsx)(i.AccountProvider,{children:(0,h.jsx)(i.WalletProvider,{children:(0,h.jsx)(n.Provider,{store:qt,children:(0,h.jsx)(Nt,{})})})})})})})},55852:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var n=s(63805);const i={spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},r={devnet:{...i,node:"https://api.devnet.solana.com",chainId:103,sntrAddress:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ",sntrPoolAddress:"3EUPL7YQLbU6DNU5LZeQeHPXTf1MigJ2yASXA9rH5Ku4",swapAddress:"4erFSLP7oBFSVC1t35jdxmbfxEhYCKfoM6XdG2BLR3UF",taxmanAddress:"8UaZw2jDhJzv5V53569JbCd3bD4BnyCfBH3sjwgajGS9"},testnet:{...i,node:"https://api.testnet.solana.com",chainId:102,sntrAddress:"",sntrPoolAddress:"",swapAddress:"",taxmanAddress:""},mainnet:{...i,node:"https://api.mainnet-beta.solana.com",chainId:101,sntrAddress:"SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M",sntrPoolAddress:"Aa3WZX7Xunfebp2MuAcz9CNw8TYTDL7mVrmb11rjyVm6",swapAddress:"SSW7ooZ1EbEognq5GosbygA3uWW1Hq1NsFq6TsftCFV",taxmanAddress:"9doo2HZQEmh2NgfT3Yx12M89aoBheycYqH1eaR5gKb3e"}};const a="sen_swap",o={[a]:{url:"https://descartesnetwork.github.io/sen-swap/index.js",appId:a,name:"Sen Swap",author:{name:"Sentre",email:"hi@sentre.io"},supportedViews:"page,widget".split(",").map((e=>e.trim())).filter((e=>["page","widget"].includes(e))),tags:"solana,dapps,sentre".split(",").map((e=>e.trim())),description:"SPLT Swap for SPL tokens",verified:!1}},l={development:{defaultAppId:a,extra:o,senreg:"https://descartesnetwork.github.io/senreg/register.json"},staging:{defaultAppId:a,extra:o,senreg:"https://descartesnetwork.github.io/senreg/register.json"},production:{defaultAppId:a,extra:{},senreg:"https://descartesnetwork.github.io/senreg/register.json"}},d={sol:r[n.ef],register:l[n.OB]}},20418:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var n=s(11796),i=s(67845),r=s(63805),a=s(55852);const o=e=>({symbol:"SOL",name:"Solana",address:"11111111111111111111111111111111",decimals:9,chainId:e,extensions:{coingeckoId:"solana"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"}),l=e=>({symbol:"SNTR",name:"Sentre",address:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ",decimals:9,chainId:e,extensions:{coingeckoId:"sentre"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M/logo.png"}),d=[o(103),l(103),{symbol:"wBTC",name:"Wrapped Bitcoin",address:"8jk4eJymMfNZV9mkRNxJEt2VJ3pRvdJvD5FE94GXGBPM",decimals:9,chainId:103,extensions:{coingeckoId:"bitcoin"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/qfnqNqs3nCAHjnyCgLRDbBtq4p2MtHZxw8YjSyYhPoL/logo.png"},{symbol:"wETH",name:"Ethereum",address:"27hdcZv7RtuMp75vupThR3T4KLsL61t476eosMdoec4c",decimals:9,chainId:103,extensions:{coingeckoId:"ethereum"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/FeGn77dhg1KXRRFeSwwMiykZnZPw5JXW6naf2aQgZDQf/logo.png"},{symbol:"UNI",name:"Uniswap",address:"FVZFSXu3yn17YdcxLD72TFDUqkdE5xZvcW18EUpRQEbe",decimals:9,chainId:103,extensions:{coingeckoId:"uniswap"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/3MVa4e32PaKmPxYUQ6n8vFkWtCma68Ld7e7fTktWDueQ/logo.png"},{symbol:"USDC",name:"USD Coin",address:"2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj",decimals:9,chainId:103,extensions:{coingeckoId:"usd-coin"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png"}],{sol:{chainId:c}}=a.Z,u=/[\W_]+/g,h={tokenize:"full",context:!0,minlength:3},p={document:{id:"address",index:[{field:"symbol",...h},{field:"name",...h}]}};const m=class{constructor(){this.tokenMap=void 0,this.engine=void 0,this.chainId=void 0,this.cluster=void 0,this.loading=void 0,this.queue=void 0,this._init=async()=>this.tokenMap.size?[this.tokenMap,this.engine]:new Promise((async e=>{if(this.loading)return this.queue.push(e);this.loading=!0;let t=await(await(new i.DK).resolve()).filterByChainId(this.chainId).getList();for("devnet"===this.cluster&&(t=t.concat(d)),t="testnet"===this.cluster?t.concat([l(102),o(102)]):t.concat([o(101)]),t.forEach((e=>this.tokenMap.set(e.address,e))),this.engine=new n.Document(p),this.tokenMap.forEach((({address:e,...t})=>this.engine.add(e,t))),e([this.tokenMap,this.engine]);this.queue.length;)this.queue.shift()([this.tokenMap,this.engine]);this.loading=!1})),this.all=async()=>{const[e]=await this._init();return Array.from(e.values())},this.findByAddress=async e=>{const[t]=await this._init();return t.get(e)},this.find=async(e,t)=>{const[s,n]=await this._init();let i=[];return e.split(u).forEach((e=>n.search(e,t).forEach((({result:e})=>e.forEach((e=>{if(i.findIndex((({address:t})=>t===e))<0){const t=s.get(e);t&&i.push(t)}})))))),i},this.tokenMap=new Map,this.engine=void 0,this.chainId=c,this.cluster=r.ef,this.loading=!1,this.queue=[],this._init()}}},67751:(e,t,s)=>{"use strict";s.d(t,{U:()=>i});var n=s(15822);class i{static set(e,t,s=n.qf){this.mapCache.set(e,t),setTimeout((()=>{this.mapCache.delete(e)}),s.ttl)}static get(e){return this.mapCache.get(e)}}i.mapCache=new Map},15822:(e,t,s)=>{"use strict";s.d(t,{qf:()=>n,Dt:()=>i});const n={ttl:3e4},i={limit:{calls:10,time:1e3},cache:n}},21411:(e,t,s)=>{"use strict";s.d(t,{R:()=>a});var n=s(15822),i=s(85964),r=s(67751);class a{static getSingleFlight(e){const t=JSON.stringify(e);if(this.mapInstance.has(t)){const e=this.mapInstance.get(t);if(e)return e}let s=new o(e);return this.mapInstance.set(t,s),s}static async load(e,t,s={}){"object"===typeof e&&(e=JSON.stringify(e));let n=a.getSingleFlight(s);a.mapInstance.set(e,n);const r=new i.g(e);return n.load(r,t)}}a.mapInstance=new Map;class o{constructor(e){this.config=void 0,this.intervalRequest=void 0,this.timeLogs=[],this.mapRequestCalling=new Map,this.requestQueue=[],this.config=Object.assign(n.Dt,e)}async load(e,t){const s=r.U.get(e.key);if(s)return Promise.resolve(s);let n=!1,i=this.mapRequestCalling.get(e.key);return i||(i=e,n=!0,this.mapRequestCalling.set(i.key,i)),new Promise(((e,s)=>{if(!i)return s("Not found request!");i.add(e,s),n&&this.fetch(i,t)}))}fetch(e,t){if(!this.validateLimit())return this.addRequestQueue(e,t);this.createTimeLogs(),t().then((t=>{r.U.set(e.key,t,this.config.cache),e.resolves(t)})).catch((t=>{e.rejects(t)})).finally((()=>{this.mapRequestCalling.delete(e.key),this.fetchRequestQueue(t)}))}fetchRequestQueue(e){if(!this.validateLimit())return;const t=this.requestQueue.shift();t&&this.load(t,e),0===this.requestQueue.length&&this.intervalRequest&&clearInterval(this.intervalRequest)}addRequestQueue(e,t){var s;this.requestQueue.push(e),this.intervalRequest=setInterval((()=>{this.fetchRequestQueue(t)}),null===(s=this.config.limit)||void 0===s?void 0:s.time)}validateLimit(){return!0}createTimeLogs(){var e;if(!this.config.limit)return;const t=(new Date).getTime();this.timeLogs.push(t),this.timeLogs.length>(null===(e=this.config.limit)||void 0===e?void 0:e.calls)&&this.timeLogs.shift()}}},85964:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});class n{constructor(e){this.key="",this.resolveQueue=[],this.rejectQueue=[],this.key=e}add(e,t){this.resolveQueue.push(e),this.rejectQueue.push(t)}resolves(e){for(;this.resolveQueue.length>0;){this.resolveQueue.shift()(e)}}rejects(e){for(;this.rejectQueue.length>0;){this.rejectQueue.shift()(e)}}}},85912:(e,t,s)=>{"use strict";s.d(t,{$:()=>n,h:()=>i});const n=e=>!1;BigInt.prototype.toJSON=function(){return this.toString()};const i={serializableCheck:{isSerializable:e=>"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||(e=>{if(null===e)return!1;const t=Object.getPrototypeOf(e);return null!==t&&null===Object.getPrototypeOf(t)})(e)||"bigint"===typeof e}}},63805:(e,t,s)=>{"use strict";s.d(t,{OB:()=>i,ef:()=>r});var n=s(53933);const i="production",r=(()=>{switch(n.Z.get("network")){case"devnet":return"devnet";case"testnet":return"testnet";default:return"mainnet"}})()},53933:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const n="sentre",i=window.localStorage,r=e=>{try{return e?JSON.parse(e):null}catch(t){return null}},a={set:(e,t)=>{let s=r(i.getItem(n));s&&"object"===typeof s||(s={}),s[e]=t,i.setItem(n,JSON.stringify(s))},get:e=>{let t=r(i.getItem(n));return t&&"object"===typeof t?t[e]:null},clear:e=>{a.set(e,null)}},o=a},34559:(e,t,s)=>{"use strict";s.d(t,{sA:()=>l,Xn:()=>d,kU:()=>c,uR:()=>u,p:()=>h,l$:()=>p});var n=s(95418),i=s(16200),r=s.n(i),a=s(63805),o=s(21411);const l=e=>new Promise((t=>setTimeout(t,e))),d=(e,t=4,s="...")=>e.substring(0,t)+s+e.substring(e.length-t,e.length),c=e=>n.account.isAddress(e)?`https://explorer.solana.com/address/${e}?cluster=${a.ef}`:`https://explorer.solana.com/tx/${e}?cluster=${a.ef}`,u=e=>e&&Number.isFinite(Number(e))?r()(e):r()("0"),h=(e,t)=>{let s=Math.floor(16777215*Math.random());if(e){s=0;for(let t=0;t<e.length;t++)s=e.charCodeAt(t)+((s<<5)-s)}var n=[0,0,0];for(let r=0;r<3;r++){var i=s>>8*r&255;n[r]=i}return`rgba(${n[0]}, 100, ${n[1]},${t||1})`},p=async(e="")=>o.R.load("fetchCGK"+e,(()=>n.utils.parseCGK(e)))},88677:()=>{},46601:()=>{},89214:()=>{},85568:()=>{},34845:()=>{},52361:()=>{},94616:()=>{},33370:()=>{},55024:()=>{}}]);
//# sourceMappingURL=929.8a3c6e89.chunk.js.map