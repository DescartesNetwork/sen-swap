/*! For license information please see 636.a4fce6ec.chunk.js.LICENSE.txt */
(globalThis.webpackChunksen_swap=globalThis.webpackChunksen_swap||[]).push([[636],{15680:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AldrinAmm:()=>wi,CropperAmm:()=>Oi,JUPITER_ERRORS:()=>mo,Jupiter:()=>fs,MARKETS_URL:()=>to,MercurialAmm:()=>xi,RaydiumAmm:()=>ri,SaberAddDecimalsAmm:()=>Jo,SaberAmm:()=>di,SenchaAmm:()=>Ui,SerumAmm:()=>ai,SplTokenSwapAmm:()=>Ei,SplitTradeAmm:()=>ui,TOKEN_LIST_URL:()=>ro,TransactionBuilder:()=>$i,getEmptyInstruction:()=>ji,getPlatformFeeAccounts:()=>Yi,getRouteInfoUniqueId:()=>Fi,getSaberWrappedDecimalsAmms:()=>Qo,transactionSenderAndConfirmationWaiter:()=>as});var n=r(93038),o=r(71256),i=r(94706),s=r(25047);s.n_([s.u8("instruction"),s.Jq("units"),s.Jq("additionalFee")]),s.n_([s.u8("instruction"),s.Jq("bytes")]);r(97429).Buffer;new o.PublicKey("ComputeBudget111111111111111111111111111111");var a=r(48744),u=r.n(a);r(97429).Buffer;new o.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr");Error;Error;new o.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");o.SystemProgram.programId;new Map([["GenericError","generic instruction error"],["InvalidArgument","invalid program argument"],["InvalidInstructionData","invalid instruction data"],["InvalidAccountData","invalid account data for instruction"],["AccountDataTooSmall","account data too small for instruction"],["InsufficientFunds","insufficient funds for instruction"],["IncorrectProgramId","incorrect program id for instruction"],["MissingRequiredSignature","missing required signature for instruction"],["AccountAlreadyInitialized","instruction requires an uninitialized account"],["UninitializedAccount","instruction requires an initialized account"],["UnbalancedInstruction","sum of account balances before and after instruction do not match"],["ModifiedProgramId","instruction modified the program id of an account"],["ExternalAccountLamportSpend","instruction spent from the balance of an account it does not own"],["ExternalAccountDataModified","instruction modified data of an account it does not own"],["ReadonlyLamportChange","instruction changed the balance of a read-only account"],["ReadonlyDataModified","instruction modified data of a read-only account"],["DuplicateAccountIndex","instruction contains duplicate accounts"],["ExecutableModified","instruction changed executable bit of an account"],["RentEpochModified","instruction modified rent epoch of an account"],["NotEnoughAccountKeys","insufficient account keys for instruction"],["AccountDataSizeChanged","non-system instruction changed account size"],["AccountNotExecutable","instruction expected an executable account"],["AccountBorrowFailed","instruction tries to borrow reference for an account which is already borrowed"],["AccountBorrowOutstanding","instruction left account with an outstanding borrowed reference"],["DuplicateAccountOutOfSync","instruction modifications of multiply-passed account differ"],["Custom","custom program error: {0}"],["InvalidError","program returned invalid error code"],["ExecutableDataModified","instruction changed executable accounts data"],["ExecutableLamportChange","instruction changed the balance of a executable account"],["ExecutableAccountNotRentExempt","executable accounts must be rent exempt"],["UnsupportedProgramId","Unsupported program id"],["CallDepth","Cross-program invocation call depth too deep"],["MissingAccount","An account required by the instruction is missing"],["ReentrancyNotAllowed","Cross-program invocation reentrancy not allowed for this instruction"],["MaxSeedLengthExceeded","Length of the seed is too long for address generation"],["InvalidSeeds","Provided seeds do not result in a valid address"],["InvalidRealloc","Failed to reallocate account data"],["ComputationalBudgetExceeded","Computational budget exceeded"],["PrivilegeEscalation","Cross-program invocation with unauthorized signer or writable account"],["ProgramEnvironmentSetupFailure","Failed to create program execution environment"],["ProgramFailedToComplete","Program failed to complete"],["ProgramFailedToCompile","Program failed to compile"],["Immutable","Account is immutable"],["IncorrectAuthority","Incorrect authority provided"],["BorshIoError","Failed to serialize or deserialize account data: {0}"],["AccountNotRentExempt","An account does not have enough lamports to be rent-exempt"],["InvalidAccountOwner","Invalid account owner"],["ArithmeticOverflow","Program arithmetic overflowed"],["UnsupportedSysvar","Unsupported sysvar"],["IllegalOwner","Provided owner is not allowed"]]);r(51105);const c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return s.Ik(32,e)},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint64";return s.Ik(8,e)},l=n.MintLayout,h=e=>{if(e.length!==l.span)throw new Error("Not a valid Mint");const t=l.decode(e);let r;r=0===t.mintAuthorityOption?null:new o.PublicKey(t.mintAuthority);const i=n.u64.fromBuffer(t.supply),s=0!==t.isInitialized;let a;return a=0===t.freezeAuthorityOption?null:new o.PublicKey(t.freezeAuthority),{mintAuthority:r,supply:i,decimals:t.decimals,isInitialized:s,freezeAuthority:a}};var f=r(46694),p=r.n(f);const m=p().BigInt(0);p().BigInt(1),p().BigInt(10);var g;!function(e){e[e.ROUND_DOWN=0]="ROUND_DOWN",e[e.ROUND_HALF_UP=1]="ROUND_HALF_UP",e[e.ROUND_UP=2]="ROUND_UP"}(g||(g={}));p().BigInt("0xffffffffffffffff"),p().BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var y=r(1583),b=r.n(y),w=r(69101),v=r.n(w),_=r(86243),A=r(23909),S=r.n(A);function k(e){return e instanceof p()?e:"bigint"===typeof e||u().isBN(e)?p().BigInt(e.toString()):p().BigInt(e)}const E=S()(v()),T=S()(b()),P={[g.ROUND_DOWN]:v().ROUND_DOWN,[g.ROUND_HALF_UP]:v().ROUND_HALF_UP,[g.ROUND_UP]:v().ROUND_UP},I={[g.ROUND_DOWN]:0,[g.ROUND_HALF_UP]:1,[g.ROUND_UP]:3};class x{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p().BigInt(1);this.isFraction=!0,this.numerator=p().BigInt(k(e)),this.denominator=p().BigInt(k(t))}static isFraction(e){return"object"===typeof e&&null!==e&&"numerator"in e&&"denominator"in e}compareTo(e){return this.equalTo(e)?0:this.greaterThan(e)?1:-1}static fromNumber(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const r=Math.pow(10,t);return new x(Math.floor(e*r),r)}static tryParseFraction(e){if(x.isFraction(e))return e;try{return new x(k(e))}catch(t){if(t instanceof Error)throw new Error(`Could not parse fraction: ${t.message}`);throw new Error("Could not parse fraction")}}get quotient(){return p().divide(this.numerator,this.denominator)}get remainder(){return new x(p().remainder(this.numerator,this.denominator),this.denominator)}invert(){return new x(this.denominator,this.numerator)}add(e){const t=x.tryParseFraction(e);return p().equal(this.denominator,t.denominator)?new x(p().add(this.numerator,t.numerator),this.denominator):new x(p().add(p().multiply(this.numerator,t.denominator),p().multiply(t.numerator,this.denominator)),p().multiply(this.denominator,t.denominator))}subtract(e){const t=x.tryParseFraction(e);return p().equal(this.denominator,t.denominator)?new x(p().subtract(this.numerator,t.numerator),this.denominator):new x(p().subtract(p().multiply(this.numerator,t.denominator),p().multiply(t.numerator,this.denominator)),p().multiply(this.denominator,t.denominator))}lessThan(e){const t=x.tryParseFraction(e);return p().lessThan(p().multiply(this.numerator,t.denominator),p().multiply(t.numerator,this.denominator))}equalTo(e){const t=x.tryParseFraction(e);return p().equal(p().multiply(this.numerator,t.denominator),p().multiply(t.numerator,this.denominator))}greaterThan(e){const t=x.tryParseFraction(e);return p().greaterThan(p().multiply(this.numerator,t.denominator),p().multiply(t.numerator,this.denominator))}multiply(e){const t=x.tryParseFraction(e);return new x(p().multiply(this.numerator,t.numerator),p().multiply(this.denominator,t.denominator))}divide(e){const t=x.tryParseFraction(e);return new x(p().multiply(this.numerator,t.denominator),p().multiply(this.denominator,t.numerator))}toSignificant(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{groupSeparator:""},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.ROUND_HALF_UP;(0,_.Z)(Number.isInteger(e),`${e} is not an integer.`),(0,_.Z)(e>0,`${e} is not positive.`),E.set({precision:e+1,rounding:P[r]});const n=new E(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return n.toFormat(n.decimalPlaces(),t)}toFixed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{groupSeparator:""},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.ROUND_HALF_UP;return(0,_.Z)(Number.isInteger(e),`${e} is not an integer.`),(0,_.Z)(e>=0,`${e} is negative.`),T.DP=e,T.RM=I[r],new T(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}get asFraction(){return new x(this.numerator,this.denominator)}get asNumber(){if(p().equal(this.denominator,m))return p().greaterThan(this.numerator,m)?Number.POSITIVE_INFINITY:p().lessThan(this.numerator,m)?Number.NEGATIVE_INFINITY:Number.NaN;const e=p().toNumber(this.numerator)/p().toNumber(this.denominator);return Number.isNaN(e)?parseFloat(this.toFixed(10)):e}isZero(){return p().EQ(this.numerator,m)&&p().NE(this.denominator,m)}isNonZero(){return!this.isZero()}}x.ZERO=new x(0),x.ONE=new x(1);const O=new x(p().BigInt(100));function B(e){return new M(e.numerator,e.denominator)}class M extends x{constructor(){super(...arguments),this.isPercent=!0}static fromNumber(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const r=x.fromNumber(e,t);return new M(r.numerator,r.denominator)}static fromBPS(e){return new M(e,1e4)}add(e){return B(super.add(e))}subtract(e){return B(super.subtract(e))}multiply(e){return B(super.multiply(e))}divide(e){return B(super.divide(e))}toSignificant(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return super.multiply(O).toSignificant(e,t,r)}toFixed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return super.multiply(O).toFixed(e,t,r)}static isPercent(e){return x.isFraction(e)&&!0===(null===e||void 0===e?void 0:e.isPercent)}}M.ZERO=new M(0),M.ONE=new M(1,100),M.ONE_HUNDRED=new M(1);RangeError;RangeError;var D;!function(e){e[e.MainnetBeta=101]="MainnetBeta",e[e.Testnet=102]="Testnet",e[e.Devnet=103]="Devnet"}(D||(D={}));var U=r(93845);const R=new o.PublicKey("RawSo11111111111111111111111111111111111112");class L{constructor(e){var t;this.info=e,this._mintAccount=null,this.network=null!==(t=V(e.chainId))&&void 0!==t?t:"localnet"}get mintAccount(){return this._mintAccount||(this._mintAccount=new o.PublicKey(this.info.address)),this._mintAccount}get isRawSOL(){return this.mintAccount.equals(R)}get address(){return this.info.address}get chainId(){return this.info.chainId}get decimals(){return this.info.decimals}get name(){return this.info.name}get symbol(){return this.info.symbol}get icon(){return this.info.logoURI}equals(e){return N(this,e)}toString(){return`Token[mint=${this.address}, decimals=${this.decimals}, network=${this.network}]`}toJSON(){return this.info}hasTag(e){var t;return!!(null===(t=this.info.tags)||void 0===t?void 0:t.includes(e))}}L.fromMint=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n,o,i;return new L(Object.assign(Object.assign({},r),{address:e.toString(),decimals:t,name:null!==(n=r.name)&&void 0!==n?n:`Token ${e.toString().slice(0,4)}`,symbol:null!==(o=r.symbol)&&void 0!==o?o:e.toString().slice(0,5),chainId:null!==(i=r.chainId)&&void 0!==i?i:z.Localnet}))},L.load=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,U.mG)(void 0,void 0,void 0,(function*(){if("number"===typeof r.decimals)return L.fromMint(t,r.decimals,r);const n=yield e.getAccountInfo(t);if(!n)return null;const o=h(n.data);return L.fromMint(t,o.decimals,r)}))};const N=(e,t)=>void 0!==e&&void 0!==t&&e.address===t.address&&e.network===t.network,C={address:R.toString(),name:"Solana",symbol:"SOL",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},F={address:n.NATIVE_MINT.toString(),name:"Wrapped SOL",symbol:"SOL",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},W=e=>({"mainnet-beta":new L(Object.assign(Object.assign({},e),{chainId:z.MainnetBeta})),devnet:new L(Object.assign(Object.assign({},e),{chainId:z.Devnet})),testnet:new L(Object.assign(Object.assign({},e),{chainId:z.Testnet})),localnet:new L(Object.assign(Object.assign({},e),{chainId:z.Localnet}))});var z;!function(e){e[e.MainnetBeta=101]="MainnetBeta",e[e.Testnet=102]="Testnet",e[e.Devnet=103]="Devnet",e[e.Localnet=104]="Localnet"}(z||(z={}));const j={"mainnet-beta":z.MainnetBeta,devnet:z.Devnet,testnet:z.Testnet,localnet:104},K=Object.entries(j).reduce(((e,t)=>{let[r,n]=t;return Object.assign(Object.assign({},e),{[n]:r})}),{}),V=e=>K[e];W(C),W(F);new o.PublicKey("shmem4EWT2sPdVGvTZCzXXRAURL9G5vpPxNwSeKhHUL");r(50498);p().BigInt(2),p().BigInt(2);const q=new o.PublicKey("SSwpkEEcbUqx4vtoEByFjSkhKdCT862DNVb52nZg1UZ");var Z=r(97429).Buffer;new M(0,1e4);const H=50,G=100,Q=50,X=100,J=50,Y=1e4,$=(new M(20,1e4),new M(J,Y),new M(H,G),new M(Q,X),e=>{let{config:{swapProgramID:t},keys:r,data:n}=e;return new o.TransactionInstruction({keys:r,programId:t,data:n})});var ee;r(97429).Buffer;!function(e){e[e.RAMP_A=100]="RAMP_A",e[e.STOP_RAMP_A=101]="STOP_RAMP_A",e[e.PAUSE=102]="PAUSE",e[e.UNPAUSE=103]="UNPAUSE",e[e.SET_FEE_ACCOUNT=104]="SET_FEE_ACCOUNT",e[e.APPLY_NEW_ADMIN=105]="APPLY_NEW_ADMIN",e[e.COMMIT_NEW_ADMIN=106]="COMMIT_NEW_ADMIN",e[e.SET_NEW_FEES=107]="SET_NEW_FEES"}(ee||(ee={}));const te=s.n_([d("adminTradeFeeNumerator"),d("adminTradeFeeDenominator"),d("adminWithdrawFeeNumerator"),d("adminWithdrawFeeDenominator"),d("tradeFeeNumerator"),d("tradeFeeDenominator"),d("withdrawFeeNumerator"),d("withdrawFeeDenominator")],"fees"),re=s.n_([s.u8("isInitialized"),s.u8("isPaused"),s.u8("nonce"),d("initialAmpFactor"),d("targetAmpFactor"),s.gM("startRampTs"),s.gM("stopRampTs"),s.gM("futureAdminDeadline"),c("futureAdminAccount"),c("adminAccount"),c("tokenAccountA"),c("tokenAccountB"),c("tokenPool"),c("mintA"),c("mintB"),c("adminFeeAccountA"),c("adminFeeAccountB"),te]),ne=(s.n_([s.u8("instruction"),s.u8("nonce"),d("ampFactor"),te]),s.n_([s.u8("instruction"),d("amountIn"),d("minimumAmountOut")])),oe=s.n_([s.u8("instruction"),d("tokenAmountA"),d("tokenAmountB"),d("minimumPoolTokenAmount")]),ie=s.n_([s.u8("instruction"),d("poolTokenAmount"),d("minimumTokenA"),d("minimumTokenB")]),se=s.n_([s.u8("instruction"),d("poolTokenAmount"),d("minimumTokenAmount")]);s.n_([s.u8("instruction"),d("targetAmp"),s.gM("stopRampTS")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction"),te]);var ae=r(97429).Buffer;const ue=e=>{const t=re.decode(e);if(!t.isInitialized)throw new Error("Invalid token swap state");const r=new o.PublicKey(t.adminAccount),i=new o.PublicKey(t.adminFeeAccountA),s=new o.PublicKey(t.adminFeeAccountB),a=new o.PublicKey(t.tokenAccountA),u=new o.PublicKey(t.tokenAccountB),c=new o.PublicKey(t.tokenPool),d=new o.PublicKey(t.mintA),l=new o.PublicKey(t.mintB),h=n.u64.fromBuffer(ae.from(t.initialAmpFactor)),f=n.u64.fromBuffer(ae.from(t.targetAmpFactor)),p=t.startRampTs,m=t.stopRampTs,g=(y=t.fees,{adminTrade:new M(n.u64.fromBuffer(Z.from(y.adminTradeFeeNumerator)).toString(),n.u64.fromBuffer(Z.from(y.adminTradeFeeDenominator)).toString()),adminWithdraw:new M(n.u64.fromBuffer(Z.from(y.adminWithdrawFeeNumerator)).toString(),n.u64.fromBuffer(Z.from(y.adminWithdrawFeeDenominator)).toString()),trade:new M(n.u64.fromBuffer(Z.from(y.tradeFeeNumerator)).toString(),n.u64.fromBuffer(Z.from(y.tradeFeeDenominator)).toString()),withdraw:new M(n.u64.fromBuffer(Z.from(y.withdrawFeeNumerator)).toString(),n.u64.fromBuffer(Z.from(y.withdrawFeeDenominator)).toString())});var y;return{isInitialized:!!t.isInitialized,isPaused:!!t.isPaused,nonce:t.nonce,futureAdminDeadline:t.futureAdminDeadline,futureAdminAccount:new o.PublicKey(t.futureAdminAccount),adminAccount:r,tokenA:{adminFeeAccount:i,reserve:a,mint:d},tokenB:{adminFeeAccount:s,reserve:u,mint:l},poolTokenMint:c,initialAmpFactor:h,targetAmpFactor:f,startRampTimestamp:p,stopRampTimestamp:m,fees:g}};var ce,de=r(97429).Buffer;!function(e){e[e.INITIALIZE=0]="INITIALIZE",e[e.SWAP=1]="SWAP",e[e.DEPOSIT=2]="DEPOSIT",e[e.WITHDRAW=3]="WITHDRAW",e[e.WITHDRAW_ONE=4]="WITHDRAW_ONE"}(ce||(ce={}));var le=r(97429).Buffer;class he{constructor(e,t){this.config=e,this.state=t}static getMinBalanceRentForExemptStableSwap(e){return(0,U.mG)(this,void 0,void 0,(function*(){return yield e.getMinimumBalanceForRentExemption(re.span)}))}static load(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q;return(0,U.mG)(this,void 0,void 0,(function*(){const n=yield((e,t,r)=>(0,U.mG)(void 0,void 0,void 0,(function*(){const n=yield e.getAccountInfo(t);if(null===n)throw new Error("Failed to find account");if(!n.owner.equals(r))throw new Error(`Invalid owner: expected ${r.toBase58()}, found ${n.owner.toBase58()}`);return le.from(n.data)})))(e,t,r),[o]=yield fe(t,r);return he.loadWithData(t,n,o,r)}))}static loadFromExchange(e,t){return(0,U.mG)(this,void 0,void 0,(function*(){return he.load(e,t.swapAccount,t.programID)}))}static loadWithData(e,t,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:q;try{const i=ue(t);if(!i.isInitialized)throw new Error("Invalid token swap state");return new he({swapAccount:e,swapProgramID:o,tokenProgramID:n.TOKEN_PROGRAM_ID,authority:r},i)}catch(i){throw Error(i)}}swap(e){const t=e.poolDestination.equals(this.state.tokenA.reserve)?this.state.tokenA.adminFeeAccount:this.state.tokenB.adminFeeAccount;return(e=>{let{config:t,userAuthority:r,userSource:n,poolSource:o,poolDestination:i,userDestination:s,adminDestination:a,amountIn:u,minimumAmountOut:c}=e;const d=de.alloc(ne.span);ne.encode({instruction:ce.SWAP,amountIn:u.toBuffer(),minimumAmountOut:c.toBuffer()},d);const l=[{pubkey:t.swapAccount,isSigner:!1,isWritable:!1},{pubkey:t.authority,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:t.tokenProgramID,isSigner:!1,isWritable:!1}];return $({config:t,keys:l,data:d})})(Object.assign(Object.assign({config:this.config},e),{adminDestination:t}))}deposit(e){return(e=>{let{config:t,userAuthority:r,sourceA:n,sourceB:o,tokenAccountA:i,tokenAccountB:s,poolTokenMint:a,poolTokenAccount:u,tokenAmountA:c,tokenAmountB:d,minimumPoolTokenAmount:l}=e;const h=de.alloc(oe.span);oe.encode({instruction:ce.DEPOSIT,tokenAmountA:c.toBuffer(),tokenAmountB:d.toBuffer(),minimumPoolTokenAmount:l.toBuffer()},h);const f=[{pubkey:t.swapAccount,isSigner:!1,isWritable:!1},{pubkey:t.authority,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:t.tokenProgramID,isSigner:!1,isWritable:!1}];return $({config:t,keys:f,data:h})})(Object.assign({config:this.config,tokenAccountA:this.state.tokenA.reserve,tokenAccountB:this.state.tokenB.reserve,poolTokenMint:this.state.poolTokenMint},e))}withdraw(e){return(e=>{let{config:t,userAuthority:r,poolMint:n,sourceAccount:o,tokenAccountA:i,tokenAccountB:s,userAccountA:a,userAccountB:u,adminFeeAccountA:c,adminFeeAccountB:d,poolTokenAmount:l,minimumTokenA:h,minimumTokenB:f}=e;const p=de.alloc(ie.span);ie.encode({instruction:ce.WITHDRAW,poolTokenAmount:l.toBuffer(),minimumTokenA:h.toBuffer(),minimumTokenB:f.toBuffer()},p);const m=[{pubkey:t.swapAccount,isSigner:!1,isWritable:!1},{pubkey:t.authority,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:t.tokenProgramID,isSigner:!1,isWritable:!1}];return $({config:t,keys:m,data:p})})(Object.assign({config:this.config,poolMint:this.state.poolTokenMint,tokenAccountA:this.state.tokenA.reserve,tokenAccountB:this.state.tokenB.reserve,adminFeeAccountA:this.state.tokenA.adminFeeAccount,adminFeeAccountB:this.state.tokenB.adminFeeAccount},e))}withdrawOne(e){const[t,r]=e.baseTokenAccount.equals(this.state.tokenA.reserve)?[this.state.tokenB.reserve,this.state.tokenA.adminFeeAccount]:[this.state.tokenA.reserve,this.state.tokenB.adminFeeAccount];return(e=>{let{config:t,userAuthority:r,poolMint:n,sourceAccount:o,baseTokenAccount:i,quoteTokenAccount:s,destinationAccount:a,adminDestinationAccount:u,poolTokenAmount:c,minimumTokenAmount:d}=e;const l=de.alloc(se.span);se.encode({instruction:ce.WITHDRAW_ONE,poolTokenAmount:c.toBuffer(),minimumTokenAmount:d.toBuffer()},l);const h=[{pubkey:t.swapAccount,isSigner:!1,isWritable:!1},{pubkey:t.authority,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:t.tokenProgramID,isSigner:!1,isWritable:!1}];return $({config:t,keys:h,data:l})})(Object.assign({config:this.config,poolMint:this.state.poolTokenMint,quoteTokenAccount:t,adminDestinationAccount:r},e))}}const fe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q;return o.PublicKey.findProgramAddress([e.toBuffer()],t)};var pe=r(3930),me=r(40075),ge=r(68532),ye=r.n(ge),be=r(12009),we=r(8511),ve=r.n(we),_e=r(10119),Ae=r(26434),Se=r(21380),ke=r.n(Se),Ee=r(81070),Te=r(48449),Pe=r.n(Te),Ie=r(3930).Buffer,xe=Object.freeze({__proto__:null,encode:function(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")},decode:function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?pe.Buffer.from([]):pe.Buffer.from(t.map((e=>parseInt(e,16))))}});function Oe(e){return new TextDecoder("utf-8").decode(e)}function Be(e){return(new TextEncoder).encode(e)}var Me=Object.freeze({__proto__:null,decode:Oe,encode:Be});function De(e){return ye().encode(e)}var Ue=Object.freeze({__proto__:null,encode:De,decode:function(e){return ye().decode(e)}}),Re=Object.freeze({__proto__:null,encode:function(e){return be.fromByteArray(e)},decode:function(e){return pe.Buffer.from(be.toByteArray(e))}}),Le=Object.freeze({__proto__:null,hex:xe,utf8:Me,bs58:Ue,base64:Re});async function Ne(e,t,r){const n=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},o=await e.sendRawTransaction(t,n),i=(await e.confirmTransaction(o,r&&r.commitment)).value;if(i.err)throw new Ce(`Raw transaction ${o} failed (${JSON.stringify(i)})`);return o}class Ce extends Error{constructor(e){super(e)}}function Fe(){return null===We?class{constructor(e,t,r){this.connection=e,this.wallet=t,this.opts=r}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async send(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(r.preflightCommitment)).blockhash,e=await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)}));const o=e.serialize();try{return await Ne(this.connection,o,r)}catch(t){if(t instanceof Ce){const r=await this.connection.getTransaction(De(e.signature),{commitment:"confirmed"});if(r){const e=null===(n=r.meta)||void 0===n?void 0:n.logMessages;throw e?new me.SendTransactionError(t.message,e):t}throw t}throw t}}async sendAll(e,t){void 0===t&&(t=this.opts);const r=await this.connection.getRecentBlockhash(t.preflightCommitment);let n=e.map((e=>{let t=e.tx,n=e.signers;return void 0===n&&(n=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=r.blockhash,n.filter((e=>void 0!==e)).forEach((e=>{t.partialSign(e)})),t}));const o=await this.wallet.signAllTransactions(n),i=[];for(let s=0;s<n.length;s+=1){const e=o[s].serialize();i.push(await Ne(this.connection,e,t))}return i}async simulate(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.opts;var n,o,i;return void 0===t&&(t=[]),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(n=r.preflightCommitment)&&void 0!==n?n:this.opts.preflightCommitment)).blockhash,e=await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)})),await async function(e,t,r){t.recentBlockhash=await e._recentBlockhash(e._disableBlockhashCaching);const n=t.serializeMessage(),o=[t._serialize(n).toString("base64"),{encoding:"base64",commitment:r}],i=await e._rpcRequest("simulateTransaction",o);if(i.error)throw new Error("failed to simulate transaction: "+i.error.message);return i.result}(this.connection,e,null!==(i=null!==(o=r.commitment)&&void 0!==o?o:this.opts.commitment)&&void 0!==i?i:"processed")}}.local():We}let We=null;const ze=new Set(["anchor-deprecated-state","debug-logs"]),je=new Map;function Ke(e){return void 0!==je.get(e)}var Ve=Object.freeze({__proto__:null,set:function(e){if(!ze.has(e))throw new Error("Invalid feature");je.set(e,!0)},isSet:Ke});class qe extends Error{constructor(e){super(e),this.name="IdlError"}}class Ze{constructor(e){this.stack=e}static parse(e){var t;const r=/^Program (\w*) invoke/,n=/^Program \w* success/,o=[];for(let i=0;i<e.length;i++){if(n.exec(e[i])){o.pop();continue}const s=null===(t=r.exec(e[i]))||void 0===t?void 0:t[1];s&&o.push(new me.PublicKey(s))}return new Ze(o)}}class He extends Error{constructor(e,t,r,n,o,i){super(r.join("\n").replace("Program log: ","")),this.errorLogs=r,this.logs=n,this.error={errorCode:e,errorMessage:t,comparedValues:i,origin:o},this._programErrorStack=Ze.parse(n)}static parse(e){if(!e)return null;const t=e.findIndex((e=>e.startsWith("Program log: AnchorError")));if(-1===t)return null;const r=e[t],n=[r];let o;if(t+1<e.length)if("Program log: Left:"===e[t+1]){const r=/^Program log: (.*)$/,i=r.exec(e[t+2])[1],s=r.exec(e[t+4])[1];o=[new me.PublicKey(i),new me.PublicKey(s)],n.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const r=/^Program log: (Left|Right): (.*)$/,i=r.exec(e[t+1])[2],s=r.exec(e[t+2])[2];n.push(...e.slice(t+1,t+3)),o=[i,s]}const i=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),s=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),a=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(i){const[t,r,s]=i.slice(1,4),a={code:t,number:parseInt(r)};return new He(a,s,n,e,void 0,o)}if(s){const[t,r,i,a,u]=s.slice(1,6),c={code:i,number:parseInt(a)},d={file:t,line:parseInt(r)};return new He(c,u,n,e,d,o)}if(a){const[t,r,i,s]=a.slice(1,5),u=t,c={code:r,number:parseInt(i)};return new He(c,s,n,e,u,o)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Ge extends Error{constructor(e,t,r){super(),this.code=e,this.msg=t,this.logs=r,r&&(this._programErrorStack=Ze.parse(r))}static parse(e,t){const r=e.toString();let n,o;if(r.includes("custom program error:")){let e=r.split("custom program error: ");if(2!==e.length)return null;n=e[1]}else{const e=r.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;n=e[0].match(/([0-9]+)/g)[0]}try{o=parseInt(n)}catch(e){return null}let i=t.get(o);return void 0!==i?new Ge(o,i,e.logs):(i=Xe.get(o),void 0!==i?new Ge(o,i,e.logs):null)}get program(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack}toString(){return this.msg}}function Qe(e,t){Ke("debug-logs")&&console.log("Translating error:",e);const r=He.parse(e.logs);if(r)return r;const n=Ge.parse(e,t);if(n)return n;if(e.logs){const t={get:function(t,r){return"programErrorStack"===r?t.programErrorStack.stack:"program"===r?t.programErrorStack.stack[e.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return e.programErrorStack=Ze.parse(e.logs),new Proxy(e,t)}return e}const Xe=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has_one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exemption constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"A state constraint was violated"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[2500,"A require expression was violated"],[2501,"A require_eq expression was violated"],[2502,"A require_keys_eq expression was violated"],[2503,"A require_neq expression was violated"],[2504,"A require_keys_neq expression was violated"],[2505,"A require_gt expression was violated"],[2506,"A require_gte expression was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[3015,"The given public key does not match the required sysvar"],[4e3,"The given state account does not have the correct address"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);var Je=function(){return Je=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Je.apply(this,arguments)},Ye=function(){return Ye=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ye.apply(this,arguments)};function $e(e){return e.toLowerCase()}var et=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],tt=/[^A-Z0-9]+/gi;function rt(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce((function(e,t){return e.replace(t,r)}),e)}class nt{static fieldLayout(e,t){const r=void 0!==e.name?ve()(e.name):void 0;switch(e.type){case"bool":return Ae.bool(r);case"u8":return Ae.u8(r);case"i8":return Ae.i8(r);case"u16":return Ae.u16(r);case"i16":return Ae.i16(r);case"u32":return Ae.u32(r);case"i32":return Ae.i32(r);case"f32":return Ae.f32(r);case"u64":return Ae.u64(r);case"i64":return Ae.i64(r);case"f64":return Ae.f64(r);case"u128":return Ae.u128(r);case"i128":return Ae.i128(r);case"bytes":return Ae.vecU8(r);case"string":return Ae.str(r);case"publicKey":return Ae.publicKey(r);default:if("vec"in e.type)return Ae.vec(nt.fieldLayout({name:void 0,type:e.type.vec},t),r);if("option"in e.type)return Ae.option(nt.fieldLayout({name:void 0,type:e.type.option},t),r);if("defined"in e.type){const n=e.type.defined;if(void 0===t)throw new qe("User defined types not provided");const o=t.filter((e=>e.name===n));if(1!==o.length)throw new qe(`Type not found: ${JSON.stringify(e)}`);return nt.typeDefLayout(o[0],t,r)}if("array"in e.type){let n=e.type.array[0],o=e.type.array[1],i=nt.fieldLayout({name:void 0,type:n},t);return Ae.array(i,o,r)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;if("struct"===e.type.kind){const n=e.type.fields.map((e=>nt.fieldLayout(e,t)));return Ae.struct(n,r)}if("enum"===e.type.kind){let n=e.type.variants.map((e=>{const r=ve()(e.name);if(void 0===e.fields)return Ae.struct([],r);const n=e.fields.map((e=>{if(!e.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return nt.fieldLayout(e,t)}));return Ae.struct(n,r)}));return void 0!==r?Ae.rustEnum(n).replicate(r):Ae.rustEnum(n,r)}throw new Error(`Unknown type kint: ${e}`)}}class ot{constructor(e){this.idl=e,this.ixLayout=ot.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const r=st("global",e.name);t.set(ye().encode(r),{layout:this.ixLayout.get(e.name),name:e.name})})),e.state&&e.state.methods.map((e=>{const r=st("state",e.name);t.set(ye().encode(r),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t){return this._encode("global",e,t)}encodeState(e,t){return this._encode("state",e,t)}_encode(e,t,r){const n=pe.Buffer.alloc(1e3),o=ve()(t),i=this.ixLayout.get(o);if(!i)throw new Error(`Unknown method: ${o}`);const s=i.encode(r,n),a=n.slice(0,s);return pe.Buffer.concat([st(e,t),a])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map((t=>{let r=t.args.map((t=>{var r,n;return nt.fieldLayout(t,Array.from([...null!==(r=e.accounts)&&void 0!==r?r:[],...null!==(n=e.types)&&void 0!==n?n:[]]))}));const n=ve()(t.name);return[n,Ae.struct(r,n)]})).concat(e.instructions.map((t=>{let r=t.args.map((t=>{var r,n;return nt.fieldLayout(t,Array.from([...null!==(r=e.accounts)&&void 0!==r?r:[],...null!==(n=e.types)&&void 0!==n?n:[]]))}));const n=ve()(t.name);return[n,Ae.struct(r,n)]})));return new Map(t)}decode(e){"string"==typeof e&&(e="hex"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex")?pe.Buffer.from(e,"hex"):ye().decode(e));let t=ye().encode(e.slice(0,8)),r=e.slice(8);const n=this.sighashLayouts.get(t);return n?{data:n.layout.decode(r),name:n.name}:null}format(e,t){return it.format(e,t,this.idl)}}class it{static format(e,t,r){const n=r.instructions.filter((t=>e.name===t.name))[0];if(void 0===n)return console.error("Invalid instruction given"),null;const o=n.args.map((t=>({name:t.name,type:it.formatIdlType(t.type),data:it.formatIdlData(t,e.data[t.name],r.types)}))),i=it.flattenIdlAccounts(n.accounts);return{args:o,accounts:t.map(((e,t)=>t<i.length?{name:i[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){if("string"==typeof e)return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,r){if("string"==typeof e.type)return t.toString();if(e.type.hasOwnProperty("vec"))return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t))).join(", ")+"]";if(e.type.hasOwnProperty("option"))return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t,r);if(e.type.hasOwnProperty("defined")){if(void 0===r)throw new Error("User defined types not provided");const n=r.filter((t=>t.name===e.type.defined));if(1!==n.length)throw new Error(`Type not found: ${e.type.defined}`);return it.formatIdlDataDefined(n[0],t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){if("struct"===e.type.kind){const n=e.type;return"{ "+Object.keys(t).map((e=>{const o=n.fields.filter((t=>t.name===e))[0];if(void 0===o)throw new Error("Unable to find type");return e+": "+it.formatIdlData(o,t[e],r)})).join(", ")+" }"}if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const n=e.type.variants,o=Object.keys(t)[0],i=t[o],s=Object.keys(i).map((e=>{var t;const s=i[e],a=null===(t=n[o])||void 0===t?void 0:t.filter((t=>t.name===e))[0];if(void 0===a)throw new Error("Unable to find variant");return e+": "+it.formatIdlData(a,s,r)})).join(", "),a=ve()(o,{pascalCase:!0});return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map((e=>{const r=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.hasOwnProperty("accounts")){const n=t?`${t} > ${r}`:r;return it.flattenIdlAccounts(e.accounts,n)}return{...e,name:t?`${t} > ${r}`:r}})).flat()}}function st(e,t){var r;let n=`${e}:${void 0===r&&(r={}),function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var r=t.splitRegexp,n=void 0===r?et:r,o=t.stripRegexp,i=void 0===o?tt:o,s=t.transform,a=void 0===s?$e:s,u=t.delimiter,c=void 0===u?" ":u,d=rt(rt(e,n,"$1\0$2"),i,"\0"),l=0,h=d.length;"\0"===d.charAt(l);)l++;for(;"\0"===d.charAt(h-1);)h--;return d.slice(l,h).split("\0").map(a).join(c)}(e,Ye({delimiter:"."},t))}(t,Je({delimiter:"_"},r))}`;return pe.Buffer.from(_e.sha256.digest(n)).slice(0,8)}function at(e,t){if("enum"===t.type.kind){let r=t.type.variants.map((t=>void 0===t.fields?0:t.fields.map((t=>{if("object"!=typeof t||!("name"in t))throw new Error("Tuple enum variants not yet implemented.");return ut(e,t.type)})).reduce(((e,t)=>e+t))));return Math.max(...r)+1}return void 0===t.type.fields?0:t.type.fields.map((t=>ut(e,t.type))).reduce(((e,t)=>e+t),0)}function ut(e,t){var r,n;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in t)return 1;if("option"in t)return 1+ut(e,t.option);if("coption"in t)return 4+ut(e,t.coption);if("defined"in t){const o=null!==(n=null===(r=e.types)||void 0===r?void 0:r.filter((e=>e.name===t.defined)))&&void 0!==n?n:[];if(1!==o.length)throw new qe(`Type not found: ${JSON.stringify(t)}`);return at(e,o[0])}if("array"in t){let r=t.array[0],n=t.array[1];return ut(e,r)*n}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}class ct{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,nt.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t),this.idl=e}async encode(e,t){const r=pe.Buffer.alloc(1e3),n=this.accountLayouts.get(e);if(!n)throw new Error(`Unknown account: ${e}`);const o=n.encode(t,r);let i=r.slice(0,o),s=ct.accountDiscriminator(e);return pe.Buffer.concat([s,i])}decode(e,t){if(ct.accountDiscriminator(e).compare(t.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){const r=t.slice(8),n=this.accountLayouts.get(e);if(!n)throw new Error(`Unknown account: ${e}`);return n.decode(r)}memcmp(e,t){const r=ct.accountDiscriminator(e);return{offset:0,bytes:ye().encode(t?pe.Buffer.concat([r,t]):r)}}size(e){var t;return 8+(null!==(t=at(this.idl,e))&&void 0!==t?t:0)}static accountDiscriminator(e){return pe.Buffer.from(_e.sha256.digest(`account:${ve()(e,{pascalCase:!0})}`)).slice(0,8)}}class dt{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let r={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,nt.typeDefLayout(r,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>[be.fromByteArray(lt(e.name)),e.name])))}decode(e){let t;try{t=pe.Buffer.from(be.toByteArray(e))}catch(br){return null}const r=be.fromByteArray(t.slice(0,8)),n=this.discriminators.get(r);if(void 0===n)return null;const o=this.layouts.get(n);if(!o)throw new Error(`Unknown event: ${n}`);return{data:o.decode(t.slice(8)),name:n}}}function lt(e){return pe.Buffer.from(_e.sha256.digest(`event:${e}`)).slice(0,8)}class ht{constructor(e){if(void 0===e.state)throw new Error("Idl state not defined.");this.layout=nt.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const r=pe.Buffer.alloc(1e3),n=this.layout.encode(t,r),o=await ft(e),i=r.slice(0,n);return pe.Buffer.concat([o,i])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function ft(e){let t=Ke("anchor-deprecated-state")?"account":"state";return pe.Buffer.from(_e.sha256.digest(`${t}:${e}`)).slice(0,8)}class pt{constructor(e){this.instruction=new ot(e),this.accounts=new ct(e),this.events=new dt(e),e.state&&(this.state=new ht(e))}}var mt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:{};class gt{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var yt=gt;class bt extends gt{isCount(){throw new Error("ExternalLayout is abstract")}}class wt extends bt{constructor(e,t,r){if(!(e instanceof gt))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof vt||this.layout instanceof _t}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return void 0===r&&(r=0),this.layout.encode(e,t,r+this.offset)}}class vt extends gt{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class _t extends gt{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}const At=Math.pow(2,32);class St extends gt{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const r=e.readUInt32LE(t);return function(e,t){return e*At+t}(e.readUInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);const n=function(e){const t=Math.floor(e/At);return{hi32:t,lo32:e-t*At}}(e);return t.writeUInt32LE(n.lo32,r),t.writeUInt32LE(n.hi32,r+4),8}}class kt extends gt{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof gt),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===r&&(r=t,t=void 0);for(const o of e)if(0>o.span&&void 0===o.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;try{r=this.fields.reduce(((r,n)=>{const o=n.getSpan(e,t);return t+=o,r+o}),0)}catch(e){throw new RangeError("indeterminate span")}return r}decode(e,t){void 0===t&&(t=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){void 0===r&&(r=0);const n=r;let o=0,i=0;for(const s of this.fields){let n=s.span;if(i=0<n?n:0,void 0!==s.property){const o=e[s.property];void 0!==o&&(i=s.encode(o,t,r),0>n&&(n=s.getSpan(t,r)))}o=r,r+=n}return o+i-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class Et{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Tt extends Et{constructor(e,t){if(!(e instanceof bt&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class Pt extends gt{constructor(e,t,r){const n=e instanceof vt||e instanceof _t;if(n)e=new Tt(new wt(e));else if(e instanceof bt&&e.isCount())e=new Tt(e);else if(!(e instanceof Et))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof gt))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let o=-1;t&&(o=t.span,0<=o&&n&&(o+=e.layout.span)),super(o,r),this.discriminator=e,this.usesPrefixDiscriminator=n,this.defaultLayout=t,this.registry={};let i=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return i(e)},this.configGetSourceVariant=function(e){i=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){let r;void 0===t&&(t=0);const n=this.discriminator,o=n.decode(e,t);let i=this.registry[o];if(void 0===i){let s=0;i=this.defaultLayout,this.usesPrefixDiscriminator&&(s=n.layout.span),r=this.makeDestinationObject(),r[n.property]=o,r[i.property]=this.defaultLayout.decode(e,t+s)}else r=i.decode(e,t);return r}encode(e,t,r){void 0===r&&(r=0);const n=this.getSourceVariant(e);if(void 0===n){const n=this.discriminator,o=this.defaultLayout;let i=0;return this.usesPrefixDiscriminator&&(i=n.layout.span),n.encode(e[n.property],t,r),i+o.encode(e[o.property],t,r+i)}return n.encode(e,t,r)}addVariant(e,t,r){const n=new It(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t){let r=e;return Ie.isBuffer(e)&&(void 0===t&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class It extends gt{constructor(e,t,r,n){if(!(e instanceof Pt))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof gt))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof n)throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let o=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),o+=this.layout.getSpan(t,r+n),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class xt extends gt{constructor(e,t){if(!(e instanceof bt&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof bt||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){void 0===t&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof bt&&(n=e.length),!Ie.isBuffer(e)||n!==e.length)throw new TypeError((o="Blob.encode",(this.property?o+"["+this.property+"]":o)+" requires (length "+n+") Buffer as src"));var o;if(r+n>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,n,"hex"),this.length instanceof bt&&this.length.encode(n,t,r),n}}var Ot=e=>new vt(1,e),Bt=e=>new St(e),Mt=(e,t,r)=>new kt(e,t,r),Dt=(e,t)=>new xt(e,t);class Ut{constructor(e){}encode(e,t){switch(ve()(e)){case"initializeMint":return function(e){let{decimals:t,mintAuthority:r,freezeAuthority:n}=e;return Ct({initializeMint:{decimals:t,mintAuthority:r.toBuffer(),freezeAuthorityOption:!!n,freezeAuthority:(n||me.PublicKey.default).toBuffer()}})}(t);case"initializeAccount":return Ct({initializeAccount:{}});case"initializeMultisig":return function(e){let{m:t}=e;return Ct({initializeMultisig:{m:t}})}(t);case"transfer":return function(e){let{amount:t}=e;return Ct({transfer:{amount:t}})}(t);case"approve":return function(e){let{amount:t}=e;return Ct({approve:{amount:t}})}(t);case"revoke":return Ct({revoke:{}});case"setAuthority":return function(e){let{authorityType:t,newAuthority:r}=e;return Ct({setAuthority:{authorityType:t,newAuthority:r}})}(t);case"mintTo":return function(e){let{amount:t}=e;return Ct({mintTo:{amount:t}})}(t);case"burn":return function(e){let{amount:t}=e;return Ct({burn:{amount:t}})}(t);case"closeAccount":return Ct({closeAccount:{}});case"freezeAccount":return Ct({freezeAccount:{}});case"thawAccount":return Ct({thawAccount:{}});case"transferChecked":return function(e){let{amount:t,decimals:r}=e;return Ct({transferChecked:{amount:t,decimals:r}})}(t);case"approvedChecked":return function(e){let{amount:t,decimals:r}=e;return Ct({approveChecked:{amount:t,decimals:r}})}(t);case"mintToChecked":return function(e){let{amount:t,decimals:r}=e;return Ct({mintToChecked:{amount:t,decimals:r}})}(t);case"burnChecked":return function(e){let{amount:t,decimals:r}=e;return Ct({burnChecked:{amount:t,decimals:r}})}(t);case"intializeAccount2":return function(e){let{authority:t}=e;return Ct({initilaizeAccount2:{authority:t}})}(t);case"syncNative":return Ct({syncNative:{}});case"initializeAccount3":return function(e){let{authority:t}=e;return Ct({initializeAccount3:{authority:t}})}(t);case"initializeMultisig2":return function(e){let{m:t}=e;return Ct({initializeMultisig2:{m:t}})}(t);case"initializeMint2":return function(e){let{decimals:t,mintAuthority:r,freezeAuthority:n}=e;return Ct({encodeInitializeMint2:{decimals:t,mintAuthority:r,freezeAuthority:n}})}(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("SPL token does not have state")}}const Rt=(Lt=Ot("instruction"),new Pt(Lt,undefined,undefined));var Lt;function Nt(e){return Dt(32,e)}function Ct(e){let t=Ie.alloc(Ft),r=Rt.encode(e,t);return t.slice(0,r)}Rt.addVariant(0,Mt([Ot("decimals"),Dt(32,"mintAuthority"),Ot("freezeAuthorityOption"),Nt("freezeAuthority")]),"initializeMint"),Rt.addVariant(1,Mt([]),"initializeAccount"),Rt.addVariant(2,Mt([Ot("m")]),"initializeMultisig"),Rt.addVariant(3,Mt([Bt("amount")]),"transfer"),Rt.addVariant(4,Mt([Bt("amount")]),"approve"),Rt.addVariant(5,Mt([]),"revoke"),Rt.addVariant(6,Mt([Ot("authorityType"),Ot("newAuthorityOption"),Nt("newAuthority")]),"setAuthority"),Rt.addVariant(7,Mt([Bt("amount")]),"mintTo"),Rt.addVariant(8,Mt([Bt("amount")]),"burn"),Rt.addVariant(9,Mt([]),"closeAccount"),Rt.addVariant(10,Mt([]),"freezeAccount"),Rt.addVariant(11,Mt([]),"thawAccount"),Rt.addVariant(12,Mt([Bt("amount"),Ot("decimals")]),"transferChecked"),Rt.addVariant(13,Mt([Bt("amount"),Ot("decimals")]),"approvedChecked"),Rt.addVariant(14,Mt([Bt("amount"),Ot("decimals")]),"mintToChecked"),Rt.addVariant(15,Mt([Bt("amount"),Ot("decimals")]),"burnedChecked"),Rt.addVariant(16,Mt([Nt("authority")]),"InitializeAccount2"),Rt.addVariant(17,Mt([]),"syncNative"),Rt.addVariant(18,Mt([Nt("authority")]),"initializeAccount3"),Rt.addVariant(19,Mt([Ot("m")]),"initializeMultisig2"),Rt.addVariant(20,Mt([Ot("decimals"),Nt("mintAuthority"),Ot("freezeAuthorityOption"),Nt("freezeAuthority")]),"initializeMint2");const Ft=Math.max(...Object.values(Rt.registry).map((e=>e.span)));class Wt{constructor(e){}encode(e,t){throw new Error("SPL token does not have state")}decode(e){throw new Error("SPL token does not have state")}}function zt(e){return new Vt(Dt(8),(e=>Gt.fromBuffer(e)),(e=>e.toBuffer()),e)}function jt(e){return new Vt(Dt(32),(e=>new me.PublicKey(e)),(e=>e.toBuffer()),e)}function Kt(e,t){return new qt(e,t)}class Vt extends yt{constructor(e,t,r,n){super(e.span,n),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class qt extends yt{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=new vt(4,void 0)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null==e?this.layout.span+this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+4)+4)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.discriminator.decode(e,t);if(0===r)return null;if(1===r)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.layout.getSpan(e,t+4)+4}}function Zt(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}function Ht(e){return e?1:0}class Gt extends(u()){toBuffer(){const e=super.toArray().reverse(),t=Ie.from(e);if(8===t.length)return t;if(t.length>=8)throw new Error("u64 too large");const r=Ie.alloc(8);return t.copy(r),r}static fromBuffer(e){if(8!==e.length)throw new Error(`Invalid buffer length: ${e.length}`);return new Gt([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}class Qt{constructor(e){this.idl=e}async encode(e,t){switch(e){case"token":{const e=Ie.alloc(165),r=Jt.encode(t,e);return e.slice(0,r)}case"mint":{const e=Ie.alloc(82),r=Xt.encode(t,e);return e.slice(0,r)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){switch(e){case"token":return function(e){return Jt.decode(e)}(t);case"mint":return function(e){return Xt.decode(e)}(t);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,t){switch(e){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var t;return null!==(t=at(this.idl,e))&&void 0!==t?t:0}}const Xt=Mt([Kt(jt(),"mintAuthority"),zt("supply"),Ot("decimals"),new Vt(Ot(),Zt,Ht,"isInitialized"),Kt(jt(),"freezeAuthority")]),Jt=Mt([jt("mint"),jt("authority"),zt("amount"),Kt(jt(),"delegate"),Ot("state"),Kt(zt(),"isNative"),zt("delegatedAmount"),Kt(jt(),"closeAuthority")]);class Yt{constructor(e){}decode(e){throw new Error("SPL token program does not have events")}}class $t{constructor(e){this.instruction=new Ut(e),this.accounts=new Qt(e),this.events=new Yt(e),this.state=new Wt(e)}}var er=Object.freeze({__proto__:null,hash:function(e){return(0,_e.sha256)(e)}});function tr(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var r;let n=null!==(r=e.msg)&&void 0!==r?r:e.name;t.set(e.code,n)})),t}function rr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(e.args.length!=r.length)throw new Error("Invalid argument length");const o={};let i=0;return e.args.forEach((e=>{o[e.name]=r[i],i+=1})),o}function nr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((e=>{if("accounts"in e)nr(e.accounts,t[e.name]);else if(void 0===t[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function or(e){return e instanceof me.PublicKey?e:new me.PublicKey(e)}async function ir(e,t,r){if(t.length<=99)return await sr(e,t,r);{const o=(n=t,99,Array.apply(0,new Array(Math.ceil(n.length/99))).map(((e,t)=>n.slice(99*t,99*(t+1)))));return(await Promise.all(o.map((t=>sr(e,t,r))))).flat()}var n}async function sr(e,t,r){const n=null!=r?r:e.commitment,o=[t.map((e=>e.toBase58()))];n&&o.push({commitment:n});const i=await e._rpcRequest("getMultipleAccounts",o);if(i.error)throw new Error("failed to get info about accounts "+t.map((e=>e.toBase58())).join(", ")+": "+i.error.message);ke()(void 0!==i.result);const s=[];for(const a of i.result.value){let e=null;if(null!==a){if(i.result.value){const{executable:t,owner:r,lamports:n,data:o}=a;ke()("base64"===o[1]),e={executable:t,owner:new me.PublicKey(r),lamports:n,data:pe.Buffer.from(o[0],"base64")}}if(null===e)throw new Error("Invalid response");s.push(e)}else s.push(null)}return s.map(((e,r)=>null===e?null:{publicKey:t[r],account:e}))}var ar=Object.freeze({__proto__:null,invoke:async function(e,t,r,n){e=or(e),n||(n=Fe());const o=new me.Transaction;return o.add(new me.TransactionInstruction({programId:e,keys:null!=t?t:[],data:r})),await n.send(o)},getMultipleAccounts:ir});function ur(e,t,r){const n=pe.Buffer.concat([e.toBuffer(),pe.Buffer.from(t),r.toBuffer()]),o=_e.sha256.digest(n);return new me.PublicKey(pe.Buffer.from(o))}function cr(e,t){let r=pe.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");r=pe.Buffer.concat([r,lr(e)])})),r=pe.Buffer.concat([r,t.toBuffer(),pe.Buffer.from("ProgramDerivedAddress")]);let n=(0,_e.sha256)(new Uint8Array(r)),o=new(u())(n,16).toArray(void 0,32);if(me.PublicKey.isOnCurve(new Uint8Array(o)))throw new Error("Invalid seeds, address must fall off the curve");return new me.PublicKey(o)}function dr(e,t){let r,n=255;for(;0!=n;){try{r=cr(e.concat(pe.Buffer.from([n])),t)}catch(br){if(br instanceof TypeError)throw br;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}const lr=e=>e instanceof pe.Buffer?e:e instanceof Uint8Array?pe.Buffer.from(e.buffer,e.byteOffset,e.byteLength):pe.Buffer.from(e);async function hr(e){let t=[pe.Buffer.from([97,110,99,104,111,114])];for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];n.forEach((e=>{t.push(e instanceof pe.Buffer?e:or(e).toBuffer())}));const[i]=await me.PublicKey.findProgramAddress(t,or(e));return i}var fr=Object.freeze({__proto__:null,createWithSeedSync:ur,createProgramAddressSync:cr,findProgramAddressSync:dr,associated:hr});const pr=new me.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),mr=new me.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var gr=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:pr,ASSOCIATED_PROGRAM_ID:mr,associatedAddress:async function(e){let{mint:t,owner:r}=e;return(await me.PublicKey.findProgramAddress([r.toBuffer(),pr.toBuffer(),t.toBuffer()],mr))[0]}}),yr={exports:{}};!function(e,t){var r="undefined"!=typeof self?self:mt,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function m(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&o&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=p(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=d(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=d(t)},h.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),l(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),l(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var r,n,o=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),b.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var A=[301,302,303,307,308];_.redirect=function(e,t){if(-1===A.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,r){return new Promise((function(n,i){var s=new w(e,r);if(s.signal&&s.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;n(new _(o,r))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=h,e.Request=w,e.Response=_),t.Headers=h,t.Request=w,t.Response=_,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t}(yr,yr.exports);var br,wr=(br=yr.exports)&&br.__esModule&&Object.prototype.hasOwnProperty.call(br,"default")?br.default:br;async function vr(e,t){const r=await e.getAccountInfo(t);if(null===r)throw new Error("program account not found");const{program:n}=Ar(r.data),o=await e.getAccountInfo(n.programdataAddress);if(null===o)throw new Error("program data account not found");const{programData:i}=Ar(o.data);return i}const _r=Ae.rustEnum([Ae.struct([],"uninitialized"),Ae.struct([Ae.option(Ae.publicKey(),"authorityAddress")],"buffer"),Ae.struct([Ae.publicKey("programdataAddress")],"program"),Ae.struct([Ae.u64("slot"),Ae.option(Ae.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,Ae.u32());function Ar(e){return _r.decode(e)}var Sr=Object.freeze({__proto__:null,verifiedBuild:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const n=`https://anchor.projectserum.com/api/v0/program/${t.toString()}/latest?limit=${r}`,[o,i]=await Promise.all([vr(e,t),wr(n)]),s=(await i.json()).filter((e=>!e.aborted&&"Built"===e.state&&"Verified"===e.verified));if(0===s.length)return null;const a=s[0];return o.slot.toNumber()!==a.verified_slot?null:a},fetchData:vr,decodeUpgradeableLoaderState:Ar});Object.freeze({__proto__:null,sha256:er,rpc:ar,publicKey:fr,bytes:Le,token:gr,features:Ve,registry:Sr});const kr=Ae.struct([Ae.publicKey("authority"),Ae.vecU8("data")]);function Er(e,t){var r,n;let o={};const i=e.args?e.args.length:0;if(t.length>i){if(t.length!==i+1)throw new Error(`provided too many arguments ${t} to instruction ${null==e?void 0:e.name} expecting: ${null!==(n=null===(r=e.args)||void 0===r?void 0:r.map((e=>e.name)))&&void 0!==n?n:[]}`);o=t.pop()}return[t,o]}class Tr{static build(e,t,r){if("_inner"===e.name)throw new qe("the _inner name is reserved");const n=function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];const[a,u]=Er(e,[...i]);nr(e.accounts,u.accounts);const c=n.accounts(u.accounts);return void 0!==u.remainingAccounts&&c.push(...u.remainingAccounts),Ke("debug-logs")&&console.log("Outgoing account metas:",c),new me.TransactionInstruction({keys:c,programId:r,data:t(e.name,rr(e,...a))})};return n.accounts=t=>Tr.accountsArray(t,e.accounts,e.name),n}static accountsArray(e,t,r){return e?t.map((t=>{if(void 0!==("accounts"in t?t.accounts:void 0)){const n=e[t.name];return Tr.accountsArray(n,t.accounts,r).flat()}{const n=t;let o;try{o=or(e[t.name])}catch(e){throw new Error(`Wrong input type for account "${t.name}" in the instruction accounts object${void 0!==r?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}return{pubkey:o,isWritable:n.isMut,isSigner:n.isSigner}}})).flat():[]}}class Pr{static build(e,t,r,n){return async function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];const a=t(...i),[,u]=Er(e,[...i]);try{return await n.send(a,u.signers,u.options)}catch(e){throw Qe(e,r)}}}}class Ir{static build(e,t){return function(){for(var r,n,o,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const[,u]=Er(e,[...s]),c=new me.Transaction;if(u.preInstructions&&u.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=u.preInstructions)||void 0===r||r.forEach((e=>c.add(e))),null===(n=u.instructions)||void 0===n||n.forEach((e=>c.add(e))),c.add(t(...s)),null===(o=u.postInstructions)||void 0===o||o.forEach((e=>c.add(e))),c}}}class xr{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe(),n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new pt(e);this.provider=r,this.coder=n,this._idl=e,this._programId=t,this._address=Or(t),this._sub=null;const[o,i,s]=(()=>{var o;let i={},s={},a={};return null===(o=e.state)||void 0===o||o.methods.forEach((o=>{const u=Tr.build(o,((e,t)=>n.instruction.encodeState(e,t)),t);u.accounts=e=>{const n=function(e,t,r,n){if("new"===r.name){const[r]=dr([],e);return[{pubkey:t.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:Or(e),isWritable:!0,isSigner:!1},{pubkey:r,isWritable:!1,isSigner:!1},{pubkey:me.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e,isWritable:!1,isSigner:!1}]}return nr(r.accounts,n),[{pubkey:Or(e),isWritable:!0,isSigner:!1}]}(t,r,o,e);return n.concat(Tr.accountsArray(e,o.accounts,o.name))};const c=Ir.build(o,u),d=Pr.build(o,c,tr(e),r),l=ve()(o.name);i[l]=u,s[l]=c,a[l]=d})),[i,s,a]})();this.instruction=o,this.transaction=i,this.rpc=s}get programId(){return this._programId}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(null===t)throw new Error(`Account does not exist ${e.toString()}`);const r=this._idl.state;if(!r)throw new Error("State is not specified in IDL.");if((await ft(r.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(null!==this._sub)return this._sub.ee;const t=new(Pe()),r=this.provider.connection.onAccountChange(this.address(),(e=>{const r=this.coder.state.decode(e.data);t.emit("change",r)}),e);return this._sub={ee:t,listener:r},t}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function Or(e){let[t]=dr([],e);return ur(t,"unversioned",e)}class Br{constructor(e,t,r,n,o){this._idlAccount=t,this._programId=r,this._provider=null!=n?n:Fe(),this._coder=null!=o?o:new pt(e),this._size=this._coder.accounts.size(t)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,t){const r=await this.getAccountInfo(e,t);return null===r?null:this._coder.accounts.decode(this._idlAccount.name,r.data)}async fetch(e,t){const r=await this.fetchNullable(e,t);if(null===r)throw new Error(`Account does not exist ${e.toString()}`);return r}async fetchMultiple(e,t){return(await ir(this._provider.connection,e.map((e=>or(e))),t)).map((e=>null==e?null:this._coder.accounts.decode(this._idlAccount.name,null==e?void 0:e.account.data)))}async all(e){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Ie?e:void 0)},...Array.isArray(e)?e:[]]})).map((e=>{let{pubkey:t,account:r}=e;return{publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,r.data)}}))}subscribe(e,t){const r=Mr.get(e.toString());if(r)return r.ee;const n=new(Pe());e=or(e);const o=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);n.emit("change",t)}),t);return Mr.set(e.toString(),{ee:n,listener:o}),n}async unsubscribe(e){let t=Mr.get(e.toString());t?Mr&&await this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{Mr.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const r=this.size;return me.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:r),programId:this._programId})}async associated(){const e=await this.associatedAddress(...arguments);return await this.fetch(e)}async associatedAddress(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return await hr(this._programId,...t)}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(or(e),t)}}const Mr=new Map,Dr="Program log: ".length,Ur="Program data: ".length;class Rr{constructor(e,t,r){this._programId=e,this._provider=t,this._eventParser=new Lr(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var r;let n=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!==(r=this._eventListeners.get(e))&&void 0!==r?r:[]).concat(n)),this._eventCallbacks.set(n,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((e,t)=>{e.err||this._eventParser.parseLogs(e.logs,(e=>{const r=this._eventListeners.get(e.name);r&&r.forEach((r=>{const n=this._eventCallbacks.get(r);if(n){const[,r]=n;r(e.data,t.slot)}}))}))}))),n}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=t;let n=this._eventListeners.get(r);if(!n)throw new Error(`Event listeners don't exist for ${r}!`);this._eventCallbacks.delete(e),n=n.filter((t=>t!==e)),0===n.length&&this._eventListeners.delete(r),0==this._eventCallbacks.size&&(Se.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class Lr{constructor(e,t){this.coder=t,this.programId=e}parseLogs(e,t){const r=new Cr(e),n=new Nr(r.next());let o=r.next();for(;null!==o;){let[e,i,s]=this.handleLog(n,o);e&&t(e),i&&n.push(i),s&&n.pop(),o=r.next()}}handleLog(e,t){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log: ")||e.startsWith("Program data: ")){const t=e.startsWith("Program log: ")?e.slice(Dr):e.slice(Ur);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class Nr{constructor(e){var t;const r=null===(t=/^Program (.*) invoke.*$/g.exec(e))||void 0===t?void 0:t[1];if(!r)throw new Error("Could not find program invocation log line");this.stack=[r]}program(){return Se.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){Se.ok(this.stack.length>0),this.stack.pop()}}class Cr{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}new me.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function Fr(){return new $t(Wr)}const Wr={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class zr{constructor(e,t,r,n,o,i){this._args=e,this._accounts=t,this._provider=r,this._programId=n,this._idlIx=o,this._accountStore=new jr(r,i)}async resolve(){for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],r=ve()(t.name);t.pda&&t.pda.seeds.length>0&&!this._accounts[r]?await this.autoPopulatePda(t):!t.isSigner||this._accounts[r]?Reflect.has(zr.CONST_ACCOUNTS,r)&&!this._accounts[r]&&(this._accounts[r]=zr.CONST_ACCOUNTS[r]):this._accounts[r]=this._provider.wallet.publicKey}}async autoPopulatePda(e){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const t=await Promise.all(e.pda.seeds.map((e=>this.toBuffer(e)))),r=await this.parseProgramId(e),[n]=await me.PublicKey.findProgramAddress(t,r);this._accounts[ve()(e.name)]=n}async parseProgramId(e){var t;if(!(null===(t=e.pda)||void 0===t?void 0:t.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new me.PublicKey(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}toBufferConst(e){return this.toBufferValue(e.type,e.value)}async toBufferArg(e){const t=this.argValue(e);return this.toBufferValue(e.type,t)}argValue(e){const t=ve()(e.path.split(".")[0]),r=this._idlIx.args.findIndex((e=>e.name===t));if(-1===r)throw new Error(`Unable to find argument for seed: ${t}`);return this._args[r]}async toBufferAccount(e){const t=await this.accountValue(e);return this.toBufferValue(e.type,t)}async accountValue(e){const t=e.path.split("."),r=t[0],n=this._accounts[ve()(r)];if(1===t.length)return n;const o=await this._accountStore.fetchAccount(e.account,n);return this.parseAccountValue(o,t.slice(1))}parseAccountValue(e,t){let r;for(;t.length>0;)r=e[ve()(t[0])],t=t.slice(1);return r}toBufferValue(e,t){switch(e){case"u8":return Ie.from([t]);case"u16":let r=Ie.alloc(2);return r.writeUInt16LE(t),r;case"u32":let n=Ie.alloc(4);return n.writeUInt32LE(t),n;case"u64":let o=Ie.alloc(8);return o.writeBigUInt64LE(BigInt(t)),o;case"string":return Ie.from(Be(t));case"publicKey":return t.toBuffer();default:if(e.array)return Ie.from(t);throw new Error(`Unexpected seed type: ${e}`)}}}zr.CONST_ACCOUNTS={systemProgram:me.SystemProgram.programId,tokenProgram:pr,associatedTokenProgram:mr,rent:me.SYSVAR_RENT_PUBKEY};class jr{constructor(e,t){this._provider=e,this._accounts=t,this._cache=new Map}async fetchAccount(e,t){const r=t.toString();if(!this._cache.has(r))if("TokenAccount"===e){const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error(`invalid account info for ${r}`);const n=Fr().accounts.decode("token",e.data);this._cache.set(r,n)}else{const n=this._accounts[ve()(e)].fetch(t);this._cache.set(r,n)}return this._cache.get(r)}}class Kr{constructor(e,t,r,n,o,i,s,a,u){this._args=e,this._ixFn=t,this._txFn=r,this._rpcFn=n,this._simulateFn=o,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._accountsResolver=new zr(e,this._accounts,i,s,a,u)}accounts(e){return Object.assign(this._accounts,e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class Vr{constructor(e,t,r,n){t=or(t),r||(r=Fe()),this._idl=e,this._provider=r,this._programId=t,this._coder=null!=n?n:new pt(e),this._events=new Rr(this._programId,r,this._coder);const[o,i,s,a,u,c,d]=class{static build(e,t,r,n){const o={},i={},s={},a={},u={},c=tr(e),d=e.accounts?class{static build(e,t,r,n){var o;const i={};return null===(o=e.accounts)||void 0===o||o.forEach((o=>{const s=ve()(o.name);i[s]=new Br(e,o,r,n,t)})),i}}.build(e,t,r,n):{},l=class{static build(e,t,r,n){if(void 0!==e.state)return new xr(e,r,n,t)}}.build(e,t,r,n);return e.instructions.forEach((l=>{const h=Tr.build(l,((e,r)=>t.instruction.encode(e,r)),r),f=Ir.build(l,h),p=Pr.build(l,f,c,n),m=class{static build(e,t,r,n,o,i,s){return async function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];const d=t(...u),[,l]=Er(e,[...u]);let h;try{h=await n.simulate(d,l.signers,l.options)}catch(e){throw Qe(e,r)}if(void 0===h)throw new Error("Unable to simulate transaction");if(h.value.err)throw new Error(`Simulate error: ${h.value.err.toString()}`);const f=h.value.logs;if(!f)throw new Error("Simulated logs not found");const p=[];return s.events&&new Lr(i,o).parseLogs(f,(e=>{p.push(e)})),{events:p,raw:f}}}}.build(l,f,c,n,t,r,e),g=class{static build(e,t,r,n,o,i,s,a){return function(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];return new Kr(c,n,o,i,s,e,t,r,a)}}}.build(n,r,l,h,f,p,m,d),y=ve()(l.name);i[y]=h,s[y]=f,o[y]=p,a[y]=m,u[y]=g})),[o,i,s,d,a,u,l]}}.build(e,this._coder,t,r);this.rpc=o,this.instruction=i,this.transaction=s,this.account=a,this.simulate=u,this.methods=c,this.state=d}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const r=or(e),n=await Vr.fetchIdl(r,t);if(!n)throw new Error(`IDL not found for program: ${e.toString()}`);return new Vr(n,r,t)}static async fetchIdl(e,t){t=null!=t?t:Fe();const r=or(e),n=await async function(e){const t=(await me.PublicKey.findProgramAddress([],e))[0];return await me.PublicKey.createWithSeed(t,"anchor:idl",e)}(r),o=await t.connection.getAccountInfo(n);if(!o)return null;let i=(s=o.data.slice(8),kr.decode(s));var s;const a=(0,Ee.rr)(i.data);return JSON.parse(Oe(a))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}var qr=r(94328),Zr=r(3e4),Hr=r.n(Zr);function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qr(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"===typeof e)return Gr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gr(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Xr=p().BigInt(0),Jr=p().BigInt(1),Yr=p().BigInt(2);function $r(e){return p().GE(e,Xr)?e:p().unaryMinus(e)}function en(e){return e.reduce((function(e,t){return p().add(e,t)}),Xr)}function tn(e,t){return void 0===t&&(t=0),new(Hr())(e.toString()).div(new(Hr())(10).pow(t))}var rn=function(){function e(e,t,r){this.numberOfCurrencies=void 0,this.amplificationFactor=void 0,this.targetPrices=void 0,this.numberOfCurrencies=e,this.amplificationFactor=t,this.targetPrices=r}var t=e.prototype;return t.exchange=function(e,t,r,n,o){if(void 0===o&&(o=!0),e.length!==p().toNumber(this.numberOfCurrencies))throw new Error("Number of currencies does not match");var i=this.xp(e),s=p().multiply(n,this.targetPrices[t]),a=p().add(i[t],s),u=this.computeY(e,t,r,a),c=p().subtract(i[r],u);return o&&(c=p().subtract(c,Jr)),p().divide(c,this.targetPrices[r])},t.computeBaseY=function(e,t,r,n){var o=this.computeD(e),i=this.xp(e),s=p().exponentiate(this.numberOfCurrencies,this.numberOfCurrencies),a=en(i),u=i.reduce((function(e,t){return p().multiply(e,t)}),Jr),c=p().subtract(p().add(p().multiply(p().multiply(this.amplificationFactor,s),a),o),p().multiply(p().multiply(this.amplificationFactor,o),s)),d=p().multiply(p().multiply(p().multiply(this.amplificationFactor,s),s),u),l=p().multiply(p().multiply(s,u),c),h=p().add(d,p().divide(l,i[t])),f=p().add(d,p().divide(l,i[r])),m=Math.log10(p().toNumber(this.targetPrices[t])),g=Math.log10(p().toNumber(this.targetPrices[r])),y=Math.abs(g-m);return m>=g?p().BigInt(new(Hr())(h.toString()).mul(new(Hr())(n.toString())).div(new(Hr())(f.toString())).mul(Math.pow(10,y)).floor().toString()):p().BigInt(new(Hr())(h.toString()).mul(new(Hr())(n.toString())).div(new(Hr())(f.toString())).div(Math.pow(10,y)).floor().toString())},t.computeY=function(e,t,r,n){var o=this.computeD(e),i=this.xp(e);i[t]=n,i.splice(r,1);for(var s,a=p().multiply(this.amplificationFactor,this.numberOfCurrencies),u=o,c=Qr(i);!(s=c()).done;){var d=s.value;u=p().divide(p().multiply(u,o),p().multiply(d,this.numberOfCurrencies))}u=p().divide(p().multiply(u,o),p().multiply(this.numberOfCurrencies,a));for(var l=p().subtract(p().add(en(i),p().divide(o,a)),o),h=Xr,f=o;p().greaterThan($r(p().subtract(f,h)),Jr);)h=f,f=p().divide(p().add(p().exponentiate(f,Yr),u),p().add(p().multiply(Yr,f),l));return f},t.computeD=function(e){for(var t=Xr,r=this.xp(e),n=en(r),o=n,i=p().multiply(this.amplificationFactor,this.numberOfCurrencies);p().greaterThan($r(p().subtract(o,t)),Jr);){for(var s,a=o,u=Qr(r);!(s=u()).done;){var c=s.value;a=p().divide(p().multiply(a,o),p().multiply(this.numberOfCurrencies,c))}t=o;var d=p().multiply(p().add(p().multiply(i,n),p().multiply(a,this.numberOfCurrencies)),o),l=p().add(p().multiply(p().subtract(i,Jr),o),p().multiply(p().add(this.numberOfCurrencies,Jr),a));o=p().divide(d,l)}return o},t.xp=function(e){var t=this;return e.map((function(e,r){return p().multiply(e,t.targetPrices[r])}))},e}(),nn=function(){function e(e,t,r,n){this.targetPrices=void 0,this.traderFee=void 0,this.curve=void 0,this.targetPrices=r,this.traderFee=n,this.curve=new rn(e,t,this.targetPrices)}var t=e.prototype;return t.exchange=function(e,t,r,n){var o=this.getOutputAmount(e,t,r,n),i=this.getFees(o),s=p().subtract(o,i);return{priceImpact:this.getPriceImpact(e,t,s,r,n),fees:i,expectedOutputAmount:s}},t.getPriceImpact=function(e,t,r,n,o){if(p().equal(t,Xr)||p().equal(e[n],Xr)||p().equal(e[o],Xr))return new(Hr())(0);var i=tn(this.getOutputAmountWithNoSlippage(e,t,n,o)),s=tn(r);return i.sub(s).div(i)},t.getFees=function(e){return p().equal(this.traderFee.numerator,Xr)?Xr:p().divide(p().multiply(e,this.traderFee.numerator),this.traderFee.denominator)},t.getOutputAmount=function(e,t,r,n){return this.curve.exchange(e,r,n,t)},t.getOutputAmountWithNoSlippage=function(e,t,r,n){return this.curve.computeBaseY(e,r,n,t)},e}();function on(e,t){if(p().equal(t.numerator,Xr)||p().equal(e,Xr))return Xr;var r=p().divide(p().multiply(e,t.numerator),t.denominator);return p().equal(r,Xr)?Jr:r}var sn=function(){function e(e,t,r){this.traderFee=void 0,this.ownerFee=void 0,this.curve=void 0,this.traderFee=t,this.ownerFee=r,this.curve=new rn(Yr,e,[Jr,Jr])}var t=e.prototype;return t.exchange=function(e,t,r){var n=0===r?1:0,o=this.getExpectedOutputAmount(e,t,n,r);return{priceImpact:this.getPriceImpact(e,t,o,n,r),fees:this.getFees(t),expectedOutputAmount:o}},t.getPriceImpact=function(e,t,r,n,o){if(p().equal(t,Xr)||p().equal(e[n],Xr)||p().equal(e[o],Xr))return new(Hr())(0);var i=tn(this.getExpectedOutputAmountWithNoSlippage(e,t,n,o)),s=tn(r);return i.sub(s).div(i)},t.getFees=function(e){var t=on(e,this.traderFee),r=on(e,this.ownerFee);return p().add(t,r)},t.getExpectedOutputAmount=function(e,t,r,n){var o=this.getInputAmountLessFees(t);return this.getOutputAmount(e,o,r,n)},t.getExpectedOutputAmountWithNoSlippage=function(e,t,r,n){var o=this.getInputAmountLessFees(t);return this.getOutputAmountWithNoSlippage(e,o,r,n)},t.getInputAmountLessFees=function(e){return p().subtract(e,this.getFees(e))},t.getOutputAmount=function(e,t,r,n){return this.curve.exchange(e,r,n,t,!1)},t.getOutputAmountWithNoSlippage=function(e,t,r,n){return this.curve.computeBaseY(e,r,n,t)},e}(),an=function(){function e(e,t,r){void 0===r&&(r=!0),this.traderFee=void 0,this.ownerFee=void 0,this.feesOnInput=void 0,this.traderFee=e,this.ownerFee=t,this.feesOnInput=r}var t=e.prototype;return t.exchange=function(e,t,r){var n=0===r?1:0,o=this.feesOnInput?this.getAmountLessFees(t):t,i=this.getExpectedOutputAmount(e,o,n,r),s=this.getFees(this.feesOnInput?t:i);return this.feesOnInput||(i=this.getAmountLessFees(i)),{priceImpact:this.getPriceImpact(e,o,i,n,r),fees:s,expectedOutputAmount:i}},t.getPriceImpact=function(e,t,r,n,o){if(p().equal(t,Xr)||p().equal(e[n],Xr)||p().equal(e[o],Xr))return new(Hr())(0);var i=tn(this.getExpectedOutputAmountWithNoSlippage(e,t,n,o)),s=tn(r);return i.sub(s).div(i)},t.getFees=function(e){var t=on(e,this.traderFee),r=on(e,this.ownerFee);return p().add(t,r)},t.getExpectedOutputAmount=function(e,t,r,n){return this.getOutputAmount(e,t,r,n)},t.getExpectedOutputAmountWithNoSlippage=function(e,t,r,n){if(p().equal(e[r],Xr))return e[n];var o=p().divide(p().multiply(t,e[n]),e[r]);return this.feesOnInput?o:this.getAmountLessFees(o)},t.getAmountLessFees=function(e){return p().subtract(e,this.getFees(e))},t.getOutputAmount=function(e,t,r,n){var o=[e[r],e[n]],i=o[0],s=o[1],a=function(e,t){var r=p().divide(e,t);if(p().equal(r,Xr))return[Xr,Xr];var n=p().remainder(e,t);return p().greaterThan(n,Xr)&&(r=p().add(r,Jr),t=p().divide(e,r),n=p().remainder(e,r),p().greaterThan(n,Xr)&&(t=p().add(t,Jr))),[r,t]}(this.getInvariant(e),p().add(i,t))[0];return p().subtract(s,a)},t.getInvariant=function(e){return p().multiply(e[0],e[1])},e}(),un=function(e,t){this.numerator=void 0,this.denominator=void 0,this.numerator=e,this.denominator=t},cn=new un(p().BigInt(0),p().BigInt(1)),dn=r(46995),ln=r.n(dn),hn=r(53853),fn=r(97429).Buffer;function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mn(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"===typeof e)return pn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pn(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var gn,yn;gn=function(e){var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(B){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),s=new I(n||[]);return i._invoke=function(e,t,r){var n=l;return function(o,i){if(n===f)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return O()}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var a=E(s,r);if(a){if(a===m)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var u=d(e,t,r);if("normal"===u.type){if(n=r.done?p:h,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}(e,r,s),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(B){return{type:"throw",arg:B}}}e.wrap=c;var l="suspendedStart",h="suspendedYield",f="executing",p="completed",m={};function g(){}function y(){}function b(){}var w={};u(w,i,(function(){return this}));var v=Object.getPrototypeOf,_=v&&v(v(x([])));_&&_!==r&&n.call(_,i)&&(w=_);var A=b.prototype=g.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,i,s,a){var u=d(e[o],e,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"===typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,s,a)}),(function(e){r("throw",e,s,a)})):t.resolve(l).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,a)}))}a(u.arg)}var o;this._invoke=function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}}function E(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method))return m;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=d(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function x(e){if(e){var r=e[i];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return s.next=s}}return{next:O}}function O(){return{value:t,done:!0}}return y.prototype=b,u(A,"constructor",b),u(b,"constructor",y),y.displayName=u(b,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,a,"GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var s=new k(c(t,r,n,o),i);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},S(A),u(A,a,"Generator"),u(A,i,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var u=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:x(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},gn(yn={exports:{}},yn.exports);Hr().config({precision:64,rounding:Hr().ROUND_DOWN,toExpNeg:-64,toExpPos:64});var bn,wn=new(Hr())(10),vn=new(Hr())(2).pow(64),_n=vn.div(2).sub(1),An=vn.div(2).neg(),Sn=vn.sub(1),kn=vn.pow(63).sub(1),En=kn.neg(),Tn=vn.pow(64).sub(1),Pn=40,In=function(){function e(){}return e.from64Buffer=function(e,t){if(void 0===t&&(t=0),8!==e.length&&(0,_.Z)(!1),Math.abs(t)<Pn||(0,_.Z)(!1),e[7]>=128){for(var r,n=[],o=mn(e);!(r=o()).done;){var i=r.value;n.push(("00"+Math.abs(255&~i).toString(16)).slice(-2))}var s=new(u())(n.join(""),16,"le").add(new(u())(1)).neg();return new(Hr())(s.toString()).div(wn.pow(t))}return new(Hr())(new(u())(e,"le").toString()).div(wn.pow(t))},e.fromU64Buffer=function(e,t){return void 0===t&&(t=0),8!==e.length&&(0,_.Z)(!1),Math.abs(t)<Pn||(0,_.Z)(!1),new(Hr())(new(u())(e,16,"le").toString()).div(wn.pow(t))},e.from128Buffer=function(e,t){if(void 0===t&&(t=0),16!==e.length&&(0,_.Z)(!1),Math.abs(t)<Pn||(0,_.Z)(!1),e[15]>=128){for(var r,n=[],o=mn(e);!(r=o()).done;){var i=r.value;n.push(("00"+Math.abs(255&~i).toString(16)).slice(-2))}var s=new(u())(n.join(""),16,"le").add(new(u())(1)).neg();return new(Hr())(s.toString()).div(wn.pow(t))}return new(Hr())(new(u())(e,"le").toString()).div(wn.pow(t))},e.fromU128Buffer=function(e,t){return void 0===t&&(t=0),16!==e.length&&(0,_.Z)(!1),Math.abs(t)<Pn||(0,_.Z)(!1),new(Hr())(new(u())(e,"le").toString()).div(wn.pow(t))},e.to64Buffer=function(e,t){void 0===t&&(t=0),Math.abs(t)<Pn||(0,_.Z)(!1),(e=e.mul(wn.pow(t)).round()).greaterThanOrEqualTo(An)&&e.lessThanOrEqualTo(_n)||(0,_.Z)(!1);var r=new(u())(e.toString());if(r.isNeg()){var n=r.add(new(u())(1)).toBuffer("le",8);return n.forEach((function(e,t,r){r[t]=255&~e})),n}return r.toBuffer("le",8)},e.toU64Buffer=function(e,t){return void 0===t&&(t=0),Math.abs(t)<Pn||(0,_.Z)(!1),(e=e.mul(wn.pow(t)).round()).greaterThanOrEqualTo(0)&&e.lessThanOrEqualTo(Sn)||(0,_.Z)(!1),new(u())(e.toString()).toBuffer("le",8)},e.to128Buffer=function(e,t){void 0===t&&(t=0),Math.abs(t)<Pn||(0,_.Z)(!1),(e=e.mul(wn.pow(t)).round()).greaterThanOrEqualTo(En)&&e.lessThanOrEqualTo(kn)||(0,_.Z)(!1);var r=new(u())(e.toString());if(r.isNeg()){var n=r.add(new(u())(1)).toBuffer("le",16);return n.forEach((function(e,t,r){r[t]=255&~e})),n}return r.toBuffer("le",16)},e.toU128Buffer=function(e,t){return void 0===t&&(t=0),Math.abs(t)<Pn||(0,_.Z)(!1),(e=e.mul(wn.pow(t)).round()).greaterThanOrEqualTo(0)&&e.lessThanOrEqualTo(Tn)||(0,_.Z)(!1),new(u())(e.toString()).toBuffer("le",16)},e}(),xn=function(e){void 0===e&&(e="publicKey");var t=(0,s.Ik)(32,e),r=function(e){return{decode:e.decode.bind(e),encode:e.encode.bind(e)}}(t),n=r.encode,i=r.decode,a=t;return a.decode=function(e,t){var r=i(e,t);return new o.PublicKey(r)},a.encode=function(e,t,r){var o=e.toBuffer();return n(o,t,r)},a},On=function(e,t){void 0===e&&(e="uint64"),void 0===t&&(t=0);var r=(0,s.Ik)(8,e),n=r.decode.bind(r),o=r.encode.bind(r),i=r;return i.decode=function(e,r){var o=fn.from(n(e,r));return In.fromU64Buffer(o,t)},i.encode=function(e,r,n){var i=In.toU64Buffer(e,t);return o(i,r,n)},i},Bn=function(e,t){void 0===e&&(e="uint64"),void 0===t&&(t=0);var r=(0,s.Ik)(16,e),n=r.decode.bind(r),o=r.encode.bind(r),i=r;return i.decode=function(e,r){var o=fn.from(n(e,r));return In.from128Buffer(o,t)},i.encode=function(e,r,n){var i=In.to128Buffer(e,t);return o(i,r,n)},i},Mn=function(e,t){void 0===e&&(e="uint64"),void 0===t&&(t=0);var r=(0,s.Ik)(16,e),n=r.decode.bind(r),o=r.encode.bind(r),i=r;return i.decode=function(e,r){var o=fn.from(n(e,r));return In.fromU128Buffer(o,t)},i.encode=function(e,r,n){var i=In.toU128Buffer(e,t);return o(i,r,n)},i};!function(e){e[e.Initialize=0]="Initialize",e[e.Swap=1]="Swap",e[e.DepositAllTokenTypes=2]="DepositAllTokenTypes",e[e.WithdrawAllTokenTypes=3]="WithdrawAllTokenTypes",e[e.Claim=4]="Claim",e[e.ManagerClaim=5]="ManagerClaim",e[e.AddUserPosition=6]="AddUserPosition",e[e.UpdateFee=7]="UpdateFee",e[e.SimulateSwap=8]="SimulateSwap"}(bn||(bn={}));var Dn=504e3,Un=(0,s.n_)([(0,s.Xo)("tick"),Mn("tickPrice",12),Mn("liquityGross"),Bn("liquityNet"),Mn("feeGrowthOutside0",16),Mn("feeGrowthOutside1",16)],"tickInfo"),Rn=(0,s.n_)([(0,s.u8)("swapVersion"),xn("tokenSwapKey"),(0,s.u8)("accountType"),(0,s.Xo)("len"),(0,s.Ik)(503962,"dataFlat")],"ticksAccount"),Ln=function(e){return e.data.length===Dn},Nn=function(e,t){if(Ln(t)){var r=fn.from(t.data),n=Rn.decode(r),o=n.swapVersion,i=n.tokenSwapKey,a=n.accountType,u=n.len,c=n.dataFlat,d=u*Un.span,l=c.slice(0,d);return{pubkey:e,info:t,data:{swapVersion:o,tokenSwapKey:i,accountType:a,len:u,ticks:(0,s.A9)(Un,u).decode(l)}}}},Cn=(0,s.n_)([xn("nftTokenId"),(0,s.Xo)("lowerTick"),(0,s.Xo)("upperTick"),Mn("liquity"),Mn("feeGrowthInsideALast",16),Mn("feeGrowthInsideBLast",16),Mn("tokenAFee",16),Mn("tokenBFee",16)],"position"),Fn=(Cn.span,(0,s.n_)([xn("tokenSwapKey"),(0,s.u8)("accountType"),(0,s.u8)("version"),(0,s.u8)("isInitialized"),(0,s.u8)("nonce"),xn("tokenProgramId"),xn("manager"),xn("managerTokenA"),xn("managerTokenB"),xn("swapTokenA"),xn("swapTokenB"),xn("tokenAMint"),xn("tokenBMint"),xn("ticksKey"),xn("positionsKey"),(0,s.u8)("curveType"),On("fee",12),On("managerFee",12),(0,s.Jq)("tickSpace"),Mn("currentSqrtPrice",12),Mn("currentLiquity"),Mn("feeGrowthGlobal0",16),Mn("feeGrowthGlobal1",16),Mn("managerFeeA"),Mn("managerFeeB")],"tokenSwapAccount")),Wn=(Fn.span,new Zr.Decimal("1e-12"));function zn(e,t,r,n,o){o.greaterThan(new Zr.Decimal(0))||(0,_.Z)(!1),n.greaterThanOrEqualTo(new Zr.Decimal(0))||(0,_.Z)(!1),e.length>0||(0,_.Z)(!1),t>e[0].tickPrice||(0,_.Z)(!1);for(var i=n,s=new Zr.Decimal(0),a=o,u=new Zr.Decimal(0),c=new Zr.Decimal(0),d=new Zr.Decimal(0),l=e.length-1;l>=0;l--)if(i.equals(new Zr.Decimal(0)))t=e[l].tickPrice.sub(Wn),i=i.sub(e[l].liquityNet);else if(!(t<e[l].tickPrice)){var h=t,f=e[l].tickPrice,p=Kn(f,t,i),m=p.mul(r).toDP(0,Zr.Decimal.ROUND_DOWN);if(u=a.lessThan(m)?a:a.sub(m),p.greaterThanOrEqualTo(u)){var g=qn(h,i,u=a.mul(new Zr.Decimal(1).sub(r)).toDP(0,Zr.Decimal.ROUND_UP)),y=g.amountOut,b=g.afterSqrtPrice;return d=d.add(a),c=c.add(a.sub(u)),{amountOut:s.add(y),amountUsed:d,feeUsed:c,afterPrice:b,afterLiquity:i}}a=u.sub(p),d=d.add(p).add(m),c=c.add(m),s=s.add(Vn(f,h,i)),i=i.sub(e[l].liquityNet),t=e[l].tickPrice.sub(Wn)}return{amountOut:s,amountUsed:d,feeUsed:c,afterPrice:t,afterLiquity:i}}function jn(e,t,r,n,o){o.greaterThan(new Zr.Decimal(0))||(0,_.Z)(!1),n.greaterThanOrEqualTo(new Zr.Decimal(0))||(0,_.Z)(!1),e.length>0||(0,_.Z)(!1),t.lessThan(e[e.length-1].tickPrice)||(0,_.Z)(!1);for(var i=n,s=new Zr.Decimal(0),a=o,u=new Zr.Decimal(0),c=new Zr.Decimal(0),d=new Zr.Decimal(0),l=0;l<e.length;l++)if(i.equals(new Zr.Decimal(0)))t=e[l].tickPrice.add(Wn),i=i.add(e[l].liquityNet);else if(!(t>e[l].tickPrice)){var h=e[l].tickPrice,f=Vn(t,h,i),p=f.mul(r).toDP(0,Zr.Decimal.ROUND_DOWN);if(u=a.lessThan(p)?a:a.sub(p),f.greaterThanOrEqualTo(u)){var m=Zn(t,i,u=a.mul(new Zr.Decimal(1).sub(r)).toDP(0,Zr.Decimal.ROUND_UP)),g=m.amountOut,y=m.afterSqrtPrice;return c=c.add(a),d=d.add(a.sub(u)),{amountOut:s.add(g),feeUsed:d,amountUsed:c,afterPrice:y.pow(2),afterLiquity:i}}a=u.sub(f),c=c.add(f).add(p),d=d.add(p),s=s.add(Kn(t,h,i)),i=i.add(e[l].liquityNet),t=e[l].tickPrice.add(Wn)}return{amountOut:s,amountUsed:c,feeUsed:d,afterPrice:t,afterLiquity:i}}function Kn(e,t,r){return r.div(e).toDP(0,Zr.Decimal.ROUND_DOWN).sub(r.div(t).toDP(0,Zr.Decimal.ROUND_DOWN))}function Vn(e,t,r){return r.mul(t.sub(e)).toDP(0,Zr.Decimal.ROUND_DOWN)}function qn(e,t,r){var n=t.div(r.add(t.div(e))),o=r.add(t.div(e).toDP(0,Zr.Decimal.ROUND_DOWN));return{amountOut:t.mul(e).toDP(0,Zr.Decimal.ROUND_DOWN).sub(t.mul(t).div(o).toDP(0,Zr.Decimal.ROUND_DOWN)),afterSqrtPrice:n}}function Zn(e,t,r){var n=r.div(t).add(e),o=r.add(t.mul(e).toDP(0,Zr.Decimal.ROUND_DOWN));return{amountOut:t.div(e).toDP(0,Zr.Decimal.ROUND_DOWN).sub(t.mul(t).div(o).toDP(0,Zr.Decimal.ROUND_DOWN)),afterSqrtPrice:n}}Hr().config({precision:64,rounding:Hr().ROUND_HALF_DOWN,toExpNeg:-64,toExpPos:64});var Hn=r(45103),Gn=r(7867),Qn=r(97429).Buffer,Xn=[{wrapper:"2B5Qedoo95Pjpv9xVPw82bbmcGDGCNHroKpzQE2CNHRZ",underlying:"CASHVDm2wsJXfhj6VWxb7GiMdoLc17Du7paH4bNr5woT",underlyingDecimals:6,wrapperUnderlyingTokens:"3YCGgStAV9H7TdPYdBnRP8yoH4Zqdmyt7xo6KB4Wa8xt",mint:"C9xqJe3gMTUDKidZsZ6jJ7tL9zSLimDUKVpgUbLZnNbi",decimals:9},{wrapper:"2ffwMLE4dxSv59eYXhfhfuS81kz6gzf6DZjdBxRHZz9A",underlying:"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3",underlyingDecimals:6,wrapperUnderlyingTokens:"H5tnZcfHCzHueNnfd6foeBBUUW4g7qXKt6rKzT7wg6oP",mint:"FTT9rBBrYwcHam4qLvkzzzhrsihYMbZ3k6wJbdoahxAt",decimals:9},{wrapper:"3A85wiQg2REhBVxVS1CjDaS333TBNM2g37BbdNGSMheg",underlying:"CDJWUqTcYTVAKXAVXoQZFes5JUFc7owSeq7eMQcDSbo5",underlyingDecimals:8,wrapperUnderlyingTokens:"764FaQrrREvNTpaH2yXyrPZgVBaXA7AXM8vyCaevXitD",mint:"BtX7AfzEJLnU8KQR1AgHrhGH5s2AHUTbfjhUQP8BhPvi",decimals:10},{wrapper:"7hWjnVC6FNkmmgjq88LEnRycrKvxVB1MsJ6FQcrvxe4n",underlying:"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E",underlyingDecimals:6,wrapperUnderlyingTokens:"B22gDMgN2tNWmvyzhb5tamJKanWcUUUw2zN3h3qjgQg8",mint:"9999j2A8sXUtHtDoQdk528oVzhaKBsXyRGZ67FKGoi7H",decimals:9},{wrapper:"8zooyPZrq2mth917VrHLtNTk6GvAhc2KgdB4DGBXYyke",underlying:"AUrMpCDYYcPuHhyNX8gEEqbmDPFUpBpHrNW3vPeCFn5Z",underlyingDecimals:9,wrapperUnderlyingTokens:"7ZZyhVde6ZmnVMuFnrg3mRPHhvfBixLdEo7RnwxTtpF7",mint:"EY3s4nXTzHDiiysmjvj7zWP6yAX3n4xHmXkJWD1w1tGP",decimals:15},{wrapper:"93qsLbASEG8DmtSB2MEVaa25KvEm2afh5rzbaAJHLi5A",underlying:"7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs",underlyingDecimals:8,wrapperUnderlyingTokens:"4fUL9yLbFZEuG32SaCjWqJXwDTBFNnipteBWxMvvFoC8",mint:"KNVfdSJyq1pRQk9AKKv1g5uyGuk6wpm4WG16Bjuwdma",decimals:9},{wrapper:"ACvLVgR3UKdDB3b1QapsbJsPXaUrBPdJGDfiFnMYMXoz",underlying:"F6v4wfAdJB8D8p77bMXZgYt8TDKsYxLYxH5AFhUkYx9W",underlyingDecimals:6,wrapperUnderlyingTokens:"AvqMJWHsZscPWTAUcj8dZi2ch6XQEHMpiCMprfFovaU",mint:"LUNGEjUXyP48nrC1GYY5o4eTAkwm4RdX8BxFUxWJBLB",decimals:9},{wrapper:"AnKLLfpMcceM6YXtJ9nGxYekVXqfWy8WNsMZXoQTCVQk",underlying:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",underlyingDecimals:6,wrapperUnderlyingTokens:"77XHXCWYQ76E9Q3uCuz1geTaxsqJZf9RfX5ZY7yyLDYt",mint:"JEFFSQ3s8T3wKsvp4tnRAsUBW7Cqgnf8ukBZC4C8XBm1",decimals:9},{wrapper:"CGxMr5UrTjApBjU656N9NBAsGby4fWs1KgVtueQ8WKt6",underlying:"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3",underlyingDecimals:6,wrapperUnderlyingTokens:"7dVPR6jx3hKyNfuHPo3WtWdUpH4eh4Up4rfFhLHZqwy3",mint:"FTT8cGNp3rfTC6c44uPTuEFLqmsVDhjd2BhH65v2uppr",decimals:8},{wrapper:"D231Uoh24bXtUtWN51ZbFAFSBmGT3zuuEAHZNuCmtRjN",underlying:"CDJWUqTcYTVAKXAVXoQZFes5JUFc7owSeq7eMQcDSbo5",underlyingDecimals:8,wrapperUnderlyingTokens:"C39Wq6X98TLcrnYCMkcHQhwUurkQMUdibUCpf2fVBDsm",mint:"FACTQhZBfRzC7A76antnpAoZtiwYmUfdAN8wz7e8rxC5",decimals:9},{wrapper:"EhQqUmkUXXnxmV7yA6PDrQWvLgSd9HkrwdDKk1B5m6Tc",underlying:"CbNYA9n3927uXUukee2Hf4tm3xxkffJPPZvGazc2EAH1",underlyingDecimals:8,wrapperUnderlyingTokens:"8YC5eCS99umbK9K9LnHnTMMjnr7EWg1gam5maNB6uf9d",mint:"EU9aLffrTckFCs16da6CppHy63fAxMPF9ih1erQTuuRt",decimals:9},{wrapper:"EwWpia5t9Twiwdi8ghK8e8JHaf6ShNU9jmoYpvdZhBwC",underlying:"9vMJfxuKxXBoEa7rM12mYLMwTacLMLDJqHozw96WQL8i",underlyingDecimals:6,wrapperUnderlyingTokens:"9YB1zRL4ETuQFG8ZK1yD4GHBVDmH81EzwuSj75zdnKhK",mint:"UST8SCn7jrqsq51odVLqcmvnC658HkqrKrPL3w2hHQ7",decimals:8},{wrapper:"F9TsAsh5RirU3LqyTJECLQEGXnF4RQT7ckvexCP1KNTu",underlying:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",underlyingDecimals:6,wrapperUnderlyingTokens:"BSTjdztBrsptuxfz9JHS31Wc9CknpLeL1wqZjeVs1Ths",mint:"AEUT5uFm1D575FVCoQd5Yq891FJEqkncZUbBFoFcAhTV",decimals:9},{wrapper:"FCgoT8RpsopdM5QT6AB98NUfUnDnu7y865MFpRx93JrS",underlying:"EzfgjvkSwthhgHaceR3LnKXUoRkP6NUhfghdaHAj1tUv",underlyingDecimals:8,wrapperUnderlyingTokens:"5yugfArBAUZJJBUCRWPuiLyi6CWp1f67H9xgg3hcgSkx",mint:"FTT9GrHBVHvDeUTgLU8FxVJouGqg9uiWGmmjETdm32Sx",decimals:9},{wrapper:"FDGtFWVhEb1zxnaW2FzogeGDxLoAV7Cu9XdNYPEVwqt",underlying:"8wv2KAykQstNAj2oW6AHANGBiFKVFhvMiyyzzjhkmGvE",underlyingDecimals:6,wrapperUnderlyingTokens:"4R6PmC8BJcPDBsEMGpXpLCnFFkUZhEgZy6pMNtc2LqA4",mint:"KUANeD8EQvwpT1W7QZDtDqctLEh2FfSTy5pThE9CogT",decimals:9},{wrapper:"FPuYMuodknZuQKHA8Wp4PBbp52Qu8nK2oAuwedp2WfM3",underlying:"9vMJfxuKxXBoEa7rM12mYLMwTacLMLDJqHozw96WQL8i",underlyingDecimals:6,wrapperUnderlyingTokens:"GxpyQZi5VkZDSq5TUycMau11sCkQkVCa8xYhBgiPMsyK",mint:"UST98bfV6EASdTFQrRwCBczpehdMFwYCUdLT5tEbhpW",decimals:9},{wrapper:"Ffxi5TSpFV9NeV5KyNDCC7fWnFoFd2bDcL1eViSAE2M2",underlying:"CASHVDm2wsJXfhj6VWxb7GiMdoLc17Du7paH4bNr5woT",underlyingDecimals:6,wrapperUnderlyingTokens:"5s2et753hMXV945U3p5uz6RQqMkZGCPEjKjNPdUcCLLF",mint:"CASHedBw9NfhsLBXq1WNVfueVznx255j8LLTScto3S6s",decimals:8},{wrapper:"G4gRGymKo7MGzGZup12JS39YVCvy8YMM6KY9AmcKi5iw",underlying:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",underlyingDecimals:6,wrapperUnderlyingTokens:"AQhP39mE4o6BYNwnwYqnz7ZobkPBSLpCg8WvEESq1viZ",mint:"88881Hu2jGMfCs9tMu5Rr7Ah7WBNBuXqde4nR5ZmKYYy",decimals:8},{wrapper:"GiLSv94Wwyd6suH57Fu6HjEKsMxhNGfEwKn9vT22me1p",underlying:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",underlyingDecimals:6,wrapperUnderlyingTokens:"3cjAWoyDcco8UVCN17keNUNHoyz37ctgDa7G6zkeb81Y",mint:"T8KdT8hDzNhbGx5sjpEUxepnbDB1TZoCa7vtC5JjsMw",decimals:8},{wrapper:"GpkFF2nPfjUcsavgDGscxaUEQ2hYJ563AXXtU8ohiZ7c",underlying:"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E",underlyingDecimals:6,wrapperUnderlyingTokens:"6hYDFhZ5ddfzoqaAbzRHm8mzG2MQzYQV9295sQHsvNBV",mint:"SBTCB6pWqeDo6zGi9WVRMLCsKsN6JiR1RMUqvLtgSRv",decimals:8},{wrapper:"fvSvtHNFuDHrAN82YEyBApRs3U6vUGCLzKGMuPmCaF8",underlying:"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk",underlyingDecimals:6,wrapperUnderlyingTokens:"4JWyJ4ZYsQ8uiYue2tTEqcHcFXrDuaQ1rsyjNFfrZm65",mint:"SL819j8K9FuFPL84UepVcFkEZqDUUvVzwDmJjCHySYj",decimals:8}];const Jn={version:"0.1.0",name:"jupiter",instructions:[{name:"mercurialExchange",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"swapState",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"poolAuthority",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"sourceTokenAccount",isMut:!0,isSigner:!1},{name:"destinationTokenAccount",isMut:!0,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"saberExchange",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"swap",isMut:!1,isSigner:!1},{name:"swapAuthority",isMut:!1,isSigner:!1},{name:"userAuthority",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"inputUserAccount",isMut:!0,isSigner:!1},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"outputUserAccount",isMut:!0,isSigner:!1},{name:"outputTokenAccount",isMut:!0,isSigner:!1},{name:"feesTokenAccount",isMut:!0,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"saberAddDecimalsDeposit",accounts:[{name:"addDecimalsProgram",isMut:!1,isSigner:!1},{name:"wrapper",isMut:!1,isSigner:!1},{name:"wrapperMint",isMut:!0,isSigner:!1},{name:"wrapperUnderlyingTokens",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!0},{name:"userUnderlyingTokens",isMut:!0,isSigner:!1},{name:"userWrappedTokens",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"saberAddDecimalsWithdraw",accounts:[{name:"addDecimalsProgram",isMut:!1,isSigner:!1},{name:"wrapper",isMut:!1,isSigner:!1},{name:"wrapperMint",isMut:!0,isSigner:!1},{name:"wrapperUnderlyingTokens",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!0},{name:"userUnderlyingTokens",isMut:!0,isSigner:!1},{name:"userWrappedTokens",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"senchaExchange",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"swap",isMut:!0,isSigner:!1},{name:"userAuthority",isMut:!1,isSigner:!1},{name:"inputUserAccount",isMut:!0,isSigner:!1},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"inputFeesAccount",isMut:!0,isSigner:!1},{name:"outputUserAccount",isMut:!0,isSigner:!1},{name:"outputTokenAccount",isMut:!0,isSigner:!1},{name:"outputFeesAccount",isMut:!0,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"serumSwap",accounts:[{name:"market",accounts:[{name:"market",isMut:!0,isSigner:!1},{name:"openOrders",isMut:!0,isSigner:!1},{name:"requestQueue",isMut:!0,isSigner:!1},{name:"eventQueue",isMut:!0,isSigner:!1},{name:"bids",isMut:!0,isSigner:!1},{name:"asks",isMut:!0,isSigner:!1},{name:"coinVault",isMut:!0,isSigner:!1},{name:"pcVault",isMut:!0,isSigner:!1},{name:"vaultSigner",isMut:!1,isSigner:!1}]},{name:"authority",isMut:!1,isSigner:!0},{name:"orderPayerTokenAccount",isMut:!0,isSigner:!1},{name:"coinWallet",isMut:!0,isSigner:!1},{name:"pcWallet",isMut:!0,isSigner:!1},{name:"dexProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"side",type:{defined:"Side"}},{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"tokenSwap",accounts:[{name:"tokenSwapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"swap",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"source",isMut:!0,isSigner:!1},{name:"swapSource",isMut:!0,isSigner:!1},{name:"swapDestination",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"poolFee",isMut:!0,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"stepTokenSwap",accounts:[{name:"tokenSwapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"swap",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"source",isMut:!0,isSigner:!1},{name:"swapSource",isMut:!0,isSigner:!1},{name:"swapDestination",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"poolFee",isMut:!0,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"cropperTokenSwap",accounts:[{name:"tokenSwapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"swap",isMut:!1,isSigner:!1},{name:"swapState",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"source",isMut:!0,isSigner:!1},{name:"swapSource",isMut:!0,isSigner:!1},{name:"swapDestination",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"poolFee",isMut:!0,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"raydiumSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"ammId",isMut:!0,isSigner:!1},{name:"ammAuthority",isMut:!1,isSigner:!1},{name:"ammOpenOrders",isMut:!0,isSigner:!1},{name:"ammTargetOrders",isMut:!0,isSigner:!1},{name:"poolCoinTokenAccount",isMut:!0,isSigner:!1},{name:"poolPcTokenAccount",isMut:!0,isSigner:!1},{name:"serumProgramId",isMut:!1,isSigner:!1},{name:"serumMarket",isMut:!0,isSigner:!1},{name:"serumBids",isMut:!0,isSigner:!1},{name:"serumAsks",isMut:!0,isSigner:!1},{name:"serumEventQueue",isMut:!0,isSigner:!1},{name:"serumCoinVaultAccount",isMut:!0,isSigner:!1},{name:"serumPcVaultAccount",isMut:!0,isSigner:!1},{name:"serumVaultSigner",isMut:!1,isSigner:!1},{name:"userSourceTokenAccount",isMut:!0,isSigner:!1},{name:"userDestinationTokenAccount",isMut:!0,isSigner:!1},{name:"userSourceOwner",isMut:!1,isSigner:!0}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"raydiumSwapV2",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"ammId",isMut:!0,isSigner:!1},{name:"ammAuthority",isMut:!1,isSigner:!1},{name:"ammOpenOrders",isMut:!0,isSigner:!1},{name:"poolCoinTokenAccount",isMut:!0,isSigner:!1},{name:"poolPcTokenAccount",isMut:!0,isSigner:!1},{name:"serumProgramId",isMut:!1,isSigner:!1},{name:"serumMarket",isMut:!0,isSigner:!1},{name:"serumBids",isMut:!0,isSigner:!1},{name:"serumAsks",isMut:!0,isSigner:!1},{name:"serumEventQueue",isMut:!0,isSigner:!1},{name:"serumCoinVaultAccount",isMut:!0,isSigner:!1},{name:"serumPcVaultAccount",isMut:!0,isSigner:!1},{name:"serumVaultSigner",isMut:!1,isSigner:!1},{name:"userSourceTokenAccount",isMut:!0,isSigner:!1},{name:"userDestinationTokenAccount",isMut:!0,isSigner:!1},{name:"userSourceOwner",isMut:!1,isSigner:!0}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"aldrinSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"pool",isMut:!1,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"baseTokenVault",isMut:!0,isSigner:!1},{name:"quoteTokenVault",isMut:!0,isSigner:!1},{name:"feePoolTokenAccount",isMut:!0,isSigner:!1},{name:"walletAuthority",isMut:!1,isSigner:!0},{name:"userBaseTokenAccount",isMut:!0,isSigner:!1},{name:"userQuoteTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"side",type:{defined:"Side"}},{name:"platformFeeBps",type:"u8"}]},{name:"aldrinV2Swap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"pool",isMut:!1,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"baseTokenVault",isMut:!0,isSigner:!1},{name:"quoteTokenVault",isMut:!0,isSigner:!1},{name:"feePoolTokenAccount",isMut:!0,isSigner:!1},{name:"walletAuthority",isMut:!1,isSigner:!0},{name:"userBaseTokenAccount",isMut:!0,isSigner:!1},{name:"userQuoteTokenAccount",isMut:!0,isSigner:!1},{name:"curve",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"side",type:{defined:"Side"}},{name:"platformFeeBps",type:"u8"}]},{name:"cremaTokenSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"pool",isMut:!0,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"userSourceTokenAccount",isMut:!0,isSigner:!1},{name:"userDestinationTokenAccount",isMut:!0,isSigner:!1},{name:"poolSourceTokenAccount",isMut:!0,isSigner:!1},{name:"poolDestinationTokenAccount",isMut:!0,isSigner:!1},{name:"poolTicksAccount",isMut:!0,isSigner:!1},{name:"walletAuthority",isMut:!1,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"lifinityTokenSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"amm",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"sourceInfo",isMut:!0,isSigner:!1},{name:"destinationInfo",isMut:!0,isSigner:!1},{name:"swapSource",isMut:!0,isSigner:!1},{name:"swapDestination",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"feeAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"pythAccount",isMut:!1,isSigner:!1},{name:"pythPcAccount",isMut:!1,isSigner:!1},{name:"configAccount",isMut:!0,isSigner:!1}],args:[{name:"inAmount",type:{option:"u64"}},{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"riskCheckAndFee",accounts:[{name:"tokenLedger",isMut:!0,isSigner:!1},{name:"userDestinationTokenAccount",isMut:!0,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"minimumOutAmount",type:"u64"},{name:"platformFeeBps",type:"u8"}]},{name:"initializeTokenLedger",accounts:[{name:"tokenLedger",isMut:!0,isSigner:!0},{name:"payer",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"setTokenLedger",accounts:[{name:"tokenLedger",isMut:!0,isSigner:!1},{name:"tokenAccount",isMut:!1,isSigner:!1}],args:[]},{name:"createOpenOrders",accounts:[{name:"openOrders",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"dexProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"market",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"tokenLedger",type:{kind:"struct",fields:[{name:"tokenAccount",type:"publicKey"},{name:"amount",type:"u64"}]}}],types:[{name:"Swap",type:{kind:"struct",fields:[{name:"tokens",type:"u64"},{name:"minTokens",type:"u64"},{name:"side",type:{defined:"Side"}}]}},{name:"Swap",type:{kind:"struct",fields:[{name:"tokens",type:"u64"},{name:"minTokens",type:"u64"},{name:"side",type:{defined:"Side"}}]}},{name:"Swap",type:{kind:"struct",fields:[{name:"amountIn",type:"u64"},{name:"minimumAmountOut",type:"u64"}]}},{name:"Deposit",type:{kind:"struct",fields:[{name:"amount",type:"u64"}]}},{name:"Withdraw",type:{kind:"struct",fields:[{name:"maxBurnAmount",type:"u64"}]}},{name:"Direction",type:{kind:"enum",variants:[{name:"LeftToRight"},{name:"RightToLeft"}]}},{name:"SwapInstrution",type:{kind:"enum",variants:[{name:"Swap",fields:[{defined:"Swap"}]}]}},{name:"Side",type:{kind:"enum",variants:[{name:"Bid"},{name:"Ask"}]}}],errors:[{code:6e3,name:"SlippageToleranceExceeded",msg:"Slippage tolerance exceeded"},{code:6001,name:"InvalidTokenLedger",msg:"Invalid token ledger"},{code:6002,name:"MissingTokenLedger",msg:"Missing token ledger"},{code:6003,name:"MissingMercurialExchangeTokenAccount",msg:"Missing mercurial exchange token account"},{code:6004,name:"LedgerTokenAccountDoesNotMatch",msg:"Ledger token account does not match"},{code:6005,name:"MissingPlatformFeeAccount",msg:"Missing platform fee account"},{code:6006,name:"InvalidCalculation",msg:"Invalid calculation"}]},Yn=new o.PublicKey("So11111111111111111111111111111111111111112"),$n=new o.PublicKey("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),eo=new o.PublicKey("DESVgJVGajEgKGXhb6XmqDHGz3VjdgP7rEVESBgxmroY"),to={devnet:"https://api.jup.ag/api/markets/cache/devnet","mainnet-beta":"https://cache.jup.ag/markets?v=3",testnet:"https://api.jup.ag/api/markets/cache/devnet"},ro={devnet:"https://api.jup.ag/api/tokens/devnet",testnet:"https://api.jup.ag/api/markets/devnet","mainnet-beta":"https://cache.jup.ag/tokens"},no=new o.PublicKey("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),oo=new o.PublicKey("AMM55ShdkoGRB5jVYPjWziwk8m5MpwyDgsMWHaMSQWH6"),io=new o.PublicKey("CURVGoZn8zycx6FXwwevgBTB2gVvdbGTEpvMJDbgs2t4"),so=new o.PublicKey("DecZY86MU5Gj7kppfUCEmd4LbXXuyZH1yHaP2NTqdiZB"),ao=new o.PublicKey("CTMAxxk34HjKWxQ3QLZK1HpaLXmBveao3ESePXbiyfzh"),uo=new o.PublicKey("SCHAtsf8mbjyjiv4LkhLKutTf6JnZAbdJKFkXQNMFHZ"),co=new o.PublicKey("EewxydAPCCVuNEyrVN68PuSYdQ7wKn27V9Gjeoi8dy3S"),lo=new o.PublicKey("6MLxLqiXaaSUpkgMnWDTuejNZEz3kE7k2woyHGVFw319"),ho=new o.PublicKey("BUX7s2ef2htTGb2KKoPHWkmzxPj4nTWMWRgs5CSbQxf9"),fo=new o.PublicKey("MERLuDFBMmsHnsBPZw2sDQZHvXFMwp8EdjudcU2HKky"),po=["StepAscQoEioFxxWGnh2sLBDFp9d8rvKz2Yp39iDpyT","DubwWZNWiNGMMeeQHPnMATNj77YZPZSAz2WVR5WjLJqz"],mo=Object.freeze({TransactionNotConfirmed:{code:7e3,name:"TransactionNotConfirmed",msg:"Transaction was not confirmed"},...Jn.errors.reduce(((e,t)=>({...e,[t.name]:t})),{})});class go extends s.Ar{constructor(e){const t=(0,s.Ik)(32);super(t.span,e),this.layout=void 0,this.layout=t}getSpan(e,t){return this.layout.getSpan(e,t)}decode(e,t){return new o.PublicKey(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(e.toBuffer(),t,r)}}const yo=e=>new go(e);class bo extends s.Ar{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1?arguments[1]:void 0;const r=(0,s.Ik)(e);super(r.span,t),this.layout=void 0,this.layout=r}getSpan(e,t){return this.layout.getSpan(e,t)}decode(e,t){return new n.u64(this.layout.decode(e,t),10,"le")}encode(e,t,r){return this.layout.encode(e.toArrayLike(Qn,"le",this.layout.span),t,r)}}const wo=e=>new bo(8,e),vo=e=>new bo(16,e),_o=(0,s.n_)([(0,s.u8)("version"),(0,s.u8)("isInitialized"),(0,s.u8)("nonce"),yo("ammId"),yo("serumProgramId"),yo("serumMarket"),yo("tokenProgramId"),yo("tokenAAccount"),yo("tokenBAccount"),yo("poolMint"),yo("mintA"),yo("mintB")]),Ao=(0,s.n_)([(0,s.u8)("isInitialized"),yo("stateOwner"),yo("feeOwner"),wo("initialSupply"),wo("returnFeeNumerator"),wo("fixedFeeNumerator"),wo("feeDenominator"),(0,s.u8)("curveType"),(0,s.Ik)(32,"curveParameters")]),So=new o.PublicKey("3hsU1VgsBgBgz5jWiqdw9RfGU6TpWdCmdah1oi4kF3Tq"),ko=(e,t)=>{const r=t.owner,n=_o.decode(t.data),[o]=(0,qr.findProgramAddressSync)([e.toBuffer()],r);return{programId:r,authority:o,version:n.version,isInitialized:Boolean(n.isInitialized),nonce:n.nonce,ammId:n.ammId,serumProgramId:n.serumProgramId,tokenProgramId:n.tokenProgramId,tokenAAccount:n.tokenAAccount,tokenBAccount:n.tokenBAccount,serumMarket:n.serumMarket,poolMint:n.poolMint,mintA:n.mintA,mintB:n.mintB}},Eo={Bid:{bid:{}},Ask:{ask:{}}},To=new o.PublicKey("JUP2jxvXaqu7NQY1GmNF4m1vodw12LVXYxbFL2uJvfo"),Po=new Vr(Jn,To,{}),[Io]=(0,qr.findProgramAddressSync)([Qn.from("token_ledger")],To);function xo(e,t,r,o){return{swapProgram:fo,swapState:e.ammId,tokenProgram:n.TOKEN_PROGRAM_ID,poolAuthority:e.authority,userTransferAuthority:o,sourceTokenAccount:t,destinationTokenAccount:r}}function Oo(e,t,r,o){const[i]=(0,qr.findProgramAddressSync)([new Uint8Array(Qn.from("amm authority".replace("\xa0"," "),"utf-8"))],no);if(!e.serumMarketKeys)throw new Error("RaydiumAmm is missing serumMarketKeys");return{swapProgram:no,tokenProgram:n.TOKEN_PROGRAM_ID,ammId:e.ammId,ammAuthority:i,ammOpenOrders:e.ammOpenOrders,poolCoinTokenAccount:e.poolCoinTokenAccount,poolPcTokenAccount:e.poolPcTokenAccount,serumProgramId:e.serumProgramId,serumMarket:e.serumMarket,serumBids:e.serumMarketKeys.serumBids,serumAsks:e.serumMarketKeys.serumAsks,serumEventQueue:e.serumMarketKeys.serumEventQueue,serumCoinVaultAccount:e.serumMarketKeys.serumCoinVaultAccount,serumPcVaultAccount:e.serumMarketKeys.serumPcVaultAccount,serumVaultSigner:e.serumMarketKeys.serumVaultSigner,userSourceTokenAccount:t,userDestinationTokenAccount:r,userSourceOwner:o}}function Bo(e,t,r,i,s,a){const u=(0,qr.createProgramAddressSync)([e.address.toBuffer(),e.decoded.vaultSignerNonce.toArrayLike(Qn,"le",8)],e.programId);return{market:{market:e.address,openOrders:t,requestQueue:e.decoded.requestQueue,eventQueue:e.decoded.eventQueue,bids:e.bidsAddress,asks:e.asksAddress,coinVault:e.decoded.baseVault,pcVault:e.decoded.quoteVault,vaultSigner:u},authority:a,orderPayerTokenAccount:r,coinWallet:i,pcWallet:s,dexProgram:e.programId,tokenProgram:n.TOKEN_PROGRAM_ID,rent:o.SYSVAR_RENT_PUBKEY}}function Mo(e){let{swapLayout:t,userSourceTokenAccount:r,userDestinationTokenAccount:n,userTransferAuthority:o,inAmount:i,minimumOutAmount:s,tokenLedger:u,platformFee:c}=e;var d;const l=[];for(const a of t.tokenAccounts)l.push({pubkey:a,isSigner:!1,isWritable:!0});return l.push(...Go(i,u,null===c||void 0===c?void 0:c.feeAccount)),Po.instruction.mercurialExchange(i?new a.BN(i):i,new a.BN(s),null!==(d=null===c||void 0===c?void 0:c.feeBps)&&void 0!==d?d:0,{accounts:xo(t,r,n,o),remainingAccounts:l})}function Do(e){let{market:t,sourceMint:r,openOrdersAddress:n,userSourceTokenAccount:o,userDestinationTokenAccount:i,userTransferAuthority:s,inAmount:u,minimumOutAmount:c,tokenLedger:d,platformFee:l,referrer:h}=e;var f;const{side:p,coinWallet:m,pcWallet:g}=r.equals(t.baseMintAddress)?{side:Eo.Ask,coinWallet:o,pcWallet:i}:{side:Eo.Bid,coinWallet:i,pcWallet:o};let y=Go(u,d,null===l||void 0===l?void 0:l.feeAccount);return h&&y.push({pubkey:h,isSigner:!1,isWritable:!0}),Po.instruction.serumSwap(p,u?new a.BN(u):u,new a.BN(c),null!==(f=null===l||void 0===l?void 0:l.feeBps)&&void 0!==f?f:0,{accounts:Bo(t,n,o,m,g,s),remainingAccounts:y})}function Uo(e){let{tokenSwapState:t,sourceMint:r,userSourceTokenAccount:o,userDestinationTokenAccount:i,userTransferAuthority:s,inAmount:u,minimumOutAmount:c,tokenLedger:d,platformFee:l,isStep:h}=e;var f;const[p,m]=r.equals(t.mintA)?[t.tokenAccountA,t.tokenAccountB]:[t.tokenAccountB,t.tokenAccountA];return(h?Po.instruction.stepTokenSwap:Po.instruction.tokenSwap)(u?new a.BN(u):u,new a.BN(c),null!==(f=null===l||void 0===l?void 0:l.feeBps)&&void 0!==f?f:0,{accounts:{tokenSwapProgram:t.programId,tokenProgram:n.TOKEN_PROGRAM_ID,swap:t.address,authority:t.authority,userTransferAuthority:s,source:o,swapSource:p,swapDestination:m,destination:i,poolMint:t.poolToken,poolFee:t.feeAccount},remainingAccounts:Go(u,d,null===l||void 0===l?void 0:l.feeAccount)})}function Ro(e){let{poolState:t,sourceMint:r,userSourceTokenAccount:o,userDestinationTokenAccount:i,userTransferAuthority:s,inAmount:u,minimumOutAmount:c,tokenLedger:d,platformFee:l}=e;var h;const[f,p]=r.equals(t.token0Mint)?[t.token0Reserves,t.token1Reserves]:[t.token1Reserves,t.token0Reserves],[m,g]=r.equals(t.token0Mint)?[t.token0Fees,t.token1Fees]:[t.token1Fees,t.token0Fees];return Po.instruction.senchaExchange(u?new a.BN(u):u,new a.BN(c),null!==(h=null===l||void 0===l?void 0:l.feeBps)&&void 0!==h?h:0,{accounts:{swapProgram:t.programId,tokenProgram:n.TOKEN_PROGRAM_ID,swap:t.ammId,userAuthority:s,inputUserAccount:o,inputTokenAccount:f,inputFeesAccount:m,outputUserAccount:i,outputTokenAccount:p,outputFeesAccount:g},remainingAccounts:Go(u,d,null===l||void 0===l?void 0:l.feeAccount)})}function Lo(e){let{poolState:t,feeAccount:r,sourceMint:o,userSourceTokenAccount:i,userDestinationTokenAccount:s,userTransferAuthority:u,inAmount:c,minimumOutAmount:d,tokenLedger:l,platformFee:h}=e;var f;const[p,m]=o.equals(t.mintA)?[t.tokenAAccount,t.tokenBAccount]:[t.tokenBAccount,t.tokenAAccount];return Po.instruction.cropperTokenSwap(c?new a.BN(c):c,new a.BN(d),null!==(f=null===h||void 0===h?void 0:h.feeBps)&&void 0!==f?f:0,{accounts:{tokenSwapProgram:t.programId,tokenProgram:n.TOKEN_PROGRAM_ID,swap:t.ammId,swapState:So,authority:t.authority,userTransferAuthority:u,source:i,swapSource:p,swapDestination:m,destination:s,poolMint:t.poolMint,poolFee:r},remainingAccounts:Go(c,l,null===h||void 0===h?void 0:h.feeAccount)})}function No(e){let{raydiumAmm:t,userSourceTokenAccount:r,userDestinationTokenAccount:n,userTransferAuthority:o,inAmount:i,minimumOutAmount:s,tokenLedger:u,platformFee:c}=e;var d;return Po.instruction.raydiumSwapV2(i?new a.BN(i):i,new a.BN(s),null!==(d=null===c||void 0===c?void 0:c.feeBps)&&void 0!==d?d:0,{accounts:Oo(t,r,n,o),remainingAccounts:Go(i,u,null===c||void 0===c?void 0:c.feeAccount)})}function Co(e){let{poolState:t,sourceMint:r,userSourceTokenAccount:o,userDestinationTokenAccount:i,userTransferAuthority:s,inAmount:u,minimumOutAmount:c,tokenLedger:d,platformFee:l}=e;var h;const[f,p,m]=r.equals(t.baseTokenMint)?[Eo.Ask,o,i]:[Eo.Bid,i,o];return Po.instruction.aldrinSwap(u?new a.BN(u):u,new a.BN(c),f,null!==(h=null===l||void 0===l?void 0:l.feeBps)&&void 0!==h?h:0,{accounts:{swapProgram:oo,pool:t.address,poolSigner:t.poolSigner,poolMint:t.poolMint,baseTokenVault:t.baseTokenVault,quoteTokenVault:t.quoteTokenVault,feePoolTokenAccount:t.feePoolTokenAccount,walletAuthority:s,userBaseTokenAccount:p,userQuoteTokenAccount:m,tokenProgram:n.TOKEN_PROGRAM_ID},remainingAccounts:Go(u,d,null===l||void 0===l?void 0:l.feeAccount)})}function Fo(e){let{poolState:t,sourceMint:r,userSourceTokenAccount:o,userDestinationTokenAccount:i,curve:s,userTransferAuthority:u,inAmount:c,minimumOutAmount:d,tokenLedger:l,platformFee:h}=e;var f;const[p,m,g]=r.equals(t.baseTokenMint)?[Eo.Ask,o,i]:[Eo.Bid,i,o];return Po.instruction.aldrinV2Swap(c?new a.BN(c):c,new a.BN(d),p,null!==(f=null===h||void 0===h?void 0:h.feeBps)&&void 0!==f?f:0,{accounts:{swapProgram:io,pool:t.address,poolSigner:t.poolSigner,poolMint:t.poolMint,baseTokenVault:t.baseTokenVault,quoteTokenVault:t.quoteTokenVault,feePoolTokenAccount:t.feePoolTokenAccount,walletAuthority:u,userBaseTokenAccount:m,userQuoteTokenAccount:g,curve:s,tokenProgram:n.TOKEN_PROGRAM_ID},remainingAccounts:Go(c,l,null===h||void 0===h?void 0:h.feeAccount)})}function Wo(e){let{poolState:t,sourceMint:r,userSourceTokenAccount:o,userDestinationTokenAccount:i,userTransferAuthority:s,inAmount:u,minimumOutAmount:c,tokenLedger:d,platformFee:l}=e;var h;const[f,p]=r.equals(t.mintA)?[t.tokenAAccount,t.tokenBAccount]:[t.tokenBAccount,t.tokenAAccount];return Po.instruction.cremaTokenSwap(u?new a.BN(u):u,new a.BN(c),null!==(h=null===l||void 0===l?void 0:l.feeBps)&&void 0!==h?h:0,{accounts:{swapProgram:t.programId,pool:t.ammId,poolSigner:t.authority,userSourceTokenAccount:o,userDestinationTokenAccount:i,poolSourceTokenAccount:f,poolDestinationTokenAccount:p,poolTicksAccount:t.ticksKey,walletAuthority:s,tokenProgram:n.TOKEN_PROGRAM_ID},remainingAccounts:Go(u,d,null===l||void 0===l?void 0:l.feeAccount)})}function zo(e,t,r,o,i){var s;const u=[];return null!==i&&void 0!==i&&i.feeAccount&&u.push({pubkey:i.feeAccount,isSigner:!1,isWritable:!0}),Po.instruction.riskCheckAndFee(new a.BN(r),null!==(s=null===i||void 0===i?void 0:i.feeBps)&&void 0!==s?s:0,{accounts:{tokenLedger:o,userDestinationTokenAccount:e,userTransferAuthority:t,tokenProgram:n.TOKEN_PROGRAM_ID},remainingAccounts:u})}function jo(e,t){return Po.instruction.setTokenLedger({accounts:{tokenLedger:e,tokenAccount:t}})}function Ko(e,t,r,i,s){const a=t.equals(e.state.tokenA.mint)?e.state.tokenB.adminFeeAccount:e.state.tokenA.adminFeeAccount,[u,c]=t.equals(e.state.tokenA.mint)?[e.state.tokenA.reserve,e.state.tokenB.reserve]:[e.state.tokenB.reserve,e.state.tokenA.reserve];return{swapProgram:e.config.swapProgramID,tokenProgram:n.TOKEN_PROGRAM_ID,swap:e.config.swapAccount,swapAuthority:e.config.authority,userAuthority:s,clock:o.SYSVAR_CLOCK_PUBKEY,inputUserAccount:r,inputTokenAccount:u,outputUserAccount:i,outputTokenAccount:c,feesTokenAccount:a}}function Vo(e){let{stableSwap:t,sourceMint:r,userSourceTokenAccount:n,userDestinationTokenAccount:o,userTransferAuthority:i,inAmount:s,minimumOutAmount:u,tokenLedger:c,platformFee:d}=e;var l;const h=Go(s,c,null===d||void 0===d?void 0:d.feeAccount);return Po.instruction.saberExchange(s?new a.BN(s):s,new a.BN(u),null!==(l=null===d||void 0===d?void 0:d.feeBps)&&void 0!==l?l:0,{accounts:Ko(t,r,n,o,i),remainingAccounts:h})}function qo(e){let{addDecimals:t,userSourceTokenAccount:r,userDestinationTokenAccount:o,userTransferAuthority:i,inAmount:s,minimumOutAmount:u,tokenLedger:c,platformFee:d}=e;var l;const h=Go(s,c,null===d||void 0===d?void 0:d.feeAccount);return Po.instruction.saberAddDecimalsDeposit(s?new a.BN(s):s,new a.BN(u),null!==(l=null===d||void 0===d?void 0:d.feeBps)&&void 0!==l?l:0,{accounts:{addDecimalsProgram:so,wrapper:t.wrapper,wrapperMint:t.mint,wrapperUnderlyingTokens:t.wrapperUnderlyingTokens,owner:i,userUnderlyingTokens:r,userWrappedTokens:o,tokenProgram:n.TOKEN_PROGRAM_ID},remainingAccounts:h})}function Zo(e){let{addDecimals:t,userSourceTokenAccount:r,userDestinationTokenAccount:o,userTransferAuthority:i,inAmount:s,minimumOutAmount:u,tokenLedger:c,platformFee:d}=e;var l;const h=Go(s,c,null===d||void 0===d?void 0:d.feeAccount);return Po.instruction.saberAddDecimalsWithdraw(s?new a.BN(s):s,new a.BN(u),null!==(l=null===d||void 0===d?void 0:d.feeBps)&&void 0!==l?l:0,{accounts:{addDecimalsProgram:so,wrapper:t.wrapper,wrapperMint:t.mint,wrapperUnderlyingTokens:t.wrapperUnderlyingTokens,owner:i,userUnderlyingTokens:o,userWrappedTokens:r,tokenProgram:n.TOKEN_PROGRAM_ID},remainingAccounts:h})}function Ho(e){let{swapState:t,sourceMint:r,userSourceTokenAccount:o,userDestinationTokenAccount:i,userTransferAuthority:s,inAmount:u,minimumOutAmount:c,tokenLedger:d,platformFee:l}=e;var h;const[f,p]=r.equals(t.tokenAMint)?[t.poolCoinTokenAccount,t.poolPcTokenAccount]:[t.poolPcTokenAccount,t.poolCoinTokenAccount];return Po.instruction.lifinityTokenSwap(u?new a.BN(u):u,new a.BN(c),null!==(h=null===l||void 0===l?void 0:l.feeBps)&&void 0!==h?h:0,{accounts:{swapProgram:t.programId,authority:t.authority,amm:t.amm,userTransferAuthority:s,sourceInfo:o,destinationInfo:i,swapSource:f,swapDestination:p,poolMint:t.poolMint,feeAccount:t.feeAccount,tokenProgram:n.TOKEN_PROGRAM_ID,pythAccount:t.pythAccount,pythPcAccount:t.pythPcAccount,configAccount:t.configAccount},remainingAccounts:Go(u,d,null===l||void 0===l?void 0:l.feeAccount)})}function Go(e,t,r){const n=[];return null===e&&n.push({pubkey:t,isSigner:!1,isWritable:!0}),r&&n.push({pubkey:r,isSigner:!1,isWritable:!0}),n}function Qo(){return Xn.map((e=>{const t={wrapper:new o.PublicKey(e.wrapper),underlying:new o.PublicKey(e.underlying),underlyingDecimals:e.underlyingDecimals,wrapperUnderlyingTokens:new o.PublicKey(e.wrapperUnderlyingTokens),mint:new o.PublicKey(e.mint),decimals:e.decimals};return new Jo(new Xo(t))}))}class Xo{constructor(e){this.addDecimals=void 0,this.addDecimals=e}get multiplier(){return 10**(this.addDecimals.decimals-this.addDecimals.underlyingDecimals)}getOutputAmount(e,t){if(this.addDecimals.mint.equals(t))return this.calculateWithdrawOutputAmount(e);if(this.addDecimals.underlying.equals(t))return this.calculateDepositOutputAmount(e);throw new Error(`unknown input token: ${t.toString()}`)}calculateDepositOutputAmount(e){return p().multiply(p().BigInt(e),p().BigInt(this.multiplier))}calculateWithdrawOutputAmount(e){return p().divide(p().BigInt(e),p().BigInt(this.multiplier))}}class Jo{constructor(e){this.wrappedToken=void 0,this.label="Saber (Decimals)",this.wrappedToken=e}get id(){return this.wrappedToken.addDecimals.wrapper.toBase58()}getAccountsForUpdate(){return new Array}update(e){}getQuote(e){let{sourceMint:t,amount:r}=e;return{notEnoughLiquidity:!1,inAmount:r,outAmount:p().toNumber(this.wrappedToken.getOutputAmount(r,t)),feeAmount:0,feeMint:t.toBase58(),feePct:0,priceImpactPct:0}}createSwapInstructions(e){return this.wrappedToken.addDecimals.underlying.equals(e.sourceMint)?[qo({addDecimals:this.wrappedToken.addDecimals,...e})]:[Zo({addDecimals:this.wrappedToken.addDecimals,...e})]}get reserveTokenMints(){return[this.wrappedToken.addDecimals.underlying,this.wrappedToken.addDecimals.mint]}}function Yo(e){return e.reduce(((t,r)=>(e.forEach((e=>{r!==e&&t.push([r,e])})),t)),new Array)}const $o=(e,t)=>t.map((t=>{const r=e.get(t.toString());if(!r)throw new Error(`Account info ${t.toBase58()} missing`);return r})),ei=e=>e.map((e=>p().BigInt(e.amount))),ti=(0,s.n_)([(0,s._O)("status"),(0,s._O)("nonce"),(0,s._O)("orderNum"),(0,s._O)("depth"),(0,s._O)("coinDecimals"),(0,s._O)("pcDecimals"),(0,s._O)("state"),(0,s._O)("resetFlag"),(0,s._O)("minSize"),(0,s._O)("volMaxCutRatio"),(0,s._O)("amountWaveRatio"),(0,s._O)("coinLotSize"),(0,s._O)("pcLotSize"),(0,s._O)("minPriceMultiplier"),(0,s._O)("maxPriceMultiplier"),(0,s._O)("systemDecimalsValue"),(0,s._O)("minSeparateNumerator"),(0,s._O)("minSeparateDenominator"),(0,s._O)("tradeFeeNumerator"),(0,s._O)("tradeFeeDenominator"),(0,s._O)("pnlNumerator"),(0,s._O)("pnlDenominator"),(0,s._O)("swapFeeNumerator"),(0,s._O)("swapFeeDenominator"),(0,s._O)("needTakePnlCoin"),(0,s._O)("needTakePnlPc"),(0,s._O)("totalPnlPc"),(0,s._O)("totalPnlCoin"),vo("poolTotalDepositPc"),vo("poolTotalDepositCoin"),vo("swapCoinInAmount"),vo("swapPcOutAmount"),(0,s._O)("swapCoin2PcFee"),vo("swapPcInAmount"),vo("swapCoinOutAmount"),(0,s._O)("swapPc2CoinFee"),yo("poolCoinTokenAccount"),yo("poolPcTokenAccount"),yo("coinMintAddress"),yo("pcMintAddress"),yo("lpMintAddress"),yo("ammOpenOrders"),yo("serumMarket"),yo("serumProgramId"),yo("ammTargetOrders"),yo("poolWithdrawQueue"),yo("poolTempLpTokenAccount"),yo("ammOwner"),yo("pnlOwner")]);class ri{constructor(e,t,r){this.ammId=void 0,this.label="Raydium",this.coinMint=void 0,this.pcMint=void 0,this.status=void 0,this.serumProgramId=void 0,this.serumMarket=void 0,this.ammOpenOrders=void 0,this.ammTargetOrders=void 0,this.poolCoinTokenAccount=void 0,this.poolPcTokenAccount=void 0,this.serumMarketKeys=void 0,this.coinReserve=void 0,this.pcReserve=void 0,this.feePct=void 0,this.calculator=void 0,this.ammId=e;const n=ti.decode(t.data);this.status=n.status,this.coinMint=new o.PublicKey(n.coinMintAddress),this.pcMint=new o.PublicKey(n.pcMintAddress),this.poolCoinTokenAccount=new o.PublicKey(n.poolCoinTokenAccount),this.poolPcTokenAccount=new o.PublicKey(n.poolPcTokenAccount),this.serumProgramId=new o.PublicKey(n.serumProgramId),this.serumMarket=new o.PublicKey(n.serumMarket),this.ammOpenOrders=new o.PublicKey(n.ammOpenOrders),this.ammTargetOrders=new o.PublicKey(n.ammTargetOrders),this.serumMarketKeys=Object.keys(r).reduce(((e,t)=>{if(!r[t])throw new Error(`Could not find ${t} in params`);return e[t]=new o.PublicKey(r[t]),e}),{});const i=n.swapFeeNumerator,s=n.swapFeeDenominator;this.feePct=new(Hr())(i.toString()).div(s.toString()),this.calculator=new an(new un(p().BigInt(i),p().BigInt(s)),cn)}get id(){return this.ammId.toBase58()}static decodeSerumMarketKeysString(e,t,r){const n=i.Market.getLayout(e).decode(r.data),o=(0,qr.createProgramAddressSync)([t.toBuffer(),n.vaultSignerNonce.toArrayLike(Qn,"le",8)],e);return{serumBids:n.bids.toBase58(),serumAsks:n.asks.toBase58(),serumEventQueue:n.eventQueue.toBase58(),serumCoinVaultAccount:n.baseVault.toBase58(),serumPcVaultAccount:n.quoteVault.toBase58(),serumVaultSigner:o.toBase58()}}getAccountsForUpdate(){return[this.ammId,this.poolCoinTokenAccount,this.poolPcTokenAccount,this.ammOpenOrders]}update(e){const[t,r,o,s]=$o(e,this.getAccountsForUpdate()),[a,u]=[ri.tokenAmountAccessor(r),ri.tokenAmountAccessor(o)],c=i.OpenOrders.fromAccountInfo(this.ammOpenOrders,s,s.owner),d=ti.decode(t.data);this.coinReserve=a.add(c.baseTokenTotal).sub(new n.u64(String(d.needTakePnlCoin))),this.pcReserve=u.add(c.quoteTokenTotal).sub(new n.u64(String(d.needTakePnlPc)))}static tokenAmountAccessor(e){return n.u64.fromBuffer(e.data.slice(64,72))}getQuote(e){let{sourceMint:t,amount:r}=e;const{coinReserve:n,pcReserve:o}=this;if(!n||!o)throw new Error("Pool token accounts balances not refreshed or empty");const i=this.coinMint.equals(t)?1:0,s=this.calculator.exchange([p().BigInt(n),p().BigInt(o)],p().BigInt(r),i);return{notEnoughLiquidity:!1,inAmount:r,outAmount:p().toNumber(s.expectedOutputAmount),feeAmount:p().toNumber(s.fees),feeMint:t.toBase58(),feePct:this.feePct.toNumber(),priceImpactPct:s.priceImpact.toNumber()}}createSwapInstructions(e){return[No({raydiumAmm:this,...e})]}get reserveTokenMints(){return[this.coinMint,this.pcMint]}}const ni=["77quYg4MGneUdjgXCunt9GgM1usmrxKY31twEy3WHwcS","5cLrMai1DsLRYc1Nio9qMTicsWtvzjzZfJPXyAoF4t1Z","EERNEEnBqdGzBS8dd46wwNY5F2kwnaCQ3vsq2fNKGogZ","8sFf9TW3KzxLiBXcDcjAxqabEsRroo4EiRr3UG1xbJ9m","2iDSTGhjJEiRxNaLF27CY6daMYPs5hgYrP2REHd5YD62"];function oi(e){let{market:t,asks:r,bids:n,fromAmount:o,fromMint:i,toMint:s}=e;const a=ni.includes(t.address.toBase58())?1e-4:4e-4;return i.equals(t.quoteMintAddress)&&s.equals(t.baseMintAddress)?function(e,t,r,n){let o=p().BigInt(0),i=p().BigInt(0),s=p().BigInt(0),a=p().BigInt(0),c=p().BigInt(0);const d=e.quoteSizeLotsToNumber(new(u())(1));let l=d?p().BigInt(Math.floor(r/(1+n)/d)):Xr;const h=p().BigInt(e.baseSizeLotsToNumber(new(u())(1)).toString());for(let[u,b]of ii(t)){p().equal(i,Xr)&&(i=u),s=u;const e=p().multiply(b,h),t=p().multiply(b,u);if(c=p().add(c,e),p().greaterThanOrEqual(t,l)){const e=p().divide(l,u);a=p().add(a,p().multiply(u,e)),o=p().add(o,p().multiply(h,e)),l=Xr;break}a=p().add(a,p().multiply(u,b)),o=p().add(o,e),l=p().subtract(l,t)}const f=new(Hr())(i.toString()),m=new(Hr())(s.toString()).sub(f).div(f).toNumber(),g=si(e,new(u())(i.toString())),y=si(e,new(u())(a.toString()));return{side:"buy",notEnoughLiquidity:p().lessThanOrEqual(c,o),minimum:{in:new(Hr())(g.toString()).mul(h.toString()).mul(1+n).ceil().toNumber(),out:p().toNumber(h)},inAmount:new(Hr())(y.toString()).mul(h.toString()).mul(1+n).ceil().toNumber(),outAmount:p().toNumber(o),feeAmount:new(Hr())(a.toString()).mul(n).toNumber(),priceImpactPct:m,feePct:n}}(t,r,o,a):function(e,t,r,n){let o=p().BigInt(0),i=p().BigInt(0),s=p().BigInt(0),a=p().BigInt(0),c=p().BigInt(r),d=p().BigInt(0);const l=p().BigInt(e.baseSizeLotsToNumber(new(u())(1))),h=p().BigInt(e.quoteSizeLotsToNumber(new(u())(1)));for(const[u,b]of ii(t)){p().equal(i,Xr)&&(i=u),s=u;const e=p().multiply(l,b),t=p().multiply(b,p().multiply(u,h));if(a=p().add(a,e),p().greaterThanOrEqual(e,c)){const e=p().divide(c,l),t=p().multiply(e,u);o=p().add(o,p().multiply(t,h)),c=p().subtract(c,t),d=p().add(d,p().multiply(e,l));break}o=p().add(o,t),c=p().subtract(c,e),d=p().add(d,e)}let f=new(Hr())(o.toString()).mul(1-n).floor().toNumber();const m=si(e,new(u())(i.toString())),g=si(e,new(u())(s.toString())),y=m.minus(g).div(m).toNumber();return{side:"sell",notEnoughLiquidity:p().greaterThan(p().BigInt(r),a),minimum:{in:p().toNumber(l),out:m.mul(p().toNumber(l)).mul(1-n).floor().toNumber()},inAmount:p().toNumber(d),outAmount:f,feeAmount:new(Hr())(p().toNumber(o)).mul(n).round().toNumber(),priceImpactPct:y,feePct:n}}(t,n,o,a)}function*ii(e){const t=e.isBids;for(const{key:r,quantity:n}of e.slab.items(t)){const e=p().BigInt(r.ushrn(64).toString());yield[e,p().BigInt(n.toString())]}}function si(e,t){const r=e._decoded.baseLotSize;return r.isZero()?new(Hr())(0):function(e,t){const r=new(Hr())(e.div(t).toString()),n=e.umod(t),o=n.gcd(t);return r.add(new(Hr())(n.div(o).toString()).div(new(Hr())(t.div(o).toString())))}(t.mul(e._decoded.quoteLotSize).mul(e._baseSplTokenMultiplier),r.mul(e._quoteSplTokenMultiplier))}class ai{constructor(e){this.market=void 0,this.label="Serum",this._orderbooks=void 0,this.market=e}get id(){return this.market.address.toBase58()}get orderbooks(){return this._orderbooks}getAccountsForUpdate(){return[this.market.asksAddress,this.market.bidsAddress]}update(e){const[t,r]=$o(e,this.getAccountsForUpdate()),n=i.Orderbook.decode(this.market,t.data),o=i.Orderbook.decode(this.market,r.data);this._orderbooks={asks:n,bids:o}}getQuote(e){let{sourceMint:t,destinationMint:r,amount:n}=e;if(!this.orderbooks)throw new Error("Failed to find orderbooks");const o=oi({market:this.market,asks:this.orderbooks.asks,bids:this.orderbooks.bids,fromMint:t,toMint:r,fromAmount:n});return{notEnoughLiquidity:o.notEnoughLiquidity,minInAmount:o.minimum.in,minOutAmount:o.minimum.out,inAmount:o.inAmount,outAmount:o.outAmount,feeAmount:o.feeAmount,feeMint:this.market.quoteMintAddress.toBase58(),feePct:o.feePct,priceImpactPct:o.priceImpactPct}}createSwapInstructions(e){var t;if(!e.openOrdersAddress)throw new Error("Missing open orders");return[Do({market:this.market,openOrdersAddress:e.openOrdersAddress,referrer:null===e||void 0===e||null===(t=e.quoteMintToReferrer)||void 0===t?void 0:t.get(this.market.quoteMintAddress.toBase58()),...e})]}get reserveTokenMints(){return[this.market.baseMintAddress,this.market.quoteMintAddress]}}ai.getL2=ii;class ui{constructor(e,t,r){this.firstAmm=void 0,this.secondAmm=void 0,this.reserveTokenMints=void 0,this.shouldSplitSetup=void 0,this.market=void 0,this.portion1=0,this.portion2=0,this.firstAmm=e,this.secondAmm=t,this.reserveTokenMints=r,this.shouldSplitSetup=function(e,t){return e instanceof ri||t instanceof ri||e instanceof ai&&t instanceof ai}(e,t),this.market=e instanceof ai?e.market:t instanceof ai?t.market:null}static create(e,t){if(!function(e,t){return!(e instanceof ai&&t instanceof ri||e instanceof ri&&t instanceof ai||e instanceof ai&&t instanceof ai)}(e,t))return;const r=Yo(e.reserveTokenMints),n=Yo(t.reserveTokenMints);for(const o of r)for(const r of n)if(o.every(((e,t)=>e.equals(r[t]))))return new ui(e,t,o)}get id(){return`${this.firstAmm.id}-${this.secondAmm.id}`}get label(){const e=[{label:this.firstAmm.label,portion:this.portion1},{label:this.secondAmm.label,portion:this.portion2}].sort(((e,t)=>t.portion-e.portion));return e.map((e=>{let{label:t,portion:r}=e;return`${t} (${r}%)`})).join(" + ")}getAccountsForUpdate(){return[]}update(e){}getQuote(e){var t,r,n,o;const i=e.sourceMint.toBase58(),s=e.amount;let a={outAmount:0,portion:0,firstQuote:void 0,secondQuote:void 0};for(let v=100;v-=5;v>0){const t=Math.floor(s*v/100),r=s-t,n=this.firstAmm.getQuote({...e,amount:t}),o=this.secondAmm.getQuote({...e,amount:r}),i=n.outAmount+o.outAmount;if(i<a.outAmount)break;a={outAmount:i,portion:v,firstQuote:n,secondQuote:o}}if(!a.firstQuote||!a.secondQuote)throw new Error("Unreachable: There was no better solution than getting 0 outAmount");const{outAmount:u,portion:c,firstQuote:d,secondQuote:l}=a,h=c,f=100-h;this.portion1=h,this.portion2=f;let p={amount:d.feeAmount,mint:d.feeMint},m={amount:l.feeAmount,mint:l.feeMint};p.mint!==m.mint&&(p.mint!==i&&(p={amount:Math.floor(p.amount*s*h/100/a.outAmount),mint:i}),m.mint!==i&&(m={amount:Math.floor(m.amount*s*f/100/a.outAmount),mint:i}));const g=(h*d.feePct+f*l.feePct)/100,y=(h*d.priceImpactPct+f*l.priceImpactPct)/100,b=d.minInAmount||l.minInAmount?(null!==(t=d.minInAmount)&&void 0!==t?t:0)+(null!==(r=l.minInAmount)&&void 0!==r?r:0):void 0,w=d.minOutAmount||l.minOutAmount?(null!==(n=d.minOutAmount)&&void 0!==n?n:0)+(null!==(o=l.minOutAmount)&&void 0!==o?o:0):void 0;return{notEnoughLiquidity:!1,inAmount:e.amount,outAmount:u,minInAmount:b,minOutAmount:w,feeAmount:p.amount+m.amount,feeMint:p.mint,feePct:g,priceImpactPct:y}}createSwapInstructions(e){const t=e.inAmount;if(null===t)throw new Error("Split trade cannot be used with a null inAmount");const r=Math.floor(t*this.portion1/100),n=t-r;return[...this.firstAmm.createSwapInstructions({...e,inAmount:r,minimumOutAmount:0,platformFee:void 0}),...this.secondAmm.createSwapInstructions({...e,inAmount:n,minimumOutAmount:0,platformFee:void 0}),zo(e.userDestinationTokenAccount,e.userTransferAuthority,e.minimumOutAmount,e.tokenLedger,e.platformFee)]}}const ci=(e,t)=>!(e instanceof Jo&&t instanceof Jo)&&!(e instanceof ui||t instanceof ui);class di{constructor(e){this.stableSwap=void 0,this.label="Saber",this.tokenAccounts=[],this.calculator=void 0,this.stableSwap=e,this.calculator=new nn(Yr,p().BigInt(this.stableSwap.state.targetAmpFactor.toString()),[Jr,Jr],new un(this.stableSwap.state.fees.trade.numerator,this.stableSwap.state.fees.trade.denominator))}get id(){return this.stableSwap.config.swapAccount.toBase58()}getAccountsForUpdate(){return[this.stableSwap.state.tokenA.reserve,this.stableSwap.state.tokenB.reserve]}update(e){let t=$o(e,this.getAccountsForUpdate());this.tokenAccounts=t.map((e=>{const t=(0,hn.deserializeAccount)(e.data);if(!t)throw new Error("Invalid token account data");return t}))}getQuote(e){let{sourceMint:t,destinationMint:r,amount:n}=e;if(0===this.tokenAccounts.length)throw new Error("Unable to fetch accounts for specified tokens.");const o=new(Hr())(this.stableSwap.state.fees.trade.asFraction.toFixed(4)),[i,s]=this.tokenAccounts[0].mint.equals(t)?[0,1]:[1,0],a=this.calculator.exchange(ei(this.tokenAccounts),p().BigInt(n),i,s);return{notEnoughLiquidity:!1,inAmount:n,outAmount:p().toNumber(a.expectedOutputAmount),feeAmount:p().toNumber(a.fees),feeMint:r.toBase58(),feePct:o.toNumber(),priceImpactPct:a.priceImpact.toNumber()}}createSwapInstructions(e){return[Vo({stableSwap:this.stableSwap,...e})]}get reserveTokenMints(){return[this.stableSwap.state.tokenA.mint,this.stableSwap.state.tokenB.mint]}}const li=new n.u64(0);class hi{constructor(e,t){this.numerator=void 0,this.denominator=void 0,this.toString=()=>`${this.numerator.toString()}/${this.denominator.toString()}`,this.numerator=e,this.denominator=t}static fromDecimal(e){return hi.fromFraction(e.toDecimalPlaces(1).mul(10).toNumber(),1e3)}static fromFraction(e,t){const r="number"===typeof e?new n.u64(e.toString()):e,o="number"===typeof t?new n.u64(t.toString()):t;return new hi(r,o)}toDecimal(){return this.denominator.eq(li)?new(Hr())(0):new(Hr())(this.numerator.toString()).div(new(Hr())(this.denominator.toString()))}add(e){const t=this.denominator.gcd(e.denominator),r=this.denominator.div(t).mul(e.denominator),o=r.div(this.denominator),i=r.div(e.denominator),s=this.numerator.mul(o),a=e.numerator.mul(i),u=s.add(a);return new hi(new n.u64(u.toString()),new n.u64(r.toString()))}}const fi=(0,s.n_)([wo("tradeFeeNumerator"),wo("tradeFeeDenominator"),wo("ownerTradeFeeNumerator"),wo("ownerTradeFeeDenominator"),wo("ownerWithdrawFeeNumerator"),wo("ownerWithdrawFeeDenominator")],"fees"),pi=[(0,s.Ik)(8,"padding"),yo("lpTokenFreezeVault"),yo("poolMint"),yo("baseTokenVault"),yo("baseTokenMint"),yo("quoteTokenVault"),yo("quoteTokenMint"),yo("poolSigner"),(0,s.u8)("poolSignerNonce"),yo("authority"),yo("initializerAccount"),yo("feeBaseAccount"),yo("feeQuoteAccount"),yo("feePoolTokenAccount"),fi],mi=(0,s.n_)(pi),gi=(0,s.n_)([...pi,(0,s.u8)("curveType"),yo("curve")]),yi=(0,s.n_)([(0,s.Ik)(8,"padding"),wo("amp")]);function bi(e,t){const r=!!t.owner.equals(io),n=(r?gi:mi).decode(t.data),o="curveType"in n?{curveType:n.curveType,curve:n.curve}:{};return{isV2:r,address:e,poolMint:n.poolMint,baseTokenVault:n.baseTokenVault,baseTokenMint:n.baseTokenMint,quoteTokenVault:n.quoteTokenVault,quoteTokenMint:n.quoteTokenMint,poolSigner:n.poolSigner,feeBaseAccount:n.feeBaseAccount,feeQuoteAccount:n.feeQuoteAccount,feePoolTokenAccount:n.feePoolTokenAccount,fees:{traderFee:hi.fromFraction(n.fees.tradeFeeNumerator,n.fees.tradeFeeDenominator),ownerFee:hi.fromFraction(n.fees.ownerTradeFeeNumerator,n.fees.ownerTradeFeeDenominator)},...o}}class wi{constructor(e,t,r){if(this.params=void 0,this.label="Aldrin",this.poolState=void 0,this.tokenAccounts=[],this.calculator=void 0,this.params=r,this.poolState=bi(e,t),1===this.poolState.curveType){const{amp:e}=this.params;if(!e)throw new Error("Amp is required for a stable curve");this.calculator=new sn(p().BigInt(e),new un(p().BigInt(this.poolState.fees.traderFee.numerator.toString()),p().BigInt(this.poolState.fees.traderFee.denominator.toString())),new un(p().BigInt(this.poolState.fees.ownerFee.numerator.toString()),p().BigInt(this.poolState.fees.ownerFee.denominator.toString())))}else this.calculator=new an(new un(p().BigInt(this.poolState.fees.traderFee.numerator.toString()),p().BigInt(this.poolState.fees.traderFee.denominator.toString())),new un(p().BigInt(this.poolState.fees.ownerFee.numerator.toString()),p().BigInt(this.poolState.fees.ownerFee.denominator.toString())))}static decodeStableCurveAmp(e){const{amp:t}=yi.decode(e.data);return 2*t.toNumber()}get id(){return this.poolState.address.toBase58()}getAccountsForUpdate(){return[this.poolState.quoteTokenVault,this.poolState.baseTokenVault]}update(e){const t=$o(e,this.getAccountsForUpdate());this.tokenAccounts=t.map((e=>{const t=(0,hn.deserializeAccount)(e.data);if(!t)throw new Error("Invalid token account");return t}))}getQuote(e){let{sourceMint:t,amount:r}=e;if(0===this.tokenAccounts.length)throw new Error("Unable to fetch accounts for specified tokens.");let n=new(Hr())(this.poolState.fees.traderFee.numerator.toString()).div(this.poolState.fees.traderFee.denominator.toString()).add(new(Hr())(this.poolState.fees.ownerFee.numerator.toString()).div(this.poolState.fees.ownerFee.denominator.toString()));const o=this.tokenAccounts[0].mint.equals(t)?1:0;let i=this.calculator.exchange(ei(this.tokenAccounts),p().BigInt(r),o);return{notEnoughLiquidity:!1,inAmount:r,outAmount:p().toNumber(i.expectedOutputAmount),feeAmount:p().toNumber(i.fees),feeMint:t.toBase58(),feePct:n.toNumber(),priceImpactPct:i.priceImpact.toNumber()}}createSwapInstructions(e){if(this.poolState.isV2){if(!this.poolState.curve)throw new Error("Unable to fetch curve account.");const t=this.poolState.curve;return[Fo({poolState:this.poolState,curve:t,...e})]}return[Co({poolState:this.poolState,...e})]}get reserveTokenMints(){return[this.poolState.baseTokenMint,this.poolState.quoteTokenMint]}}wi.accountInfoToAldrinPoolState=bi;const vi=new o.PublicKey("SSwpMgqNDsyV7mAgN9ady4bDVu5ySjmmXejXvy2vLt1"),_i=new Map([["9W959DqEETiGZocYWCQPaJ6sBmUzgfxXfqGeTEdp3aQP","Orca"],[vi.toBase58(),"Step"],["PSwapMdSai8tjrEXcxFeQth87xC4rRsa4VA5mhGhXkP","Penguin"],["SSwapUtytfBdBn1b9NUGG6foMVPtcWgpRU32HToDUZr","Saros"]]),Ai=(0,s.n_)([(0,s.u8)("version"),(0,s.u8)("isInitialized"),(0,s.u8)("bumpSeed"),yo("tokenProgramId"),yo("tokenAccountA"),yo("tokenAccountB"),yo("tokenPool"),yo("mintA"),yo("mintB"),yo("feeAccount"),wo("tradeFeeNumerator"),wo("tradeFeeDenominator"),wo("ownerTradeFeeNumerator"),wo("ownerTradeFeeDenominator"),wo("ownerWithdrawFeeNumerator"),wo("ownerWithdrawFeeDenominator"),wo("hostFeeNumerator"),wo("hostFeeDenominator"),(0,s.u8)("curveType"),(0,s.Ik)(32,"curveParameters")]),Si=(0,s.n_)([(0,s.u8)("version"),(0,s.u8)("isInitialized"),(0,s.u8)("bumpSeed"),yo("tokenProgramId"),yo("tokenAccountA"),yo("tokenAccountB"),yo("tokenPool"),yo("mintA"),yo("mintB"),yo("feeAccount"),wo("tradeFeeNumerator"),wo("tradeFeeDenominator"),wo("ownerTradeFeeNumerator"),wo("ownerTradeFeeDenominator"),wo("ownerWithdrawFeeNumerator"),wo("ownerWithdrawFeeDenominator"),(0,s.u8)("curveType"),(0,s.Ik)(32,"curveParameters"),(0,s.u8)("poolNonce")]);var ki;!function(e){e[e.ConstantProduct=0]="ConstantProduct",e[e.Stable=2]="Stable"}(ki||(ki={}));class Ei{constructor(e,t,r){if(this.label=void 0,this.tokenSwapState=void 0,this.curveType=void 0,this.tokenAccounts=[],this.calculator=void 0,this.label=r,this.tokenSwapState=function(e,t){const r=t.owner,n=r.equals(vi)?Si.decode(t.data):Ai.decode(t.data);if(!n.isInitialized)throw new Error("Invalid token swap state");const[i]=(0,qr.findProgramAddressSync)([e.toBuffer()],r),s=new o.PublicKey(n.tokenPool),a=new o.PublicKey(n.feeAccount),u=new o.PublicKey(n.tokenAccountA),c=new o.PublicKey(n.tokenAccountB),d=new o.PublicKey(n.mintA),l=new o.PublicKey(n.mintB);return{address:e,programId:r,tokenProgramId:new o.PublicKey(n.tokenProgramId),poolToken:s,feeAccount:a,authority:i,tokenAccountA:u,tokenAccountB:c,mintA:d,mintB:l,tradeFeeNumerator:n.tradeFeeNumerator,tradeFeeDenominator:n.tradeFeeDenominator,ownerTradeFeeNumerator:n.ownerTradeFeeNumerator,ownerTradeFeeDenominator:n.ownerTradeFeeDenominator,ownerWithdrawFeeNumerator:n.ownerWithdrawFeeNumerator,ownerWithdrawFeeDenominator:n.ownerWithdrawFeeDenominator,curveType:n.curveType,curveParameters:n.curveParameters,poolNonce:"poolNonce"in n?n.poolNonce:void 0}}(e,t),this.curveType=this.tokenSwapState.curveType,!(this.curveType in ki))throw new Error(`curveType ${this.tokenSwapState.curveType} is not supported`);this.tokenSwapState.curveType===ki.ConstantProduct?this.calculator=new an(new un(p().BigInt(this.tokenSwapState.tradeFeeNumerator.toString()),p().BigInt(this.tokenSwapState.tradeFeeDenominator.toString())),new un(p().BigInt(this.tokenSwapState.ownerTradeFeeNumerator.toString()),p().BigInt(this.tokenSwapState.ownerTradeFeeDenominator.toString()))):this.calculator=new sn(p().BigInt(this.tokenSwapState.curveParameters[0]),new un(p().BigInt(this.tokenSwapState.tradeFeeNumerator.toString()),p().BigInt(this.tokenSwapState.tradeFeeDenominator.toString())),new un(p().BigInt(this.tokenSwapState.ownerTradeFeeNumerator.toString()),p().BigInt(this.tokenSwapState.ownerTradeFeeDenominator.toString())))}get id(){return this.tokenSwapState.address.toBase58()}getAccountsForUpdate(){return[this.tokenSwapState.tokenAccountA,this.tokenSwapState.tokenAccountB]}update(e){const t=$o(e,this.getAccountsForUpdate());this.tokenAccounts=t.map((e=>{const t=(0,hn.deserializeAccount)(e.data);if(!t)throw new Error("Invalid token account");return t}))}getQuote(e){let{sourceMint:t,amount:r}=e;if(0===this.tokenAccounts.length)throw new Error("Unable to fetch accounts for specified tokens.");let n=new(Hr())(this.tokenSwapState.tradeFeeNumerator.toString()).div(this.tokenSwapState.tradeFeeDenominator.toString()).add(new(Hr())(this.tokenSwapState.ownerTradeFeeNumerator.toString()).div(this.tokenSwapState.ownerTradeFeeDenominator.toString()));const o=this.tokenAccounts[0].mint.equals(t)?1:0;let i=this.calculator.exchange(ei(this.tokenAccounts),p().BigInt(Math.floor(r)),o);return{notEnoughLiquidity:!1,inAmount:r,outAmount:p().toNumber(i.expectedOutputAmount),feeAmount:p().toNumber(i.fees),feeMint:t.toBase58(),feePct:n.toNumber(),priceImpactPct:i.priceImpact.toNumber()}}createSwapInstructions(e){return[Uo({tokenSwapState:this.tokenSwapState,...e,isStep:this.tokenSwapState.programId.equals(vi)})]}get reserveTokenMints(){return[this.tokenSwapState.mintA,this.tokenSwapState.mintB]}}const Ti=Math.pow(10,10),Pi=(0,s.n_)([(0,s.u8)("version"),(0,s.u8)("isInitialized"),(0,s.u8)("nonce"),wo("amplificationCoefficient"),wo("feeNumerator"),wo("adminFeeNumerator"),(0,s.Jq)("tokenAccountsLength"),wo("precisionFactor"),wo("precisionMultiplierA"),wo("precisionMultiplierB"),wo("precisionMultiplierC"),wo("precisionMultiplierD"),yo("tokenAccountA"),yo("tokenAccountB"),yo("tokenAccountC"),yo("tokenAccountD")]),Ii=(e,t)=>{const r=t.owner,n=Pi.decode(t.data),o=n.tokenAccountsLength,[i]=(0,qr.findProgramAddressSync)([e.toBuffer()],r),s=[n.precisionMultiplierA.toNumber(),n.precisionMultiplierB.toNumber(),n.precisionMultiplierC.toNumber(),n.precisionMultiplierD.toNumber()].slice(0,o),a=[n.tokenAccountA,n.tokenAccountB,n.tokenAccountC,n.tokenAccountD].slice(0,o);return{programId:r,authority:i,isInitialized:Boolean(n.isInitialized),nonce:n.nonce,ammId:e,amplificationCoefficient:n.amplificationCoefficient.toNumber(),feeNumerator:n.feeNumerator.toNumber(),tokenAccountsLength:o,precisionFactor:n.precisionFactor.toNumber(),precisionMultipliers:s,tokenAccounts:a}};class xi{constructor(e,t,r){this.params=void 0,this.label="Mercurial",this.swapLayout=void 0,this.tokenAccounts=[],this.calculator=void 0,this.params=r,this.swapLayout=Ii(e,t),this.calculator=new nn(p().BigInt(this.swapLayout.tokenAccountsLength),p().BigInt(this.swapLayout.amplificationCoefficient),this.swapLayout.precisionMultipliers.map((e=>p().BigInt(e))),new un(p().BigInt(this.swapLayout.feeNumerator),p().BigInt(Ti)))}get id(){return this.swapLayout.ammId.toBase58()}getAccountsForUpdate(){return this.swapLayout.tokenAccounts}update(e){let t=$o(e,this.getAccountsForUpdate());this.tokenAccounts=t.map((e=>(0,hn.deserializeAccount)(e.data))).filter((e=>null!==e))}getQuote(e){let{sourceMint:t,destinationMint:r,amount:n}=e;if(0===this.tokenAccounts.length)throw new Error("Unable to fetch accounts for specified tokens.");const o=this.tokenAccounts.findIndex((e=>e.mint.equals(t))),i=this.tokenAccounts.findIndex((e=>e.mint.equals(r))),s=this.calculator.exchange(ei(this.tokenAccounts),p().BigInt(n),o,i),a=this.swapLayout.feeNumerator/Ti;return{notEnoughLiquidity:!1,inAmount:n,outAmount:p().toNumber(s.expectedOutputAmount),feeAmount:p().toNumber(s.fees),feeMint:r.toBase58(),feePct:a,priceImpactPct:s.priceImpact.toNumber()}}createSwapInstructions(e){return[Mo({swapLayout:this.swapLayout,...e})]}get reserveTokenMints(){return this.params.tokenMints.map((e=>new o.PublicKey(e)))}}xi.decodeSwapLayout=Ii;class Oi{static async getStateFromStateAccount(e){const t=await e.getAccountInfo(So);if(!t)throw new Error("State account not found");return(e=>{const t=Ao.decode(e.data);return{isInitialized:Boolean(t.isInitialized),stateOwner:t.stateOwner,feeOwner:t.feeOwner,initialSupply:t.initialSupply,returnFeeNumerator:t.returnFeeNumerator.toNumber(),fixedFeeNumerator:t.fixedFeeNumerator.toNumber(),feeDenominator:t.feeDenominator.toNumber(),curveType:t.curveType,curveParameters:t.curveParameters}})(t)}constructor(e,t,r){this.params=void 0,this.label="Cropper",this.poolState=void 0,this.tokenAccounts=[],this.calculator=void 0,this.feePct=void 0,this.params=r,this.poolState=ko(e,t),this.feePct=new(Hr())(this.params.fixedFeeNumerator).div(this.params.feeDenominator).add(new(Hr())(this.params.returnFeeNumerator).div(this.params.feeDenominator)),this.params.tokenAFeeAccount=new o.PublicKey(this.params.tokenAFeeAccount),this.params.tokenBFeeAccount=new o.PublicKey(this.params.tokenBFeeAccount),this.calculator=new an(new un(p().BigInt(this.params.fixedFeeNumerator),p().BigInt(this.params.feeDenominator)),new un(p().BigInt(this.params.returnFeeNumerator),p().BigInt(this.params.feeDenominator)))}get id(){return this.poolState.ammId.toBase58()}getAccountsForUpdate(){return[this.poolState.tokenAAccount,this.poolState.tokenBAccount]}update(e){const t=$o(e,this.getAccountsForUpdate());this.tokenAccounts=t.map((e=>{const t=(0,hn.deserializeAccount)(e.data);if(!t)throw new Error("Invalid token account");return t}))}getQuote(e){let{sourceMint:t,amount:r}=e;if(0===this.tokenAccounts.length)throw new Error("Unable to fetch accounts for specified tokens.");const n=this.tokenAccounts[0].mint.equals(t)?1:0,o=this.calculator.exchange(ei(this.tokenAccounts),p().BigInt(r),n);return{notEnoughLiquidity:!1,inAmount:r,outAmount:p().toNumber(o.expectedOutputAmount),feeAmount:p().toNumber(o.fees),feeMint:t.toBase58(),feePct:this.feePct.toNumber(),priceImpactPct:o.priceImpact.toNumber()}}createSwapInstructions(e){const t=e.sourceMint.equals(this.poolState.mintA)?this.params.tokenAFeeAccount:this.params.tokenBFeeAccount;return[Lo({poolState:this.poolState,feeAccount:t,...e})]}get reserveTokenMints(){return[this.poolState.mintA,this.poolState.mintB]}}Oi.decodePoolState=ko;const Bi=(e,t)=>{const r=t.owner,n=Fn.decode(t.data),[o]=(0,qr.findProgramAddressSync)([e.toBuffer()],r);return{programId:r,authority:o,version:n.version,isInitialized:Boolean(n.isInitialized),nonce:n.nonce,ammId:e,tokenProgramId:n.tokenProgramId,tokenAAccount:n.swapTokenA,tokenBAccount:n.swapTokenB,ticksKey:n.ticksKey,mintA:n.tokenAMint,mintB:n.tokenBMint,fee:n.fee,currentSqrtPrice:n.currentSqrtPrice,currentLiquity:n.currentLiquity}};class Mi{constructor(e,t){this.label="Crema",this.ticks=void 0,this.poolState=void 0,this.poolState=Bi(e,t)}get id(){return this.poolState.ammId.toBase58()}getAccountsForUpdate(){return[this.poolState.ammId,this.poolState.ticksKey]}update(e){const[t,r]=$o(e,this.getAccountsForUpdate());this.poolState=Bi(this.poolState.ammId,t);const n=Nn(this.poolState.ticksKey,r);if(!n)throw new Error(`Ticks account invalid: ${this.poolState.ticksKey.toBase58()}`);this.ticks=n.data.ticks}getQuote(e){let{sourceMint:t,amount:r}=e;if(!this.ticks)throw new Error("Unable to fetch accounts for ticks.");if(0===r)return{notEnoughLiquidity:!1,inAmount:r,outAmount:0,feeAmount:0,feeMint:t.toBase58(),feePct:this.poolState.fee.toNumber(),priceImpactPct:0};const n=this.poolState.mintA.equals(t)?this.preSwapA(new(Hr())(r)):this.preSwapB(new(Hr())(r));return{notEnoughLiquidity:!1,inAmount:r,outAmount:n.amountOut.toNumber(),feeAmount:n.feeUsed.toNumber(),feeMint:t.toBase58(),feePct:this.poolState.fee.toNumber(),priceImpactPct:n.impact.toNumber()}}preSwapA(e){if(!this.ticks)throw new Error("Unable to fetch accounts for ticks.");let t=zn(this.ticks,this.poolState.currentSqrtPrice,this.poolState.fee,this.poolState.currentLiquity,e),r=this.poolState.currentSqrtPrice.pow(2),n=t.amountOut.div(t.amountUsed).sub(r).div(r).abs();return{...t,impact:n}}preSwapB(e){if(!this.ticks)throw new Error("Unable to fetch accounts for ticks.");let t=jn(this.ticks,this.poolState.currentSqrtPrice,this.poolState.fee,this.poolState.currentLiquity,e),r=this.poolState.currentSqrtPrice.pow(2),n=new(Hr())(1).div(r),o=t.amountOut.div(t.amountUsed).sub(n).div(n).abs();return{...t,impact:o}}createSwapInstructions(e){return[Wo({poolState:this.poolState,...e})]}get reserveTokenMints(){return[this.poolState.mintA,this.poolState.mintB]}}const Di=(0,s.n_)([(0,s.Ik)(8,"discriminator"),yo("factory"),(0,s.u8)("bump"),wo("index"),yo("admin"),yo("token0Reserves"),yo("token0Mint"),yo("token0Fees"),yo("token1Reserves"),yo("token1Mint"),yo("token1Fees"),(0,s.u8)("isPaused"),yo("poolMint"),wo("tradeFeeKbps"),wo("withdrawFeeKbps"),wo("adminTradeFeeKbps"),wo("adminWithdrawFeeKbps")]);class Ui{constructor(e,t){this.label="Sencha",this.poolState=void 0,this.calculator=void 0,this.tokenAccounts=[],this.poolState=((e,t)=>{const r=t.owner,n=Di.decode(t.data);return{programId:r,isPaused:Boolean(n.isPaused),bump:n.bump,ammId:e,token0Reserves:n.token0Reserves,token1Reserves:n.token1Reserves,token0Mint:n.token0Mint,token1Mint:n.token1Mint,token0Fees:n.token0Fees,token1Fees:n.token1Fees,poolMint:n.poolMint,tradeFeeKbps:n.tradeFeeKbps.toNumber()}})(e,t),this.calculator=new an(new un(p().BigInt(this.poolState.tradeFeeKbps),p().BigInt(1e7)),new un(Xr,Xr),!1)}get id(){return this.poolState.ammId.toBase58()}getAccountsForUpdate(){return[this.poolState.token0Reserves,this.poolState.token1Reserves]}update(e){const t=$o(e,this.getAccountsForUpdate());this.tokenAccounts=t.map((e=>{const t=(0,hn.deserializeAccount)(e.data);if(!t)throw new Error("Invalid token account");return t}))}getQuote(e){let{sourceMint:t,amount:r}=e;if(0===this.tokenAccounts.length)throw new Error("Unable to fetch accounts for specified tokens.");const n=this.tokenAccounts[0].mint.equals(t)?1:0;let o=this.calculator.exchange(ei(this.tokenAccounts),p().BigInt(r),n),i=this.poolState.tradeFeeKbps/1e7;return{notEnoughLiquidity:!1,inAmount:r,outAmount:p().toNumber(o.expectedOutputAmount),feeAmount:p().toNumber(o.fees),feeMint:t.toBase58(),feePct:i,priceImpactPct:o.priceImpact.toNumber()}}createSwapInstructions(e){return[Ro({poolState:this.poolState,...e})]}get reserveTokenMints(){return[this.poolState.token0Mint,this.poolState.token1Mint]}}class Ri{constructor(e,t){var r;this.ammAccountInfo=void 0,this.label="Lifinity",this.swapState=void 0,this.poolInfo=void 0,this.accountInfos=[],this.ammAccountInfo=t,this.swapState=((e,t)=>{const r=t.owner,n=Hn.Yk.decode(t.data),[o]=(0,qr.findProgramAddressSync)([e.toBuffer()],r);return{programId:r,authority:o,amm:e,tokenAMint:n.tokenAMint,tokenBMint:n.tokenBMint,poolMint:n.poolMint,feeAccount:n.poolFeeAccount,pythAccount:n.pythAccount,pythPcAccount:n.pythPcAccount,configAccount:n.configAccount,poolCoinTokenAccount:n.tokenAAccount,poolCoinMint:n.tokenAMint,poolPcTokenAccount:n.tokenBAccount,poolPcMint:n.tokenBMint}})(e,t),this.poolInfo={amm:(r=this.swapState).amm.toBase58(),configAccount:r.configAccount.toBase58(),feeAccount:r.feeAccount.toBase58(),pythAccount:r.pythAccount.toBase58(),pythPcAccount:r.pythPcAccount.toBase58(),poolCoinMint:r.poolCoinMint.toBase58(),poolCoinTokenAccount:r.poolCoinTokenAccount.toBase58(),poolMint:r.poolMint.toBase58(),poolCoinDecimal:0,poolPcDecimal:0,poolPcTokenAccount:r.poolPcTokenAccount.toBase58(),poolPcMint:r.poolPcMint.toBase58()}}get id(){return this.swapState.amm.toBase58()}getAccountsForUpdate(){return[this.swapState.poolCoinTokenAccount,this.swapState.poolPcTokenAccount,this.swapState.configAccount,this.swapState.pythAccount,this.swapState.pythPcAccount]}update(e){this.getAccountsForUpdate().forEach(((t,r)=>{const n=e.get(t.toBase58());n&&(this.accountInfos[r]={publicKey:t,account:n})}))}getQuote(e){let{sourceMint:t,amount:r}=e;if(this.accountInfos.length!==this.getAccountsForUpdate().length)throw new Error("Accounts not loaded");const n=this.swapState.poolCoinMint.equals(t)?Hn.vS.AtoB:Hn.vS.BtoA,o=(0,Hn._l)([{publicKey:this.swapState.amm,account:this.ammAccountInfo},...this.accountInfos],this.poolInfo),i=new(Hr())(r),s=(0,Hn.gx)(i,o.pyth.publishSlot.toNumber(),o.amm,o.fees,o.coinBalance,o.pcBalance,o.config,o.pyth,o.pythPc,n);return{notEnoughLiquidity:!1,inAmount:r,outAmount:s.amountSwapped.toNumber(),feeAmount:s.fee.toNumber(),feeMint:t.toBase58(),feePct:s.feePercent.toNumber(),priceImpactPct:s.priceImpact.toNumber()}}createSwapInstructions(e){return[Ho({swapState:this.swapState,...e})]}get reserveTokenMints(){return[this.swapState.poolCoinMint,this.swapState.poolPcMint]}}async function Li(e){const t=(e=>e.map((e=>{const{data:[t,r],pubkey:n,...i}=e;return{...i,pubkey:new o.PublicKey(n),data:Qn.from(t,r),owner:new o.PublicKey(i.owner)}})))(e),r=t.reduce(((e,t)=>{const r=function(e,t,r){const n=new o.PublicKey(t.owner);if(n.equals($n)||n.equals(eo)){const e=i.Market.getLayout(n).decode(t.data);if(!e.accountFlags.initialized||!e.accountFlags.market)throw new Error("Invalid market");const r=new i.Market(e,0,0,{},n);return new ai(r)}if(n.equals(no)){const n=new ri(e,t,r);if(1===n.status)return n}else{if(n.equals(fo))return new xi(e,t,r);if(n.equals(q)){const r=he.loadWithData(e,t.data,(0,qr.findProgramAddressSync)([e.toBuffer()],q)[0]);if(r.state.isPaused||!r.state.isInitialized)return;return new di(r)}if(n.equals(lo))return new Mi(e,t);if(n.equals(oo)||n.equals(io))return new wi(e,t,r);if([..._i.keys()].includes(n.toBase58())){var s;const r=null!==(s=_i.get(t.owner.toBase58()))&&void 0!==s?s:"Unknown";return new Ei(e,t,r)}if(n.equals(ao))return new Oi(e,t,r);if(n.equals(uo))return new Ui(e,t);if(n.equals(co))return new Ri(e,t)}}(t.pubkey,t,t.params);return r&&e.push(r),e}),new Array),n=r.slice();return r.push(...Qo()),function(e,t){for(let r=0;r<e.length-1;r++)for(let n=r;n<e.length-1;n++)e[r].label!==e[n].label&&t(e[r],e[n+1])}(n,((e,t)=>{const n=ui.create(e,t);n&&r.push(n)})),r}function Ni(e){const t=new Map;return e.forEach((e=>{Yo(e.reserveTokenMints).forEach((r=>{let[n,o]=r;!function(e,t,r,n){let o=n.get(e);o||(o=new Map([[t,[]]]),n.set(e,o));let i=o.get(t);i||(i=[],o.set(t,i));i.push({amm:r})}(n.toBase58(),o.toBase58(),e,t)}))})),t}function Ci(e){if(e.length>1){const[t,r]=e.map((e=>e.amm));if(t instanceof ri&&r instanceof ri)return!1}return!0}function Fi(e){return e.marketInfos.map((e=>`${e.marketMeta.amm.id}-${e.inputMint}`)).join("-")}const Wi=e=>{var t,r,n;return`${null===(t=e[0])||void 0===t?void 0:t.inputMint}-${null===(r=e[0])||void 0===r?void 0:r.outputMint}-${null===(n=e[1])||void 0===n?void 0:n.outputMint}-${e.map((e=>e.marketMeta.amm.id))}`},zi=e=>{let{instructionCache:t,walletPublicKey:r,cacheKey:n}=e;var o;return null===(o=t.get(r))||void 0===o?void 0:o.get(n)},ji=()=>({instructions:[],cleanupInstructions:[],signers:[]});async function Ki(e,t,r,i,s){const a="string"===typeof i?new o.PublicKey(i):i,u=await n.Token.getAssociatedTokenAddress(n.ASSOCIATED_TOKEN_PROGRAM_ID,n.TOKEN_PROGRAM_ID,a,r,!0),c=[],d=[];return null===await e.getAccountInfo(u)&&d.push(n.Token.createAssociatedTokenAccountInstruction(n.ASSOCIATED_TOKEN_PROGRAM_ID,n.TOKEN_PROGRAM_ID,a,u,r,t)),a.equals(Yn)&&s&&c.push(n.Token.createCloseAccountInstruction(n.TOKEN_PROGRAM_ID,u,r,r,[])),{address:u,instructions:d,cleanupInstructions:c,signers:[]}}async function Vi(e){let{user:t,tokenLedger:r,openOrdersAddresses:n,userSourceTokenAccountAddress:o,userIntermediaryTokenAccountAddress:i,userDestinationTokenAccountAddress:s,routeInfo:a,platformFee:u,quoteMintToReferrer:c}=e;const d=a.outAmountWithSlippage,l=a.inAmount,h=a.marketInfos.length;if(2===h&&!i)throw new Error("Missing intermediary token account");const f=u&&function(e){if(e.length<2)return!1;const[t,r]=e.map((e=>e.marketMeta.amm));return t instanceof ri&&r instanceof ai||t instanceof ai&&r instanceof ri}(a.marketInfos)?void 0:c,p=[o,...i?[i]:[],s],m=Ci(a.marketInfos.map((e=>e.marketMeta))),g=[jo(r,p[1])];for(const[w,v]of a.marketInfos.entries()){const e=v.marketMeta.amm,o=0===w?l:null,i=w===h-1?d:0,s=w===h-1&&m?u:void 0,[a,c]=p.slice(w);g.push(...e.createSwapInstructions({sourceMint:v.inputMint,destinationMint:v.outputMint,userSourceTokenAccount:a,userDestinationTokenAccount:c,userTransferAuthority:t.publicKey,inAmount:o,minimumOutAmount:i,tokenLedger:r,openOrdersAddress:n[w],platformFee:s,quoteMintToReferrer:f}))}const{signers:y,cleanupInstructions:b}=ji();return t.isKeyPair&&t.signer&&y.push(t.signer),{signers:y,cleanupInstructions:b,instructions:g}}const qi=async(e,t,r,n)=>{const[o,i]=await Promise.all([(async()=>2===t.length?await Ki(e,r,r,t[0].outputMint,n):void 0)(),(async()=>await Ki(e,r,r,2===t.length?t[1].outputMint:t[0].outputMint,n))()]);return{userIntermediaryTokenAccountResult:o,userDestinationTokenAccountResult:i}};async function Zi(e,t,r,n){const i=ji(),s=r.address.toString();if(n){let t=n.get(s);if(t){let r=null;if(r=await e.getAccountInfo(t,"processed"),r)return{...i,address:t}}}const[a,u]=function(e,t){const[r]=(0,qr.findProgramAddressSync)([Qn.from("open_orders"),e.publicKey.toBuffer(),t.toBuffer()],To);return[r,Po.instruction.createOpenOrders({accounts:{openOrders:r,payer:t,dexProgram:e.programId,systemProgram:o.SystemProgram.programId,rent:o.SYSVAR_RENT_PUBKEY,market:e.publicKey}})]}(r,t);return await e.getAccountInfo(a)||(i.instructions=[u]),null===n||void 0===n||n.set(r.address.toString(),a),{...i,address:a}}const Hi=2039280;function Gi(e){return e.reduce(((e,t)=>t+=e),0)}const Qi=e=>{let{intermediate:t,destination:r,openOrders:n,hasWrapUnwrapSOL:o,feeCalculator:i}=e;const s=n.filter((e=>e&&e.instructions.length>0)).map((()=>23352760)),a=[t,r].filter((e=>(null===e||void 0===e?void 0:e.instructions.length)&&0===e.cleanupInstructions.length)).map((()=>Hi)),u=([...null===n||void 0===n?void 0:n.map((e=>null===e||void 0===e?void 0:e.signers)),null===t||void 0===t?void 0:t.signers,r.signers].filter(Boolean).flat().length+1)*i.lamportsPerSignature;return{signatureFee:u,openOrdersDeposits:s,ataDeposits:a,totalFeeAndDeposits:Gi([u,...s,...a]),minimumSOLForTransaction:Gi([u,...s,...[t,r].filter((e=>{var t;return(null!==(t=null===e||void 0===e?void 0:e.instructions.length)&&void 0!==t?t:0)>0})).map((()=>Hi)),o?Hi:0])}},Xi=async e=>{let{connection:t,userPublicKey:r,inputMint:n,marketInfos:o,feeCalculator:i,instructionCache:s,serumOpenOrdersPromise:a,wrapUnwrapSOL:u}=e;const c=Wi(o),d=r.toBase58(),l=zi({instructionCache:s,walletPublicKey:d,cacheKey:c}),h=n.equals(Yn)&&u;if(l){const{destination:e,intermediate:t,openOrders:r}=l;return Qi({intermediate:t,destination:e,openOrders:r,hasWrapUnwrapSOL:h,feeCalculator:i})}const f=Promise.all(o.map((async e=>{const n=e.marketMeta.amm;if(n instanceof ai||n instanceof ui){if(!n.market)return;return await Zi(t,r,n.market,await a)}}))),p=qi(t,o,r,u).then((e=>{let{userIntermediaryTokenAccountResult:t,userDestinationTokenAccountResult:r}=e;return f.then((e=>({intermediate:t,destination:r,openOrders:e})))})),m=await p;return(e=>{let{instructionCache:t,instructionResult:r,walletPublicKey:n,cacheKey:o}=e;const i=t.get(n)||new Map;i.set(o,r),t.set(n,i)})({cacheKey:c,instructionCache:s,instructionResult:m,walletPublicKey:d}),Qi({...m,hasWrapUnwrapSOL:h,feeCalculator:i})},Ji={feeBps:0,feeAccounts:new Map};async function Yi(e,t){return(await e.getTokenAccountsByOwner(t,{programId:n.TOKEN_PROGRAM_ID})).value.reduce(((e,t)=>{const r=(0,hn.deserializeAccount)(t.account.data);return r&&e.set(r.mint.toBase58(),t.pubkey),e}),new Map)}class $i{constructor(e,t,r){this.connection=void 0,this.feePayer=void 0,this.instructions=void 0,this.owner=void 0,this.connection=e,this.feePayer=t,this.instructions=[],this.owner=r}addInstruction(e){return this.instructions.push(e),this}async build(e){e||(e=(await this.connection.getRecentBlockhash("finalized")).blockhash);const t={recentBlockhash:e,feePayer:this.feePayer};let r=[],n=[],i=[];this.instructions.forEach((e=>{r=r.concat(e.instructions),n=n.concat(e.cleanupInstructions),i=i.concat(e.signers)}));const s=new o.Transaction(t);return r.concat(n).forEach((e=>s.add(e))),s.feePayer=this.feePayer,{transaction:s,signers:i,execute:this.owner.isKeyPair?()=>this.connection.sendTransaction(s,i):async()=>{throw new Error("Please use a Keypair for the owner parameter to enable the execute function")}}}}class es{constructor(e){this._owner=void 0,this._owner=e}get publicKey(){return es.isKeyPair(this._owner)?this._owner.publicKey:this._owner}get signer(){return es.isKeyPair(this._owner)?this._owner:void 0}get isKeyPair(){return es.isKeyPair(this._owner)}get isPublicKey(){return es.isPublicKey(this._owner)}static isKeyPair(e){return void 0!==e.secretKey}static isPublicKey(e){return!es.isKeyPair(e)}}const ts=e=>new Promise((t=>setTimeout(t,e)));function rs(e,t){var r,n,o,i;const s=null===(r=t.postTokenBalances)||void 0===r||null===(n=r.find((t=>t.accountIndex===e)))||void 0===n?void 0:n.uiTokenAmount.amount,a=null===(o=t.preTokenBalances)||void 0===o||null===(i=o.find((t=>t.accountIndex===e)))||void 0===i?void 0:i.uiTokenAmount.amount;if(s)return Math.abs(parseInt(s)-(void 0!==a?parseInt(a):0))}function ns(e,t){const r=e.transaction.message,n=e.meta;if(!n)return;return rs(r.accountKeys.findIndex((e=>e.equals(t))),n)}function os(e,t,r,n,o){let i,s;if(o&&(i=e.toBase58()===Yn.toString()?function(e){var t,r;const n=e.meta;if(!n)return;const o=null===(t=n.preTokenBalances)||void 0===t||null===(r=t.find((e=>e.mint===Yn.toString())))||void 0===r?void 0:r.accountIndex;return o?rs(o,n):void 0}(o):ns(o,r),s=t.toBase58()===Yn.toString()?function(e){var t,r;const n=e.meta;if(!n)return;const o=null===(t=n.postTokenBalances)||void 0===t||null===(r=t.find((e=>e.mint===Yn.toString())))||void 0===r?void 0:r.accountIndex;return o?rs(o,n):void 0}(o):ns(o,n)),!i||!s)throw new Error("Cannot find source or destination token account balance change");return[i,s]}function is(){return(new Date).getTime()}const ss={skipPreflight:!0};async function as(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:45e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e4,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;const s=t.serialize(),a=await e.sendRawTransaction(s,ss),u=is();let c=is(),d=0;for(;is()-u<r;){const t=is();d<i&&t-c>o&&(c=t,d+=1,await e.sendRawTransaction(s,ss));const r=await e.getTransaction(a,{commitment:"confirmed"});if(r)return{txid:a,transactionResponse:r};await ts(n)}return{txid:a,transactionResponse:null}}function us(e){const t=e.signature;if(!t)throw new Error("Transaction has no signature");return Gn.bs58.encode(t)}function cs(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map(((r,n)=>e.slice(n*t,(n+1)*t)))}async function ds(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return(await Promise.all(cs(t.map((e=>e.toBase58())),r).map((t=>{const r=e._buildArgs([t],e.commitment,"base64");return e._rpcRequest("getMultipleAccounts",r).then((e=>{const t=e.result.value;return t.forEach((e=>{if(e){const t=e;t.data=Qn.from(e.data[0],e.data[1]),t.owner=new o.PublicKey(t.owner)}})),t})).catch((e=>(console.error("Failed to fetch account infos",e),t.map((()=>null)))))})))).flat()}async function ls(e,t){await async function(e,t){const r=new Map,n=new Set;t.forEach((e=>{let{marketMetas:t}=e;return t.forEach((e=>{let{amm:t}=e;t.getAccountsForUpdate().forEach((e=>{n.add(e.toBase58())}))}))}));const i=Array.from(n);if(i.length>0){const[n,s]=await Promise.all([ds(e,i.map((e=>new o.PublicKey(e)))),new Promise((e=>{const r=new Map;t.forEach((e=>{let{marketMetas:t}=e;t.forEach((e=>{let{amm:t}=e;r.set(t.id,t)}))})),e(r)}))]);n.forEach(((e,t)=>{const n=i[t];e&&r.set(n,e)})),s.forEach((e=>{e.update(r)}))}}(e,t)}async function hs(e){let{txid:t,transactionResponse:r}=e;var n;if(!r)throw new hn.TransactionError("Transaction was not confirmed",t);if(null!==r&&void 0!==r&&null!==(n=r.meta)&&void 0!==n&&n.err){let{message:e,code:n}=await(0,hn.parseErrorForTransaction)(r);if(6e3===n)e="Slippage error";throw new hn.TransactionError(e||"",t,n)}return{txid:t,transactionResponse:r}}class fs{constructor(e,t,r,i,s,a){var u=this;let c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,d=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],l=arguments.length>8?arguments[8]:void 0,h=arguments.length>9?arguments[9]:void 0;this.connection=void 0,this.cluster=void 0,this.tokenRouteSegments=void 0,this.feeCalculator=void 0,this.platformFeeAndAccounts=void 0,this.quoteMintToReferrer=void 0,this.routeCacheDuration=void 0,this.wrapUnwrapSOL=void 0,this.tokenLedger=void 0,this.intermediateTokens=void 0,this.serumOpenOrdersPromise=void 0,this.instructionCache=new Map,this.user=void 0,this.routeCache=new Map,this.exchange=async e=>{let{routeInfo:t,userPublicKey:r,feeAccount:i,wrapUnwrapSOL:s}=e;var a;const{connection:c,serumOpenOrdersPromise:d}=this,l=r||this.user;if(!l)throw new Error("user not found");const h=new es(l),f=t.marketInfos.length-1,p=t.marketInfos[0].inputMint,m=t.marketInfos[f].outputMint,g=null!==s&&void 0!==s?s:this.wrapUnwrapSOL,y=Wi(t.marketInfos);let b=zi({instructionCache:this.instructionCache,walletPublicKey:h.publicKey.toBase58(),cacheKey:y});if(!b){const[e,r]=await Promise.all([qi(c,t.marketInfos,h.publicKey,g),Promise.all(t.marketInfos.map((async e=>{let{marketMeta:{amm:t}}=e;if(t instanceof ai||t instanceof ui){if(!t.market)return;return await Zi(c,h.publicKey,t.market,await d)}})))]);b={intermediate:e.userIntermediaryTokenAccountResult,destination:e.userDestinationTokenAccountResult,openOrders:r}}const w=p.equals(Yn)&&g?await async function(e,t,r){const i=ji();i.instructions=[];const s=await n.Token.getAssociatedTokenAddress(n.ASSOCIATED_TOKEN_PROGRAM_ID,n.TOKEN_PROGRAM_ID,Yn,t,!0);return null===await e.getAccountInfo(s)&&i.instructions.push(n.Token.createAssociatedTokenAccountInstruction(n.ASSOCIATED_TOKEN_PROGRAM_ID,n.TOKEN_PROGRAM_ID,Yn,s,t,t)),i.instructions.push(o.SystemProgram.transfer({fromPubkey:t,toPubkey:s,lamports:r})),i.instructions.push(n.Token.createSyncNativeInstruction(n.TOKEN_PROGRAM_ID,s)),i.cleanupInstructions=[n.Token.createCloseAccountInstruction(n.TOKEN_PROGRAM_ID,s,t,t,[])],{address:s,...i}}(c,h.publicKey,t.inAmount):{...ji(),address:await n.Token.getAssociatedTokenAddress(n.ASSOCIATED_TOKEN_PROGRAM_ID,n.TOKEN_PROGRAM_ID,p,h.publicKey,!0)};i=i||this.platformFeeAndAccounts.feeAccounts.get(m.toBase58());const v=i?{feeBps:this.platformFeeAndAccounts.feeBps||Math.floor(100*t.marketInfos[f].platformFee.pct),feeAccount:i}:void 0,_=await Vi({user:h,tokenLedger:this.tokenLedger,openOrdersAddresses:b.openOrders.map((e=>null===e||void 0===e?void 0:e.address)),userSourceTokenAccountAddress:w.address,userIntermediaryTokenAccountAddress:null===(a=b.intermediate)||void 0===a?void 0:a.address,userDestinationTokenAccountAddress:b.destination.address,routeInfo:t,platformFee:v,quoteMintToReferrer:this.quoteMintToReferrer}),A=function(e){if(1===e.length){const t=e[0].marketMeta.amm;if(t instanceof ui&&t.shouldSplitSetup)return!0}else{const[t,r]=e.map((e=>e.marketMeta.amm));if(t instanceof ri||r instanceof ri)return!0;if(t instanceof ai&&r instanceof ai)return!0}return!1}(t.marketInfos),S=new $i(c,h.publicKey,h),k=new $i(c,h.publicKey,h),E=new $i(c,h.publicKey,h);var T,P;A?(b.openOrders&&b.openOrders.forEach((e=>{e&&S.addInstruction(e)})),b.intermediate&&S.addInstruction({...b.intermediate,cleanupInstructions:[]}),S.addInstruction({...w,cleanupInstructions:[]}),E.addInstruction({...ji(),cleanupInstructions:w.cleanupInstructions}).addInstruction({...ji(),cleanupInstructions:null!==(T=null===(P=b.intermediate)||void 0===P?void 0:P.cleanupInstructions)&&void 0!==T?T:[]}),w.address.equals(b.destination.address)||(S.addInstruction({...b.destination,cleanupInstructions:[]}),E.addInstruction({...ji(),cleanupInstructions:b.destination.cleanupInstructions}))):(b.openOrders&&b.openOrders.forEach((e=>{e&&k.addInstruction(e)})),b.intermediate&&k.addInstruction(b.intermediate),k.addInstruction(w),w.address.equals(b.destination.address)||k.addInstruction(b.destination));k.addInstruction(_);const I=(await this.connection.getRecentBlockhash("finalized")).blockhash,{transaction:x}=await S.build(I),{transaction:O}=await k.build(I),{transaction:B}=await E.build(I),[M,D,U]=(()=>{if(x.instructions.length&&B.instructions.length)return[x,O,B];if(x.instructions.length){const[e,t]=[x,O];return[e,t,void 0]}if(B.instructions.length){const[e,t]=[O,B];return[void 0,e,t]}return[void 0,O,void 0]})(),R=b;return{transactions:{setupTransaction:M,swapTransaction:D,cleanupTransaction:U},execute:function(){let{wallet:e,onTransaction:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u.executeInternal({wallet:e,onTransaction:t,inputMint:p,outputMint:m,sourceInstruction:w,setupInstructions:R,setupTransaction:M,swapTransaction:D,cleanupTransaction:U,owner:h})}}},this.connection=e,this.cluster=t,this.tokenRouteSegments=r,this.feeCalculator=i,this.platformFeeAndAccounts=s,this.quoteMintToReferrer=a,this.routeCacheDuration=c,this.wrapUnwrapSOL=d,this.tokenLedger=l,this.intermediateTokens=h}static async load(e){let{connection:t,cluster:r,user:n,platformFeeAndAccounts:i=Ji,quoteMintToReferrer:s,routeCacheDuration:a=0,wrapUnwrapSOL:u=!0,marketUrl:c,restrictIntermediateTokens:d=!1,tokenLedger:l=Io}=e;const[h,{value:{feeCalculator:f}},p,m]=await Promise.all([fs.fetchTokenRouteSegments(r,c),t.getRecentBlockhashAndContext("processed"),null!==s&&void 0!==s?s:Yi(t,new o.PublicKey(ho)),d?fs.getIntermediateTokens():void 0]),g=new fs(t,r,h,f,i,p,a,u,l,m);return n&&g.setUserPublicKey(n),g}getAccountToAmmMap(){const e=new Map;return this.tokenRouteSegments.forEach((t=>{Array.from(t.values()).forEach((t=>{t.forEach((t=>{let{amm:r}=t;r.getAccountsForUpdate().forEach((t=>{e.set(t.toBase58(),r)}))}))}))})),e}async computeRoutes(e){let{inputMint:t,outputMint:r,inputAmount:n,slippage:i,feeBps:s=0,forceFetch:a,onlyDirectRoutes:u}=e;const c=async e=>{if(this.user&&this.serumOpenOrdersPromise){const r=new es(this.user);return Xi({connection:this.connection,feeCalculator:this.feeCalculator,instructionCache:this.instructionCache,inputMint:t,marketInfos:e,serumOpenOrdersPromise:this.serumOpenOrdersPromise,userPublicKey:r.publicKey,wrapUnwrapSOL:this.wrapUnwrapSOL})}},d=t.toBase58(),l=r.toBase58(),h=s||(this.platformFeeAndAccounts.feeAccounts.get(l)?this.platformFeeAndAccounts.feeBps:0),f=(new Date).getTime(),p=[d,l].sort(((e,t)=>e.localeCompare(t))).join(""),m=this.routeCache.get(p),g=function(e,t,r,n,i){var s;const a=[],u=null===r||void 0===r?void 0:r.get(e);if((null!==(s=null===u||void 0===u?void 0:u.get(t))&&void 0!==s?s:[]).forEach((e=>{if(!(e.amm instanceof Jo)){if(i&&e.amm instanceof ui)return;a.push({marketMetas:[e]})}})),i)return a;const c=null===r||void 0===r?void 0:r.get(t);for(const[h,f]of null!==(d=null===u||void 0===u?void 0:u.entries())&&void 0!==d?d:[]){var d,l;if(n&&!n.includes(h))continue;const e=null!==(l=null===c||void 0===c?void 0:c.get(h))&&void 0!==l?l:[];for(const t of f)for(const r of e)ci(t.amm,r.amm)&&a.push({marketMetas:[t,r],intermediateMint:new o.PublicKey(h)})}return a}(d,l,this.tokenRouteSegments,this.intermediateTokens,u);let y=!1;if(-1===this.routeCacheDuration)y=!1;else if(0===this.routeCacheDuration)y=!0;else if(m){const{fetchTimestamp:e}=m;f-e>this.routeCacheDuration&&(y=!0)}else y=!0;(a||y)&&(await ls(this.connection,g),this.routeCache.set(p,{fetchTimestamp:(new Date).getTime()}));try{const e=(e=>{let{routes:t,amount:r,inputMint:n,outputMint:o,platformFeeBps:i,slippage:s,getDepositAndFeeForRoute:a}=e;const u=t.map((e=>{const{marketMetas:t,intermediateMint:u}=e;let c=[],d=r,l=r;const h=Ci(t),f=[n,o];u&&f.splice(1,0,u);const p=t.length;for(const[r,n]of t.entries())try{const e=f[r],t=f[r+1],o=n.amm.getQuote({sourceMint:e,destinationMint:t,amount:d}),a=p-1===r&&h?{amount:Math.floor(o.outAmount*i/1e4),mint:t.toBase58(),pct:i/100}:{amount:0,mint:t.toBase58(),pct:0},u=Math.max(0,o.outAmount-a.amount),m=Math.round(u*(1-s/100));c.push({marketMeta:n,inputMint:e,outputMint:t,notEnoughLiquidity:o.notEnoughLiquidity,minInAmount:o.minInAmount,minOutAmount:o.minOutAmount,inAmount:o.inAmount,outAmount:u,priceImpactPct:o.priceImpactPct,lpFee:{amount:o.feeAmount,mint:o.feeMint,pct:o.feePct},platformFee:a}),d=u,l=m}catch(m){return void console.error(m)}return{marketInfos:c,getDepositAndFee:()=>a(c),inAmount:c[0].inAmount,outAmount:d,outAmountWithSlippage:l,priceImpactPct:1-c.reduce(((e,t)=>e*(1-t.priceImpactPct)),1)}})).filter((e=>void 0!==e)).sort(((e,t)=>t.outAmount-e.outAmount));return u})({routes:g,amount:n,inputMint:t,outputMint:r,getDepositAndFeeForRoute:c,slippage:i,platformFeeBps:h});return{routesInfos:e,cached:!(a||y)}}catch(b){throw b}finally{this.routeCache.forEach(((e,t)=>{let{fetchTimestamp:r}=e;r-f>this.routeCacheDuration&&this.routeCache.delete(t)}))}}setUserPublicKey(e){this.user=e;const t=new es(this.user);this.serumOpenOrdersPromise=fs.findSerumOpenOrdersForOwner({connection:this.connection,cluster:this.cluster,userPublicKey:t.publicKey})}static async fetchTokenRouteSegments(e,t){const r=await(async e=>await(await ln()(e)).json())(t||to[e]);return Ni(await Li(r))}getRouteMap(e){return function(e,t,r){const n=new Map;for(const[i,s]of e){const a=new Set;for(const[n,u]of s){var o;if(a.add(n),r)continue;const s=null!==(o=e.get(n))&&void 0!==o?o:[];for(const[e,r]of s)if(e!==i&&(!t||t.includes(n)))for(const t of u)for(const n of r)if(ci(t.amm,n.amm)){a.add(e);break}}n.set(i,Array.from(a))}return n}(this.tokenRouteSegments,this.intermediateTokens,e)}async executeInternal(e){let{wallet:t,onTransaction:r,inputMint:n,outputMint:o,sourceInstruction:i,setupInstructions:s,setupTransaction:a,swapTransaction:u,cleanupTransaction:c,owner:d}=e;try{const e=[a,u,c].filter((e=>void 0!==e)),h=e.length;if(d.signer){const t=d.signer;e.forEach((e=>{e.sign(t)}))}else{if(!t)throw new Error("Signer wallet not found");h>1?await t.signAllTransactions(e):await t.signTransaction(e[0])}a&&(null===r||void 0===r||r(us(a),h,"SETUP"),await hs(await as(this.connection,a)));try{null===r||void 0===r||r(us(u),h,"SWAP");const{txid:e,transactionResponse:t}=await hs(await as(this.connection,u)),[a,d]=os(n,o,i.address,s.destination.address,t);return{txid:e,inputAddress:i.address,outputAddress:s.destination.address,inputAmount:a,outputAmount:d}}finally{c&&(null===r||void 0===r||r(us(c),h,"CLEANUP"),await as(this.connection,c))}}catch(h){return{error:h}}finally{var l;((null===s||void 0===s?void 0:s.openOrders.some((e=>null===e||void 0===e?void 0:e.instructions.length)))||null!==s&&void 0!==s&&null!==(l=s.intermediate)&&void 0!==l&&l.instructions.length||null!==s&&void 0!==s&&s.destination.instructions.length)&&(e=>{let{instructionCache:t,walletPublicKey:r}=e;var n;null===(n=t.get(r))||void 0===n||n.clear()})({instructionCache:this.instructionCache,walletPublicKey:d.publicKey.toBase58()}),this.routeCache.clear()}}static async getIntermediateTokens(){const e=await async function(){const e=await(await ln()("https://cache.jup.ag/top-tokens")).json();return new Set(e.filter(((e,t)=>t<60)))}();for(const t of po)e.add(t);return Qo().forEach((t=>{e.add(t.wrappedToken.addDecimals.mint.toBase58())})),Array.from(e)}}fs.findSerumOpenOrdersForOwner=async e=>{let{userPublicKey:t,cluster:r,connection:n}=e;const o=new Map;if(t){const e="mainnet-beta"===r?$n:eo;(await i.OpenOrders.findForOwner(n,t,e)).forEach((e=>{o.set(e.market.toString(),e.address)}))}return o},fs.createInitializeTokenLedgerInstruction=function(e,t){return Po.instruction.initializeTokenLedger({accounts:{tokenLedger:e,payer:t,systemProgram:o.SystemProgram.programId}})}},66721:function(e,t,r){"use strict";!function(e,t){const r=o,n=e();for(;;)try{if(889200===-parseInt(r(143))/1+parseInt(r(142))/2+-parseInt(r(141))/3*(parseInt(r(146))/4)+-parseInt(r(144))/5*(parseInt(r(140))/6)+-parseInt(r(139))/7+-parseInt(r(145))/8+parseInt(r(147))/9)break;n.push(n.shift())}catch(i){n.push(n.shift())}}(s);var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};function o(e,t){const r=s();return(o=function(e,t){return r[e-=139]})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.getCurveAmount=t.TradeDirection=void 0;const i=n(r(3e4));function s(){const e=["1500215BfGbIl","67890cScNiO","7110688zAPmdr","4816884znPdbN","39328371jHljnR","423220USzEiJ","480GStSiJ","3FyXvcu","2518706qKThCw"];return(s=function(){return e})()}function a(e,t){let r=t,n=e.div(r);if(n.eq(0))return{q:new i.default(0),r:new i.default(0)};if(e.mod(t).gt(0)){n=n.plus(1),r=e.div(n),e.mod(n).gt(0)&&(r=r.plus(1))}return{q:n,r:r}}t.TradeDirection={AtoB:"AtoB",BtoA:"BtoA"},t.getCurveAmount=function(e,r,n,o,s,u,c,d,l,h){let f=new i.default(0),p=new i.default(0);const m=e.times(o.tradeFeeNumerator).div(o.tradeFeeDenominator),g=e.times(o.ownerTradeFeeNumerator).div(o.ownerTradeFeeDenominator),y=m.plus(g),b=o.tradeFeeNumerator.div(o.tradeFeeDenominator).plus(o.ownerTradeFeeNumerator.div(o.ownerTradeFeeDenominator)),w=e.minus(y),v=new i.default(10),_=v.pow(n.baseDecimals);if(1===n.freezeTrade)throw new Error("ProgramIsFrozen");if(!d.status.eq(1))throw new Error("InvalidPythStatus");if(r-d.publishSlot.toNumber()>c.pythSlotLimit.toNumber())throw new Error("InvalidPythSlot");if(d.confidence.div(d.price).gt(c.pythConfidenceLimit.div(c.configDenominator)))throw new Error("InvalidPythConfidence");let A=d.price;if(l){if(!l.status.eq(1))throw new Error("InvalidPythPcStatus");if(r-l.publishSlot.toNumber()>c.pythSlotLimit.toNumber())throw new Error("InvalidPythPcSlot");if(l.confidence.div(l.price).gt(c.pythConfidenceLimit.div(c.configDenominator)))throw new Error("InvalidPythPcConfidence");A=A.times(v.pow(Math.abs(l.exponent))).div(l.price)}let S=new i.default(0);var k;if(S=(k=A.div(c.lastPrice).minus(1),k.toNumber()<0?k.times(-1):k).gt(c.adjustRatio.div(c.configDenominator))?A:c.lastPrice,c.oracleStatus.eq(1)&&h===t.TradeDirection.AtoB)throw new Error("OracleConfidence");if(c.oracleStatus.eq(2)&&h===t.TradeDirection.BtoA)throw new Error("OracleConfidence");const E=c.lastBalancedPrice,T=c.coefficientUp,P=c.coefficientDown;if(0===n.curveType){const{destinationAmountSwapped:e,poolPriceImpact:r}=function(e,r,n,o,s,u,c,d,l,h){let f=new i.default(0),p=new i.default(0),m=c.times(l.concentrationRatio),g=d.times(l.concentrationRatio),y=m.times(r).div(o);switch(h){case t.TradeDirection.AtoB:{if(r.gt(n)&&y.gt(g)){let e=g.div(y).pow(u);m=m.times(e),g=g.times(e)}else if(n.gt(r)&&g.gt(y)){let e=g.div(y).pow(s);m=m.times(e),g=g.times(e)}else if(y.gt(g)){let e=g.div(y).pow(u);m=m.times(e),g=g.times(e)}let t=new i.default(Math.sqrt(m.toNumber())),c=new i.default(Math.sqrt(g.toNumber())),d=new i.default(Math.sqrt(r.toNumber())).div(new i.default(Math.sqrt(o.toNumber()))),l=t.times(c);m=l.div(d),g=l.times(d);let h=m.times(g),b=m.plus(e),{q:w,r:v}=a(h,b),_=w;b=v,f=g.minus(_);const A=g.div(m),S=g.minus(f).div(m.plus(e));p=A.minus(S).div(S);break}case t.TradeDirection.BtoA:{if(r.gt(n)&&y.gt(g)){let e=y.div(g).pow(s);m=m.times(e),g=g.times(e)}else if(n.gt(r)&&g.gt(y)){let e=y.div(g).pow(u);m=m.times(e),g=g.times(e)}else if(y.gt(g));else{let e=y.div(g).pow(u);m=m.times(e),g=g.times(e)}let t=new i.default(Math.sqrt(m.toNumber())),c=new i.default(Math.sqrt(g.toNumber())),d=new i.default(Math.sqrt(r.toNumber())).div(new i.default(Math.sqrt(o.toNumber()))),l=t.times(c);m=l.div(d),g=l.times(d);let h=m.times(g),b=g.plus(e),{q:w,r:v}=a(h,b),_=w;b=v,f=m.minus(_);const A=g.div(m);p=g.plus(e).div(m.minus(f)).minus(A).div(A);break}}return f=new i.default(Math.floor(f.toNumber())),{destinationAmountSwapped:f,poolPriceImpact:p}}(w,S,E,_,T,P,s,u,c,h);f=e,p=r}else if(1===n.curveType){const{destinationAmountSwapped:e,poolPriceImpact:r}=function(e,r,n,o,s,u,c,d,l,h){let f=new i.default(0),p=new i.default(0),m=c,g=d,y=m.times(r).div(o);switch(h){case t.TradeDirection.AtoB:{if(r.gt(n)&&y.gt(g)){let e=g.div(y).pow(u);m=m.times(e),g=g.times(e)}else if(n.gt(r)&&g.gt(y)){let e=g.div(y).pow(s);m=m.times(e),g=g.times(e)}else if(y.gt(g)){let e=g.div(y).pow(u);m=m.times(e),g=g.times(e)}m=m.times(l.concentrationRatio),g=g.times(l.concentrationRatio);let t=new i.default(Math.sqrt(m.toNumber())),c=new i.default(Math.sqrt(g.toNumber())),d=new i.default(Math.sqrt(r.toNumber())).div(new i.default(Math.sqrt(o.toNumber()))),h=t.times(c);m=h.div(d),g=h.times(d);let b=m.times(g),w=m.plus(e),{q:v,r:_}=a(b,w),A=v;w=_,f=g.minus(A);const S=g.div(m),k=g.minus(f).div(m.plus(e));p=S.minus(k).div(k);break}case t.TradeDirection.BtoA:{if(r.gt(n)&&y.gt(g)){let e=y.div(g).pow(s);m=m.times(e),g=g.times(e)}else if(n.gt(r)&&g.gt(y)){let e=y.div(g).pow(u);m=m.times(e),g=g.times(e)}else if(y.gt(g));else{let e=y.div(g).pow(u);m=m.times(e),g=g.times(e)}m=m.times(l.concentrationRatio),g=g.times(l.concentrationRatio);let t=new i.default(Math.sqrt(m.toNumber())),c=new i.default(Math.sqrt(g.toNumber())),d=new i.default(Math.sqrt(r.toNumber())).div(new i.default(Math.sqrt(o.toNumber()))),h=t.times(c);m=h.div(d),g=h.times(d);let b=m.times(g),w=g.plus(e),{q:v,r:_}=a(b,w),A=v;w=_,f=m.minus(A);const S=g.div(m);p=g.plus(e).div(m.minus(f)).minus(S).div(S);break}}return f=new i.default(Math.floor(f.toNumber())),{destinationAmountSwapped:f,poolPriceImpact:p}}(w,S,E,_,T,P,s,u,c,h);f=e,p=r}if(h===t.TradeDirection.AtoB&&f.gte(u))throw new Error("ExceedPoolBalance");if(h===t.TradeDirection.BtoA&&f.gte(s))throw new Error("ExceedPoolBalance");return{amountSwapped:f,priceImpact:p,fee:y,feePercent:b}}},32401:(e,t)=>{"use strict";function r(e,t){var o=n();return(r=function(e,t){return o[e-=444]})(e,t)}function n(){var e=["7gJwJXb","424556lwyjhg","6348024wwPIPB","368989ElakPh","796638BzvPBB","3251292XNSYgy","1587477wEvrAy","3845235aJDDfr"];return(n=function(){return e})()}!function(e,t){for(var n=r,o=e();;)try{if(597604===parseInt(n(446))/1+-parseInt(n(444))/2+-parseInt(n(449))/3+parseInt(n(448))/4+-parseInt(n(450))/5+parseInt(n(447))/6+-parseInt(n(451))/7*(-parseInt(n(445))/8))break;o.push(o.shift())}catch(i){o.push(o.shift())}}(n),Object.defineProperty(t,"__esModule",{value:!0}),t.IDL=void 0,t.IDL={version:"0.1.0",name:"lifinity_amm",instructions:[{name:"swap",accounts:[{name:"authority",isMut:!1,isSigner:!1},{name:"amm",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"sourceInfo",isMut:!0,isSigner:!1},{name:"destinationInfo",isMut:!0,isSigner:!1},{name:"swapSource",isMut:!0,isSigner:!1},{name:"swapDestination",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"feeAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"pythAccount",isMut:!1,isSigner:!1},{name:"pythPcAccount",isMut:!1,isSigner:!1},{name:"configAccount",isMut:!0,isSigner:!1}],args:[{name:"amountIn",type:"u64"},{name:"minimumAmountOut",type:"u64"}]}],accounts:[{name:"amm",type:{kind:"struct",fields:[{name:"initializerKey",type:"publicKey"},{name:"initializerDepositTokenAccount",type:"publicKey"},{name:"initializerReceiveTokenAccount",type:"publicKey"},{name:"initializerAmount",type:"u64"},{name:"takerAmount",type:"u64"},{name:"isInitialized",type:"bool"},{name:"bumpSeed",type:"u8"},{name:"freezeTrade",type:"u8"},{name:"freezeDeposit",type:"u8"},{name:"freezeWithdraw",type:"u8"},{name:"baseDecimals",type:"u8"},{name:"tokenProgramId",type:"publicKey"},{name:"tokenAAccount",type:"publicKey"},{name:"tokenBAccount",type:"publicKey"},{name:"poolMint",type:"publicKey"},{name:"tokenAMint",type:"publicKey"},{name:"tokenBMint",type:"publicKey"},{name:"poolFeeAccount",type:"publicKey"},{name:"pythAccount",type:"publicKey"},{name:"pythPcAccount",type:"publicKey"},{name:"configAccount",type:"publicKey"},{name:"ammTemp1",type:"publicKey"},{name:"ammTemp2",type:"publicKey"},{name:"ammTemp3",type:"publicKey"},{name:"fees",type:{defined:"FeesInput"}},{name:"curve",type:{defined:"CurveInput"}}]}},{name:"config",type:{kind:"struct",fields:[{name:"concentrationRatio",type:"u64"},{name:"lastPrice",type:"u64"},{name:"adjustRatio",type:"u64"},{name:"balanceRatio",type:"u64"},{name:"lastBalancedPrice",type:"u64"},{name:"configDenominator",type:"u64"},{name:"pythConfidenceLimit",type:"u64"},{name:"pythSlotLimit",type:"u64"},{name:"volumeX",type:"u64"},{name:"volumeY",type:"u64"},{name:"volumeXInY",type:"u64"},{name:"coefficientUp",type:"u64"},{name:"coefficientDown",type:"u64"},{name:"oracleStatus",type:"u64"},{name:"configTemp1",type:"u64"},{name:"configTemp2",type:"u64"}]}}],types:[{name:"FeesInput",type:{kind:"struct",fields:[{name:"tradeFeeNumerator",type:"u64"},{name:"tradeFeeDenominator",type:"u64"},{name:"ownerTradeFeeNumerator",type:"u64"},{name:"ownerTradeFeeDenominator",type:"u64"},{name:"ownerWithdrawFeeNumerator",type:"u64"},{name:"ownerWithdrawFeeDenominator",type:"u64"},{name:"hostFeeNumerator",type:"u64"},{name:"hostFeeDenominator",type:"u64"}]}},{name:"CurveInput",type:{kind:"struct",fields:[{name:"curveType",type:"u8"},{name:"curveParameters",type:"u64"}]}},{name:"ConfigInput",type:{kind:"struct",fields:[{name:"concentrationRatio",type:"u64"},{name:"lastPrice",type:"u64"},{name:"adjustRatio",type:"u64"},{name:"balanceRatio",type:"u64"},{name:"lastBalancedPrice",type:"u64"},{name:"configDenominator",type:"u64"},{name:"pythConfidenceLimit",type:"u64"},{name:"pythSlotLimit",type:"u64"},{name:"volumeX",type:"u64"},{name:"volumeY",type:"u64"},{name:"volumeXInY",type:"u64"},{name:"coefficientUp",type:"u64"},{name:"coefficientDown",type:"u64"},{name:"oracleStatus",type:"u64"},{name:"configTemp1",type:"u64"},{name:"configTemp2",type:"u64"}]}},{name:"CurveFees",type:{kind:"struct",fields:[{name:"tradeFeeNumerator",type:"u64"},{name:"tradeFeeDenominator",type:"u64"},{name:"ownerTradeFeeNumerator",type:"u64"},{name:"ownerTradeFeeDenominator",type:"u64"},{name:"ownerWithdrawFeeNumerator",type:"u64"},{name:"ownerWithdrawFeeDenominator",type:"u64"},{name:"hostFeeNumerator",type:"u64"},{name:"hostFeeDenominator",type:"u64"}]}},{name:"CurveType",type:{kind:"enum",variants:[{name:"ConstantProduct"},{name:"Stable"}]}},{name:"TradeDirection",type:{kind:"enum",variants:[{name:"AtoB"},{name:"BtoA"}]}},{name:"RoundDirection",type:{kind:"enum",variants:[{name:"Floor"},{name:"Ceiling"}]}}],errors:[{code:6e3,name:"AlreadyInUse",msg:"Swap account already in use"},{code:6001,name:"InvalidProgramAddress",msg:"Invalid program address generated from bump seed and key"},{code:6002,name:"InvalidOwner",msg:"Input account owner is not the program address"},{code:6003,name:"InvalidOutputOwner",msg:"Output pool account owner cannot be the program address"},{code:6004,name:"ExpectedMint",msg:"Deserialized account is not an SPL Token mint"},{code:6005,name:"ExpectedAccount",msg:"Deserialized account is not an SPL Token account"},{code:6006,name:"EmptySupply",msg:"Input token account empty"},{code:6007,name:"InvalidSupply",msg:"Pool token mint has a non-zero supply"},{code:6008,name:"InvalidDelegate",msg:"Token account has a delegate"},{code:6009,name:"InvalidInput",msg:"InvalidInput"},{code:6010,name:"IncorrectSwapAccount",msg:"Address of the provided swap token account is incorrect"},{code:6011,name:"IncorrectPoolMint",msg:"Address of the provided pool token mint is incorrect"},{code:6012,name:"InvalidOutput",msg:"InvalidOutput"},{code:6013,name:"CalculationFailure",msg:"General calculation failure due to overflow or underflow"},{code:6014,name:"InvalidInstruction",msg:"Invalid instruction"},{code:6015,name:"RepeatedMint",msg:"Swap input token accounts have the same mint"},{code:6016,name:"ExceededSlippage",msg:"Swap instruction exceeds desired slippage limit"},{code:6017,name:"InvalidCloseAuthority",msg:"Token account has a close authority"},{code:6018,name:"InvalidFreezeAuthority",msg:"Pool token mint has a freeze authority"},{code:6019,name:"IncorrectFeeAccount",msg:"Pool fee token account incorrect"},{code:6020,name:"ZeroTradingTokens",msg:"Given pool token amount results in zero trading tokens"},{code:6021,name:"FeeCalculationFailure",msg:"Fee calculation failed due to overflow, underflow, or unexpected 0"},{code:6022,name:"ConversionFailure",msg:"Conversion to u64 failed with an overflow or underflow"},{code:6023,name:"InvalidFee",msg:"The provided fee does not match the program owner's constraints"},{code:6024,name:"IncorrectTokenProgramId",msg:"The provided token program does not match the token program expected by the swap"},{code:6025,name:"IncorrectOracleAccount",msg:"Address of the provided oracle account is incorrect"},{code:6026,name:"IncorrectConfigAccount",msg:"Address of the provided config account is incorrect"},{code:6027,name:"UnsupportedCurveType",msg:"The provided curve type is not supported by the program owner"},{code:6028,name:"InvalidCurve",msg:"The provided curve parameters are invalid"},{code:6029,name:"UnsupportedCurveOperation",msg:"The operation cannot be performed on the given curve"},{code:6030,name:"InvalidPythStatus",msg:"Pyth oracle status is not 'trading'"},{code:6031,name:"InvalidPythPrice",msg:"Could not retrieve updated price feed from the Pyth oracle"},{code:6032,name:"IncorrectSigner",msg:"Address of the provided signer account is incorrect"},{code:6033,name:"ProgramIsFrozen",msg:"Program is frozen"},{code:6034,name:"OracleConfidence",msg:"Oracle confidence is too low"}]}},45103:(e,t,r)=>{"use strict";t.Yk=t.gx=t._l=t.vS=void 0;const n=r(12472);const o=r(96305);const i=r(63323);const s=r(99099);Object.defineProperty(t,"_l",{enumerable:!0,get:function(){return s.getParsedData}});const a=r(66721);Object.defineProperty(t,"gx",{enumerable:!0,get:function(){return a.getCurveAmount}}),Object.defineProperty(t,"vS",{enumerable:!0,get:function(){return a.TradeDirection}});const u=r(99538);Object.defineProperty(t,"Yk",{enumerable:!0,get:function(){return u.LIFINITY_AMM_LAYOUT}})},99538:(e,t,r)=>{"use strict";function n(){const e=["116arMvFi","357747agVquT","17087016qeUlOo","39714KfvLYo","323130VsdFYa","525774OXqkyc","8017226KLyqnt","2ToqBWz","17737852lCMexa","95WaUWkw","261AnRnZP","8lALLFt"];return(n=function(){return e})()}!function(e,t){const r=s,n=e();for(;;)try{if(838091===-parseInt(r(153))/1*(parseInt(r(147))/2)+parseInt(r(155))/3*(-parseInt(r(152))/4)+parseInt(r(149))/5*(-parseInt(r(145))/6)+-parseInt(r(146))/7*(-parseInt(r(151))/8)+-parseInt(r(150))/9*(parseInt(r(156))/10)+parseInt(r(148))/11+parseInt(r(154))/12)break;n.push(n.shift())}catch(o){n.push(n.shift())}}(n),Object.defineProperty(t,"__esModule",{value:!0}),t.CONFIG_LAYOUT=t.LIFINITY_AMM_LAYOUT=void 0;const o=r(26434),i=r(12324);function s(e,t){const r=n();return(s=function(e,t){return r[e-=145]})(e,t)}t.LIFINITY_AMM_LAYOUT=(0,i.struct)([(0,o.u64)("index"),(0,o.publicKey)("initializerKey"),(0,o.publicKey)("initializerDepositTokenAccount"),(0,o.publicKey)("initializerReceiveTokenAccount"),(0,o.u64)("initializerAmount"),(0,o.u64)("takerAmount"),(0,o.u8)("initialized"),(0,o.u8)("bumpSeed"),(0,o.u8)("freezeTrade"),(0,o.u8)("freezeDeposit"),(0,o.u8)("freezeWithdraw"),(0,o.u8)("baseDecimals"),(0,o.publicKey)("tokenProgramId"),(0,o.publicKey)("tokenAAccount"),(0,o.publicKey)("tokenBAccount"),(0,o.publicKey)("poolMint"),(0,o.publicKey)("tokenAMint"),(0,o.publicKey)("tokenBMint"),(0,o.publicKey)("poolFeeAccount"),(0,o.publicKey)("pythAccount"),(0,o.publicKey)("pythPcAccount"),(0,o.publicKey)("configAccount"),(0,o.publicKey)("ammTemp1"),(0,o.publicKey)("ammTemp2"),(0,o.publicKey)("ammTemp3"),(0,o.u64)("tradeFeeNumerator"),(0,o.u64)("tradeFeeDenominator"),(0,o.u64)("ownerTradeFeeNumerator"),(0,o.u64)("ownerTradeFeeDenominator"),(0,o.u64)("ownerWithdrawFeeNumerator"),(0,o.u64)("ownerWithdrawFeeDenominator"),(0,o.u64)("hostFeeNumerator"),(0,o.u64)("hostFeeDenominator"),(0,o.u8)("curveType"),(0,o.u64)("curveParameters")]),t.CONFIG_LAYOUT=(0,i.struct)([(0,o.u64)("index"),(0,o.u64)("concentrationRatio"),(0,o.u64)("lastPrice"),(0,o.u64)("adjustRatio"),(0,o.u64)("balanceRatio"),(0,o.u64)("lastBalancedPrice"),(0,o.u64)("configDenominator"),(0,o.u64)("pythConfidenceLimit"),(0,o.u64)("pythSlotLimit"),(0,o.u64)("volumeX"),(0,o.u64)("volumeY"),(0,o.u64)("volumeXinY"),(0,o.u64)("coefficientUp"),(0,o.u64)("coefficientDown"),(0,o.u64)("oracleStatus"),(0,o.u64)("configTemp1"),(0,o.u64)("configTemp2")])},12472:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function a(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSwapTransactionWithAuthority=t.getSwapInstruction=t.getAmountOut=t.Lifinity=void 0;const i=r(66627),s=r(71256),a=o(r(3e4)),u=r(32401),c=r(96305),d=r(63323),l=r(42796),h=r(99099),f=r(66721);class p{constructor(e,t){this.stateAddress=s.PublicKey.default,this.programAuthority=s.PublicKey.default,this.connection=e,this.wallet=t;const r=new s.PublicKey((0,c.getProgramAddress)()),n=new i.Provider(e,t,i.Provider.defaultOptions());this.program=new i.Program(u.IDL,r,n)}static build(e,t){return n(this,void 0,void 0,(function*(){return new p(e,t)}))}swap(e,t,r,o){return n(this,void 0,void 0,(function*(){const n=(0,d.getPool)(r.toString(),o.toString());try{return yield(0,l.sendSwap)(this.program,n,r,o,e,t)}catch(i){return console.error(i),""}}))}}t.Lifinity=p,t.getAmountOut=function(e,t,r,o,i){return n(this,void 0,void 0,(function*(){const n=(0,d.getPool)(r.toString(),o.toString());if(n){let o,c,d,l=new a.default(t);n.poolCoinMint===r.toString()?(l=l.times(new a.default(10).pow(n.poolCoinDecimal)),c=n.poolCoinDecimal,d=n.poolPcDecimal,o=f.TradeDirection.AtoB):(l=l.times(new a.default(10).pow(n.poolPcDecimal)),c=n.poolPcDecimal,d=n.poolCoinDecimal,o=f.TradeDirection.BtoA);const p=[new s.PublicKey(n.amm),new s.PublicKey(n.poolCoinTokenAccount),new s.PublicKey(n.poolPcTokenAccount),new s.PublicKey(n.configAccount),new s.PublicKey(n.pythAccount)];n.pythAccount!==n.pythPcAccount&&p.push(new s.PublicKey(n.pythPcAccount));try{const r=yield(0,h.getMultipleAccounts)(e,p),{amm:s,fees:u,coinBalance:m,pcBalance:g,config:y,pyth:b,pythPc:w}=(0,h.getParsedData)(r,n),v=yield e.getSlot(),{amountSwapped:_,priceImpact:A,fee:S,feePercent:k}=(0,f.getCurveAmount)(l,v,s,u,m,g,y,b,w,o),E=new a.default(i).div(100),T=new a.default(Math.floor(_.times(new a.default(1).minus(E)).toNumber())).div(new a.default(10).pow(d)).toNumber(),P=_.div(new a.default(10).pow(d)).toNumber(),I=S.div(new a.default(10).pow(c)).toNumber();return{amountIn:t,amountOut:P,amountOutWithSlippage:T,priceImpact:A.toNumber(),fee:I,feePercent:k.toNumber()}}catch(u){return console.error(u),{amountIn:0,amountOut:0,amountOutWithSlippage:0,priceImpact:0,fee:0,feePercent:0}}}}))},t.getSwapInstruction=function(e,t,r,o,h,f,p,m){let g=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];return n(this,void 0,void 0,(function*(){try{const n=(0,d.getPool)(h.toString(),f.toString());let y,b,w=new a.default(r),v=new a.default(o);h.toString()===n.poolCoinMint?(w=w.times(new a.default(10).pow(n.poolCoinDecimal)),v=v.times(new a.default(10).pow(n.poolPcDecimal)),y=new s.PublicKey(n.poolCoinTokenAccount),b=new s.PublicKey(n.poolPcTokenAccount)):(w=w.times(new a.default(10).pow(n.poolPcDecimal)),v=v.times(new a.default(10).pow(n.poolCoinDecimal)),y=new s.PublicKey(n.poolPcTokenAccount),b=new s.PublicKey(n.poolCoinTokenAccount));let _=s.Keypair.generate();const A=new s.PublicKey((0,c.getProgramAddress)()),S=new i.Provider(e,_,i.Provider.defaultOptions()),k=new i.Program(u.IDL,A,S),{approveInstruction:E,swapInstruction:T,signers:P}=yield(0,l.getInstruction)(k,n,w,v,t,p,m,y,b,g);return{approveInstruction:E,swapInstruction:T,signers:P}}catch(n){console.warn(n);return{approveInstruction:null,swapInstruction:null,signers:[]}}}))},t.getSwapTransactionWithAuthority=function(e,t,r,n,o,a,h,f,p){const m=(0,d.getPool)(o.toString(),a.toString());let g=s.Keypair.generate();const y=new s.PublicKey((0,c.getProgramAddress)()),b=new i.Provider(e,g,i.Provider.defaultOptions()),w=new i.Program(u.IDL,y,b);return(0,l.makeSwapTransactionWithAuthority)(w,r,n,t,h,f,o,m,p)}},96305:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProgramAddress=void 0;t.getProgramAddress=()=>"EewxydAPCCVuNEyrVN68PuSYdQ7wKn27V9Gjeoi8dy3S"},63323:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PoolList=t.getPool=t.getPoolList=void 0,t.getPoolList=function(){return t.PoolList},t.getPool=function(e,r){const n=Object.values(t.PoolList).filter((t=>t.poolCoinMint===e&&t.poolPcMint===r||t.poolCoinMint===r&&t.poolPcMint===e));return 1===n.length?n[0]:null},t.PoolList={"SOL-USDC":{amm:"amgK1WE8Cvae4mVdj4AhXSsknWsjaGgo1coYicasBnM",poolMint:"3WzrkFYq4SayCrhBw8BgsPiTVKTDjyV6wRqP7HL9Eyyw",feeAccount:"AD5DFr1AXMB9h6fw5KFtkEfwf7kYSAiaSueeu4NGrLKY",configAccount:"2iT9h99mhDqetoZGNj7KKrqBnoDmFvAytGrnFYuR7MwN",pythAccount:"H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG",pythPcAccount:"H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG",poolCoinTokenAccount:"2uySTNgvGT2kwqpfgLiSgeBLR3wQyye1i1A2iQWoPiFr",poolCoinMint:"So11111111111111111111111111111111111111112",poolPcTokenAccount:"32SjGNjesiCZgmZb4YxAGgjnym6jAvTWbqihR4CvvXkZ",poolPcMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",poolCoinDecimal:9,poolPcDecimal:6,poolMintDecimal:9,pythBaseDecimal:11},"mSOL-USDC":{amm:"Ct5i81oqzw9Z2JnbNGjKUKExEaUJeDBBtWLRSkWD5DjR",poolMint:"BKq1HN9expTKLvjkpnvcbHvsHukTUecdHyUZF7H2p2jr",feeAccount:"Be7r4yNbZ2Qf61aXUPZVvHtcgXX5X6V7MYDoVuqhPSsy",configAccount:"7dPSHYkBNvp1YBnaoXGcGZe2cJ3dUkKNWrYif69JCMur",pythAccount:"E4v1BBgoso9s64TQvmyownAVJbhbEPGyzA3qn4n46qj9",pythPcAccount:"E4v1BBgoso9s64TQvmyownAVJbhbEPGyzA3qn4n46qj9",poolCoinTokenAccount:"AymgLAHXAHLuZXqF5h8SxfmvwVQ4VykKhUJda87DUWZe",poolCoinMint:"mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So",poolPcTokenAccount:"Cr3wSVy5EAWzcQ7pDw4VEfADbNM65NNxpX6wxV1sxLWy",poolPcMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",poolCoinDecimal:9,poolPcDecimal:6,poolMintDecimal:9,pythBaseDecimal:11}}},33219:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WSOL=void 0,t.WSOL={symbol:"WSOL",mintAddress:"So11111111111111111111111111111111111111112",decimals:9}},42796:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function a(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.makeSwapInstructionWithAuthority=t.makeSwapTransactionWithAuthority=t.getInstruction=t.sendSwap=void 0;const o=r(66627),i=r(71256),s=r(93038),a=r(93038),u=r(63786),c=r(33219),d=r(99099);function l(e,t,r,o){return n(this,void 0,void 0,(function*(){return s.Token.createApproveInstruction(a.TOKEN_PROGRAM_ID,t,r,e,[],o.toNumber())}))}function h(e,t,r,o,s,u,c,l,h){return n(this,void 0,void 0,(function*(){let{programAuthority:n}=yield(0,d.getProgramAuthority)(e.programId,new i.PublicKey(h.amm));return e.instruction.swap(c,l,{accounts:{authority:n,amm:new i.PublicKey(h.amm),userTransferAuthority:t,sourceInfo:r,destinationInfo:o,swapSource:s,swapDestination:u,poolMint:new i.PublicKey(h.poolMint),feeAccount:new i.PublicKey(h.feeAccount),tokenProgram:a.TOKEN_PROGRAM_ID,pythPcAccount:new i.PublicKey(h.pythPcAccount),pythAccount:new i.PublicKey(h.pythAccount),configAccount:new i.PublicKey(h.configAccount)}})}))}function f(e,t,r,n,o,s,u,c,d,l){return e.instruction.swap(u,c,{accounts:{authority:l,amm:new i.PublicKey(d.amm),userTransferAuthority:t,sourceInfo:r,destinationInfo:n,swapSource:o,swapDestination:s,poolMint:new i.PublicKey(d.poolMint),feeAccount:new i.PublicKey(d.feeAccount),tokenProgram:a.TOKEN_PROGRAM_ID,pythPcAccount:new i.PublicKey(d.pythPcAccount),pythAccount:new i.PublicKey(d.pythAccount),configAccount:new i.PublicKey(d.configAccount)}})}t.sendSwap=function(e,t,r,s,a,f){return n(this,void 0,void 0,(function*(){const{transaction:p,signers:m}=yield function(e,t,r,s,a,f){return n(this,void 0,void 0,(function*(){let p,m,g,y,b=new i.Transaction,w=[],v=10,_=Math.pow(v,s.poolCoinDecimal),A=Math.pow(v,s.poolPcDecimal);t.toString()===s.poolCoinMint?(p=new o.BN(a*_),m=new o.BN(f*A),g=new i.PublicKey(s.poolCoinTokenAccount),y=new i.PublicKey(s.poolPcTokenAccount)):(p=new o.BN(a*A),m=new o.BN(f*_),g=new i.PublicKey(s.poolPcTokenAccount),y=new i.PublicKey(s.poolCoinTokenAccount));let S=null,k=null;return S=t.toString()===c.WSOL.mintAddress?yield(0,d.createWSOLAccountIfNotExist)(e,S,p.toNumber(),b,w):yield(0,d.findAssociatedTokenAddress)(e.provider.wallet.publicKey,t),k=r.toString()===c.WSOL.mintAddress?yield(0,d.createWSOLAccountIfNotExist)(e,k,0,b,w):yield(0,d.createAssociatedTokenAccountIfNotExist)(e,r,b),yield function(e,t,r,o,s,a,u,c,d,f){let p=!(arguments.length>10&&void 0!==arguments[10])||arguments[10];return n(this,void 0,void 0,(function*(){let n;p?(n=i.Keypair.generate(),t.add(yield l(e.provider.wallet.publicKey,o,n.publicKey,c)),r.push(n)):n=e.provider.wallet,t.add(yield h(e,n.publicKey,o,s,a,u,c,d,f))}))}(e,b,w,S,k,g,y,p,m,s,!0),r.toString()===c.WSOL.mintAddress&&b.add((0,u.closeAccount)({source:k,destination:e.provider.wallet.publicKey,owner:e.provider.wallet.publicKey})),{transaction:b,signers:w}}))}(e,r,s,t,a,f);return yield e.provider.send(p,m)}))},t.getInstruction=function(e,t,r,s,a,u,c,d,f){let p=!(arguments.length>9&&void 0!==arguments[9])||arguments[9];return n(this,void 0,void 0,(function*(){let n=null,m=[],g=new o.BN(r.toNumber()),y=new o.BN(s.toNumber()),b=null;return p&&(b=i.Keypair.generate(),n=yield l(a,u,b.publicKey,g),m.push(b)),{approveInstruction:n,swapInstruction:yield h(e,b?b.publicKey:a,u,c,d,f,g,y,t),signers:m}}))},t.makeSwapTransactionWithAuthority=function(e,t,r,n,s,a,u,c,d){let l,h,p,m,g=Math.pow(10,c.poolCoinDecimal),y=Math.pow(10,c.poolPcDecimal);return u.toString()===c.poolCoinMint?(l=new o.BN(t*g),h=new o.BN(r*y),p=new i.PublicKey(c.poolCoinTokenAccount),m=new i.PublicKey(c.poolPcTokenAccount)):(l=new o.BN(t*y),h=new o.BN(r*g),p=new i.PublicKey(c.poolPcTokenAccount),m=new i.PublicKey(c.poolCoinTokenAccount)),f(e,n,s,a,p,m,l,h,c,d)},t.makeSwapInstructionWithAuthority=f},99099:function(e,t,r){"use strict";var n=r(97429).Buffer,o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function a(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getTokenAccountBalance=t.getParsedData=t.getMultipleAccounts=t.sleep=t.getProgramAuthority=t.findProgramAddress=t.findAssociatedTokenAddress=t.createAssociatedTokenAccountIfNotExist=t.createWSOLAccountIfNotExist=void 0;const s=r(71256),a=r(93038),u=r(63786),c=r(93038),d=r(94834),l=i(r(3e4)),h=r(33219),f=r(99538),p=new s.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function m(e,t){return o(this,void 0,void 0,(function*(){const{publicKey:r}=yield g([e.toBuffer(),c.TOKEN_PROGRAM_ID.toBuffer(),t.toBuffer()],p);return r}))}function g(e,t){return o(this,void 0,void 0,(function*(){const[r,n]=yield s.PublicKey.findProgramAddress(e,t);return{publicKey:r,nonce:n}}))}t.createWSOLAccountIfNotExist=function(e,t,r,n,i){return o(this,void 0,void 0,(function*(){let o;if(t)o=t;else{const t=e.provider.wallet.publicKey,a=s.Keypair.generate();o=a.publicKey;let d=r+(yield e.provider.connection.getMinimumBalanceForRentExemption(c.AccountLayout.span));n.add(s.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:o,lamports:d,space:c.AccountLayout.span,programId:c.TOKEN_PROGRAM_ID})),n.add((0,u.initializeAccount)({account:o,mint:new s.PublicKey(h.WSOL.mintAddress),owner:t})),i.push(a)}return o}))},t.createAssociatedTokenAccountIfNotExist=function(e,t,r){return o(this,void 0,void 0,(function*(){let n=yield m(e.provider.wallet.publicKey,t);return yield e.provider.connection.getAccountInfo(n).then((i=>o(this,void 0,void 0,(function*(){i||(n=yield a.Token.getAssociatedTokenAddress(p,c.TOKEN_PROGRAM_ID,t,e.provider.wallet.publicKey),r.add(a.Token.createAssociatedTokenAccountInstruction(p,c.TOKEN_PROGRAM_ID,t,n,e.provider.wallet.publicKey,e.provider.wallet.publicKey)))})))),n}))},t.findAssociatedTokenAddress=m,t.findProgramAddress=g,t.getProgramAuthority=function(e,t){return o(this,void 0,void 0,(function*(){const[r,n]=yield s.PublicKey.findProgramAddress([t.toBuffer()],e);return{programAuthority:r,nonce:n}}))};function y(e,t){for(const[r,n]of Object.entries(e))if(n===t)return{key:r};return{}}t.sleep=e=>o(void 0,void 0,void 0,(function*(){return yield new Promise((t=>setTimeout(t,e)))})),t.getMultipleAccounts=function(e,t,r){return o(this,void 0,void 0,(function*(){const n=[];let i=[];t.forEach((e=>{i.length>=100&&(n.push(i),i=[]),i.push(e)})),i.length>0&&n.push(i);const s=[],a={};return yield Promise.all(n.map(((t,n)=>o(this,void 0,void 0,(function*(){const o=yield e.getMultipleAccountsInfo(t,r);a[n]=o}))))),Object.keys(a).sort(((e,t)=>parseInt(e)-parseInt(t))).forEach((e=>{const t=a[parseInt(e)];for(const r of t)s.push(r)})),s.map(((e,r)=>null===e?null:{publicKey:t[r],account:e}))}))},t.getParsedData=function(e,t){let r,o,i,s,a,u,h;for(let p=0;p<e.length;p++){const m=e[p];if(m){const e=m.publicKey.toBase58(),p=n.from(m.account.data),{key:g}=y(t,e);switch(g){case"amm":{const e=f.LIFINITY_AMM_LAYOUT.decode(p),{freezeTrade:t,freezeDeposit:n,freezeWithdraw:i,baseDecimals:s,curveType:a}=e;r={freezeTrade:t,freezeDeposit:n,freezeWithdraw:i,baseDecimals:s,curveType:a};const{tradeFeeNumerator:u,tradeFeeDenominator:c,ownerTradeFeeNumerator:d,ownerTradeFeeDenominator:h}=e;o={tradeFeeNumerator:new l.default(Number(u)),tradeFeeDenominator:new l.default(Number(c)),ownerTradeFeeNumerator:new l.default(Number(d)),ownerTradeFeeDenominator:new l.default(Number(h))};break}case"poolCoinTokenAccount":{const e=c.AccountLayout.decode(p),t=c.u64.fromBuffer(e.amount).toNumber();i=new l.default(t);break}case"poolPcTokenAccount":{const e=c.AccountLayout.decode(p),t=c.u64.fromBuffer(e.amount).toNumber();s=new l.default(t);break}case"configAccount":{const e=f.CONFIG_LAYOUT.decode(p),{concentrationRatio:t,lastPrice:r,adjustRatio:n,balanceRatio:o,lastBalancedPrice:i,configDenominator:s,pythConfidenceLimit:u,pythSlotLimit:c,volumeX:d,volumeY:h,volumeXinY:m,coefficientUp:g,coefficientDown:y,oracleStatus:b,configTemp1:w,configTemp2:v}=e;a={concentrationRatio:new l.default(Number(t)),lastPrice:new l.default(Number(r)),adjustRatio:new l.default(Number(n)),balanceRatio:new l.default(Number(o)),lastBalancedPrice:new l.default(Number(i)),configDenominator:new l.default(Number(s)),pythConfidenceLimit:new l.default(Number(u)),pythSlotLimit:new l.default(Number(c)),volumeX:new l.default(Number(d)),volumeY:new l.default(Number(h)),volumeXinY:new l.default(Number(m)),coefficientUp:new l.default(Number(g)),coefficientDown:new l.default(Number(y)),oracleStatus:new l.default(Number(b)),configTemp1:new l.default(Number(w)),configTemp2:new l.default(Number(v))};break}case"pythAccount":{const{aggregate:e,exponent:t}=(0,d.parsePriceData)(p);u={price:new l.default(Number(e.priceComponent)),confidence:new l.default(Number(e.confidenceComponent)),status:new l.default(Number(e.status)),publishSlot:new l.default(Number(e.publishSlot)),exponent:t};break}case"pythPcAccount":{const{aggregate:e,exponent:t}=(0,d.parsePriceData)(p);h={price:new l.default(Number(e.priceComponent)),confidence:new l.default(Number(e.confidenceComponent)),status:new l.default(Number(e.status)),publishSlot:new l.default(Number(e.publishSlot)),exponent:t};break}}}}return{amm:r,fees:o,coinBalance:i,pcBalance:s,config:a,pyth:u,pythPc:h}},t.getTokenAccountBalance=function(e,t){return o(this,void 0,void 0,(function*(){const r=yield e._rpcRequest("getTokenAccountBalance",[t.toBase58()]);if(r.error)throw new Error(r.error.message);return r.result}))}},66627:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BN:()=>o.a,web3:()=>i,AccountClient:()=>ke,AccountsCoder:()=>C,Coder:()=>Z,EventCoder:()=>F,EventManager:()=>Pe,EventParser:()=>Ie,IdlError:()=>S,InstructionCoder:()=>L,Program:()=>Be,ProgramError:()=>k,Provider:()=>w,StateClient:()=>Ae,StateCoder:()=>V,getProvider:()=>_,parseIdlErrors:()=>G,setProvider:()=>v,splitArgsAndCtx:()=>be,toInstruction:()=>Q,translateAddress:()=>J,utils:()=>ge,validateAccounts:()=>X});var n=r(48744),o=r.n(n),i=r(71256),s=r(97429),a=r(8511),u=r.n(a),c=r(26434),d=r(68532),l=r.n(d),h=r(10119),f=r(12009),p=r(21380),m=r.n(p),g=r(81070),y=r(48449),b=r.n(y);class w{constructor(e,t,r){this.connection=e,this.wallet=t,this.opts=r}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async send(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(r.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)}));const n=e.serialize();return await(0,i.sendAndConfirmRawTransaction)(this.connection,n,r)}async sendAll(e,t){void 0===t&&(t=this.opts);const r=await this.connection.getRecentBlockhash(t.preflightCommitment);let n=e.map((e=>{let t=e.tx,n=e.signers;return void 0===n&&(n=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=r.blockhash,n.filter((e=>void 0!==e)).forEach((e=>{t.partialSign(e)})),t}));const o=await this.wallet.signAllTransactions(n),s=[];for(let a=0;a<n.length;a+=1){const e=o[a].serialize();s.push(await(0,i.sendAndConfirmRawTransaction)(this.connection,e,t))}return s}async simulate(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.opts;var n,o,i;return void 0===t&&(t=[]),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(n=r.preflightCommitment)&&void 0!==n?n:this.opts.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)})),await async function(e,t,r){t.recentBlockhash=await e._recentBlockhash(e._disableBlockhashCaching);const n=t.serializeMessage(),o=[t._serialize(n).toString("base64"),{encoding:"base64",commitment:r}],i=await e._rpcRequest("simulateTransaction",o);if(i.error)throw new Error("failed to simulate transaction: "+i.error.message);return i.result}(this.connection,e,null!==(i=null!==(o=r.commitment)&&void 0!==o?o:this.opts.commitment)&&void 0!==i?i:"processed")}}function v(e){A=e}function _(){return null===A?w.local():A}let A=null;class S extends Error{constructor(e){super(e),this.name="IdlError"}}class k extends Error{constructor(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];super(...n),this.code=e,this.msg=t}static parse(e,t){let r,n=e.toString().split("custom program error: ");if(2!==n.length)return null;try{r=parseInt(n[1])}catch(e){return null}let o=t.get(r);return void 0!==o?new k(r,o,r+": "+o):(o=E.get(r),void 0!==o?new k(r,o,r+": "+o):null)}toString(){return this.msg}}const E=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has_one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exempt constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"A state constraint was violated"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[4e3,"The given state account does not have the correct address"],[5e3,"The API being used is deprecated and should no longer be used"]]);class T{static fieldLayout(e,t){const r=void 0!==e.name?u()(e.name):void 0;switch(e.type){case"bool":return c.bool(r);case"u8":return c.u8(r);case"i8":return c.i8(r);case"u16":return c.u16(r);case"i16":return c.i16(r);case"u32":return c.u32(r);case"i32":return c.i32(r);case"u64":return c.u64(r);case"i64":return c.i64(r);case"u128":return c.u128(r);case"i128":return c.i128(r);case"bytes":return c.vecU8(r);case"string":return c.str(r);case"publicKey":return c.publicKey(r);default:if("vec"in e.type)return c.vec(T.fieldLayout({name:void 0,type:e.type.vec},t),r);if("option"in e.type)return c.option(T.fieldLayout({name:void 0,type:e.type.option},t),r);if("defined"in e.type){const n=e.type.defined;if(void 0===t)throw new S("User defined types not provided");const o=t.filter((e=>e.name===n));if(1!==o.length)throw new S(`Type not found: ${JSON.stringify(e)}`);return T.typeDefLayout(o[0],t,r)}if("array"in e.type){let n=e.type.array[0],o=e.type.array[1],i=T.fieldLayout({name:void 0,type:n},t);return c.array(i,o,r)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;if("struct"===e.type.kind){const n=e.type.fields.map((e=>T.fieldLayout(e,t)));return c.struct(n,r)}if("enum"===e.type.kind){let n=e.type.variants.map((e=>{const r=u()(e.name);if(void 0===e.fields)return c.struct([],r);const n=e.fields.map((e=>{if(!e.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return T.fieldLayout(e,t)}));return c.struct(n,r)}));return void 0!==r?c.rustEnum(n).replicate(r):c.rustEnum(n,r)}throw new Error(`Unknown type kint: ${e}`)}}var P=function(){return P=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},P.apply(this,arguments)},I=function(){return I=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},I.apply(this,arguments)};function x(e){return e.toLowerCase()}var O=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],B=/[^A-Z0-9]+/gi;function M(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce((function(e,t){return e.replace(t,r)}),e)}function D(e,t){if("enum"===t.type.kind){let r=t.type.variants.map((t=>void 0===t.fields?0:t.fields.map((t=>{if("object"!=typeof t||!("name"in t))throw new Error("Tuple enum variants not yet implemented.");return U(e,t.type)})).reduce(((e,t)=>e+t))));return Math.max(...r)+1}return void 0===t.type.fields?0:t.type.fields.map((t=>U(e,t.type))).reduce(((e,t)=>e+t),0)}function U(e,t){var r,n;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":return 4;case"u64":case"i64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in t)return 1;if("option"in t)return 1+U(e,t.option);if("defined"in t){const o=null!==(n=null===(r=e.types)||void 0===r?void 0:r.filter((e=>e.name===t.defined)))&&void 0!==n?n:[];if(1!==o.length)throw new S(`Type not found: ${JSON.stringify(t)}`);return D(e,o[0])}if("array"in t){let r=t.array[0],n=t.array[1];return U(e,r)*n}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}function R(e,t){var r;let n=`${e}:${void 0===r&&(r={}),function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var r=t.splitRegexp,n=void 0===r?O:r,o=t.stripRegexp,i=void 0===o?B:o,s=t.transform,a=void 0===s?x:s,u=t.delimiter,c=void 0===u?" ":u,d=M(M(e,n,"$1\0$2"),i,"\0"),l=0,h=d.length;"\0"===d.charAt(l);)l++;for(;"\0"===d.charAt(h-1);)h--;return d.slice(l,h).split("\0").map(a).join(c)}(e,I({delimiter:"."},t))}(t,P({delimiter:"_"},r))}`;return s.Buffer.from(h.sha256.digest(n)).slice(0,8)}class L{constructor(e){this.idl=e,this.ixLayout=L.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const r=R("global",e.name);t.set(l().encode(r),{layout:this.ixLayout.get(e.name),name:e.name})})),e.state&&e.state.methods.map((e=>{const r=R("state",e.name);t.set(l().encode(r),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t){return this._encode("global",e,t)}encodeState(e,t){return this._encode("state",e,t)}_encode(e,t,r){const n=s.Buffer.alloc(1e3),o=u()(t),i=this.ixLayout.get(o);if(!i)throw new Error(`Unknown method: ${o}`);const a=i.encode(r,n),c=n.slice(0,a);return s.Buffer.concat([R(e,t),c])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map((t=>{let r=t.args.map((t=>{var r,n;return T.fieldLayout(t,Array.from([...null!==(r=e.accounts)&&void 0!==r?r:[],...null!==(n=e.types)&&void 0!==n?n:[]]))}));const n=u()(t.name);return[n,c.struct(r,n)]})).concat(e.instructions.map((t=>{let r=t.args.map((t=>{var r,n;return T.fieldLayout(t,Array.from([...null!==(r=e.accounts)&&void 0!==r?r:[],...null!==(n=e.types)&&void 0!==n?n:[]]))}));const n=u()(t.name);return[n,c.struct(r,n)]})));return new Map(t)}decode(e){"string"==typeof e&&(e="hex"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex")?s.Buffer.from(e,"hex"):l().decode(e));let t=l().encode(e.slice(0,8)),r=e.slice(8);const n=this.sighashLayouts.get(t);return n?{data:n.layout.decode(r),name:n.name}:null}format(e,t){return N.format(e,t,this.idl)}}class N{static format(e,t,r){const n=r.instructions.filter((t=>e.name===t.name))[0];if(void 0===n)return console.error("Invalid instruction given"),null;const o=n.args.map((t=>({name:t.name,type:N.formatIdlType(t.type),data:N.formatIdlData(t,e.data[t.name],r.types)}))),i=N.flattenIdlAccounts(n.accounts);return{args:o,accounts:t.map(((e,t)=>t<i.length?{name:i[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){if("string"==typeof e)return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,r){if("string"==typeof e.type)return t.toString();if(e.type.hasOwnProperty("vec"))return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t))).join(", ")+"]";if(e.type.hasOwnProperty("option"))return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t);if(e.type.hasOwnProperty("defined")){if(void 0===r)throw new Error("User defined types not provided");const n=r.filter((t=>t.name===e.type.defined));if(1!==n.length)throw new Error(`Type not found: ${e.type.defined}`);return N.formatIdlDataDefined(n[0],t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){if("struct"===e.type.kind){const n=e.type;return"{ "+Object.keys(t).map((e=>{const o=n.fields.filter((t=>t.name===e))[0];if(void 0===o)throw new Error("Unable to find type");return e+": "+N.formatIdlData(o,t[e],r)})).join(", ")+" }"}if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const n=e.type.variants,o=Object.keys(t)[0],i=t[o],s=Object.keys(i).map((e=>{var t;const s=i[e],a=null===(t=n[o])||void 0===t?void 0:t.filter((t=>t.name===e))[0];if(void 0===a)throw new Error("Unable to find variant");return e+": "+N.formatIdlData(a,s,r)})).join(", "),a=u()(o,{pascalCase:!0});return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map((e=>{const r=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.hasOwnProperty("accounts")){const n=t?`${t} > ${r}`:r;return N.flattenIdlAccounts(e.accounts,n)}return{...e,name:t?`${t} > ${r}`:r}})).flat()}}class C{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,T.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t)}async encode(e,t){const r=s.Buffer.alloc(1e3),n=this.accountLayouts.get(e);if(!n)throw new Error(`Unknown account: ${e}`);const o=n.encode(t,r);let i=r.slice(0,o),a=C.accountDiscriminator(e);return s.Buffer.concat([a,i])}decode(e,t){const r=t.slice(8),n=this.accountLayouts.get(e);if(!n)throw new Error(`Unknown account: ${e}`);return n.decode(r)}static accountDiscriminator(e){return s.Buffer.from(h.sha256.digest(`account:${u()(e,{pascalCase:!0})}`)).slice(0,8)}}class F{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let r={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,T.typeDefLayout(r,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>{return[f.fromByteArray((t=e.name,s.Buffer.from(h.sha256.digest(`event:${t}`)).slice(0,8))),e.name];var t})))}decode(e){let t;try{t=s.Buffer.from(f.toByteArray(e))}catch(e){return null}const r=f.fromByteArray(t.slice(0,8)),n=this.discriminators.get(r);if(void 0===n)return null;const o=this.layouts.get(n);if(!o)throw new Error(`Unknown event: ${n}`);return{data:o.decode(t.slice(8)),name:n}}}const W=new Set(["anchor-deprecated-state"]),z=new Map;function j(e){return void 0!==z.get(e)}var K=Object.freeze({__proto__:null,set:function(e){if(!W.has(e))throw new Error("Invalid feature");z.set(e,!0)},isSet:j});class V{constructor(e){if(void 0===e.state)throw new Error("Idl state not defined.");this.layout=T.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const r=s.Buffer.alloc(1e3),n=this.layout.encode(t,r),o=await q(e),i=r.slice(0,n);return s.Buffer.concat([o,i])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function q(e){let t=j("anchor-deprecated-state")?"account":"state";return s.Buffer.from(h.sha256.digest(`${t}:${e}`)).slice(0,8)}class Z{constructor(e){this.instruction=new L(e),this.accounts=new C(e),this.events=new F(e),e.state&&(this.state=new V(e))}sighash(e,t){return R(e,t)}}var H=Object.freeze({__proto__:null,hash:function(e){return(0,h.sha256)(e)}});function G(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var r;let n=null!==(r=e.msg)&&void 0!==r?r:e.name;t.set(e.code,n)})),t}function Q(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(e.args.length!=r.length)throw new Error("Invalid argument length");const o={};let i=0;return e.args.forEach((e=>{o[e.name]=r[i],i+=1})),o}function X(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((e=>{if("accounts"in e)X(e.accounts,t[e.name]);else if(void 0===t[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function J(e){return e instanceof i.PublicKey?e:new i.PublicKey(e)}async function Y(e,t,r){if(t.length<=99)return await $(e,t,r);{const o=(n=t,99,Array.apply(0,new Array(Math.ceil(n.length/99))).map(((e,t)=>n.slice(99*t,99*(t+1)))));return(await Promise.all(o.map((t=>$(e,t,r))))).flat()}var n}async function $(e,t,r){const n=null!=r?r:e.commitment,o=[t.map((e=>e.toBase58()))];n&&o.push({commitment:n});const a=await e._rpcRequest("getMultipleAccounts",o);if(a.error)throw new Error("failed to get info about accounts "+t.map((e=>e.toBase58())).join(", ")+": "+a.error.message);m()(void 0!==a.result);const u=[];for(const c of a.result.value){let e=null;if(null!==c){if(a.result.value){const{executable:t,owner:r,lamports:n,data:o}=c;m()("base64"===o[1]),e={executable:t,owner:new i.PublicKey(r),lamports:n,data:s.Buffer.from(o[0],"base64")}}if(null===e)throw new Error("Invalid response");u.push(e)}else u.push(null)}return u.map(((e,r)=>null===e?null:{publicKey:t[r],account:e}))}var ee=Object.freeze({__proto__:null,invoke:async function(e,t,r,n){e=J(e),n||(n=_());const o=new i.Transaction;return o.add(new i.TransactionInstruction({programId:e,keys:null!=t?t:[],data:r})),await n.send(o)},getMultipleAccounts:Y});function te(e,t,r){const n=s.Buffer.concat([e.toBuffer(),s.Buffer.from(t),r.toBuffer()]),o=h.sha256.digest(n);return new i.PublicKey(s.Buffer.from(o))}function re(e,t){let r=s.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");r=s.Buffer.concat([r,oe(e)])})),r=s.Buffer.concat([r,t.toBuffer(),s.Buffer.from("ProgramDerivedAddress")]);let n=(0,h.sha256)(new Uint8Array(r)),a=new(o())(n,16).toArray(void 0,32);if(i.PublicKey.isOnCurve(new Uint8Array(a)))throw new Error("Invalid seeds, address must fall off the curve");return new i.PublicKey(a)}function ne(e,t){let r,n=255;for(;0!=n;){try{r=re(e.concat(s.Buffer.from([n])),t)}catch(e){if(e instanceof TypeError)throw e;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}const oe=e=>e instanceof s.Buffer?e:e instanceof Uint8Array?s.Buffer.from(e.buffer,e.byteOffset,e.byteLength):s.Buffer.from(e);async function ie(e){let t=[s.Buffer.from([97,110,99,104,111,114])];for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];n.forEach((e=>{t.push(e instanceof s.Buffer?e:J(e).toBuffer())}));const[a]=await i.PublicKey.findProgramAddress(t,J(e));return a}var se=Object.freeze({__proto__:null,createWithSeedSync:te,createProgramAddressSync:re,findProgramAddressSync:ne,associated:ie}),ae=Object.freeze({__proto__:null,encode:function(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")},decode:function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?s.Buffer.from([]):s.Buffer.from(t.map((e=>parseInt(e,16))))}});function ue(e){return new TextDecoder("utf-8").decode(e)}var ce=Object.freeze({__proto__:null,decode:ue,encode:function(e){return(new TextEncoder).encode(e)}}),de=Object.freeze({__proto__:null,encode:function(e){return l().encode(e)},decode:function(e){return l().decode(e)}}),le=Object.freeze({__proto__:null,encode:function(e){return f.fromByteArray(e)},decode:function(e){return s.Buffer.from(f.toByteArray(e))}}),he=Object.freeze({__proto__:null,hex:ae,utf8:ce,bs58:de,base64:le});const fe=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),pe=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var me=Object.freeze({__proto__:null,associatedAddress:async function(e){let{mint:t,owner:r}=e;return(await i.PublicKey.findProgramAddress([r.toBuffer(),fe.toBuffer(),t.toBuffer()],pe))[0]}}),ge=Object.freeze({__proto__:null,sha256:H,rpc:ee,publicKey:se,bytes:he,token:me,features:K});const ye=c.struct([c.publicKey("authority"),c.vecU8("data")]);function be(e,t){var r,n;let o={};const i=e.args?e.args.length:0;if(t.length>i){if(t.length!==i+1)throw new Error(`provided too many arguments ${t} to instruction ${null==e?void 0:e.name} expecting: ${null!==(n=null===(r=e.args)||void 0===r?void 0:r.map((e=>e.name)))&&void 0!==n?n:[]}`);o=t.pop()}return[t,o]}class we{static build(e,t,r){if("_inner"===e.name)throw new S("the _inner name is reserved");const n=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const[u,c]=be(e,[...s]);X(e.accounts,c.accounts);const d=n.accounts(c.accounts);return void 0!==c.remainingAccounts&&d.push(...c.remainingAccounts),j("debug-logs")&&console.log("Outgoing account metas:",d),new i.TransactionInstruction({keys:d,programId:r,data:t(e.name,Q(e,...u))})};return n.accounts=t=>we.accountsArray(t,e.accounts,e.name),n}static accountsArray(e,t,r){return e?t.map((t=>{if(void 0!==("accounts"in t?t.accounts:void 0)){const n=e[t.name];return we.accountsArray(n,t.accounts,r).flat()}{const n=t;let o;try{o=J(e[t.name])}catch(e){throw new Error(`Wrong input type for account "${t.name}" in the instruction accounts object${void 0!==r?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}return{pubkey:o,isWritable:n.isMut,isSigner:n.isSigner}}})).flat():[]}}class ve{static build(e,t,r,n){return async function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];const a=t(...i),[,u]=be(e,[...i]);try{return await n.send(a,u.signers,u.options)}catch(e){j("debug-logs")&&console.log("Translating error:",e);let n=k.parse(e,r);if(null===n)throw e;throw n}}}}class _e{static build(e,t){return function(){for(var r,n,o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];const[,c]=be(e,[...a]),d=new i.Transaction;if(c.preInstructions&&c.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=c.preInstructions)||void 0===r||r.forEach((e=>d.add(e))),null===(n=c.instructions)||void 0===n||n.forEach((e=>d.add(e))),d.add(t(...a)),null===(o=c.postInstructions)||void 0===o||o.forEach((e=>d.add(e))),d}}}class Ae{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_(),n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Z(e);this.provider=r,this.coder=n,this._idl=e,this._programId=t,this._address=Se(t),this._sub=null;const[o,s,a]=(()=>{var o;let s={},a={},c={};return null===(o=e.state)||void 0===o||o.methods.forEach((o=>{const d=we.build(o,((e,t)=>n.instruction.encodeState(e,t)),t);d.accounts=e=>{const n=function(e,t,r,n){if("new"===r.name){const[r]=ne([],e);return[{pubkey:t.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:Se(e),isWritable:!0,isSigner:!1},{pubkey:r,isWritable:!1,isSigner:!1},{pubkey:i.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e,isWritable:!1,isSigner:!1}]}return X(r.accounts,n),[{pubkey:Se(e),isWritable:!0,isSigner:!1}]}(t,r,o,e);return n.concat(we.accountsArray(e,o.accounts,o.name))};const l=_e.build(o,d),h=ve.build(o,l,G(e),r),f=u()(o.name);s[f]=d,a[f]=l,c[f]=h})),[s,a,c]})();this.instruction=o,this.transaction=s,this.rpc=a}get programId(){return this._programId}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(null===t)throw new Error(`Account does not exist ${e.toString()}`);const r=this._idl.state;if(!r)throw new Error("State is not specified in IDL.");if((await q(r.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(null!==this._sub)return this._sub.ee;const t=new(b()),r=this.provider.connection.onAccountChange(this.address(),(e=>{const r=this.coder.state.decode(e.data);t.emit("change",r)}),e);return this._sub={ee:t,listener:r},t}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function Se(e){let[t]=ne([],e);return te(t,"unversioned",e)}class ke{constructor(e,t,r,n,o){var i;this._idlAccount=t,this._programId=r,this._provider=null!=n?n:_(),this._coder=null!=o?o:new Z(e),this._size=8+(null!==(i=D(e,t))&&void 0!==i?i:0)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,t){const r=await this.getAccountInfo(e,t);if(null===r)return null;if(C.accountDiscriminator(this._idlAccount.name).compare(r.data.slice(0,8)))throw new Error("Invalid account discriminator");return this._coder.accounts.decode(this._idlAccount.name,r.data)}async fetch(e,t){const r=await this.fetchNullable(e,t);if(null===r)throw new Error(`Account does not exist ${e.toString()}`);return r}async fetchMultiple(e,t){const r=await Y(this._provider.connection,e.map((e=>J(e))),t),n=C.accountDiscriminator(this._idlAccount.name);return r.map((e=>null==e||n.compare(null==e?void 0:e.account.data.slice(0,8))?null:this._coder.accounts.decode(this._idlAccount.name,null==e?void 0:e.account.data)))}async all(e){const t=C.accountDiscriminator(this._idlAccount.name);return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:{offset:0,bytes:l().encode(e instanceof s.Buffer?s.Buffer.concat([t,e]):t)}},...Array.isArray(e)?e:[]]})).map((e=>{let{pubkey:t,account:r}=e;return{publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,r.data)}}))}subscribe(e,t){const r=Ee.get(e.toString());if(r)return r.ee;const n=new(b());e=J(e);const o=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);n.emit("change",t)}),t);return Ee.set(e.toString(),{ee:n,listener:o}),n}async unsubscribe(e){let t=Ee.get(e.toString());t?Ee&&await this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{Ee.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const r=this.size;return i.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:r),programId:this._programId})}async associated(){const e=await this.associatedAddress(...arguments);return await this.fetch(e)}async associatedAddress(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return await ie(this._programId,...t)}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(J(e),t)}}const Ee=new Map,Te="Program log: ".length;class Pe{constructor(e,t,r){this._programId=e,this._provider=t,this._eventParser=new Ie(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var r;let n=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!==(r=this._eventListeners.get(e))&&void 0!==r?r:[]).concat(n)),this._eventCallbacks.set(n,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((e,t)=>{e.err?console.error(e):this._eventParser.parseLogs(e.logs,(e=>{const r=this._eventListeners.get(e.name);r&&r.forEach((r=>{const n=this._eventCallbacks.get(r);if(n){const[,r]=n;r(e.data,t.slot)}}))}))}))),n}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=t;let n=this._eventListeners.get(r);if(!n)throw new Error(`Event listeners don't exist for ${r}!`);this._eventCallbacks.delete(e),n=n.filter((t=>t!==e)),0===n.length&&this._eventListeners.delete(r),0==this._eventCallbacks.size&&(p.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class Ie{constructor(e,t){this.coder=t,this.programId=e}parseLogs(e,t){const r=new Oe(e),n=new xe(r.next());let o=r.next();for(;null!==o;){let[e,i,s]=this.handleLog(n,o);e&&t(e),i&&n.push(i),s&&n.pop(),o=r.next()}}handleLog(e,t){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log:")){const t=e.slice(Te);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class xe{constructor(e){var t;const r=null===(t=/^Program (.*) invoke.*$/g.exec(e))||void 0===t?void 0:t[1];if(!r)throw new Error("Could not find program invocation log line");this.stack=[r]}program(){return p.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){p.ok(this.stack.length>0),this.stack.pop()}}class Oe{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class Be{constructor(e,t,r){t=J(t),r||(r=_()),this._idl=e,this._provider=r,this._programId=t,this._coder=new Z(e),this._events=new Pe(this._programId,r,this._coder);const[n,o,i,s,a,c]=class{static build(e,t,r,n){const o={},i={},s={},a={},c=G(e),d=class{static build(e,t,r,n){if(void 0!==e.state)return new Ae(e,r,n,t)}}.build(e,t,r,n);e.instructions.forEach((d=>{const l=we.build(d,((e,r)=>t.instruction.encode(e,r)),r),h=_e.build(d,l),f=ve.build(d,h,c,n),p=class{static build(e,t,r,n,o,i,s){return async function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];const d=t(...u),[,l]=be(e,[...u]);let h;try{h=await n.simulate(d,l.signers,l.options)}catch(e){j("debug-logs")&&console.log("Translating error:",e);let n=k.parse(e,r);if(null===n)throw e;throw n}if(void 0===h)throw new Error("Unable to simulate transaction");if(h.value.err)throw new Error(`Simulate error: ${h.value.err.toString()}`);const f=h.value.logs;if(!f)throw new Error("Simulated logs not found");const p=[];return s.events&&new Ie(i,o).parseLogs(f,(e=>{p.push(e)})),{events:p,raw:f}}}}.build(d,h,c,n,t,r,e),m=u()(d.name);i[m]=l,s[m]=h,o[m]=f,a[m]=p}));const l=e.accounts?class{static build(e,t,r,n){var o;const i={};return null===(o=e.accounts)||void 0===o||o.forEach((o=>{const s=u()(o.name);i[s]=new ke(e,o,r,n,t)})),i}}.build(e,t,r,n):{};return[o,i,s,l,a,d]}}.build(e,this._coder,t,r);this.rpc=n,this.instruction=o,this.transaction=i,this.account=s,this.simulate=a,this.state=c}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const r=J(e),n=await Be.fetchIdl(r,t);if(!n)throw new Error(`IDL not found for program: ${e.toString()}`);return new Be(n,r,t)}static async fetchIdl(e,t){t=null!=t?t:_();const r=J(e),n=await async function(e){const t=(await i.PublicKey.findProgramAddress([],e))[0];return await i.PublicKey.createWithSeed(t,"anchor:idl",e)}(r),o=await t.connection.getAccountInfo(n);if(!o)return null;let s=(a=o.data.slice(8),ye.decode(a));var a;const u=(0,g.rr)(s.data);return JSON.parse(ue(u))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}},12636:(e,t,r)=>{"use strict";e.exports=r(18621)},18621:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(92950),o=r(15680);var i=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(n);const s={INITIALIZE_ERROR:"INITIALIZE_ERROR",ROUTES_ERROR:"ROUTES_ERROR"},a=n.createContext(null);Object.defineProperty(t,"JUPITER_ERRORS",{enumerable:!0,get:function(){return o.JUPITER_ERRORS}}),Object.defineProperty(t,"MARKETS_URL",{enumerable:!0,get:function(){return o.MARKETS_URL}}),Object.defineProperty(t,"TOKEN_LIST_URL",{enumerable:!0,get:function(){return o.TOKEN_LIST_URL}}),Object.defineProperty(t,"getRouteInfoUniqueId",{enumerable:!0,get:function(){return o.getRouteInfoUniqueId}}),t.Errors=s,t.JupiterProvider=e=>{let{connection:t,cluster:r,userPublicKey:u,children:c,platformFeeAndAccounts:d,quoteMintToReferrer:l,routeCacheDuration:h,marketUrl:f,restrictIntermediateTokens:p,onlyDirectRoutes:m}=e;const[g,y]=n.useState(),[b,w]=n.useState(),v=(n.useEffect((()=>{(async()=>{try{var e=await o.Jupiter.load({connection:t,cluster:r,user:u,platformFeeAndAccounts:d,routeCacheDuration:h,quoteMintToReferrer:l,marketUrl:f,restrictIntermediateTokens:p});y(e)}catch(e){throw console.error(e),w(s.INITIALIZE_ERROR),e}})()}),[t,r,p]),n.useEffect((()=>{g&&u&&g.setUserPublicKey(u)}),[g,u]),n.useMemo((()=>{let e=new Map;return g?g.getRouteMap(m):e}),[g,m])),_=n.useMemo((()=>Array.from(v.keys())),[v]);return i.default.createElement(a.Provider,{value:{jupiter:g,allTokenMints:_,connection:t,cluster:r,routeMap:v,error:b,setError:w,routeCacheDuration:h,onlyDirectRoutes:m}},c)},t.useJupiter=e=>{let{amount:t,inputMint:r,outputMint:o,slippage:u,debounceTime:c=250}=e;const d=n.useContext(a),[l,h]=n.useState(!1),[f,p]=n.useState(),[m,g]=n.useState(0),y=n.useRef(m),[b,w,v]=function(e,t){const[r,o]=n.useState(e);return n.useEffect((()=>{const r=setTimeout((()=>{o(e)}),t);return()=>{clearTimeout(r)}}),[e,t]),r}(i.default.useMemo((()=>[t,r,o]),[t,null==r?void 0:r.toBase58(),null==o?void 0:o.toBase58()]),c),_=n.useRef(0),A=n.useRef(0);if(!d)throw new Error("JupiterProvider is required");const{routeMap:S,allTokenMints:k,jupiter:E,error:T,setError:P,routeCacheDuration:I=0,onlyDirectRoutes:x}=d;return n.useEffect((()=>{y.current=-1}),[[null==w?void 0:w.toString(),null==v?void 0:v.toString()].sort().join("-"),u]),n.useEffect((()=>{_.current&&(new Date).getTime()-_.current>=I&&(y.current=-1),b&&m!==y.current&&h(!0)}),[m,b,u,w,v,x]),n.useEffect((()=>{if(E)if(b&&T!==s.INITIALIZE_ERROR){if(b&&w&&v&&S){let e=(new Date).getTime();A.current=e,E.computeRoutes({inputMint:w,outputMint:v,inputAmount:b,slippage:u,forceFetch:m!==y.current,onlyDirectRoutes:x}).then((t=>{let{routesInfos:r,cached:n}=t;A.current===e&&(p(r),P(void 0),n||(_.current=(new Date).getTime()))})).catch((t=>{console.error(t),A.current===e&&(p(void 0),P(s.ROUTES_ERROR))})).finally((()=>{A.current===e&&(y.current=m,h(!1))}))}}else p(void 0)}),[E,b,w,v,u,m,x]),c=n.useCallback((async e=>{let{wallet:t,routeInfo:r,onTransaction:n}=e;if(T)throw new Error(T);if(!E)throw new Error("Jupiter not initialized");if(null==t||!t.publicKey)throw new Error("Wallet not connected");if(!r)throw new Error("Invalid state, impossible to build transaction");return(0,(await E.exchange({routeInfo:r})).execute)({wallet:t,onTransaction:n})}),[E]),{allTokenMints:k,routeMap:S,exchange:c,refresh:()=>{!l&&_.current&&g((e=>e+1))},lastRefreshTimestamp:_.current,loading:l,routes:f,error:T}},t.useJupiterRouteMap=()=>{var e=n.useContext(a);if(e)return e.routeMap;throw new Error("JupiterProvider is required")}},53853:(e,t,r)=>{"use strict";e.exports=r(61486)},61486:(e,t,r)=>{"use strict";var n=r(71256),o=r(93038);class i extends Error{constructor(e,t,r){super(e),this.txid=void 0,this.code=void 0,this.txid=t,this.code=r,Object.setPrototypeOf(this,Error.prototype)}}async function s(e){const t=e[1].Custom;let r="";switch(t){case 0:r="An account with the same address already exists";case 1:r="The account does not have enough SOL to perform the operation";default:r="Unknown error, visit the explorer"}return{code:t,message:r}}t.TransactionError=i,t.deserializeAccount=e=>{if(null==e||0==e.length)return;const t=o.AccountLayout.decode(e);return t.mint=new n.PublicKey(t.mint),t.owner=new n.PublicKey(t.owner),t.amount=o.u64.fromBuffer(t.amount),0===t.delegateOption?(t.delegate=null,t.delegatedAmount=new o.u64(0)):(t.delegate=new n.PublicKey(t.delegate),t.delegatedAmount=o.u64.fromBuffer(t.delegatedAmount)),t.isInitialized=0!==t.state,t.isFrozen=2===t.state,1===t.isNativeOption?(t.rentExemptReserve=o.u64.fromBuffer(t.isNative),t.isNative=!0):(t.rentExemptReserve=null,t.isNative=!1),t.closeAuthority=0===t.closeAuthorityOption?null:new n.PublicKey(t.closeAuthority),t},t.parseErrorForTransaction=async function(e){var t;const r=[];if(null!=e&&e.meta&&e.meta.logMessages&&e.meta.logMessages.forEach((e=>{const t=/Error: (.*)/gm;let n;for(;null!==(n=t.exec(e));)n.index===t.lastIndex&&t.lastIndex++,n.length>1&&r.push(n[1])})),r.length>0)return{message:r.join(",")};const o=null==e||null===(t=e.meta)||void 0===t?void 0:t.err,i=JSON.stringify(o);let a;if(o&&"string"!=typeof o){var u;const t=o.InstructionError,[r,{Custom:d}]=t;a=d;const l=null==e||null===(u=e.meta)||void 0===u?void 0:u.innerInstructions;var c;if(!l||r>=l.length)return null!=e&&e.meta&&e.meta.logMessages&&async function(e){return e.forEach((e=>{if(e.includes("Program 11111111111111111111111111111111 invoke"))return!0})),!1}(null===(c=e.meta)||void 0===c?void 0:c.logMessages)?s(t):{message:i,code:a};const h=l.find((e=>e.index===r));if(!h)return{message:i,code:a};if(e.transaction.message.accountKeys[h.instructions[h.instructions.length-1].programIdIndex].equals(n.SystemProgram.programId))return s(t)}return{message:"string"==typeof o?o:"Unknown error, visit the explorer",code:a}}},15872:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.translateAddress=t.validateAccounts=t.toInstruction=t.parseIdlErrors=void 0;const n=r(40075);t.parseIdlErrors=function(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var r;let n=null!==(r=e.msg)&&void 0!==r?r:e.name;t.set(e.code,n)})),t},t.toInstruction=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(e.args.length!=r.length)throw new Error("Invalid argument length");const o={};let i=0;return e.args.forEach((e=>{o[e.name]=r[i],i+=1})),o},t.validateAccounts=function e(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((t=>{if("accounts"in t)e(t.accounts,r[t.name]);else if(void 0===r[t.name])throw new Error(`Invalid arguments: ${t.name} not provided.`)}))},t.translateAddress=function(e){return e instanceof n.PublicKey?e:new n.PublicKey(e)}},45572:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;const s=r(3930),a=i(r(12009));t.encode=function(e){return a.fromByteArray(e)},t.decode=function(e){return s.Buffer.from(a.toByteArray(e))}},89277:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;const o=n(r(68532));t.encode=function(e){return o.default.encode(e)},t.decode=function(e){return o.default.decode(e)}},87169:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;const n=r(3930);t.encode=function(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")},t.decode=function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2===1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?n.Buffer.from([]):n.Buffer.from(t.map((e=>parseInt(e,16))))}},7867:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.base64=t.bs58=t.utf8=t.hex=void 0,t.hex=i(r(87169)),t.utf8=i(r(56766)),t.bs58=i(r(89277)),t.base64=i(r(45572))},56766:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0;const n=r(45587);t.decode=function(e){return(n.isBrowser?new TextDecoder("utf-8"):new(r(58404).TextDecoder)("utf-8")).decode(e)},t.encode=function(e){return(n.isBrowser?new TextEncoder:new(r(58404).TextEncoder)("utf-8")).encode(e)}},45587:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.chunks=t.isBrowser=void 0,t.isBrowser={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_ID:"sen_swap",REACT_APP_NAME:"Sen Swap",REACT_APP_AUTHOR_NAME:"Sentre",REACT_APP_AUTHOR_EMAIL:"hi@sentre.io",REACT_APP_TAGS:"dapps,sentre",REACT_APP_DESCRIPTION:"SPLT Swap for SPL tokens",REACT_APP_URL:"https://descartesnetwork.github.io/sen-swap/index.js"}.BROWSER||"undefined"!==typeof window&&!(null===(r=window.process)||void 0===r?void 0:r.hasOwnProperty("type")),t.chunks=function(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map(((r,n)=>e.slice(n*t,(n+1)*t)))}},94328:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.associated=t.findProgramAddressSync=t.createProgramAddressSync=t.createWithSeedSync=void 0;const o=r(3930),i=n(r(48744)),s=r(10119),a=r(40075),u=r(15872);function c(e,t){let r=o.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");r=o.Buffer.concat([r,d(e)])})),r=o.Buffer.concat([r,t.toBuffer(),o.Buffer.from("ProgramDerivedAddress")]);let n=(0,s.sha256)(new Uint8Array(r)),u=new i.default(n,16).toArray(void 0,32);if(a.PublicKey.isOnCurve(new Uint8Array(u)))throw new Error("Invalid seeds, address must fall off the curve");return new a.PublicKey(u)}t.createWithSeedSync=function(e,t,r){const n=o.Buffer.concat([e.toBuffer(),o.Buffer.from(t),r.toBuffer()]),i=s.sha256.digest(n);return new a.PublicKey(o.Buffer.from(i))},t.createProgramAddressSync=c,t.findProgramAddressSync=function(e,t){let r,n=255;for(;0!=n;){try{r=c(e.concat(o.Buffer.from([n])),t)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")};const d=e=>e instanceof o.Buffer?e:e instanceof Uint8Array?o.Buffer.from(e.buffer,e.byteOffset,e.byteLength):o.Buffer.from(e);t.associated=async function(e){let t=[o.Buffer.from([97,110,99,104,111,114])];for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];n.forEach((e=>{t.push(e instanceof o.Buffer?e:(0,u.translateAddress)(e).toBuffer())}));const[s]=await a.PublicKey.findProgramAddress(t,(0,u.translateAddress)(e));return s}},40075:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Account:()=>Gt,Authorized:()=>po,BLOCKHASH_CACHE_TIMEOUT_MS:()=>Cr,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>Qt,BPF_LOADER_PROGRAM_ID:()=>Ir,BpfLoader:()=>xr,Connection:()=>uo,Ed25519Program:()=>ho,Enum:()=>Ft,EpochSchedule:()=>Dr,FeeCalculatorLayout:()=>wr,Keypair:()=>co,LAMPORTS_PER_SOL:()=>zo,Loader:()=>Pr,Lockup:()=>mo,MAX_SEED_LENGTH:()=>zt,Message:()=>er,NONCE_ACCOUNT_LENGTH:()=>_r,NonceAccount:()=>Ar,PACKET_DATA_SIZE:()=>nr,PublicKey:()=>jt,SOLANA_SCHEMA:()=>Wt,STAKE_CONFIG_ID:()=>fo,STAKE_INSTRUCTION_LAYOUTS:()=>yo,SYSTEM_INSTRUCTION_LAYOUTS:()=>kr,SYSVAR_CLOCK_PUBKEY:()=>sr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>ar,SYSVAR_INSTRUCTIONS_PUBKEY:()=>ur,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>cr,SYSVAR_RENT_PUBKEY:()=>dr,SYSVAR_REWARDS_PUBKEY:()=>lr,SYSVAR_SLOT_HASHES_PUBKEY:()=>hr,SYSVAR_SLOT_HISTORY_PUBKEY:()=>fr,SYSVAR_STAKE_HISTORY_PUBKEY:()=>pr,Secp256k1Program:()=>So,SendTransactionError:()=>Ur,StakeAuthorizationLayout:()=>bo,StakeInstruction:()=>go,StakeProgram:()=>wo,Struct:()=>Ct,SystemInstruction:()=>Sr,SystemProgram:()=>Er,Transaction:()=>ir,TransactionInstruction:()=>or,VALIDATOR_INFO_KEY:()=>ko,VOTE_PROGRAM_ID:()=>Po,ValidatorInfo:()=>To,VoteAccount:()=>xo,VoteAuthorizationLayout:()=>Lo,VoteInit:()=>Do,VoteInstruction:()=>Uo,VoteProgram:()=>No,clusterApiUrl:()=>Wo,sendAndConfirmRawTransaction:()=>Co,sendAndConfirmTransaction:()=>mr});var n=r(44967),o=r.n(n),i=r(3930),s=r(48744),a=r.n(s),u=r(68532),c=r.n(u),d=r(41025),l=r(25047),h=r(54338),f=r(85606),p=r(32908),m=r.n(p),g=r(91747),y=r.n(g),b=r(16348),w=r.n(b);const v=e=>i.Buffer.isBuffer(e)?e:e instanceof Uint8Array?i.Buffer.from(e.buffer,e.byteOffset,e.byteLength):i.Buffer.from(e);var _="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:{};function A(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var S={},k={},E=T;function T(e,t){if(!e)throw new Error(t||"Assertion failed")}T.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var P={exports:{}};"function"===typeof Object.create?P.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:P.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var I=E,x=P.exports;function O(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function B(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function M(e){return 1===e.length?"0"+e:e}function D(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}k.inherits=x,k.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),o=0;o<e.length;o+=2)r.push(parseInt(e[o]+e[o+1],16))}else for(var n=0,o=0;o<e.length;o++){var i=e.charCodeAt(o);i<128?r[n++]=i:i<2048?(r[n++]=i>>6|192,r[n++]=63&i|128):O(e,o)?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++o)),r[n++]=i>>18|240,r[n++]=i>>12&63|128,r[n++]=i>>6&63|128,r[n++]=63&i|128):(r[n++]=i>>12|224,r[n++]=i>>6&63|128,r[n++]=63&i|128)}else for(o=0;o<e.length;o++)r[o]=0|e[o];return r},k.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=M(e[r].toString(16));return t},k.htonl=B,k.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var o=e[n];"little"===t&&(o=B(o)),r+=D(o.toString(16))}return r},k.zero2=M,k.zero8=D,k.join32=function(e,t,r,n){var o=r-t;I(o%4===0);for(var i=new Array(o/4),s=0,a=t;s<i.length;s++,a+=4){var u;u="big"===n?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],i[s]=u>>>0}return i},k.split32=function(e,t){for(var r=new Array(4*e.length),n=0,o=0;n<e.length;n++,o+=4){var i=e[n];"big"===t?(r[o]=i>>>24,r[o+1]=i>>>16&255,r[o+2]=i>>>8&255,r[o+3]=255&i):(r[o+3]=i>>>24,r[o+2]=i>>>16&255,r[o+1]=i>>>8&255,r[o]=255&i)}return r},k.rotr32=function(e,t){return e>>>t|e<<32-t},k.rotl32=function(e,t){return e<<t|e>>>32-t},k.sum32=function(e,t){return e+t>>>0},k.sum32_3=function(e,t,r){return e+t+r>>>0},k.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},k.sum32_5=function(e,t,r,n,o){return e+t+r+n+o>>>0},k.sum64=function(e,t,r,n){var o=e[t],i=n+e[t+1]>>>0,s=(i<n?1:0)+r+o;e[t]=s>>>0,e[t+1]=i},k.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},k.sum64_lo=function(e,t,r,n){return t+n>>>0},k.sum64_4_hi=function(e,t,r,n,o,i,s,a){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+i>>>0)<i?1:0,e+r+o+s+(u+=(c=c+a>>>0)<a?1:0)>>>0},k.sum64_4_lo=function(e,t,r,n,o,i,s,a){return t+n+i+a>>>0},k.sum64_5_hi=function(e,t,r,n,o,i,s,a,u,c){var d=0,l=t;return d+=(l=l+n>>>0)<t?1:0,d+=(l=l+i>>>0)<i?1:0,d+=(l=l+a>>>0)<a?1:0,e+r+o+s+u+(d+=(l=l+c>>>0)<c?1:0)>>>0},k.sum64_5_lo=function(e,t,r,n,o,i,s,a,u,c){return t+n+i+a+c>>>0},k.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},k.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},k.shr64_hi=function(e,t,r){return e>>>r},k.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0};var U={},R=k,L=E;function N(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}U.BlockHash=N,N.prototype.update=function(e,t){if(e=R.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=R.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},N.prototype.digest=function(e){return this.update(this._pad()),L(null===this.pending),this._digest(e)},N.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var o=1;o<r;o++)n[o]=0;if(e<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)n[o++]=0;n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=e>>>24&255,n[o++]=e>>>16&255,n[o++]=e>>>8&255,n[o++]=255&e}else for(n[o++]=255&e,n[o++]=e>>>8&255,n[o++]=e>>>16&255,n[o++]=e>>>24&255,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,i=8;i<this.padLength;i++)n[o++]=0;return n};var C={},F={},W=k.rotr32;function z(e,t,r){return e&t^~e&r}function j(e,t,r){return e&t^e&r^t&r}function K(e,t,r){return e^t^r}F.ft_1=function(e,t,r,n){return 0===e?z(t,r,n):1===e||3===e?K(t,r,n):2===e?j(t,r,n):void 0},F.ch32=z,F.maj32=j,F.p32=K,F.s0_256=function(e){return W(e,2)^W(e,13)^W(e,22)},F.s1_256=function(e){return W(e,6)^W(e,11)^W(e,25)},F.g0_256=function(e){return W(e,7)^W(e,18)^e>>>3},F.g1_256=function(e){return W(e,17)^W(e,19)^e>>>10};var V=k,q=U,Z=F,H=V.rotl32,G=V.sum32,Q=V.sum32_5,X=Z.ft_1,J=q.BlockHash,Y=[1518500249,1859775393,2400959708,3395469782];function $(){if(!(this instanceof $))return new $;J.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}V.inherits($,J);var ee=$;$.blockSize=512,$.outSize=160,$.hmacStrength=80,$.padLength=64,$.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=H(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var o=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),d=Q(H(o,5),X(c,i,s,a),u,r[n],Y[c]);u=a,a=s,s=H(i,30),i=o,o=d}this.h[0]=G(this.h[0],o),this.h[1]=G(this.h[1],i),this.h[2]=G(this.h[2],s),this.h[3]=G(this.h[3],a),this.h[4]=G(this.h[4],u)},$.prototype._digest=function(e){return"hex"===e?V.toHex32(this.h,"big"):V.split32(this.h,"big")};var te=k,re=U,ne=F,oe=E,ie=te.sum32,se=te.sum32_4,ae=te.sum32_5,ue=ne.ch32,ce=ne.maj32,de=ne.s0_256,le=ne.s1_256,he=ne.g0_256,fe=ne.g1_256,pe=re.BlockHash,me=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ge(){if(!(this instanceof ge))return new ge;pe.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=me,this.W=new Array(64)}te.inherits(ge,pe);var ye=ge;ge.blockSize=512,ge.outSize=256,ge.hmacStrength=192,ge.padLength=64,ge.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=se(fe(r[n-2]),r[n-7],he(r[n-15]),r[n-16]);var o=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],d=this.h[6],l=this.h[7];for(oe(this.k.length===r.length),n=0;n<r.length;n++){var h=ae(l,le(u),ue(u,c,d),this.k[n],r[n]),f=ie(de(o),ce(o,i,s));l=d,d=c,c=u,u=ie(a,h),a=s,s=i,i=o,o=ie(h,f)}this.h[0]=ie(this.h[0],o),this.h[1]=ie(this.h[1],i),this.h[2]=ie(this.h[2],s),this.h[3]=ie(this.h[3],a),this.h[4]=ie(this.h[4],u),this.h[5]=ie(this.h[5],c),this.h[6]=ie(this.h[6],d),this.h[7]=ie(this.h[7],l)},ge.prototype._digest=function(e){return"hex"===e?te.toHex32(this.h,"big"):te.split32(this.h,"big")};var be=k,we=ye;function ve(){if(!(this instanceof ve))return new ve;we.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}be.inherits(ve,we);var _e=ve;ve.blockSize=512,ve.outSize=224,ve.hmacStrength=192,ve.padLength=64,ve.prototype._digest=function(e){return"hex"===e?be.toHex32(this.h.slice(0,7),"big"):be.split32(this.h.slice(0,7),"big")};var Ae=k,Se=U,ke=E,Ee=Ae.rotr64_hi,Te=Ae.rotr64_lo,Pe=Ae.shr64_hi,Ie=Ae.shr64_lo,xe=Ae.sum64,Oe=Ae.sum64_hi,Be=Ae.sum64_lo,Me=Ae.sum64_4_hi,De=Ae.sum64_4_lo,Ue=Ae.sum64_5_hi,Re=Ae.sum64_5_lo,Le=Se.BlockHash,Ne=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ce(){if(!(this instanceof Ce))return new Ce;Le.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Ne,this.W=new Array(160)}Ae.inherits(Ce,Le);var Fe=Ce;function We(e,t,r,n,o){var i=e&r^~e&o;return i<0&&(i+=4294967296),i}function ze(e,t,r,n,o,i){var s=t&n^~t&i;return s<0&&(s+=4294967296),s}function je(e,t,r,n,o){var i=e&r^e&o^r&o;return i<0&&(i+=4294967296),i}function Ke(e,t,r,n,o,i){var s=t&n^t&i^n&i;return s<0&&(s+=4294967296),s}function Ve(e,t){var r=Ee(e,t,28)^Ee(t,e,2)^Ee(t,e,7);return r<0&&(r+=4294967296),r}function qe(e,t){var r=Te(e,t,28)^Te(t,e,2)^Te(t,e,7);return r<0&&(r+=4294967296),r}function Ze(e,t){var r=Ee(e,t,14)^Ee(e,t,18)^Ee(t,e,9);return r<0&&(r+=4294967296),r}function He(e,t){var r=Te(e,t,14)^Te(e,t,18)^Te(t,e,9);return r<0&&(r+=4294967296),r}function Ge(e,t){var r=Ee(e,t,1)^Ee(e,t,8)^Pe(e,t,7);return r<0&&(r+=4294967296),r}function Qe(e,t){var r=Te(e,t,1)^Te(e,t,8)^Ie(e,t,7);return r<0&&(r+=4294967296),r}function Xe(e,t){var r=Ee(e,t,19)^Ee(t,e,29)^Pe(e,t,6);return r<0&&(r+=4294967296),r}function Je(e,t){var r=Te(e,t,19)^Te(t,e,29)^Ie(e,t,6);return r<0&&(r+=4294967296),r}Ce.blockSize=1024,Ce.outSize=512,Ce.hmacStrength=192,Ce.padLength=128,Ce.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var o=Xe(r[n-4],r[n-3]),i=Je(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=Ge(r[n-30],r[n-29]),c=Qe(r[n-30],r[n-29]),d=r[n-32],l=r[n-31];r[n]=Me(o,i,s,a,u,c,d,l),r[n+1]=De(o,i,s,a,u,c,d,l)}},Ce.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],o=this.h[1],i=this.h[2],s=this.h[3],a=this.h[4],u=this.h[5],c=this.h[6],d=this.h[7],l=this.h[8],h=this.h[9],f=this.h[10],p=this.h[11],m=this.h[12],g=this.h[13],y=this.h[14],b=this.h[15];ke(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var v=y,_=b,A=Ze(l,h),S=He(l,h),k=We(l,h,f,p,m),E=ze(l,h,f,p,m,g),T=this.k[w],P=this.k[w+1],I=r[w],x=r[w+1],O=Ue(v,_,A,S,k,E,T,P,I,x),B=Re(v,_,A,S,k,E,T,P,I,x);v=Ve(n,o),_=qe(n,o),A=je(n,o,i,s,a),S=Ke(n,o,i,s,a,u);var M=Oe(v,_,A,S),D=Be(v,_,A,S);y=m,b=g,m=f,g=p,f=l,p=h,l=Oe(c,d,O,B),h=Be(d,d,O,B),c=a,d=u,a=i,u=s,i=n,s=o,n=Oe(O,B,M,D),o=Be(O,B,M,D)}xe(this.h,0,n,o),xe(this.h,2,i,s),xe(this.h,4,a,u),xe(this.h,6,c,d),xe(this.h,8,l,h),xe(this.h,10,f,p),xe(this.h,12,m,g),xe(this.h,14,y,b)},Ce.prototype._digest=function(e){return"hex"===e?Ae.toHex32(this.h,"big"):Ae.split32(this.h,"big")};var Ye=k,$e=Fe;function et(){if(!(this instanceof et))return new et;$e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Ye.inherits(et,$e);var tt=et;et.blockSize=1024,et.outSize=384,et.hmacStrength=192,et.padLength=128,et.prototype._digest=function(e){return"hex"===e?Ye.toHex32(this.h.slice(0,12),"big"):Ye.split32(this.h.slice(0,12),"big")},C.sha1=ee,C.sha224=_e,C.sha256=ye,C.sha384=tt,C.sha512=Fe;var rt={},nt=k,ot=U,it=nt.rotl32,st=nt.sum32,at=nt.sum32_3,ut=nt.sum32_4,ct=ot.BlockHash;function dt(){if(!(this instanceof dt))return new dt;ct.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function lt(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function ht(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function ft(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}nt.inherits(dt,ct),rt.ripemd160=dt,dt.blockSize=512,dt.outSize=160,dt.hmacStrength=192,dt.padLength=64,dt.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],o=this.h[2],i=this.h[3],s=this.h[4],a=r,u=n,c=o,d=i,l=s,h=0;h<80;h++){var f=st(it(ut(r,lt(h,n,o,i),e[pt[h]+t],ht(h)),gt[h]),s);r=s,s=i,i=it(o,10),o=n,n=f,f=st(it(ut(a,lt(79-h,u,c,d),e[mt[h]+t],ft(h)),yt[h]),l),a=l,l=d,d=it(c,10),c=u,u=f}f=at(this.h[1],o,d),this.h[1]=at(this.h[2],i,l),this.h[2]=at(this.h[3],s,a),this.h[3]=at(this.h[4],r,u),this.h[4]=at(this.h[0],n,c),this.h[0]=f},dt.prototype._digest=function(e){return"hex"===e?nt.toHex32(this.h,"little"):nt.split32(this.h,"little")};var pt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],mt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],gt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],yt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],bt=k,wt=E;function vt(e,t,r){if(!(this instanceof vt))return new vt(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(bt.toArray(t,r))}var _t=vt;vt.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),wt(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},vt.prototype.update=function(e,t){return this.inner.update(e,t),this},vt.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=k,t.common=U,t.sha=C,t.ripemd=rt,t.hmac=_t,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(S);var At=S;let St=!1,kt=!1;const Et={debug:1,default:2,info:2,warning:3,error:4,off:5};let Tt=Et.default,Pt=null;const It=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var xt,Ot;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(xt||(xt={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Ot||(Ot={}));const Bt="0123456789abcdef";class Mt{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==Et[r]&&this.throwArgumentError("invalid log level name","logLevel",e),Tt>Et[r]||console.log.apply(console,t)}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Mt.levels.DEBUG,t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Mt.levels.INFO,t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Mt.levels.WARNING,t)}makeError(e,t,r){if(kt)return this.makeError("censored error",t,{});t||(t=Mt.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=Bt[t[e]>>4],r+=Bt[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const o=e;let i="";switch(t){case Ot.NUMERIC_FAULT:{i="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":i+="-"+t;break;case"negative-power":case"negative-width":i+="-unsupported";break;case"unbound-bitwise-result":i+="-unbound-result"}break}case Ot.CALL_EXCEPTION:case Ot.INSUFFICIENT_FUNDS:case Ot.MISSING_NEW:case Ot.NONCE_EXPIRED:case Ot.REPLACEMENT_UNDERPRICED:case Ot.TRANSACTION_REPLACED:case Ot.UNPREDICTABLE_GAS_LIMIT:i=t}i&&(e+=" [ See: https://links.ethers.org/v5-errors-"+i+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=o,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Mt.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){It&&this.throwError("platform missing String.prototype.normalize",Mt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:It})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Mt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Mt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Mt.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Mt.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Mt.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Mt.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Mt.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Pt||(Pt=new Mt("logger/5.6.0")),Pt}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Mt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),St){if(!e)return;this.globalLogger().throwError("error censorship permanent",Mt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}kt=!!e,St=!!t}static setLogLevel(e){const t=Et[e.toLowerCase()];null!=t?Tt=t:Mt.globalLogger().warn("invalid log level - "+e)}static from(e){return new Mt(e)}}Mt.errors=Ot,Mt.levels=xt;const Dt=new Mt("bytes/5.6.0");function Ut(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Ut(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Rt(e){return"number"===typeof e&&e==e&&e%1===0}function Lt(e,t){if(t||(t={}),"number"===typeof e){Dt.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Ut(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),function(e){return!!e.toHexString}(e)&&(e=e.toHexString()),function(e,t){if("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))return!1;if(t&&e.length!==2+2*t)return!1;return!0}(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0x0"+r.substring(2):"right"===t.hexPad?r+="0":Dt.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return Ut(new Uint8Array(n))}return function(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Rt(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!Rt(r)||r<0||r>=256)return!1}return!0}(e)?Ut(new Uint8Array(e)):Dt.throwArgumentError("invalid arrayify value","value",e)}function Nt(e){return"0x"+At.sha256().update(Lt(e)).digest("hex")}new Mt("sha2/5.6.0");class Ct{constructor(e){Object.assign(this,e)}encode(){return i.Buffer.from((0,d.serialize)(Wt,this))}static decode(e){return(0,d.deserialize)(Wt,this,e)}static decodeUnchecked(e){return(0,d.deserializeUnchecked)(Wt,this,e)}}class Ft extends Ct{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const Wt=new Map,zt=32;class jt extends Ct{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"===typeof e){const t=c().decode(e);if(32!=t.length)throw new Error("Invalid public key input");this._bn=new(a())(t)}else this._bn=new(a())(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(e){return this._bn.eq(e._bn)}toBase58(){return c().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(i.Buffer);if(32===e.length)return e;const t=i.Buffer.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const n=i.Buffer.concat([e.toBuffer(),i.Buffer.from(t),r.toBuffer()]),o=Nt(new Uint8Array(n)).slice(2);return new jt(i.Buffer.from(o,"hex"))}static async createProgramAddress(e,t){let r=i.Buffer.alloc(0);e.forEach((function(e){if(e.length>zt)throw new TypeError("Max seed length exceeded");r=i.Buffer.concat([r,v(e)])})),r=i.Buffer.concat([r,t.toBuffer(),i.Buffer.from("ProgramDerivedAddress")]);let n=Nt(new Uint8Array(r)).slice(2),o=new(a())(n,16).toArray(void 0,32);if(Vt(o))throw new Error("Invalid seeds, address must fall off the curve");return new jt(o)}static async findProgramAddress(e,t){let r,n=255;for(;0!=n;){try{const o=e.concat(i.Buffer.from([n]));r=await this.createProgramAddress(o,t)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static isOnCurve(e){return 1==Vt(e)}}jt.default=new jt("11111111111111111111111111111111"),Wt.set(jt,{kind:"struct",fields:[["_bn","u256"]]});let Kt=o().lowlevel;function Vt(e){var t=[Kt.gf(),Kt.gf(),Kt.gf(),Kt.gf()],r=Kt.gf(),n=Kt.gf(),o=Kt.gf(),i=Kt.gf(),s=Kt.gf(),a=Kt.gf(),u=Kt.gf();return Kt.set25519(t[2],qt),Kt.unpack25519(t[1],e),Kt.S(o,t[1]),Kt.M(i,o,Kt.D),Kt.Z(o,o,t[2]),Kt.A(i,t[2],i),Kt.S(s,i),Kt.S(a,s),Kt.M(u,a,s),Kt.M(r,u,o),Kt.M(r,r,i),Kt.pow2523(r,r),Kt.M(r,r,o),Kt.M(r,r,i),Kt.M(r,r,i),Kt.M(t[0],r,i),Kt.S(n,t[0]),Kt.M(n,n,i),Ht(n,o)&&Kt.M(t[0],t[0],Zt),Kt.S(n,t[0]),Kt.M(n,n,i),Ht(n,o)?0:1}let qt=Kt.gf([1]),Zt=Kt.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Ht(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return Kt.pack25519(r,e),Kt.pack25519(n,t),Kt.crypto_verify_32(r,0,n,0)}class Gt{constructor(e){this._keypair=void 0,this._keypair=e?o().sign.keyPair.fromSecretKey(v(e)):o().sign.keyPair()}get publicKey(){return new jt(this._keypair.publicKey)}get secretKey(){return v(this._keypair.secretKey)}}const Qt=new jt("BPFLoader1111111111111111111111111111111111"),Xt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return l.Ik(32,e)},Jt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";const t=l.n_([l.Jq("length"),l.Jq("lengthPadding"),l.Ik(l.cv(l.Jq(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),o=t;return o.decode=(e,t)=>r(e,t).chars.toString(),o.encode=(e,t,r)=>{const o={chars:i.Buffer.from(e,"utf8")};return n(o,t,r)},o.alloc=e=>l.Jq().span+l.Jq().span+i.Buffer.from(e,"utf8").length,o};function Yt(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function $t(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}class er{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new jt(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];$t(t,e);const r=this.instructions.map((e=>{const{accounts:t,programIdIndex:r}=e,n=Array.from(c().decode(e.data));let o=[];$t(o,t.length);let s=[];return $t(s,n.length),{programIdIndex:r,keyIndicesCount:i.Buffer.from(o),keyIndices:t,dataLength:i.Buffer.from(s),data:n}}));let n=[];$t(n,r.length);let o=i.Buffer.alloc(nr);i.Buffer.from(n).copy(o);let s=n.length;r.forEach((e=>{const t=l.n_([l.u8("programIdIndex"),l.Ik(e.keyIndicesCount.length,"keyIndicesCount"),l.A9(l.u8("keyIndex"),e.keyIndices.length,"keyIndices"),l.Ik(e.dataLength.length,"dataLength"),l.A9(l.u8("userdatum"),e.data.length,"data")]).encode(e,o,s);s+=t})),o=o.slice(0,s);const a=l.n_([l.Ik(1,"numRequiredSignatures"),l.Ik(1,"numReadonlySignedAccounts"),l.Ik(1,"numReadonlyUnsignedAccounts"),l.Ik(t.length,"keyCount"),l.A9(Xt("key"),e,"keys"),Xt("recentBlockhash")]),u={numRequiredSignatures:i.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:i.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:i.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:i.Buffer.from(t),keys:this.accountKeys.map((e=>v(e.toBytes()))),recentBlockhash:c().decode(this.recentBlockhash)};let d=i.Buffer.alloc(2048);const h=a.encode(u,d);return o.copy(d,h),d.slice(0,h+o.length)}static from(e){let t=[...e];const r=t.shift(),n=t.shift(),o=t.shift(),s=Yt(t);let a=[];for(let f=0;f<s;f++){const e=t.slice(0,32);t=t.slice(32),a.push(c().encode(i.Buffer.from(e)))}const u=t.slice(0,32);t=t.slice(32);const d=Yt(t);let l=[];for(let f=0;f<d;f++){const e=t.shift(),r=Yt(t),n=t.slice(0,r);t=t.slice(r);const o=Yt(t),s=t.slice(0,o),a=c().encode(i.Buffer.from(s));t=t.slice(o),l.push({programIdIndex:e,accounts:n,data:a})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:o},recentBlockhash:c().encode(i.Buffer.from(u)),accountKeys:a,instructions:l};return new er(h)}}function tr(e,t){if(!e)throw new Error(t||"Assertion failed")}const rr=i.Buffer.alloc(64).fill(0),nr=1232;class or{constructor(e){this.keys=void 0,this.programId=void 0,this.data=i.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}}class ir{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.nonceInfo=void 0,e&&Object.assign(this,e)}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No instructions");return t.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new or(e))})),this}compileMessage(){const{nonceInfo:e}=this;e&&this.instructions[0]!=e.nonceInstruction&&(this.recentBlockhash=e.nonce,this.instructions.unshift(e.nonceInstruction));const{recentBlockhash:t}=this;if(!t)throw new Error("Transaction recentBlockhash required");let r;if(this.instructions.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let c=0;c<this.instructions.length;c++)if(void 0===this.instructions[c].programId)throw new Error(`Transaction instruction index ${c} has undefined program id`);const n=[],o=[];this.instructions.forEach((e=>{e.keys.forEach((e=>{o.push({...e})}));const t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((e=>{o.push({pubkey:new jt(e),isSigner:!1,isWritable:!1})})),o.sort((function(e,t){const r=e.pubkey.toBase58().localeCompare(t.pubkey.toBase58()),n=e.isSigner===t.isSigner?0:e.isSigner?-1:1,o=e.isWritable===t.isWritable?r:e.isWritable?-1:1;return n||o}));const i=[];o.forEach((e=>{const t=e.pubkey.toString(),r=i.findIndex((e=>e.pubkey.toString()===t));r>-1?i[r].isWritable=i[r].isWritable||e.isWritable:i.push(e)}));const s=i.findIndex((e=>e.pubkey.equals(r)));if(s>-1){const[e]=i.splice(s,1);e.isSigner=!0,e.isWritable=!0,i.unshift(e)}else i.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const c of this.signatures){const e=i.findIndex((e=>e.pubkey.equals(c.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${c.publicKey.toString()}`);i[e].isSigner||(i[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,d=0;const l=[],h=[];i.forEach((e=>{let{pubkey:t,isSigner:r,isWritable:n}=e;r?(l.push(t.toString()),a+=1,n||(u+=1)):(h.push(t.toString()),n||(d+=1))}));const f=l.concat(h),p=this.instructions.map((e=>{const{data:t,programId:r}=e;return{programIdIndex:f.indexOf(r.toString()),accounts:e.keys.map((e=>f.indexOf(e.pubkey.toString()))),data:c().encode(t)}}));return p.forEach((e=>{tr(e.programIdIndex>=0),e.accounts.forEach((e=>tr(e>=0)))})),new er({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:d},accountKeys:f,recentBlockhash:t,instructions:p})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,r)=>t[r].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set;this.signatures=t.filter((e=>{const t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((e=>({signature:null,publicKey:e})))}sign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,o=[];for(const s of t){const e=s.publicKey.toString();n.has(e)||(n.add(e),o.push(s))}this.signatures=o.map((e=>({signature:null,publicKey:e.publicKey})));const i=this._compile();this._partialSign(i,...o),this._verifySignatures(i.serialize(),!0)}partialSign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,o=[];for(const s of t){const e=s.publicKey.toString();n.has(e)||(n.add(e),o.push(s))}const i=this._compile();this._partialSign(i,...o)}_partialSign(e){const t=e.serialize();for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];n.forEach((e=>{const r=o().sign.detached(t,e.secretKey);this._addSignature(e.publicKey,v(r))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){tr(64===t.length);const r=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=i.Buffer.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(t)return!1}else if(!o().sign.detached.verify(e,r,n.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r&&!this._verifySignatures(n,t))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];$t(r,t.length);const n=r.length+64*t.length+e.length,o=i.Buffer.alloc(n);return tr(t.length<256),i.Buffer.from(r).copy(o,0),t.forEach(((e,t)=>{let{signature:n}=e;null!==n&&(tr(64===n.length,"signature has invalid length"),i.Buffer.from(n).copy(o,r.length+64*t))})),e.copy(o,r.length+64*t.length),tr(o.length<=nr,`Transaction too large: ${o.length} > ${nr}`),o}get keys(){return tr(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return tr(1===this.instructions.length),this.instructions[0].programId}get data(){return tr(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const r=Yt(t);let n=[];for(let o=0;o<r;o++){const e=t.slice(0,64);t=t.slice(64),n.push(c().encode(i.Buffer.from(e)))}return ir.populate(er.from(t),n)}static populate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=new ir;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach(((t,n)=>{const o={signature:t==c().encode(rr)?null:c().decode(t),publicKey:e.accountKeys[n]};r.signatures.push(o)})),e.instructions.forEach((t=>{const n=t.accounts.map((t=>{const n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some((e=>e.publicKey.toString()===n.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));r.instructions.push(new or({keys:n,programId:e.accountKeys[t.programIdIndex],data:c().decode(t.data)}))})),r}}const sr=new jt("SysvarC1ock11111111111111111111111111111111"),ar=new jt("SysvarEpochSchedu1e111111111111111111111111"),ur=new jt("Sysvar1nstructions1111111111111111111111111"),cr=new jt("SysvarRecentB1ockHashes11111111111111111111"),dr=new jt("SysvarRent111111111111111111111111111111111"),lr=new jt("SysvarRewards111111111111111111111111111111"),hr=new jt("SysvarS1otHashes111111111111111111111111111"),fr=new jt("SysvarS1otHistory11111111111111111111111111"),pr=new jt("SysvarStakeHistory1111111111111111111111111");async function mr(e,t,r,n){const o=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries},i=await e.sendTransaction(t,r,o),s=(await e.confirmTransaction(i,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${i} failed (${JSON.stringify(s)})`);return i}function gr(e){return new Promise((t=>setTimeout(t,e)))}function yr(e,t){const r=e.layout.span>=0?e.layout.span:function(e,t){let r=0;return e.layout.fields.forEach((e=>{e.span>=0?r+=e.span:"function"===typeof e.alloc&&(r+=e.alloc(t[e.property]))})),r}(e,t),n=i.Buffer.alloc(r),o=Object.assign({instruction:e.index},t);return e.layout.encode(o,n),n}function br(e,t){let r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${e.index}`);return r}const wr=l._O("lamportsPerSignature"),vr=l.n_([l.Jq("version"),l.Jq("state"),Xt("authorizedPubkey"),Xt("nonce"),l.n_([wr],"feeCalculator")]),_r=vr.span;class Ar{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=vr.decode(v(e),0);return new Ar({authorizedPubkey:new jt(t.authorizedPubkey),nonce:new jt(t.nonce).toString(),feeCalculator:t.feeCalculator})}}class Sr{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=l.Jq("instruction").decode(e.data);let r;for(const[n,o]of Object.entries(kr))if(o.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a SystemInstruction");return r}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:n}=br(kr.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new jt(n)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=br(kr.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:n}=br(kr.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new jt(n)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=br(kr.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:n,programId:o}=br(kr.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new jt(t),seed:r,space:n,programId:new jt(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=br(kr.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new jt(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:n}=br(kr.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new jt(t),seed:r,programId:new jt(n)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:n,space:o,programId:i}=br(kr.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new jt(t),seed:r,lamports:n,space:o,programId:new jt(i)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=br(kr.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new jt(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),br(kr.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=br(kr.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=br(kr.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new jt(t)}}static checkProgramId(e){if(!e.equals(Er.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const kr=Object.freeze({Create:{index:0,layout:l.n_([l.Jq("instruction"),l.gM("lamports"),l.gM("space"),Xt("programId")])},Assign:{index:1,layout:l.n_([l.Jq("instruction"),Xt("programId")])},Transfer:{index:2,layout:l.n_([l.Jq("instruction"),l.gM("lamports")])},CreateWithSeed:{index:3,layout:l.n_([l.Jq("instruction"),Xt("base"),Jt("seed"),l.gM("lamports"),l.gM("space"),Xt("programId")])},AdvanceNonceAccount:{index:4,layout:l.n_([l.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:l.n_([l.Jq("instruction"),l.gM("lamports")])},InitializeNonceAccount:{index:6,layout:l.n_([l.Jq("instruction"),Xt("authorized")])},AuthorizeNonceAccount:{index:7,layout:l.n_([l.Jq("instruction"),Xt("authorized")])},Allocate:{index:8,layout:l.n_([l.Jq("instruction"),l.gM("space")])},AllocateWithSeed:{index:9,layout:l.n_([l.Jq("instruction"),Xt("base"),Jt("seed"),l.gM("space"),Xt("programId")])},AssignWithSeed:{index:10,layout:l.n_([l.Jq("instruction"),Xt("base"),Jt("seed"),Xt("programId")])},TransferWithSeed:{index:11,layout:l.n_([l.Jq("instruction"),l.gM("lamports"),Jt("seed"),Xt("programId")])}});class Er{constructor(){}static createAccount(e){const t=yr(kr.Create,{lamports:e.lamports,space:e.space,programId:v(e.programId.toBuffer())});return new or({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;if("basePubkey"in e){t=yr(kr.TransferWithSeed,{lamports:e.lamports,seed:e.seed,programId:v(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=yr(kr.Transfer,{lamports:e.lamports}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new or({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){t=yr(kr.AssignWithSeed,{base:v(e.basePubkey.toBuffer()),seed:e.seed,programId:v(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=yr(kr.Assign,{programId:v(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new or({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=yr(kr.CreateWithSeed,{base:v(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:v(e.programId.toBuffer())});let r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new or({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){const t=new ir;"basePubkey"in e&&"seed"in e?t.add(Er.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:_r,programId:this.programId})):t.add(Er.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:_r,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=yr(kr.InitializeNonceAccount,{authorized:v(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:dr,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new or(r)}static nonceAdvance(e){const t=yr(kr.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new or(r)}static nonceWithdraw(e){const t=yr(kr.WithdrawNonceAccount,{lamports:e.lamports});return new or({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:dr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=yr(kr.AuthorizeNonceAccount,{authorized:v(e.newAuthorizedPubkey.toBuffer())});return new or({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;if("basePubkey"in e){t=yr(kr.AllocateWithSeed,{base:v(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:v(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=yr(kr.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new or({keys:r,programId:this.programId,data:t})}}Er.programId=new jt("11111111111111111111111111111111");const Tr=nr-300;class Pr{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Pr.chunkSize)+1+1)}static async load(e,t,r,n,o){{const i=await e.getMinimumBalanceForRentExemption(o.length),s=await e.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==o.length&&(a=a||new ir,a.add(Er.allocate({accountPubkey:r.publicKey,space:o.length}))),s.owner.equals(n)||(a=a||new ir,a.add(Er.assign({accountPubkey:r.publicKey,programId:n}))),s.lamports<i&&(a=a||new ir,a.add(Er.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:i-s.lamports})))}else a=(new ir).add(Er.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:i>0?i:1,space:o.length,programId:n}));null!==a&&await mr(e,a,[t,r],{commitment:"confirmed"})}const s=l.n_([l.Jq("instruction"),l.Jq("offset"),l.Jq("bytesLength"),l.Jq("bytesLengthPadding"),l.A9(l.u8("byte"),l.cv(l.Jq(),-8),"bytes")]),a=Pr.chunkSize;let u=0,c=o,d=[];for(;c.length>0;){const o=c.slice(0,a),l=i.Buffer.alloc(a+16);s.encode({instruction:0,offset:u,bytes:o,bytesLength:0,bytesLengthPadding:0},l);const h=(new ir).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:l});if(d.push(mr(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await gr(1e3/e)}u+=a,c=c.slice(a)}await Promise.all(d);{const o=l.n_([l.Jq("instruction")]),s=i.Buffer.alloc(o.span);o.encode({instruction:1},s);const a=(new ir).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:dr,isSigner:!1,isWritable:!1}],programId:n,data:s});await mr(e,a,[t,r],{commitment:"confirmed"})}return!0}}Pr.chunkSize=Tr;const Ir=new jt("BPFLoader2111111111111111111111111111111111");class xr{static getMinNumSignatures(e){return Pr.getMinNumSignatures(e)}static load(e,t,r,n,o){return Pr.load(e,t,r,o,n)}}var Or={exports:{}};!function(e,t){var r="undefined"!==typeof self?self:_,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!==typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function m(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=p(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=d(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=d(t)},h.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),l(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),l(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var r=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=function(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function _(e){var t=new h;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t}function A(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},A.error=function(){var e=new A(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];A.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new A(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(E){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,r){return new Promise((function(n,i){var s=new w(e,r);if(s.signal&&s.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:_(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;n(new A(t,e))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=h,e.Request=w,e.Response=A),t.Headers=h,t.Request=w,t.Response=A,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t}(Or,Or.exports);var Br=A(Or.exports);function Mr(e){let t=0;for(;e>1;)e/=2,t++;return t}class Dr{constructor(e,t,r,n,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=Mr(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-Mr(32)-1;return[r,e-(this.getSlotsInEpoch(r)-32)]}{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+r,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Mr(32)):this.slotsPerEpoch}}class Ur extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const Rr=(0,h.oQ)((0,h.eE)(jt),(0,h.Z_)(),(e=>new jt(e))),Lr=(0,h.bc)([(0,h.Z_)(),(0,h.i0)("base64")]),Nr=(0,h.oQ)((0,h.eE)(i.Buffer),Lr,(e=>i.Buffer.from(e[0],"base64"))),Cr=3e4;function Fr(e){return(0,h.G0)([(0,h.dt)({jsonrpc:(0,h.i0)("2.0"),id:(0,h.Z_)(),result:e}),(0,h.dt)({jsonrpc:(0,h.i0)("2.0"),id:(0,h.Z_)(),error:(0,h.dt)({code:(0,h._4)(),message:(0,h.Z_)(),data:(0,h.jt)((0,h.Yj)())})})])}const Wr=Fr((0,h._4)());function zr(e){return(0,h.oQ)(Fr(e),Wr,(t=>"error"in t?t:{...t,result:(0,h.Ue)(t.result,e)}))}function jr(e){return zr((0,h.dt)({context:(0,h.dt)({slot:(0,h.Rx)()}),value:e}))}function Kr(e){return(0,h.dt)({context:(0,h.dt)({slot:(0,h.Rx)()}),value:e})}const Vr=(0,h.dt)({foundation:(0,h.Rx)(),foundationTerm:(0,h.Rx)(),initial:(0,h.Rx)(),taper:(0,h.Rx)(),terminal:(0,h.Rx)()}),qr=zr((0,h.IX)((0,h.AG)((0,h.dt)({epoch:(0,h.Rx)(),effectiveSlot:(0,h.Rx)(),amount:(0,h.Rx)(),postBalance:(0,h.Rx)()})))),Zr=(0,h.dt)({epoch:(0,h.Rx)(),slotIndex:(0,h.Rx)(),slotsInEpoch:(0,h.Rx)(),absoluteSlot:(0,h.Rx)(),blockHeight:(0,h.jt)((0,h.Rx)()),transactionCount:(0,h.jt)((0,h.Rx)())}),Hr=(0,h.dt)({slotsPerEpoch:(0,h.Rx)(),leaderScheduleSlotOffset:(0,h.Rx)(),warmup:(0,h.O7)(),firstNormalEpoch:(0,h.Rx)(),firstNormalSlot:(0,h.Rx)()}),Gr=(0,h.IM)((0,h.Z_)(),(0,h.IX)((0,h.Rx)())),Qr=(0,h.AG)((0,h.G0)([(0,h.dt)({}),(0,h.Z_)()])),Xr=(0,h.dt)({err:Qr}),Jr=(0,h.i0)("receivedSignature"),Yr=(0,h.dt)({"solana-core":(0,h.Z_)(),"feature-set":(0,h.jt)((0,h.Rx)())}),$r=jr((0,h.dt)({err:(0,h.AG)((0,h.G0)([(0,h.dt)({}),(0,h.Z_)()])),logs:(0,h.AG)((0,h.IX)((0,h.Z_)())),accounts:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.AG)((0,h.dt)({executable:(0,h.O7)(),owner:(0,h.Z_)(),lamports:(0,h.Rx)(),data:(0,h.IX)((0,h.Z_)()),rentEpoch:(0,h.jt)((0,h.Rx)())}))))),unitsConsumed:(0,h.jt)((0,h.Rx)())})),en=jr((0,h.dt)({byIdentity:(0,h.IM)((0,h.Z_)(),(0,h.IX)((0,h.Rx)())),range:(0,h.dt)({firstSlot:(0,h.Rx)(),lastSlot:(0,h.Rx)()})}));const tn=zr(Vr),rn=zr(Zr),nn=zr(Hr),on=zr(Gr),sn=zr((0,h.Rx)()),an=jr((0,h.dt)({total:(0,h.Rx)(),circulating:(0,h.Rx)(),nonCirculating:(0,h.Rx)(),nonCirculatingAccounts:(0,h.IX)(Rr)})),un=(0,h.dt)({amount:(0,h.Z_)(),uiAmount:(0,h.AG)((0,h.Rx)()),decimals:(0,h.Rx)(),uiAmountString:(0,h.jt)((0,h.Z_)())}),cn=jr((0,h.IX)((0,h.dt)({address:Rr,amount:(0,h.Z_)(),uiAmount:(0,h.AG)((0,h.Rx)()),decimals:(0,h.Rx)(),uiAmountString:(0,h.jt)((0,h.Z_)())}))),dn=jr((0,h.IX)((0,h.dt)({pubkey:Rr,account:(0,h.dt)({executable:(0,h.O7)(),owner:Rr,lamports:(0,h.Rx)(),data:Nr,rentEpoch:(0,h.Rx)()})}))),ln=(0,h.dt)({program:(0,h.Z_)(),parsed:(0,h._4)(),space:(0,h.Rx)()}),hn=jr((0,h.IX)((0,h.dt)({pubkey:Rr,account:(0,h.dt)({executable:(0,h.O7)(),owner:Rr,lamports:(0,h.Rx)(),data:ln,rentEpoch:(0,h.Rx)()})}))),fn=jr((0,h.IX)((0,h.dt)({lamports:(0,h.Rx)(),address:Rr}))),pn=(0,h.dt)({executable:(0,h.O7)(),owner:Rr,lamports:(0,h.Rx)(),data:Nr,rentEpoch:(0,h.Rx)()}),mn=(0,h.dt)({pubkey:Rr,account:pn}),gn=(0,h.oQ)((0,h.G0)([(0,h.eE)(i.Buffer),ln]),(0,h.G0)([Lr,ln]),(e=>Array.isArray(e)?(0,h.Ue)(e,Nr):e)),yn=(0,h.dt)({executable:(0,h.O7)(),owner:Rr,lamports:(0,h.Rx)(),data:gn,rentEpoch:(0,h.Rx)()}),bn=(0,h.dt)({pubkey:Rr,account:yn}),wn=(0,h.dt)({state:(0,h.G0)([(0,h.i0)("active"),(0,h.i0)("inactive"),(0,h.i0)("activating"),(0,h.i0)("deactivating")]),active:(0,h.Rx)(),inactive:(0,h.Rx)()}),vn=zr((0,h.IX)((0,h.dt)({signature:(0,h.Z_)(),slot:(0,h.Rx)(),err:Qr,memo:(0,h.AG)((0,h.Z_)()),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),_n=zr((0,h.IX)((0,h.dt)({signature:(0,h.Z_)(),slot:(0,h.Rx)(),err:Qr,memo:(0,h.AG)((0,h.Z_)()),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),An=(0,h.dt)({subscription:(0,h.Rx)(),result:Kr(pn)}),Sn=(0,h.dt)({pubkey:Rr,account:pn}),kn=(0,h.dt)({subscription:(0,h.Rx)(),result:Kr(Sn)}),En=(0,h.dt)({parent:(0,h.Rx)(),slot:(0,h.Rx)(),root:(0,h.Rx)()}),Tn=(0,h.dt)({subscription:(0,h.Rx)(),result:En}),Pn=(0,h.G0)([(0,h.dt)({type:(0,h.G0)([(0,h.i0)("firstShredReceived"),(0,h.i0)("completed"),(0,h.i0)("optimisticConfirmation"),(0,h.i0)("root")]),slot:(0,h.Rx)(),timestamp:(0,h.Rx)()}),(0,h.dt)({type:(0,h.i0)("createdBank"),parent:(0,h.Rx)(),slot:(0,h.Rx)(),timestamp:(0,h.Rx)()}),(0,h.dt)({type:(0,h.i0)("frozen"),slot:(0,h.Rx)(),timestamp:(0,h.Rx)(),stats:(0,h.dt)({numTransactionEntries:(0,h.Rx)(),numSuccessfulTransactions:(0,h.Rx)(),numFailedTransactions:(0,h.Rx)(),maxTransactionsPerEntry:(0,h.Rx)()})}),(0,h.dt)({type:(0,h.i0)("dead"),slot:(0,h.Rx)(),timestamp:(0,h.Rx)(),err:(0,h.Z_)()})]),In=(0,h.dt)({subscription:(0,h.Rx)(),result:Pn}),xn=(0,h.dt)({subscription:(0,h.Rx)(),result:Kr((0,h.G0)([Xr,Jr]))}),On=(0,h.dt)({subscription:(0,h.Rx)(),result:(0,h.Rx)()}),Bn=(0,h.dt)({pubkey:(0,h.Z_)(),gossip:(0,h.AG)((0,h.Z_)()),tpu:(0,h.AG)((0,h.Z_)()),rpc:(0,h.AG)((0,h.Z_)()),version:(0,h.AG)((0,h.Z_)())}),Mn=(0,h.dt)({votePubkey:(0,h.Z_)(),nodePubkey:(0,h.Z_)(),activatedStake:(0,h.Rx)(),epochVoteAccount:(0,h.O7)(),epochCredits:(0,h.IX)((0,h.bc)([(0,h.Rx)(),(0,h.Rx)(),(0,h.Rx)()])),commission:(0,h.Rx)(),lastVote:(0,h.Rx)(),rootSlot:(0,h.AG)((0,h.Rx)())}),Dn=zr((0,h.dt)({current:(0,h.IX)(Mn),delinquent:(0,h.IX)(Mn)})),Un=(0,h.G0)([(0,h.i0)("processed"),(0,h.i0)("confirmed"),(0,h.i0)("finalized")]),Rn=(0,h.dt)({slot:(0,h.Rx)(),confirmations:(0,h.AG)((0,h.Rx)()),err:Qr,confirmationStatus:(0,h.jt)(Un)}),Ln=jr((0,h.IX)((0,h.AG)(Rn))),Nn=zr((0,h.Rx)()),Cn=(0,h.dt)({signatures:(0,h.IX)((0,h.Z_)()),message:(0,h.dt)({accountKeys:(0,h.IX)((0,h.Z_)()),header:(0,h.dt)({numRequiredSignatures:(0,h.Rx)(),numReadonlySignedAccounts:(0,h.Rx)(),numReadonlyUnsignedAccounts:(0,h.Rx)()}),instructions:(0,h.IX)((0,h.dt)({accounts:(0,h.IX)((0,h.Rx)()),data:(0,h.Z_)(),programIdIndex:(0,h.Rx)()})),recentBlockhash:(0,h.Z_)()})}),Fn=(0,h.dt)({parsed:(0,h._4)(),program:(0,h.Z_)(),programId:Rr}),Wn=(0,h.dt)({accounts:(0,h.IX)(Rr),data:(0,h.Z_)(),programId:Rr}),zn=(0,h.G0)([Wn,Fn]),jn=(0,h.G0)([(0,h.dt)({parsed:(0,h._4)(),program:(0,h.Z_)(),programId:(0,h.Z_)()}),(0,h.dt)({accounts:(0,h.IX)((0,h.Z_)()),data:(0,h.Z_)(),programId:(0,h.Z_)()})]),Kn=(0,h.oQ)(zn,jn,(e=>"accounts"in e?(0,h.Ue)(e,Wn):(0,h.Ue)(e,Fn))),Vn=(0,h.dt)({signatures:(0,h.IX)((0,h.Z_)()),message:(0,h.dt)({accountKeys:(0,h.IX)((0,h.dt)({pubkey:Rr,signer:(0,h.O7)(),writable:(0,h.O7)()})),instructions:(0,h.IX)(Kn),recentBlockhash:(0,h.Z_)()})}),qn=(0,h.dt)({accountIndex:(0,h.Rx)(),mint:(0,h.Z_)(),owner:(0,h.jt)((0,h.Z_)()),uiTokenAmount:un}),Zn=(0,h.dt)({err:Qr,fee:(0,h.Rx)(),innerInstructions:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.dt)({index:(0,h.Rx)(),instructions:(0,h.IX)((0,h.dt)({accounts:(0,h.IX)((0,h.Rx)()),data:(0,h.Z_)(),programIdIndex:(0,h.Rx)()}))})))),preBalances:(0,h.IX)((0,h.Rx)()),postBalances:(0,h.IX)((0,h.Rx)()),logMessages:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.Z_)()))),preTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(qn))),postTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(qn)))}),Hn=(0,h.dt)({err:Qr,fee:(0,h.Rx)(),innerInstructions:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.dt)({index:(0,h.Rx)(),instructions:(0,h.IX)(Kn)})))),preBalances:(0,h.IX)((0,h.Rx)()),postBalances:(0,h.IX)((0,h.Rx)()),logMessages:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.Z_)()))),preTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(qn))),postTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(qn)))}),Gn=zr((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),transactions:(0,h.IX)((0,h.dt)({transaction:Cn,meta:(0,h.AG)(Zn)})),rewards:(0,h.jt)((0,h.IX)((0,h.dt)({pubkey:(0,h.Z_)(),lamports:(0,h.Rx)(),postBalance:(0,h.AG)((0,h.Rx)()),rewardType:(0,h.AG)((0,h.Z_)())}))),blockTime:(0,h.AG)((0,h.Rx)()),blockHeight:(0,h.AG)((0,h.Rx)())}))),Qn=zr((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),transactions:(0,h.IX)((0,h.dt)({transaction:Cn,meta:(0,h.AG)(Zn)})),rewards:(0,h.jt)((0,h.IX)((0,h.dt)({pubkey:(0,h.Z_)(),lamports:(0,h.Rx)(),postBalance:(0,h.AG)((0,h.Rx)()),rewardType:(0,h.AG)((0,h.Z_)())}))),blockTime:(0,h.AG)((0,h.Rx)())}))),Xn=zr((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),signatures:(0,h.IX)((0,h.Z_)()),blockTime:(0,h.AG)((0,h.Rx)())}))),Jn=zr((0,h.AG)((0,h.dt)({slot:(0,h.Rx)(),meta:Zn,blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)())),transaction:Cn}))),Yn=zr((0,h.AG)((0,h.dt)({slot:(0,h.Rx)(),transaction:Vn,meta:(0,h.AG)(Hn),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),$n=jr((0,h.dt)({blockhash:(0,h.Z_)(),feeCalculator:(0,h.dt)({lamportsPerSignature:(0,h.Rx)()})})),eo=jr((0,h.dt)({blockhash:(0,h.Z_)(),lastValidBlockHeight:(0,h.Rx)()})),to=(0,h.dt)({slot:(0,h.Rx)(),numTransactions:(0,h.Rx)(),numSlots:(0,h.Rx)(),samplePeriodSecs:(0,h.Rx)()}),ro=zr((0,h.IX)(to)),no=jr((0,h.AG)((0,h.dt)({feeCalculator:(0,h.dt)({lamportsPerSignature:(0,h.Rx)()})}))),oo=zr((0,h.Z_)()),io=zr((0,h.Z_)()),so=(0,h.dt)({err:Qr,logs:(0,h.IX)((0,h.Z_)()),signature:(0,h.Z_)()}),ao=(0,h.dt)({result:Kr(so),subscription:(0,h.Rx)()});class uo{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={recentBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._accountChangeSubscriptionCounter=0,this._accountChangeSubscriptions={},this._programAccountChangeSubscriptionCounter=0,this._programAccountChangeSubscriptions={},this._rootSubscriptionCounter=0,this._rootSubscriptions={},this._signatureSubscriptionCounter=0,this._signatureSubscriptions={},this._slotSubscriptionCounter=0,this._slotSubscriptions={},this._logsSubscriptionCounter=0,this._logsSubscriptions={},this._slotUpdateSubscriptionCounter=0,this._slotUpdateSubscriptions={};let r=new URL(e);r.protocol;let n,o,i,s;var a;t&&"string"===typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,o=t.httpHeaders,i=t.fetchMiddleware,s=t.disableRetryOnRateLimit),this._rpcEndpoint=e,this._rpcWsEndpoint=n||function(e){let t=new URL(e);const r="https:"===t.protocol;return t.protocol=r?"wss:":"ws:",t.host="",""!==t.port&&(t.port=String(Number(t.port)+1)),t.toString()}(e),this._rpcClient=function(e,t,r,n,o){let i;return n&&(i=async(e,t)=>{const r=await new Promise(((r,o)=>{try{n(e,t,((e,t)=>r([e,t])))}catch(i){o(i)}}));return await Br(...r)}),new(m())((async(t,n)=>{const s={method:"POST",body:t,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},r||{})};try{let t,r=5,a=500;for(;t=i?await i(e,s):await Br(e,s),429===t.status&&!0!==o&&(r-=1,0!==r);)console.log(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${a}ms delay...`),await gr(a),a*=2;const u=await t.text();t.ok?n(null,u):n(new Error(`${t.status} ${t.statusText}: ${u}`))}catch(a){a instanceof Error&&n(a)}}),{})}(r.toString(),0,o,i,s),this._rpcRequest=(a=this._rpcClient,(e,t)=>new Promise(((r,n)=>{a.request(e,t,((e,t)=>{e?n(e):r(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((r,n)=>{0===t.length&&r([]);const o=t.map((t=>e.request(t.methodName,t.args)));e.request(o,((e,t)=>{e?n(e):r(t)}))}))}(this._rpcClient),this._rpcWebSocket=new f.K(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getBalance",r),o=(0,h.Ue)(n,jr((0,h.Rx)()));if("error"in o)throw new Error("failed to get balance for "+e.toBase58()+": "+o.error.message);return o.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=(0,h.Ue)(t,zr((0,h.AG)((0,h.Rx)())));if("error"in r)throw new Error("failed to get block time for slot "+e+": "+r.error.message);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=(0,h.Ue)(e,zr((0,h.Rx)()));if("error"in t)throw new Error("failed to get minimum ledger slot: "+t.error.message);return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=(0,h.Ue)(e,sn);if("error"in t)throw new Error("failed to get first available block: "+t.error.message);return t.result}async getSupply(e){let t={};t="string"===typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),n=(0,h.Ue)(r,an);if("error"in n)throw new Error("failed to get supply: "+n.error.message);return n.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenSupply",r),o=(0,h.Ue)(n,jr(un));if("error"in o)throw new Error("failed to get token supply: "+o.error.message);return o.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenAccountBalance",r),o=(0,h.Ue)(n,jr(un));if("error"in o)throw new Error("failed to get token account balance: "+o.error.message);return o.result}async getTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});const o=this._buildArgs(n,r,"base64"),i=await this._rpcRequest("getTokenAccountsByOwner",o),s=(0,h.Ue)(i,dn);if("error"in s)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+s.error.message);return s.result}async getParsedTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});const o=this._buildArgs(n,r,"jsonParsed"),i=await this._rpcRequest("getTokenAccountsByOwner",o),s=(0,h.Ue)(i,hn);if("error"in s)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+s.error.message);return s.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],n=await this._rpcRequest("getLargestAccounts",r),o=(0,h.Ue)(n,fn);if("error"in o)throw new Error("failed to get largest accounts: "+o.error.message);return o.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenLargestAccounts",r),o=(0,h.Ue)(n,cn);if("error"in o)throw new Error("failed to get token largest accounts: "+o.error.message);return o.result}async getAccountInfoAndContext(e,t){const r=this._buildArgs([e.toBase58()],t,"base64"),n=await this._rpcRequest("getAccountInfo",r),o=(0,h.Ue)(n,jr((0,h.AG)(pn)));if("error"in o)throw new Error("failed to get info about account "+e.toBase58()+": "+o.error.message);return o.result}async getParsedAccountInfo(e,t){const r=this._buildArgs([e.toBase58()],t,"jsonParsed"),n=await this._rpcRequest("getAccountInfo",r),o=(0,h.Ue)(n,jr((0,h.AG)(yn)));if("error"in o)throw new Error("failed to get info about account "+e.toBase58()+": "+o.error.message);return o.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleAccountsInfoAndContext(e,t){const r=e.map((e=>e.toBase58())),n=this._buildArgs([r],t,"base64"),o=await this._rpcRequest("getMultipleAccounts",n),i=(0,h.Ue)(o,jr((0,h.IX)((0,h.AG)(pn))));if("error"in i)throw new Error("failed to get info for accounts "+r+": "+i.error.message);return i.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const n=this._buildArgs([e.toBase58()],t,void 0,void 0!==r?{epoch:r}:void 0),o=await this._rpcRequest("getStakeActivation",n),i=(0,h.Ue)(o,zr(wn));if("error"in i)throw new Error(`failed to get Stake Activation ${e.toBase58()}: ${i.error.message}`);return i.result}async getProgramAccounts(e,t){const r={};let n,o;t&&("string"===typeof t?n=t:(n=t.commitment,o=t.encoding,t.dataSlice&&(r.dataSlice=t.dataSlice),t.filters&&(r.filters=t.filters)));const i=this._buildArgs([e.toBase58()],n,o||"base64",r),s=await this._rpcRequest("getProgramAccounts",i),a=(0,h.Ue)(s,zr((0,h.IX)(mn)));if("error"in a)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+a.error.message);return a.result}async getParsedProgramAccounts(e,t){const r={};let n;t&&("string"===typeof t?n=t:(n=t.commitment,t.filters&&(r.filters=t.filters)));const o=this._buildArgs([e.toBase58()],n,"jsonParsed",r),i=await this._rpcRequest("getProgramAccounts",o),s=(0,h.Ue)(i,zr((0,h.IX)(bn)));if("error"in s)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+s.error.message);return s.result}async confirmTransaction(e,t){let r;try{r=c().decode(e)}catch(d){throw new Error("signature must be base58 encoded: "+e)}tr(64===r.length,"signature has invalid length");const n=Date.now(),o=t||this.commitment;let i,s=null;const a=new Promise(((t,r)=>{try{i=this.onSignature(e,((e,r)=>{i=void 0,s={context:r,value:e},t(null)}),o)}catch(d){r(d)}}));let u=this._confirmTransactionInitialTimeout||6e4;switch(o){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":u=this._confirmTransactionInitialTimeout||3e4}try{await function(e,t){let r;const n=new Promise((e=>{r=setTimeout((()=>e(null)),t)}));return Promise.race([e,n]).then((e=>(clearTimeout(r),e)))}(a,u)}finally{i&&this.removeSignatureListener(i)}if(null===s){const t=(Date.now()-n)/1e3;throw new Error(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`)}return s}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=(0,h.Ue)(e,zr((0,h.IX)(Bn)));if("error"in t)throw new Error("failed to get cluster nodes: "+t.error.message);return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),n=(0,h.Ue)(r,Dn);if("error"in n)throw new Error("failed to get vote accounts: "+n.error.message);return n.result}async getSlot(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getSlot",t),n=(0,h.Ue)(r,zr((0,h.Rx)()));if("error"in n)throw new Error("failed to get slot: "+n.error.message);return n.result}async getSlotLeader(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getSlotLeader",t),n=(0,h.Ue)(r,zr((0,h.Z_)()));if("error"in n)throw new Error("failed to get slot leader: "+n.error.message);return n.result}async getSlotLeaders(e,t){const r=[e,t],n=await this._rpcRequest("getSlotLeaders",r),o=(0,h.Ue)(n,zr((0,h.IX)(Rr)));if("error"in o)throw new Error("failed to get slot leaders: "+o.error.message);return o.result}async getSignatureStatus(e,t){const{context:r,value:n}=await this.getSignatureStatuses([e],t);tr(1===n.length);return{context:r,value:n[0]}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const n=await this._rpcRequest("getSignatureStatuses",r),o=(0,h.Ue)(n,Ln);if("error"in o)throw new Error("failed to get signature status: "+o.error.message);return o.result}async getTransactionCount(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getTransactionCount",t),n=(0,h.Ue)(r,zr((0,h.Rx)()));if("error"in n)throw new Error("failed to get transaction count: "+n.error.message);return n.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),n=(0,h.Ue)(r,tn);if("error"in n)throw new Error("failed to get inflation: "+n.error.message);return n.result}async getInflationReward(e,t,r){const n=this._buildArgs([e.map((e=>e.toBase58()))],r,void 0,{epoch:t}),o=await this._rpcRequest("getInflationReward",n),i=(0,h.Ue)(o,qr);if("error"in i)throw new Error("failed to get inflation reward: "+i.error.message);return i.result}async getEpochInfo(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getEpochInfo",t),n=(0,h.Ue)(r,rn);if("error"in n)throw new Error("failed to get epoch info: "+n.error.message);return n.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=(0,h.Ue)(e,nn);if("error"in t)throw new Error("failed to get epoch schedule: "+t.error.message);const r=t.result;return new Dr(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=(0,h.Ue)(e,on);if("error"in t)throw new Error("failed to get leader schedule: "+t.error.message);return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),n=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=(0,h.Ue)(n,Nn);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),n=(0,h.Ue)(r,$n);if("error"in n)throw new Error("failed to get recent blockhash: "+n.error.message);return n.result}async getRecentPerformanceSamples(e){const t=this._buildArgs(e?[e]:[]),r=await this._rpcRequest("getRecentPerformanceSamples",t),n=(0,h.Ue)(r,ro);if("error"in n)throw new Error("failed to get recent performance samples: "+n.error.message);return n.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),n=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=(0,h.Ue)(n,no);if("error"in o)throw new Error("failed to get fee calculator: "+o.error.message);const{context:i,value:s}=o.result;return{context:i,value:null!==s?s.feeCalculator:null}}async getFeeForMessage(e,t){const r=e.serialize().toString("base64"),n=this._buildArgs([r],t),o=await this._rpcRequest("getFeeForMessage",n),i=(0,h.Ue)(o,jr((0,h.AG)((0,h.Rx)())));if("error"in i)throw new Error("failed to get slot: "+i.error.message);if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getLatestBlockhash",t),n=(0,h.Ue)(r,eo);if("error"in n)throw new Error("failed to get latest blockhash: "+n.error.message);return n.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=(0,h.Ue)(e,zr(Yr));if("error"in t)throw new Error("failed to get version: "+t.error.message);return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=(0,h.Ue)(e,zr((0,h.Z_)()));if("error"in t)throw new Error("failed to get genesis hash: "+t.error.message);return t.result}async getBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t&&t.commitment),n=await this._rpcRequest("getBlock",r),o=(0,h.Ue)(n,Gn);if("error"in o)throw new Error("failed to get confirmed block: "+o.error.message);const i=o.result;return i?{...i,transactions:i.transactions.map((e=>{let{transaction:t,meta:r}=e;const n=new er(t.message);return{meta:r,transaction:{...t,message:n}}}))}:i}async getBlockHeight(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getBlockHeight",t),n=(0,h.Ue)(r,zr((0,h.Rx)()));if("error"in n)throw new Error("failed to get block height information: "+n.error.message);return n.result}async getBlockProduction(e){let t,r;if("string"===typeof e)r=e;else if(e){const{commitment:n,...o}=e;r=n,t=o}const n=this._buildArgs([],r,"base64",t),o=await this._rpcRequest("getBlockProduction",n),i=(0,h.Ue)(o,en);if("error"in i)throw new Error("failed to get block production information: "+i.error.message);return i.result}async getTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t&&t.commitment),n=await this._rpcRequest("getTransaction",r),o=(0,h.Ue)(n,Jn);if("error"in o)throw new Error("failed to get transaction: "+o.error.message);const i=o.result;return i?{...i,transaction:{...i.transaction,message:new er(i.transaction.message)}}:i}async getParsedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),n=await this._rpcRequest("getTransaction",r),o=(0,h.Ue)(n,Yn);if("error"in o)throw new Error("failed to get transaction: "+o.error.message);return o.result}async getParsedTransactions(e,t){const r=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((e=>{const t=(0,h.Ue)(e,Yn);if("error"in t)throw new Error("failed to get transactions: "+t.error.message);return t.result}))}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=await this._rpcRequest("getConfirmedBlock",r),o=(0,h.Ue)(n,Qn);if("error"in o)throw new Error("failed to get confirmed block: "+o.error.message);const i=o.result;if(!i)throw new Error("Confirmed block "+e+" not found");const s={...i,transactions:i.transactions.map((e=>{let{transaction:t,meta:r}=e;const n=new er(t.message);return{meta:r,transaction:{...t,message:n}}}))};return{...s,transactions:s.transactions.map((e=>{let{transaction:t,meta:r}=e;return{meta:r,transaction:ir.populate(t.message,t.signatures)}}))}}async getBlocks(e,t,r){const n=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],r),o=await this._rpcRequest("getBlocks",n),i=(0,h.Ue)(o,zr((0,h.IX)((0,h.Rx)())));if("error"in i)throw new Error("failed to get blocks: "+i.error.message);return i.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getBlock",r),o=(0,h.Ue)(n,Xn);if("error"in o)throw new Error("failed to get block: "+o.error.message);const i=o.result;if(!i)throw new Error("Block "+e+" not found");return i}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getConfirmedBlock",r),o=(0,h.Ue)(n,Xn);if("error"in o)throw new Error("failed to get confirmed block: "+o.error.message);const i=o.result;if(!i)throw new Error("Confirmed block "+e+" not found");return i}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=await this._rpcRequest("getConfirmedTransaction",r),o=(0,h.Ue)(n,Jn);if("error"in o)throw new Error("failed to get transaction: "+o.error.message);const i=o.result;if(!i)return i;const s=new er(i.transaction.message),a=i.transaction.signatures;return{...i,transaction:ir.populate(s,a)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),n=await this._rpcRequest("getConfirmedTransaction",r),o=(0,h.Ue)(n,Yn);if("error"in o)throw new Error("failed to get confirmed transaction: "+o.error.message);return o.result}async getParsedConfirmedTransactions(e,t){const r=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((e=>{const t=(0,h.Ue)(e,Yn);if("error"in t)throw new Error("failed to get confirmed transactions: "+t.error.message);return t.result}))}async getConfirmedSignaturesForAddress(e,t,r){let n={},o=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--t<=0||t<o);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(n.until=e.signatures[e.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}let i=await this.getSlot("finalized");for(;!("before"in n)&&!(++r>i);)try{const e=await this.getConfirmedBlockSignatures(r);e.signatures.length>0&&(n.before=e.signatures[e.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}return(await this.getConfirmedSignaturesForAddress2(e,n)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",n),i=(0,h.Ue)(o,vn);if("error"in i)throw new Error("failed to get confirmed signatures for address: "+i.error.message);return i.result}async getSignaturesForAddress(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),o=await this._rpcRequest("getSignaturesForAddress",n),i=(0,h.Ue)(o,_n);if("error"in i)throw new Error("failed to get signatures for address: "+i.error.message);return i.result}async getNonceAndContext(e,t){const{context:r,value:n}=await this.getAccountInfoAndContext(e,t);let o=null;return null!==n&&(o=Ar.fromAccountData(n.data)),{context:r,value:o}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),n=(0,h.Ue)(r,oo);if("error"in n)throw new Error("airdrop to "+e.toBase58()+" failed: "+n.error.message);return n.result}async _recentBlockhash(e){if(!e){for(;this._pollingBlockhash;)await gr(100);const e=Date.now()-this._blockhashInfo.lastFetch>=Cr;if(null!==this._blockhashInfo.recentBlockhash&&!e)return this._blockhashInfo.recentBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now();for(let t=0;t<50;t++){const{blockhash:e}=await this.getRecentBlockhash("finalized");if(this._blockhashInfo.recentBlockhash!=e)return this._blockhashInfo={recentBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await gr(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async simulateTransaction(e,t,r){let n;if(n=e instanceof ir?e:ir.populate(e),n.nonceInfo&&t)n.sign(...t);else{let e=this._disableBlockhashCaching;for(;n.recentBlockhash=await this._recentBlockhash(e),t;){if(n.sign(...t),!n.signature)throw new Error("!signature");const r=n.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(r)&&!this._blockhashInfo.transactionSignatures.includes(r)){this._blockhashInfo.simulatedSignatures.push(r);break}e=!0}}const o=n._compile(),i=o.serialize(),s=n._serialize(i).toString("base64"),a={encoding:"base64",commitment:this.commitment};if(r){const e=(Array.isArray(r)?r:o.nonProgramIds()).map((e=>e.toBase58()));a.accounts={encoding:"base64",addresses:e}}t&&(a.sigVerify=!0);const u=[s,a],c=await this._rpcRequest("simulateTransaction",u),d=(0,h.Ue)(c,$r);if("error"in d){let e;if("data"in d.error&&(e=d.error.data.logs,e&&Array.isArray(e))){const t="\n    ",r=t+e.join(t);console.error(d.error.message,r)}throw new Ur("failed to simulate transaction: "+d.error.message,e)}return d.result}async sendTransaction(e,t,r){if(e.nonceInfo)e.sign(...t);else{let r=this._disableBlockhashCaching;for(;;){if(e.recentBlockhash=await this._recentBlockhash(r),e.sign(...t),!e.signature)throw new Error("!signature");const n=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.transactionSignatures.push(n);break}r=!0}}const n=e.serialize();return await this.sendRawTransaction(n,r)}async sendRawTransaction(e,t){const r=v(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},n=t&&t.skipPreflight,o=t&&t.preflightCommitment||this.commitment;t&&t.maxRetries&&(r.maxRetries=t.maxRetries),n&&(r.skipPreflight=n),o&&(r.preflightCommitment=o);const i=[e,r],s=await this._rpcRequest("sendTransaction",i),a=(0,h.Ue)(s,io);if("error"in a){let e;throw"data"in a.error&&(e=a.error.data.logs),new Ur("failed to send transaction: "+a.error.message,e)}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{this._rpcWebSocket.notify("ping").catch((()=>{}))}),5e3),this._updateSubscriptions()}_wsOnError(e){console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?this._resetSubscriptions():this._updateSubscriptions()}async _subscribe(e,t,r){if(null==e.subscriptionId){e.subscriptionId="subscribing";try{const n=await this._rpcWebSocket.call(t,r);"number"===typeof n&&"subscribing"===e.subscriptionId&&(e.subscriptionId=n)}catch(n){"subscribing"===e.subscriptionId&&(e.subscriptionId=null),n instanceof Error&&console.error(`${t} error for argument`,r,n.message)}}}async _unsubscribe(e,t){const r=e.subscriptionId;if(null!=r&&"string"!=typeof r){const e=r;try{await this._rpcWebSocket.call(t,[e])}catch(n){n instanceof Error&&console.error(`${t} error:`,n.message)}}}_resetSubscriptions(){Object.values(this._accountChangeSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._programAccountChangeSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._rootSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._signatureSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._slotSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._slotUpdateSubscriptions).forEach((e=>e.subscriptionId=null))}_updateSubscriptions(){const e=Object.keys(this._accountChangeSubscriptions).map(Number),t=Object.keys(this._programAccountChangeSubscriptions).map(Number),r=Object.keys(this._slotSubscriptions).map(Number),n=Object.keys(this._slotUpdateSubscriptions).map(Number),o=Object.keys(this._signatureSubscriptions).map(Number),i=Object.keys(this._rootSubscriptions).map(Number),s=Object.keys(this._logsSubscriptions).map(Number);if(0!==e.length||0!==t.length||0!==r.length||0!==n.length||0!==o.length||0!==i.length||0!==s.length)if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),this._rpcWebSocketConnected){for(let t of e){const e=this._accountChangeSubscriptions[t];this._subscribe(e,"accountSubscribe",this._buildArgs([e.publicKey],e.commitment,"base64"))}for(let e of t){const t=this._programAccountChangeSubscriptions[e];this._subscribe(t,"programSubscribe",this._buildArgs([t.programId],t.commitment,"base64",{filters:t.filters}))}for(let e of r){const t=this._slotSubscriptions[e];this._subscribe(t,"slotSubscribe",[])}for(let e of n){const t=this._slotUpdateSubscriptions[e];this._subscribe(t,"slotsUpdatesSubscribe",[])}for(let e of o){const t=this._signatureSubscriptions[e],r=[t.signature];t.options&&r.push(t.options),this._subscribe(t,"signatureSubscribe",r)}for(let e of i){const t=this._rootSubscriptions[e];this._subscribe(t,"rootSubscribe",[])}for(let e of s){const t=this._logsSubscriptions[e];let r;r="object"===typeof t.filter?{mentions:[t.filter.toString()]}:t.filter,this._subscribe(t,"logsSubscribe",this._buildArgs([r],t.commitment))}}else this._rpcWebSocket.connect();else this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}}),500))}_wsOnAccountNotification(e){const t=(0,h.Ue)(e,An);for(const r of Object.values(this._accountChangeSubscriptions))if(r.subscriptionId===t.subscription)return void r.callback(t.result.value,t.result.context)}onAccountChange(e,t,r){const n=++this._accountChangeSubscriptionCounter;return this._accountChangeSubscriptions[n]={publicKey:e.toBase58(),callback:t,commitment:r,subscriptionId:null},this._updateSubscriptions(),n}async removeAccountChangeListener(e){if(!this._accountChangeSubscriptions[e])throw new Error(`Unknown account change id: ${e}`);{const t=this._accountChangeSubscriptions[e];delete this._accountChangeSubscriptions[e],await this._unsubscribe(t,"accountUnsubscribe"),this._updateSubscriptions()}}_wsOnProgramAccountNotification(e){const t=(0,h.Ue)(e,kn);for(const r of Object.values(this._programAccountChangeSubscriptions))if(r.subscriptionId===t.subscription){const{value:e,context:n}=t.result;return void r.callback({accountId:e.pubkey,accountInfo:e.account},n)}}onProgramAccountChange(e,t,r,n){const o=++this._programAccountChangeSubscriptionCounter;return this._programAccountChangeSubscriptions[o]={programId:e.toBase58(),callback:t,commitment:r,subscriptionId:null,filters:n},this._updateSubscriptions(),o}async removeProgramAccountChangeListener(e){if(!this._programAccountChangeSubscriptions[e])throw new Error(`Unknown program account change id: ${e}`);{const t=this._programAccountChangeSubscriptions[e];delete this._programAccountChangeSubscriptions[e],await this._unsubscribe(t,"programUnsubscribe"),this._updateSubscriptions()}}onLogs(e,t,r){const n=++this._logsSubscriptionCounter;return this._logsSubscriptions[n]={filter:e,callback:t,commitment:r,subscriptionId:null},this._updateSubscriptions(),n}async removeOnLogsListener(e){if(!this._logsSubscriptions[e])throw new Error(`Unknown logs id: ${e}`);const t=this._logsSubscriptions[e];delete this._logsSubscriptions[e],await this._unsubscribe(t,"logsUnsubscribe"),this._updateSubscriptions()}_wsOnLogsNotification(e){const t=(0,h.Ue)(e,ao),r=Object.keys(this._logsSubscriptions).map(Number);for(let n of r){const e=this._logsSubscriptions[n];if(e.subscriptionId===t.subscription)return void e.callback(t.result.value,t.result.context)}}_wsOnSlotNotification(e){const t=(0,h.Ue)(e,Tn);for(const r of Object.values(this._slotSubscriptions))if(r.subscriptionId===t.subscription)return void r.callback(t.result)}onSlotChange(e){const t=++this._slotSubscriptionCounter;return this._slotSubscriptions[t]={callback:e,subscriptionId:null},this._updateSubscriptions(),t}async removeSlotChangeListener(e){if(!this._slotSubscriptions[e])throw new Error(`Unknown slot change id: ${e}`);{const t=this._slotSubscriptions[e];delete this._slotSubscriptions[e],await this._unsubscribe(t,"slotUnsubscribe"),this._updateSubscriptions()}}_wsOnSlotUpdatesNotification(e){const t=(0,h.Ue)(e,In);for(const r of Object.values(this._slotUpdateSubscriptions))if(r.subscriptionId===t.subscription)return void r.callback(t.result)}onSlotUpdate(e){const t=++this._slotUpdateSubscriptionCounter;return this._slotUpdateSubscriptions[t]={callback:e,subscriptionId:null},this._updateSubscriptions(),t}async removeSlotUpdateListener(e){if(!this._slotUpdateSubscriptions[e])throw new Error(`Unknown slot update id: ${e}`);{const t=this._slotUpdateSubscriptions[e];delete this._slotUpdateSubscriptions[e],await this._unsubscribe(t,"slotsUpdatesUnsubscribe"),this._updateSubscriptions()}}_buildArgs(e,t,r,n){const o=t||this._commitment;if(o||r||n){let t={};r&&(t.encoding=r),o&&(t.commitment=o),n&&(t=Object.assign(t,n)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,r,n){const o=t||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,n)}_wsOnSignatureNotification(e){const t=(0,h.Ue)(e,xn);for(const[r,n]of Object.entries(this._signatureSubscriptions))if(n.subscriptionId===t.subscription)return void("receivedSignature"===t.result.value?n.callback({type:"received"},t.result.context):(delete this._signatureSubscriptions[Number(r)],this._updateSubscriptions(),n.callback({type:"status",result:t.result.value},t.result.context)))}onSignature(e,t,r){const n=++this._signatureSubscriptionCounter;return this._signatureSubscriptions[n]={signature:e,callback:(e,r)=>{"status"===e.type&&t(e.result,r)},options:{commitment:r},subscriptionId:null},this._updateSubscriptions(),n}onSignatureWithOptions(e,t,r){const n=++this._signatureSubscriptionCounter;return this._signatureSubscriptions[n]={signature:e,callback:t,options:r,subscriptionId:null},this._updateSubscriptions(),n}async removeSignatureListener(e){if(!this._signatureSubscriptions[e])throw new Error(`Unknown signature result id: ${e}`);{const t=this._signatureSubscriptions[e];delete this._signatureSubscriptions[e],await this._unsubscribe(t,"signatureUnsubscribe"),this._updateSubscriptions()}}_wsOnRootNotification(e){const t=(0,h.Ue)(e,On);for(const r of Object.values(this._rootSubscriptions))if(r.subscriptionId===t.subscription)return void r.callback(t.result)}onRootChange(e){const t=++this._rootSubscriptionCounter;return this._rootSubscriptions[t]={callback:e,subscriptionId:null},this._updateSubscriptions(),t}async removeRootChangeListener(e){if(!this._rootSubscriptions[e])throw new Error(`Unknown root change id: ${e}`);{const t=this._rootSubscriptions[e];delete this._rootSubscriptions[e],await this._unsubscribe(t,"rootUnsubscribe"),this._updateSubscriptions()}}}class co{constructor(e){this._keypair=void 0,this._keypair=e||o().sign.keyPair()}static generate(){return new co(o().sign.keyPair())}static fromSecretKey(e,t){const r=o().sign.keyPair.fromSecretKey(e);if(!t||!t.skipValidation){const e=(new TextEncoder).encode("@solana/web3.js-validation-v1"),t=o().sign.detached(e,r.secretKey);if(!o().sign.detached.verify(e,t,r.publicKey))throw new Error("provided secretKey is invalid")}return new co(r)}static fromSeed(e){return new co(o().sign.keyPair.fromSeed(e))}get publicKey(){return new jt(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const lo=l.n_([l.u8("numSignatures"),l.u8("padding"),l.KB("signatureOffset"),l.KB("signatureInstructionIndex"),l.KB("publicKeyOffset"),l.KB("publicKeyInstructionIndex"),l.KB("messageDataOffset"),l.KB("messageDataSize"),l.KB("messageInstructionIndex")]);class ho{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,instructionIndex:o}=e;tr(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),tr(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const s=lo.span,a=s+t.length,u=a+n.length,c=i.Buffer.alloc(u+r.length),d=null==o?65535:o;return lo.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:s,publicKeyInstructionIndex:d,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:d},c),c.fill(t,s),c.fill(n,a),c.fill(r,u),new or({keys:[],programId:ho.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;tr(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=co.fromSecretKey(t),i=e.publicKey.toBytes(),s=o().sign.detached(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,instructionIndex:n})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}ho.programId=new jt("Ed25519SigVerify111111111111111111111111111");const fo=new jt("StakeConfig11111111111111111111111111111111");class po{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class mo{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}mo.default=new mo(0,0,jt.default);class go{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=l.Jq("instruction").decode(e.data);let r;for(const[n,o]of Object.entries(yo))if(o.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a StakeInstruction");return r}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=br(yo.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new po(new jt(t.staker),new jt(t.withdrawer)),lockup:new mo(r.unixTimestamp,r.epoch,new jt(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),br(yo.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=br(yo.Authorize,e.data),n={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new jt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(n.custodianPubkey=e.keys[3].pubkey),n}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:n,authorityOwner:o}=br(yo.AuthorizeWithSeed,e.data),i={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:n,authorityOwner:new jt(o),newAuthorizedPubkey:new jt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=br(yo.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),br(yo.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=br(yo.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),br(yo.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(wo.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const yo=Object.freeze({Initialize:{index:0,layout:l.n_([l.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return l.n_([Xt("staker"),Xt("withdrawer")],e)}(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return l.n_([l.gM("unixTimestamp"),l.gM("epoch"),Xt("custodian")],e)}()])},Authorize:{index:1,layout:l.n_([l.Jq("instruction"),Xt("newAuthorized"),l.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:l.n_([l.Jq("instruction")])},Split:{index:3,layout:l.n_([l.Jq("instruction"),l.gM("lamports")])},Withdraw:{index:4,layout:l.n_([l.Jq("instruction"),l.gM("lamports")])},Deactivate:{index:5,layout:l.n_([l.Jq("instruction")])},Merge:{index:7,layout:l.n_([l.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:l.n_([l.Jq("instruction"),Xt("newAuthorized"),l.Jq("stakeAuthorizationType"),Jt("authoritySeed"),Xt("authorityOwner")])}}),bo=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class wo{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,o=n||mo.default,i=yr(yo.Initialize,{authorized:{staker:v(r.staker.toBuffer()),withdrawer:v(r.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:v(o.custodian.toBuffer())}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:dr,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new or(s)}static createAccountWithSeed(e){const t=new ir;t.add(Er.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:o}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:o}))}static createAccount(e){const t=new ir;t.add(Er.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:o}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:o}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,o=yr(yo.Delegate);return(new ir).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:sr,isSigner:!1,isWritable:!1},{pubkey:pr,isSigner:!1,isWritable:!1},{pubkey:fo,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:o,custodianPubkey:i}=e,s=yr(yo.Authorize,{newAuthorized:v(n.toBuffer()),stakeAuthorizationType:o.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return i&&a.push({pubkey:i,isSigner:!1,isWritable:!1}),(new ir).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:o,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:a}=e,u=yr(yo.AuthorizeWithSeed,{newAuthorized:v(i.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:n,authorityOwner:v(o.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:sr,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!1,isWritable:!1}),(new ir).add({keys:c,programId:this.programId,data:u})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:o}=e,i=yr(yo.Split,{lamports:o});return new or({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static split(e){const t=new ir;return t.add(Er.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,basePubkey:o,seed:i,lamports:s}=e,a=new ir;return a.add(Er.allocate({accountPubkey:n,basePubkey:o,seed:i,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:s}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,o=yr(yo.Merge);return(new ir).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:sr,isSigner:!1,isWritable:!1},{pubkey:pr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:o,custodianPubkey:i}=e,s=yr(yo.Withdraw,{lamports:o}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:sr,isSigner:!1,isWritable:!1},{pubkey:pr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return i&&a.push({pubkey:i,isSigner:!1,isWritable:!1}),(new ir).add({keys:a,programId:this.programId,data:s})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=yr(yo.Deactivate);return(new ir).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}wo.programId=new jt("Stake11111111111111111111111111111111111111"),wo.space=200;const{publicKeyCreate:vo,ecdsaSign:_o}=y(),Ao=l.n_([l.u8("numSignatures"),l.KB("signatureOffset"),l.u8("signatureInstructionIndex"),l.KB("ethAddressOffset"),l.u8("ethAddressInstructionIndex"),l.KB("messageDataOffset"),l.KB("messageDataSize"),l.u8("messageInstructionIndex"),l.Ik(20,"ethAddress"),l.Ik(64,"signature"),l.u8("recoveryId")]);class So{constructor(){}static publicKeyToEthAddress(e){tr(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return i.Buffer.from(w().keccak_256.update(v(e)).digest()).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,recoveryId:o,instructionIndex:i}=e;return So.createInstructionWithEthAddress({ethAddress:So.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:o,instructionIndex:i})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:n,recoveryId:o,instructionIndex:s=0}=e;let a;a="string"===typeof t?t.startsWith("0x")?i.Buffer.from(t.substr(2),"hex"):i.Buffer.from(t,"hex"):t,tr(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const u=12+a.length,c=u+n.length+1,d=i.Buffer.alloc(Ao.span+r.length);return Ao.encode({numSignatures:1,signatureOffset:u,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:s,signature:v(n),ethAddress:v(a),recoveryId:o},d),d.fill(v(r),Ao.span),new or({keys:[],programId:So.programId,data:d})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;tr(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=v(t),o=vo(e,!1).slice(1),s=i.Buffer.from(w().keccak_256.update(v(r)).digest()),{signature:a,recid:u}=_o(s,e);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,recoveryId:u,instructionIndex:n})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}So.programId=new jt("KeccakSecp256k11111111111111111111111111111");const ko=new jt("Va1idator1nfo111111111111111111111111111111"),Eo=(0,h.dt)({name:(0,h.Z_)(),website:(0,h.jt)((0,h.Z_)()),details:(0,h.jt)((0,h.Z_)()),keybaseUsername:(0,h.jt)((0,h.Z_)())});class To{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==Yt(t))return null;const r=[];for(let n=0;n<2;n++){const e=new jt(t.slice(0,32));t=t.slice(32);const n=1===t.slice(0,1)[0];t=t.slice(1),r.push({publicKey:e,isSigner:n})}if(r[0].publicKey.equals(ko)&&r[1].isSigner){const e=Jt().decode(i.Buffer.from(t)),n=JSON.parse(e);return(0,h.hu)(n,Eo),new To(r[1].publicKey,n)}return null}}const Po=new jt("Vote111111111111111111111111111111111111111"),Io=l.n_([Xt("nodePubkey"),Xt("authorizedWithdrawer"),l.u8("commission"),l._O(),l.A9(l.n_([l._O("slot"),l.Jq("confirmationCount")]),l.cv(l.Jq(),-8),"votes"),l.u8("rootSlotValid"),l._O("rootSlot"),l._O(),l.A9(l.n_([l._O("epoch"),Xt("authorizedVoter")]),l.cv(l.Jq(),-8),"authorizedVoters"),l.n_([l.A9(l.n_([Xt("authorizedPubkey"),l._O("epochOfLastAuthorizedSwitch"),l._O("targetEpoch")]),32,"buf"),l._O("idx"),l.u8("isEmpty")],"priorVoters"),l._O(),l.A9(l.n_([l._O("epoch"),l._O("credits"),l._O("prevCredits")]),l.cv(l.Jq(),-8),"epochCredits"),l.n_([l._O("slot"),l._O("timestamp")],"lastTimestamp")]);class xo{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const t=Io.decode(v(e),4);let r=t.rootSlot;return t.rootSlotValid||(r=null),new xo({nodePubkey:new jt(t.nodePubkey),authorizedWithdrawer:new jt(t.authorizedWithdrawer),commission:t.commission,votes:t.votes,rootSlot:r,authorizedVoters:t.authorizedVoters.map(Oo),priorVoters:Mo(t.priorVoters),epochCredits:t.epochCredits,lastTimestamp:t.lastTimestamp})}}function Oo(e){let{authorizedVoter:t,epoch:r}=e;return{epoch:r,authorizedVoter:new jt(t)}}function Bo(e){let{authorizedPubkey:t,epochOfLastAuthorizedSwitch:r,targetEpoch:n}=e;return{authorizedPubkey:new jt(t),epochOfLastAuthorizedSwitch:r,targetEpoch:n}}function Mo(e){let{buf:t,idx:r,isEmpty:n}=e;return n?[]:[...t.slice(r+1).map(Bo),...t.slice(0,r).map(Bo)]}class Do{constructor(e,t,r,n){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=n}}class Uo{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=l.Jq("instruction").decode(e.data);let r;for(const[n,o]of Object.entries(Ro))if(o.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a VoteInstruction");return r}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=br(Ro.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Do(new jt(t.nodePubkey),new jt(t.authorizedVoter),new jt(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=br(Ro.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new jt(t),voteAuthorizationType:{index:r}}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=br(Ro.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(No.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ro=Object.freeze({InitializeAccount:{index:0,layout:l.n_([l.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return l.n_([Xt("nodePubkey"),Xt("authorizedVoter"),Xt("authorizedWithdrawer"),l.u8("commission")],e)}()])},Authorize:{index:1,layout:l.n_([l.Jq("instruction"),Xt("newAuthorized"),l.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:l.n_([l.Jq("instruction"),l.gM("lamports")])}}),Lo=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class No{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:n}=e,o=yr(Ro.InitializeAccount,{voteInit:{nodePubkey:v(n.nodePubkey.toBuffer()),authorizedVoter:v(n.authorizedVoter.toBuffer()),authorizedWithdrawer:v(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),i={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:dr,isSigner:!1,isWritable:!1},{pubkey:sr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new or(i)}static createAccount(e){const t=new ir;return t.add(Er.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:o}=e,i=yr(Ro.Authorize,{newAuthorized:v(n.toBuffer()),voteAuthorizationType:o.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new ir).add({keys:s,programId:this.programId,data:i})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:o}=e,i=yr(Ro.Withdraw,{lamports:n}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new ir).add({keys:s,programId:this.programId,data:i})}}async function Co(e,t,r){const n=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},o=await e.sendRawTransaction(t,n),i=(await e.confirmTransaction(o,r&&r.commitment)).value;if(i.err)throw new Error(`Raw transaction ${o} failed (${JSON.stringify(i)})`);return o}No.programId=new jt("Vote111111111111111111111111111111111111111"),No.space=3731;const Fo={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Wo(e,t){const r=!1===t?"http":"https";if(!e)return Fo[r].devnet;const n=Fo[r][e];if(!n)throw new Error(`Unknown ${r} cluster: ${e}`);return n}const zo=1e9},41025:function(e,t,r){"use strict";var n=r(3930).Buffer,o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;const c=u(r(48744)),d=u(r(68532)),l=a(r(91995)),h=new("function"!==typeof TextDecoder?l.TextDecoder:TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"===typeof e&&(e=n.from(e,"utf8")),d.default.encode(n.from(e))},t.baseDecode=function(e){return n.from(d.default.decode(e))};const f=1024;class p extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=p;class m{constructor(){this.buf=n.alloc(f),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=n.concat([this.buf,n.alloc(f)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",64)))}writeBuffer(e){this.buf=n.concat([n.from(this.buf.subarray(0,this.length)),e,n.alloc(f)]),this.length+=e.length}writeString(e){this.maybeResize();const t=n.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(n.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function g(e,t,r){const n=r.value;r.value=function(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(this,t)}catch(o){if(o instanceof RangeError){const e=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new p("Reached the end of buffer when deserializing")}throw o}}}t.BinaryWriter=m;class y{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new c.default(e,"le")}readU128(){const e=this.readBuffer(16);return new c.default(e,"le")}readU256(){const e=this.readBuffer(32);return new c.default(e,"le")}readU512(){const e=this.readBuffer(64);return new c.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new p(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return h.decode(t)}catch(r){throw new p(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let n=0;n<t;++n)r.push(e());return r}}function b(e){return e.charAt(0).toUpperCase()+e.slice(1)}function w(e,t,r,n,o){try{if("string"===typeof n)o[`write${b(n)}`](r);else if(n instanceof Array)if("number"===typeof n[0]){if(r.length!==n[0])throw new p(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);o.writeFixedArray(r)}else if(2===n.length&&"number"===typeof n[1]){if(r.length!==n[1])throw new p(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let t=0;t<n[1];t++)w(e,null,r[t],n[0],o)}else o.writeArray(r,(r=>{w(e,t,r,n[0],o)}));else if(void 0!==n.kind)switch(n.kind){case"option":null===r||void 0===r?o.writeU8(0):(o.writeU8(1),w(e,t,r,n.type,o));break;case"map":o.writeU32(r.size),r.forEach(((r,i)=>{w(e,t,i,n.key,o),w(e,t,r,n.value,o)}));break;default:throw new p(`FieldType ${n} unrecognized`)}else v(e,r,o)}catch(i){throw i instanceof p&&i.addToFieldPath(t),i}}function v(e,t,r){if("function"===typeof t.borshSerialize)return void t.borshSerialize(r);const n=e.get(t.constructor);if(!n)throw new p(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map((n=>{let[o,i]=n;w(e,o,t[o],i,r)}));else{if("enum"!==n.kind)throw new p(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`);{const o=t[n.field];for(let i=0;i<n.values.length;++i){const[s,a]=n.values[i];if(s===o){r.writeU8(i),w(e,s,t[s],a,r);break}}}}}function _(e,t,r,n){try{if("string"===typeof r)return n[`read${b(r)}`]();if(r instanceof Array){if("number"===typeof r[0])return n.readFixedArray(r[0]);if("number"===typeof r[1]){const t=[];for(let o=0;o<r[1];o++)t.push(_(e,null,r[0],n));return t}return n.readArray((()=>_(e,t,r[0],n)))}if("option"===r.kind){return n.readU8()?_(e,t,r.type,n):void 0}if("map"===r.kind){let o=new Map;const i=n.readU32();for(let s=0;s<i;s++){const i=_(e,t,r.key,n),s=_(e,t,r.value,n);o.set(i,s)}return o}return A(e,r,n)}catch(o){throw o instanceof p&&o.addToFieldPath(t),o}}function A(e,t,r){if("function"===typeof t.borshDeserialize)return t.borshDeserialize(r);const n=e.get(t);if(!n)throw new p(`Class ${t.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[o,i]of e.get(t).fields)n[o]=_(e,o,i,r);return new t(n)}if("enum"===n.kind){const o=r.readU8();if(o>=n.values.length)throw new p(`Enum index: ${o} is out of range`);const[i,s]=n.values[o];return new t({[i]:_(e,i,s,r)})}throw new p(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}s([g],y.prototype,"readU8",null),s([g],y.prototype,"readU16",null),s([g],y.prototype,"readU32",null),s([g],y.prototype,"readU64",null),s([g],y.prototype,"readU128",null),s([g],y.prototype,"readU256",null),s([g],y.prototype,"readU512",null),s([g],y.prototype,"readString",null),s([g],y.prototype,"readFixedArray",null),s([g],y.prototype,"readArray",null),t.BinaryReader=y,t.serialize=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;const n=new r;return v(e,t,n),n.toArray()},t.deserialize=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y;const o=new n(r),i=A(e,t,o);if(o.offset<r.length)throw new p(`Unexpected ${r.length-o.offset} bytes after deserialized data`);return i},t.deserializeUnchecked=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y;const o=new n(r);return A(e,t,o)}},3930:(e,t,r)=>{"use strict";const n=r(12009),o=r(45889),i="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,r)}function c(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|m(e,t);let n=a(r);const o=n.write(e,t);o!==r&&(n=n.slice(0,o));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Q(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Q(e,ArrayBuffer)||e&&Q(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(Q(e,SharedArrayBuffer)||e&&Q(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const o=function(e){if(u.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||X(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(o)return o;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return d(e),a(e<0?0:0|p(e))}function h(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function m(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Q(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(e).length;default:if(o)return n?-1:Z(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return I(this,t,r);case"latin1":case"binary":return x(this,t,r);case"base64":return E(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,o){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"===typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,o);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,o){let i,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){let n=-1;for(i=r;i<a;i++)if(c(e,i)===c(t,-1===n?0:i-n)){if(-1===n&&(n=i),i-n+1===u)return n*s}else-1!==n&&(i-=i-n),n=-1}else for(r+u>a&&(r=a-u),i=r;i>=0;i--){let r=!0;for(let n=0;n<u;n++)if(c(e,i+n)!==c(t,n)){r=!1;break}if(r)return i}return-1}function v(e,t,r,n){r=Number(r)||0;const o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;const i=t.length;let s;for(n>i/2&&(n=i/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(X(n))return s;e[r+s]=n}return s}function _(e,t,r,n){return G(Z(t,e.length-r),e,r,n)}function A(e,t,r,n){return G(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return G(H(t),e,r,n)}function k(e,t,r,n){return G(function(e,t){let r,n,o;const i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function E(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function T(e,t,r){r=Math.min(e.length,r);const n=[];let o=t;for(;o<r;){const t=e[o];let i=null,s=t>239?4:t>223?3:t>191?2:1;if(o+s<=r){let r,n,a,u;switch(s){case 1:t<128&&(i=t);break;case 2:r=e[o+1],128===(192&r)&&(u=(31&t)<<6|63&r,u>127&&(i=u));break;case 3:r=e[o+1],n=e[o+2],128===(192&r)&&128===(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(i=u));break;case 4:r=e[o+1],n=e[o+2],a=e[o+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(i=u))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),o+=s}return function(e){const t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=P));return r}(n)}t.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return d(e),e<=0?a(e):void 0!==t?"string"===typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},u.allocUnsafe=function(e){return l(e)},u.allocUnsafeSlow=function(e){return l(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(Q(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),Q(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let o=0;for(r=0;r<e.length;++r){let t=e[r];if(Q(t,Uint8Array))o+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,o)):Uint8Array.prototype.set.call(n,t,o);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,o)}o+=t.length}return n},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,o){if(Q(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;let i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const a=Math.min(i,s),c=this.slice(n,o),d=e.slice(t,r);for(let u=0;u<a;++u)if(c[u]!==d[u]){i=c[u],s=d[u];break}return i<s?-1:s<i?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let i=!1;for(;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return A(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const P=4096;function I(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function x(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function O(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let o="";for(let i=t;i<r;++i)o+=J[e[i]];return o}function B(e,t,r){const n=e.slice(t,r);let o="";for(let i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function M(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,r,n,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,o){j(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function R(e,t,r,n,o){j(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r+7]=i,i>>=8,e[r+6]=i,i>>=8,e[r+5]=i,i>>=8,e[r+4]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function L(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,i){return t=+t,r>>>=0,i||L(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function C(e,t,r,n,i){return t=+t,r>>>=0,i||L(e,0,r,8),o.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e+--t],o=1;for(;t>0&&(o*=256);)n+=this[e+--t]*o;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=Y((function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))})),u.prototype.readBigUInt64BE=Y((function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(o)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=t,o=1,i=this[e+--n];for(;n>0&&(o*=256);)i+=this[e+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=Y((function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=Y((function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){D(this,e,t,r,Math.pow(2,8*r)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){D(this,e,t,r,Math.pow(2,8*r)-1,0)}let o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);D(this,e,t,r,n-1,-n)}let o=0,i=1,s=0;for(this[t]=255&e;++o<r&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);D(this,e,t,r,n-1,-n)}let o=r-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return C(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return C(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const o=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),o},u.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(o=t;o<r;++o)this[o]=e;else{const i=u.isBuffer(e)?e:u.from(e,n),s=i.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=i[o%s]}return this};const F={};function W(e,t,r){F[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function z(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function j(e,t,r,n,o,i){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(i+1)}${n}`:`>= -(2${n} ** ${8*(i+1)-1}${n}) and < 2 ** ${8*(i+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new F.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,r){K(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||V(t,e.length-(r+1))}(n,o,i)}function K(e,t){if("number"!==typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,r){if(Math.floor(e)!==e)throw K(e,r),new F.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}W("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),W("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),W("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=z(String(r)):"bigint"===typeof r&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=z(o)),o+="n"),n+=` It must be ${t}. Received ${o}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function Z(e,t){let r;t=t||1/0;const n=e.length;let o=null;const i=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function H(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function G(e,t,r,n){let o;for(o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function Q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!==e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let o=0;o<16;++o)t[n+o]=e[r]+e[o]}return t}();function Y(e){return"undefined"===typeof BigInt?$:e}function $(){throw new Error("BigInt not supported")}},26434:function(e,t,r){"use strict";var n=r(97429).Buffer,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.map=t.array=t.rustEnum=t.str=t.vecU8=t.tagged=t.vec=t.bool=t.option=t.publicKey=t.i128=t.u128=t.i64=t.u64=t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0;const i=r(12324),s=r(71256),a=o(r(48744));var u=r(12324);Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return u.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return u.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return u.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return u.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return u.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return u.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return u.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return u.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return u.struct}});class c extends i.Layout{constructor(e,t,r){super(e,r),this.blob=i.blob(e),this.signed=t}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=new a.default(this.blob.decode(e,t),10,"le");return this.signed?r.fromTwos(8*this.span).clone():r}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(n,"le",this.span),t,r)}}function d(e){return new c(8,!1,e)}t.u64=d,t.i64=function(e){return new c(8,!0,e)},t.u128=function(e){return new c(16,!1,e)},t.i128=function(e){return new c(16,!0,e)};class l extends i.Layout{constructor(e,t,r,n){super(e.span,n),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}t.publicKey=function(e){return new l(i.blob(32),(e=>new s.PublicKey(e)),(e=>e.toBuffer()),e)};class h extends i.Layout{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=i.u8()}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null===e||void 0===e?this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+1)+1)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.discriminator.decode(e,t);if(0===r)return null;if(1===r)return this.layout.decode(e,t+1);throw new Error("Invalid option "+this.property)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.discriminator.decode(e,t);if(0===r)return 1;if(1===r)return this.layout.getSpan(e,t+1)+1;throw new Error("Invalid option "+this.property)}}function f(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}function p(e){return e?1:0}function m(e){const t=i.u32("length"),r=i.struct([t,i.blob(i.offset(t,-t.span),"data")]);return new l(r,(e=>{let{data:t}=e;return t}),(e=>({data:e})),e)}t.option=function(e,t){return new h(e,t)},t.bool=function(e){return new l(i.u8(),f,p,e)},t.vec=function(e,t){const r=i.u32("length"),n=i.struct([r,i.seq(e,i.offset(r,-r.span),"values")]);return new l(n,(e=>{let{values:t}=e;return t}),(e=>({values:e})),t)},t.tagged=function(e,t,r){const n=i.struct([d("tag"),t.replicate("data")]);return new l(n,(function(t){let{tag:r,data:n}=t;if(!r.eq(e))throw new Error("Invalid tag, expected: "+e.toString("hex")+", got: "+r.toString("hex"));return n}),(t=>({tag:e,data:t})),r)},t.vecU8=m,t.str=function(e){return new l(m(),(e=>e.toString("utf-8")),(e=>n.from(e,"utf-8")),e)},t.rustEnum=function(e,t,r){const n=i.union(null!==r&&void 0!==r?r:i.u8(),t);return e.forEach(((e,t)=>n.addVariant(t,e,e.property))),n},t.array=function(e,t,r){const n=i.struct([i.seq(e,t,"values")]);return new l(n,(e=>{let{values:t}=e;return t}),(e=>({values:e})),r)};class g extends i.Layout{constructor(e,t,r){super(e.span+t.span,r),this.keyLayout=e,this.valueLayout=t}decode(e,t){t=t||0;return[this.keyLayout.decode(e,t),this.valueLayout.decode(e,t+this.keyLayout.getSpan(e,t))]}encode(e,t,r){r=r||0;const n=this.keyLayout.encode(e[0],t,r);return n+this.valueLayout.encode(e[1],t,r+n)}getSpan(e,t){return this.keyLayout.getSpan(e,t)+this.valueLayout.getSpan(e,t)}}t.map=function(e,t,r){const n=i.u32("length"),o=i.struct([n,i.seq(new g(e,t),i.offset(n,-n.span),"values")]);return new l(o,(e=>{let{values:t}=e;return new Map(t)}),(e=>({values:Array.from(e.entries())})),r)}},89768:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInstructionErrorResponse=t.KNOWN_PROGRAMS=t.DexError=void 0;const n=r(71256),o=r(1127),i=r(63786);var s;!function(e){e[e.InvalidMarketFlags=0]="InvalidMarketFlags",e[e.InvalidAskFlags=1]="InvalidAskFlags",e[e.InvalidBidFlags=2]="InvalidBidFlags",e[e.InvalidQueueLength=3]="InvalidQueueLength",e[e.OwnerAccountNotProvided=4]="OwnerAccountNotProvided",e[e.ConsumeEventsQueueFailure=5]="ConsumeEventsQueueFailure",e[e.WrongCoinVault=6]="WrongCoinVault",e[e.WrongPcVault=7]="WrongPcVault",e[e.WrongCoinMint=8]="WrongCoinMint",e[e.WrongPcMint=9]="WrongPcMint",e[e.CoinVaultProgramId=10]="CoinVaultProgramId",e[e.PcVaultProgramId=11]="PcVaultProgramId",e[e.CoinMintProgramId=12]="CoinMintProgramId",e[e.PcMintProgramId=13]="PcMintProgramId",e[e.WrongCoinMintSize=14]="WrongCoinMintSize",e[e.WrongPcMintSize=15]="WrongPcMintSize",e[e.WrongCoinVaultSize=16]="WrongCoinVaultSize",e[e.WrongPcVaultSize=17]="WrongPcVaultSize",e[e.UninitializedVault=18]="UninitializedVault",e[e.UninitializedMint=19]="UninitializedMint",e[e.CoinMintUninitialized=20]="CoinMintUninitialized",e[e.PcMintUninitialized=21]="PcMintUninitialized",e[e.WrongMint=22]="WrongMint",e[e.WrongVaultOwner=23]="WrongVaultOwner",e[e.VaultHasDelegate=24]="VaultHasDelegate",e[e.AlreadyInitialized=25]="AlreadyInitialized",e[e.WrongAccountDataAlignment=26]="WrongAccountDataAlignment",e[e.WrongAccountDataPaddingLength=27]="WrongAccountDataPaddingLength",e[e.WrongAccountHeadPadding=28]="WrongAccountHeadPadding",e[e.WrongAccountTailPadding=29]="WrongAccountTailPadding",e[e.RequestQueueEmpty=30]="RequestQueueEmpty",e[e.EventQueueTooSmall=31]="EventQueueTooSmall",e[e.SlabTooSmall=32]="SlabTooSmall",e[e.BadVaultSignerNonce=33]="BadVaultSignerNonce",e[e.InsufficientFunds=34]="InsufficientFunds",e[e.SplAccountProgramId=35]="SplAccountProgramId",e[e.SplAccountLen=36]="SplAccountLen",e[e.WrongFeeDiscountAccountOwner=37]="WrongFeeDiscountAccountOwner",e[e.WrongFeeDiscountMint=38]="WrongFeeDiscountMint",e[e.CoinPayerProgramId=39]="CoinPayerProgramId",e[e.PcPayerProgramId=40]="PcPayerProgramId",e[e.ClientIdNotFound=41]="ClientIdNotFound",e[e.TooManyOpenOrders=42]="TooManyOpenOrders",e[e.FakeErrorSoWeDontChangeNumbers=43]="FakeErrorSoWeDontChangeNumbers",e[e.BorrowError=44]="BorrowError",e[e.WrongOrdersAccount=45]="WrongOrdersAccount",e[e.WrongBidsAccount=46]="WrongBidsAccount",e[e.WrongAsksAccount=47]="WrongAsksAccount",e[e.WrongRequestQueueAccount=48]="WrongRequestQueueAccount",e[e.WrongEventQueueAccount=49]="WrongEventQueueAccount",e[e.RequestQueueFull=50]="RequestQueueFull",e[e.EventQueueFull=51]="EventQueueFull",e[e.MarketIsDisabled=52]="MarketIsDisabled",e[e.WrongSigner=53]="WrongSigner",e[e.TransferFailed=54]="TransferFailed",e[e.ClientOrderIdIsZero=55]="ClientOrderIdIsZero",e[e.WrongRentSysvarAccount=56]="WrongRentSysvarAccount",e[e.RentNotProvided=57]="RentNotProvided",e[e.OrdersNotRentExempt=58]="OrdersNotRentExempt",e[e.OrderNotFound=59]="OrderNotFound",e[e.OrderNotYours=60]="OrderNotYours",e[e.WouldSelfTrade=61]="WouldSelfTrade",e[e.Unknown=1e3]="Unknown"}(s=t.DexError||(t.DexError={})),t.KNOWN_PROGRAMS={[i.TOKEN_PROGRAM_ID.toString()]:"Token program",[n.SystemProgram.programId.toString()]:"System program"},t.parseInstructionErrorResponse=function(e,r){const[n,i]=r,a=e.instructions[n];let u;if(a.programId.toString()in o.PROGRAM_LAYOUT_VERSIONS)u=s[i.Custom];else if(a.programId.toString()in t.KNOWN_PROGRAMS){u=`${t.KNOWN_PROGRAMS[a.programId.toString()]} error ${i.Custom}`}else u=`Unknown program ${a.programId.toString()} custom error: ${i.Custom}`;return{failedInstructionIndex:n,error:u,failedProgram:a.programId.toString()}}},12463:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeeTier=t.getFeeRates=t.supportsSrmFeeDiscounts=void 0;const n=r(1127);t.supportsSrmFeeDiscounts=function(e){return n.getLayoutVersion(e)>1},t.getFeeRates=function(e){return 1===e?{taker:.002,maker:-3e-4}:2===e?{taker:.0018,maker:-3e-4}:3===e?{taker:.0016,maker:-3e-4}:4===e?{taker:.0014,maker:-3e-4}:5===e?{taker:.0012,maker:-3e-4}:6===e?{taker:.001,maker:-5e-4}:{taker:.0022,maker:-3e-4}},t.getFeeTier=function(e,t){return e>=1?6:t>=1e6?5:t>=1e5?4:t>=1e4?3:t>=1e3?2:t>=100?1:0}},94706:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.PermissionedCrank=t.ReferralFees=t.OpenOrdersPda=t.MarketProxyBuilder=t.MarketProxy=t.TokenInstructions=t.EVENT_QUEUE_LAYOUT=t.REQUEST_QUEUE_LAYOUT=t.decodeRequestQueue=t.decodeEventQueue=t.getLayoutVersion=t.MARKETS=t.TOKEN_MINTS=t.supportsSrmFeeDiscounts=t.getFeeRates=t.getFeeTier=t.NEW_ORDER_V3_OWNER_INDEX=t.NEW_ORDER_V3_OPEN_ORDERS_INDEX=t.NEW_ORDER_OWNER_INDEX=t.NEW_ORDER_OPEN_ORDERS_INDEX=t.SETTLE_FUNDS_QUOTE_WALLET_INDEX=t.SETTLE_FUNDS_BASE_WALLET_INDEX=t.decodeInstruction=t.DexInstructions=t.MARKET_STATE_LAYOUT_V2=t.MARKET_STATE_LAYOUT_V3=t.OpenOrders=t.Orderbook=t.Market=void 0;var a=r(83989);Object.defineProperty(t,"Market",{enumerable:!0,get:function(){return a.Market}}),Object.defineProperty(t,"Orderbook",{enumerable:!0,get:function(){return a.Orderbook}}),Object.defineProperty(t,"OpenOrders",{enumerable:!0,get:function(){return a.OpenOrders}}),Object.defineProperty(t,"MARKET_STATE_LAYOUT_V3",{enumerable:!0,get:function(){return a.MARKET_STATE_LAYOUT_V3}}),Object.defineProperty(t,"MARKET_STATE_LAYOUT_V2",{enumerable:!0,get:function(){return a.MARKET_STATE_LAYOUT_V2}});var u=r(2936);Object.defineProperty(t,"DexInstructions",{enumerable:!0,get:function(){return u.DexInstructions}}),Object.defineProperty(t,"decodeInstruction",{enumerable:!0,get:function(){return u.decodeInstruction}}),Object.defineProperty(t,"SETTLE_FUNDS_BASE_WALLET_INDEX",{enumerable:!0,get:function(){return u.SETTLE_FUNDS_BASE_WALLET_INDEX}}),Object.defineProperty(t,"SETTLE_FUNDS_QUOTE_WALLET_INDEX",{enumerable:!0,get:function(){return u.SETTLE_FUNDS_QUOTE_WALLET_INDEX}}),Object.defineProperty(t,"NEW_ORDER_OPEN_ORDERS_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_OPEN_ORDERS_INDEX}}),Object.defineProperty(t,"NEW_ORDER_OWNER_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_OWNER_INDEX}}),Object.defineProperty(t,"NEW_ORDER_V3_OPEN_ORDERS_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_V3_OPEN_ORDERS_INDEX}}),Object.defineProperty(t,"NEW_ORDER_V3_OWNER_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_V3_OWNER_INDEX}});var c=r(12463);Object.defineProperty(t,"getFeeTier",{enumerable:!0,get:function(){return c.getFeeTier}}),Object.defineProperty(t,"getFeeRates",{enumerable:!0,get:function(){return c.getFeeRates}}),Object.defineProperty(t,"supportsSrmFeeDiscounts",{enumerable:!0,get:function(){return c.supportsSrmFeeDiscounts}});var d=r(1127);Object.defineProperty(t,"TOKEN_MINTS",{enumerable:!0,get:function(){return d.TOKEN_MINTS}}),Object.defineProperty(t,"MARKETS",{enumerable:!0,get:function(){return d.MARKETS}}),Object.defineProperty(t,"getLayoutVersion",{enumerable:!0,get:function(){return d.getLayoutVersion}});var l=r(31472);Object.defineProperty(t,"decodeEventQueue",{enumerable:!0,get:function(){return l.decodeEventQueue}}),Object.defineProperty(t,"decodeRequestQueue",{enumerable:!0,get:function(){return l.decodeRequestQueue}}),Object.defineProperty(t,"REQUEST_QUEUE_LAYOUT",{enumerable:!0,get:function(){return l.REQUEST_QUEUE_LAYOUT}}),Object.defineProperty(t,"EVENT_QUEUE_LAYOUT",{enumerable:!0,get:function(){return l.EVENT_QUEUE_LAYOUT}}),t.TokenInstructions=i(r(63786)),s(r(89768),t);var h=r(87002);Object.defineProperty(t,"MarketProxy",{enumerable:!0,get:function(){return h.MarketProxy}}),Object.defineProperty(t,"MarketProxyBuilder",{enumerable:!0,get:function(){return h.MarketProxyBuilder}});var f=r(18786);Object.defineProperty(t,"OpenOrdersPda",{enumerable:!0,get:function(){return f.OpenOrdersPda}}),Object.defineProperty(t,"ReferralFees",{enumerable:!0,get:function(){return f.ReferralFees}}),Object.defineProperty(t,"PermissionedCrank",{enumerable:!0,get:function(){return f.PermissionedCrank}}),Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return f.Logger}})},2936:function(e,t,r){"use strict";var n=r(97429).Buffer,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DexInstructions=t.decodeInstruction=t.encodeInstructionV2=t.encodeInstruction=t.INSTRUCTION_LAYOUT_V2=t.INSTRUCTION_LAYOUT=t.NEW_ORDER_V3_OWNER_INDEX=t.NEW_ORDER_V3_OPEN_ORDERS_INDEX=t.NEW_ORDER_OWNER_INDEX=t.NEW_ORDER_OPEN_ORDERS_INDEX=t.SETTLE_FUNDS_QUOTE_WALLET_INDEX=t.SETTLE_FUNDS_BASE_WALLET_INDEX=void 0;const i=r(12324),s=r(84321),a=r(71256),u=r(63786),c=o(r(48744));function d(e){const r=n.alloc(100);return r.slice(0,t.INSTRUCTION_LAYOUT.encode(e,r))}function l(e){const r=n.alloc(100);return r.slice(0,t.INSTRUCTION_LAYOUT_V2.encode(e,r))}t.SETTLE_FUNDS_BASE_WALLET_INDEX=5,t.SETTLE_FUNDS_QUOTE_WALLET_INDEX=6,t.NEW_ORDER_OPEN_ORDERS_INDEX=1,t.NEW_ORDER_OWNER_INDEX=4,t.NEW_ORDER_V3_OPEN_ORDERS_INDEX=1,t.NEW_ORDER_V3_OWNER_INDEX=7,t.INSTRUCTION_LAYOUT=new s.VersionedLayout(0,i.union(i.u32("instruction"))),t.INSTRUCTION_LAYOUT.inner.addVariant(0,i.struct([s.u64("baseLotSize"),s.u64("quoteLotSize"),i.u16("feeRateBps"),s.u64("vaultSignerNonce"),s.u64("quoteDustThreshold")]),"initializeMarket"),t.INSTRUCTION_LAYOUT.inner.addVariant(1,i.struct([s.sideLayout("side"),s.u64("limitPrice"),s.u64("maxQuantity"),s.orderTypeLayout("orderType"),s.u64("clientId")]),"newOrder"),t.INSTRUCTION_LAYOUT.inner.addVariant(2,i.struct([i.u16("limit")]),"matchOrders"),t.INSTRUCTION_LAYOUT.inner.addVariant(3,i.struct([i.u16("limit")]),"consumeEvents"),t.INSTRUCTION_LAYOUT.inner.addVariant(4,i.struct([s.sideLayout("side"),s.u128("orderId"),s.publicKeyLayout("openOrders"),i.u8("openOrdersSlot")]),"cancelOrder"),t.INSTRUCTION_LAYOUT.inner.addVariant(5,i.struct([]),"settleFunds"),t.INSTRUCTION_LAYOUT.inner.addVariant(6,i.struct([s.u64("clientId")]),"cancelOrderByClientId"),t.INSTRUCTION_LAYOUT.inner.addVariant(10,i.struct([s.sideLayout("side"),s.u64("limitPrice"),s.u64("maxBaseQuantity"),s.u64("maxQuoteQuantity"),s.selfTradeBehaviorLayout("selfTradeBehavior"),s.orderTypeLayout("orderType"),s.u64("clientId"),i.u16("limit")]),"newOrderV3"),t.INSTRUCTION_LAYOUT.inner.addVariant(11,i.struct([s.sideLayout("side"),s.u128("orderId")]),"cancelOrderV2"),t.INSTRUCTION_LAYOUT.inner.addVariant(12,i.struct([s.u64("clientId")]),"cancelOrderByClientIdV2"),t.INSTRUCTION_LAYOUT.inner.addVariant(14,i.struct([]),"closeOpenOrders"),t.INSTRUCTION_LAYOUT.inner.addVariant(15,i.struct([]),"initOpenOrders"),t.INSTRUCTION_LAYOUT.inner.addVariant(16,i.struct([i.u16("limit")]),"prune"),t.INSTRUCTION_LAYOUT.inner.addVariant(17,i.struct([i.u16("limit")]),"consumeEventsPermissioned"),t.INSTRUCTION_LAYOUT.inner.addVariant(18,i.struct([s.u64("clientId0"),s.u64("clientId1"),s.u64("clientId2"),s.u64("clientId3"),s.u64("clientId4"),s.u64("clientId5"),s.u64("clientId6"),s.u64("clientId7")]),"cancelOrdersByClientIds"),t.INSTRUCTION_LAYOUT_V2=new s.VersionedLayout(0,i.union(i.u32("instruction"))),t.INSTRUCTION_LAYOUT_V2.inner.addVariant(10,i.struct([s.sideLayout("side"),s.u64("limitPrice"),s.u64("maxBaseQuantity"),s.u64("maxQuoteQuantity"),s.selfTradeBehaviorLayout("selfTradeBehavior"),s.orderTypeLayout("orderType"),s.u64("clientId"),i.u16("limit"),s.i64("maxTs")]),"newOrderV3"),t.encodeInstruction=d,t.encodeInstructionV2=l,t.decodeInstruction=function(e){return t.INSTRUCTION_LAYOUT.decode(e)};t.DexInstructions=class{static initializeMarket(e){let{market:t,requestQueue:r,eventQueue:n,bids:o,asks:i,baseVault:s,quoteVault:u,baseMint:c,quoteMint:l,baseLotSize:h,quoteLotSize:f,feeRateBps:p,vaultSignerNonce:m,quoteDustThreshold:g,programId:y,authority:b,pruneAuthority:w,crankAuthority:v}=e;new a.PublicKey("SysvarRent111111111111111111111111111111111");return new a.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:b?l:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}].concat(b?{pubkey:b,isSigner:!1,isWritable:!1}:[]).concat(b&&w?{pubkey:w,isSigner:!1,isWritable:!1}:[]).concat(b&&w&&v?{pubkey:v,isSigner:!1,isWritable:!1}:[]),programId:y,data:d({initializeMarket:{baseLotSize:h,quoteLotSize:f,feeRateBps:p,vaultSignerNonce:m,quoteDustThreshold:g}})})}static newOrder(e){let{market:t,openOrders:r,payer:n,owner:o,requestQueue:i,baseVault:s,quoteVault:c,side:l,limitPrice:h,maxQuantity:f,orderType:p,clientId:m,programId:g,feeDiscountPubkey:y=null}=e;const b=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return y&&b.push({pubkey:y,isSigner:!1,isWritable:!1}),new a.TransactionInstruction({keys:b,programId:g,data:d({newOrder:m?{side:l,limitPrice:h,maxQuantity:f,orderType:p,clientId:m}:{side:l,limitPrice:h,maxQuantity:f,orderType:p}})})}static newOrderV3(e){let{market:t,openOrders:r,payer:n,owner:o,requestQueue:i,eventQueue:s,bids:h,asks:f,baseVault:p,quoteVault:m,side:g,limitPrice:y,maxBaseQuantity:b,maxQuoteQuantity:w,orderType:v,clientId:_,programId:A,selfTradeBehavior:S,feeDiscountPubkey:k=null,maxTs:E=null}=e;const T=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:u.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];k&&T.push({pubkey:k,isSigner:!1,isWritable:!1});const P=E?l:d;return new a.TransactionInstruction({keys:T,programId:A,data:P({newOrderV3:{side:g,limitPrice:y,maxBaseQuantity:b,maxQuoteQuantity:w,selfTradeBehavior:S,orderType:v,clientId:_,limit:65535,maxTs:new c.default(null!==E&&void 0!==E?E:"9223372036854775807")}})})}static matchOrders(e){let{market:t,requestQueue:r,eventQueue:n,bids:o,asks:i,baseVault:s,quoteVault:u,limit:c,programId:l}=e;return new a.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0}],programId:l,data:d({matchOrders:{limit:c}})})}static consumeEvents(e){let{market:t,eventQueue:r,coinFee:n,pcFee:o,openOrdersAccounts:i,limit:s,programId:u}=e;return new a.TransactionInstruction({keys:[...i.map((e=>({pubkey:e,isSigner:!1,isWritable:!0}))),{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWriteable:!0},{pubkey:o,isSigner:!1,isWritable:!0}],programId:u,data:d({consumeEvents:{limit:s}})})}static consumeEventsPermissioned(e){let{market:t,eventQueue:r,crankAuthority:n,openOrdersAccounts:o,limit:i,programId:s}=e;return new a.TransactionInstruction({keys:[...o.map((e=>({pubkey:e,isSigner:!1,isWritable:!0}))),{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:s,data:d({consumeEventsPermissioned:{limit:i}})})}static cancelOrder(e){let{market:t,openOrders:r,owner:n,requestQueue:o,side:i,orderId:s,openOrdersSlot:u,programId:c}=e;return new a.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:c,data:d({cancelOrder:{side:i,orderId:s,openOrders:r,openOrdersSlot:u}})})}static cancelOrderV2(e){const{market:t,bids:r,asks:n,eventQueue:o,openOrders:i,owner:s,side:u,orderId:c,programId:l}=e;return new a.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0}],programId:l,data:d({cancelOrderV2:{side:u,orderId:c}})})}static cancelOrderByClientId(e){let{market:t,openOrders:r,owner:n,requestQueue:o,clientId:i,programId:s}=e;return new a.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:s,data:d({cancelOrderByClientId:{clientId:i}})})}static cancelOrderByClientIdV2(e){let{market:t,openOrders:r,owner:n,bids:o,asks:i,eventQueue:s,clientId:u,programId:c}=e;return new a.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0}],programId:c,data:d({cancelOrderByClientIdV2:{clientId:u}})})}static cancelOrdersByClientIds(e){let{market:t,openOrders:r,owner:n,bids:o,asks:i,eventQueue:s,clientIds:u,programId:l}=e;if(u.length>8)throw new Error("Number of client ids cannot exceed 8!");for(;u.length<8;)u.push(new c.default(0));return new a.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0}],programId:l,data:d({cancelOrdersByClientIds:Object.fromEntries(u.map(((e,t)=>[`clientId${t}`,e])))})})}static settleFunds(e){let{market:t,openOrders:r,owner:n,baseVault:o,quoteVault:i,baseWallet:s,quoteWallet:c,vaultSigner:l,programId:h,referrerQuoteWallet:f=null}=e;const p=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:u.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}];return f&&p.push({pubkey:f,isSigner:!1,isWritable:!0}),new a.TransactionInstruction({keys:p,programId:h,data:d({settleFunds:{}})})}static closeOpenOrders(e){let{market:t,openOrders:r,owner:n,solWallet:o,programId:i}=e;const s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1}];return new a.TransactionInstruction({keys:s,programId:i,data:d({closeOpenOrders:{}})})}static initOpenOrders(e){let{market:t,openOrders:r,owner:n,programId:o,marketAuthority:i}=e;const s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}].concat(i?{pubkey:i,isSigner:!1,isWritable:!1}:[]);return new a.TransactionInstruction({keys:s,programId:o,data:d({initOpenOrders:{}})})}static prune(e){let{market:t,bids:r,asks:n,eventQueue:o,pruneAuthority:i,openOrders:s,openOrdersOwner:u,programId:c,limit:l}=e;const h=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0}];return new a.TransactionInstruction({keys:h,programId:c,data:d({prune:{limit:l}})})}}},84321:function(e,t,r){"use strict";var n=r(97429).Buffer,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setLayoutEncoder=t.setLayoutDecoder=t.accountFlagsLayout=t.selfTradeBehaviorLayout=t.orderTypeLayout=t.sideLayout=t.VersionedLayout=t.WideBits=t.u128=t.i64=t.u64=t.publicKeyLayout=t.zeros=void 0;const i=r(12324),s=r(71256),a=o(r(48744));class u extends i.Blob{decode(e,t){const r=super.decode(e,t);if(!r.every((e=>0===e)))throw new Error("nonzero padding bytes");return r}}t.zeros=function(e){return new u(e)};class c extends i.Blob{constructor(e){super(32,e)}decode(e,t){return new s.PublicKey(super.decode(e,t))}encode(e,t,r){return super.encode(e.toBuffer(),t,r)}}t.publicKeyLayout=function(e){return new c(e)};class d extends i.Blob{decode(e,t){return new a.default(super.decode(e,t),10,"le")}encode(e,t,r){return super.encode(e.toArrayLike(n,"le",this.span),t,r)}}t.u64=function(e){return new d(8,e)},t.i64=function(e){return new d(8,e)},t.u128=function(e){return new d(16,e)};class l extends i.Layout{constructor(e){super(8,e),this._lower=i.bits(i.u32(),!1),this._upper=i.bits(i.u32(),!1)}addBoolean(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{...this._lower.decode(e,t),...this._upper.decode(e,t+this._lower.span)}}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._lower.encode(e,t,r)+this._upper.encode(e,t,r+this._lower.span)}}t.WideBits=l;class h extends i.Layout{constructor(e,t,r){super(t.span>0?t.span+1:t.span,r),this.version=e,this.inner=t}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.inner.decode(e,t+1)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.writeUInt8(this.version,r),1+this.inner.encode(e,t,r+1)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 1+this.inner.getSpan(e,t+1)}}t.VersionedLayout=h;class f extends i.UInt{constructor(e,t,r){super(t,r),this.values=e}encode(e,t,r){if(void 0!==this.values[e])return super.encode(this.values[e],t,r);throw new Error("Invalid "+this.property)}decode(e,t){const r=super.decode(e,t),n=Object.entries(this.values).find((e=>{let[,t]=e;return t===r}));if(n)return n[0];throw new Error("Invalid "+this.property)}}t.sideLayout=function(e){return new f({buy:0,sell:1},4,e)},t.orderTypeLayout=function(e){return new f({limit:0,ioc:1,postOnly:2},4,e)},t.selfTradeBehaviorLayout=function(e){return new f({decrementTake:0,cancelProvide:1,abortTransaction:2},4,e)};const p=new l;p.addBoolean("initialized"),p.addBoolean("market"),p.addBoolean("openOrders"),p.addBoolean("requestQueue"),p.addBoolean("eventQueue"),p.addBoolean("bids"),p.addBoolean("asks"),t.accountFlagsLayout=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"accountFlags";return p.replicate(e)},t.setLayoutDecoder=function(e,t){const r=e.decode;e.decode=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t(r.call(this,e,n))}},t.setLayoutEncoder=function(e,t){const r=e.encode;return e.encode=function(e,n,o){return r.call(this,t(e),n,o)},e}},87002:(e,t,r)=>{"use strict";var n=r(97429).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.MarketProxyBuilder=t.MarketProxyInstruction=t.MarketProxy=void 0;const o=r(26969),i=r(83989),s=r(2936);class a{constructor(e,t){this._market=e,this._instruction=t}get market(){return this._market}get instruction(){return this._instruction}get dexProgramId(){return this._market.programId}get proxyProgramId(){return this._instruction.proxyProgramId}}t.MarketProxy=a;class u{constructor(e,t,r,n){this._proxyProgramId=e,this._dexProgramId=t,this._market=r,this._middlewares=n}get proxyProgramId(){return this._proxyProgramId}newOrderV3(e){const t=this._market.makeNewOrderV3Instruction({...e,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.newOrderV3(t))),this.proxy(t)}initOpenOrders(e,t,r,n){const o=s.DexInstructions.initOpenOrders({market:t,openOrders:r,owner:e,programId:this._proxyProgramId,marketAuthority:n});return this._middlewares.forEach((e=>e.initOpenOrders(o))),this.proxy(o)}cancelOrder(e,t){const r=s.DexInstructions.cancelOrderV2({market:this._market.address,owner:e,openOrders:t.openOrdersAddress,bids:this._market.decoded.bids,asks:this._market.decoded.asks,eventQueue:this._market.decoded.eventQueue,side:t.side,orderId:t.orderId,openOrdersSlot:t.openOrdersSlot,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.cancelOrderV2(r))),this.proxy(r)}cancelOrderByClientId(e,t,r){const n=s.DexInstructions.cancelOrderByClientIdV2({market:this._market.address,openOrders:t,owner:e,bids:this._market.decoded.bids,asks:this._market.decoded.asks,eventQueue:this._market.decoded.eventQueue,clientId:r,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.cancelOrderByClientIdV2(n))),this.proxy(n)}settleFunds(e,t,r,i,a){const u=s.DexInstructions.settleFunds({market:this._market.address,openOrders:e,owner:t,baseVault:this._market.decoded.baseVault,quoteVault:this._market.decoded.quoteVault,baseWallet:r,quoteWallet:i,vaultSigner:o.utils.publicKey.createProgramAddressSync([this._market.address.toBuffer(),this._market.decoded.vaultSignerNonce.toArrayLike(n,"le",8)],this._dexProgramId),programId:this._proxyProgramId,referrerQuoteWallet:a});return this._middlewares.forEach((e=>e.settleFunds(u))),this.proxy(u)}closeOpenOrders(e,t,r){const n=s.DexInstructions.closeOpenOrders({market:this._market.address,openOrders:e,owner:t,solWallet:r,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.closeOpenOrders(n))),this.proxy(n)}prune(e,t,r){r||(r=65535);const n=s.DexInstructions.prune({market:this._market.address,bids:this._market.decoded.bids,asks:this._market.decoded.asks,eventQueue:this._market.decoded.eventQueue,pruneAuthority:this._market.decoded.pruneAuthority,openOrders:e,openOrdersOwner:t,programId:this._proxyProgramId,limit:r});return this._middlewares.forEach((e=>e.prune(n))),this.proxy(n)}consumeEvents(e,t){const r=s.DexInstructions.consumeEvents({market:this._market.address,eventQueue:this._market.decoded.eventQueue,coinFee:this._market.decoded.eventQueue,pcFee:this._market.decoded.eventQueue,openOrdersAccounts:e,limit:t,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.consumeEvents(r))),this.proxy(r)}consumeEventsPermissioned(e,t){const r=s.DexInstructions.consumeEventsPermissioned({market:this._market.address,eventQueue:this._market.decoded.eventQueue,crankAuthority:this._market.decoded.consumeEventsAuthority,openOrdersAccounts:e,limit:t,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.consumeEventsPermissioned(r))),this.proxy(r)}proxy(e){return e.keys=[{pubkey:this._dexProgramId,isWritable:!1,isSigner:!1},...e.keys],e}}t.MarketProxyInstruction=u;t.MarketProxyBuilder=class{constructor(){this._middlewares=[]}middleware(e){return this._middlewares.push(e),this}async load(e){let{connection:t,market:r,options:n={},dexProgramId:o,proxyProgramId:s}=e;const c=await i.Market.load(t,r,n,o,i.MARKET_STATE_LAYOUT_V3),d=new u(s,o,c,this._middlewares);return new a(c,d)}}},18786:(e,t,r)=>{"use strict";var n=r(97429).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.PermissionedCrank=t.ReferralFees=t.OpenOrdersPda=void 0;const o=r(26969),i=r(71256);t.OpenOrdersPda=class{constructor(e){let{proxyProgramId:t,dexProgramId:r}=e;this._proxyProgramId=t,this._dexProgramId=r}static async marketAuthority(e,t,r){const o=n.from([111,112,101,110,45,111,114,100,101,114,115,45,105,110,105,116]),[s]=await i.PublicKey.findProgramAddress([o,t.toBuffer(),e.toBuffer()],r);return s}static async openOrdersAddress(e,t,r,o){const s=n.from([111,112,101,110,45,111,114,100,101,114,115]),[a]=await i.PublicKey.findProgramAddress([s,r.toBuffer(),e.toBuffer(),t.toBuffer()],o);return a}initOpenOrders(e){const t=e.keys[2].pubkey,r=e.keys[1].pubkey,s=n.from([111,112,101,110,45,111,114,100,101,114,115]),a=n.from([111,112,101,110,45,111,114,100,101,114,115,45,105,110,105,116]),[u,c]=o.utils.publicKey.findProgramAddressSync([s,this._dexProgramId.toBuffer(),t.toBuffer(),r.toBuffer()],this._proxyProgramId),[d,l]=o.utils.publicKey.findProgramAddressSync([a,this._dexProgramId.toBuffer(),t.toBuffer()],this._proxyProgramId);e.keys[0].pubkey=u,e.keys[4].pubkey=d,e.keys[1].isWritable=!0,e.keys=[{pubkey:this._dexProgramId,isSigner:!1,isWritable:!1},{pubkey:i.SystemProgram.programId,isSigner:!1,isWritable:!1},...e.keys],e.data=n.concat([n.from([0,c,l]),e.data])}newOrderV3(e){e.data=n.concat([n.from([1]),e.data])}cancelOrderV2(e){e.data=n.concat([n.from([2]),e.data])}cancelOrderByClientIdV2(e){e.data=n.concat([n.from([3]),e.data])}settleFunds(e){e.data=n.concat([n.from([4]),e.data])}closeOpenOrders(e){e.data=n.concat([n.from([5]),e.data])}prune(e){e.data=n.concat([n.from([6]),e.data])}consumeEvents(e){e.data=n.concat([n.from([7]),e.data])}consumeEventsPermissioned(e){e.data=n.concat([n.from([8]),e.data])}};t.ReferralFees=class{initOpenOrders(e){}newOrderV3(e){}cancelOrderV2(e){}cancelOrderByClientIdV2(e){}settleFunds(e){}closeOpenOrders(e){}prune(e){}consumeEvents(e){}consumeEventsPermissioned(e){}};t.PermissionedCrank=class{initOpenOrders(e){}newOrderV3(e){}cancelOrderV2(e){}cancelOrderByClientIdV2(e){}settleFunds(e){}closeOpenOrders(e){}prune(e){}consumeEvents(e){}consumeEventsPermissioned(e){e.keys[e.keys.length-1].isSigner=!1}};t.Logger=class{initOpenOrders(e){console.log("Proxying initOpenOrders",this.ixToDisplay(e))}newOrderV3(e){console.log("Proxying newOrderV3",this.ixToDisplay(e))}cancelOrderV2(e){console.log("Proxying cancelOrderV2",this.ixToDisplay(e))}cancelOrderByClientIdV2(e){console.log("Proxying cancelOrderByClientIdV2",this.ixToDisplay(e))}settleFunds(e){console.log("Proxying settleFunds",this.ixToDisplay(e))}closeOpenOrders(e){console.log("Proxying closeOpenOrders",this.ixToDisplay(e))}prune(e){console.log("Proxying prune",this.ixToDisplay(e))}consumeEvents(e){console.log("Proxying consumeEvents",this.ixToDisplay(e))}consumeEventsPermissioned(e){console.log("Proxying consumeEventsPermissioned",this.ixToDisplay(e))}ixToDisplay(e){return{keys:e.keys.map((e=>({...e,pubkey:e.pubkey.toString()}))),programId:e.programId.toString(),data:new Uint8Array(e.data)}}}},83989:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMintDecimals=t.Orderbook=t.ORDERBOOK_LAYOUT=t.OpenOrders=t._OPEN_ORDERS_LAYOUT_V2=t._OPEN_ORDERS_LAYOUT_V1=t.Market=t.MARKET_STATE_LAYOUT_V3=t.MARKET_STATE_LAYOUT_V2=t._MARKET_STAT_LAYOUT_V1=void 0;const o=r(12324),i=r(84321),s=r(35366),a=r(2936),u=n(r(48744)),c=r(71256),d=r(31472),l=r(97429),h=r(12463),f=r(63786),p=r(1127);t._MARKET_STAT_LAYOUT_V1=o.struct([o.blob(5),i.accountFlagsLayout("accountFlags"),i.publicKeyLayout("ownAddress"),i.u64("vaultSignerNonce"),i.publicKeyLayout("baseMint"),i.publicKeyLayout("quoteMint"),i.publicKeyLayout("baseVault"),i.u64("baseDepositsTotal"),i.u64("baseFeesAccrued"),i.publicKeyLayout("quoteVault"),i.u64("quoteDepositsTotal"),i.u64("quoteFeesAccrued"),i.u64("quoteDustThreshold"),i.publicKeyLayout("requestQueue"),i.publicKeyLayout("eventQueue"),i.publicKeyLayout("bids"),i.publicKeyLayout("asks"),i.u64("baseLotSize"),i.u64("quoteLotSize"),i.u64("feeRateBps"),o.blob(7)]),t.MARKET_STATE_LAYOUT_V2=o.struct([o.blob(5),i.accountFlagsLayout("accountFlags"),i.publicKeyLayout("ownAddress"),i.u64("vaultSignerNonce"),i.publicKeyLayout("baseMint"),i.publicKeyLayout("quoteMint"),i.publicKeyLayout("baseVault"),i.u64("baseDepositsTotal"),i.u64("baseFeesAccrued"),i.publicKeyLayout("quoteVault"),i.u64("quoteDepositsTotal"),i.u64("quoteFeesAccrued"),i.u64("quoteDustThreshold"),i.publicKeyLayout("requestQueue"),i.publicKeyLayout("eventQueue"),i.publicKeyLayout("bids"),i.publicKeyLayout("asks"),i.u64("baseLotSize"),i.u64("quoteLotSize"),i.u64("feeRateBps"),i.u64("referrerRebatesAccrued"),o.blob(7)]),t.MARKET_STATE_LAYOUT_V3=o.struct([o.blob(5),i.accountFlagsLayout("accountFlags"),i.publicKeyLayout("ownAddress"),i.u64("vaultSignerNonce"),i.publicKeyLayout("baseMint"),i.publicKeyLayout("quoteMint"),i.publicKeyLayout("baseVault"),i.u64("baseDepositsTotal"),i.u64("baseFeesAccrued"),i.publicKeyLayout("quoteVault"),i.u64("quoteDepositsTotal"),i.u64("quoteFeesAccrued"),i.u64("quoteDustThreshold"),i.publicKeyLayout("requestQueue"),i.publicKeyLayout("eventQueue"),i.publicKeyLayout("bids"),i.publicKeyLayout("asks"),i.u64("baseLotSize"),i.u64("quoteLotSize"),i.u64("feeRateBps"),i.u64("referrerRebatesAccrued"),i.publicKeyLayout("authority"),i.publicKeyLayout("pruneAuthority"),i.publicKeyLayout("consumeEventsAuthority"),o.blob(992),o.blob(7)]);class m{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;const{skipPreflight:s=!1,commitment:a="recent"}=n;if(!e.accountFlags.initialized||!e.accountFlags.market)throw new Error("Invalid market state");this._decoded=e,this._baseSplTokenDecimals=t,this._quoteSplTokenDecimals=r,this._skipPreflight=s,this._commitment=a,this._programId=o,this._openOrdersAccountsCache={},this._feeDiscountKeysCache={},this._layoutOverride=i}static getLayout(e){return 1===p.getLayoutVersion(e)?t._MARKET_STAT_LAYOUT_V1:t.MARKET_STATE_LAYOUT_V2}static async findAccountsByMints(e,t,r,n){return A(e,n,[{memcmp:{offset:this.getLayout(n).offsetOf("baseMint"),bytes:t.toBase58()}},{memcmp:{offset:m.getLayout(n).offsetOf("quoteMint"),bytes:r.toBase58()}}])}static async load(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;const{owner:i,data:s}=S(await e.getAccountInfo(t),"Market not found");if(!i.equals(n))throw new Error("Address not owned by program: "+i.toBase58());const a=(null!==o&&void 0!==o?o:this.getLayout(n)).decode(s);if(!a.accountFlags.initialized||!a.accountFlags.market||!a.ownAddress.equals(t))throw new Error("Invalid market");const[u,c]=await Promise.all([_(e,a.baseMint),_(e,a.quoteMint)]);return new m(a,u,c,r,n,o)}get programId(){return this._programId}get address(){return this._decoded.ownAddress}get publicKey(){return this.address}get baseMintAddress(){return this._decoded.baseMint}get quoteMintAddress(){return this._decoded.quoteMint}get bidsAddress(){return this._decoded.bids}get asksAddress(){return this._decoded.asks}get decoded(){return this._decoded}async loadBids(e){const{data:t}=S(await e.getAccountInfo(this._decoded.bids));return y.decode(this,t)}async loadAsks(e){const{data:t}=S(await e.getAccountInfo(this._decoded.asks));return y.decode(this,t)}async loadOrdersForOwner(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const[n,o,i]=await Promise.all([this.loadBids(e),this.loadAsks(e),this.findOpenOrdersAccountsForOwner(e,t,r)]);return this.filterForOpenOrders(n,o,i)}filterForOpenOrders(e,t,r){return[...e,...t].filter((e=>r.some((t=>e.openOrdersAddress.equals(t.address)))))}async findBaseTokenAccountsForOwner(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.baseMintAddress.equals(f.WRAPPED_SOL_MINT)&&r){const[r,n]=await Promise.all([this.findBaseTokenAccountsForOwner(e,t,!1),e.getAccountInfo(t)]);return null!==n?[{pubkey:t,account:n},...r]:r}return await this.getTokenAccountsByOwnerForMint(e,t,this.baseMintAddress)}async getTokenAccountsByOwnerForMint(e,t,r){return(await e.getTokenAccountsByOwner(t,{mint:r})).value}async findQuoteTokenAccountsForOwner(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.quoteMintAddress.equals(f.WRAPPED_SOL_MINT)&&r){const[r,n]=await Promise.all([this.findQuoteTokenAccountsForOwner(e,t,!1),e.getAccountInfo(t)]);return null!==n?[{pubkey:t,account:n},...r]:r}return await this.getTokenAccountsByOwnerForMint(e,t,this.quoteMintAddress)}async findOpenOrdersAccountsForOwner(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=t.toBase58(),o=(new Date).getTime();if(n in this._openOrdersAccountsCache&&o-this._openOrdersAccountsCache[n].ts<r)return this._openOrdersAccountsCache[n].accounts;const i=await g.findForMarketAndOwner(e,this.address,t,this._programId);return this._openOrdersAccountsCache[n]={accounts:i,ts:o},i}async placeOrder(e,t){let{owner:r,payer:n,side:o,price:i,size:s,orderType:a="limit",clientId:u,openOrdersAddressKey:c,openOrdersAccount:d,feeDiscountPubkey:l,maxTs:h}=t;const{transaction:f,signers:p}=await this.makePlaceOrderTransaction(e,{owner:r,payer:n,side:o,price:i,size:s,orderType:a,clientId:u,openOrdersAddressKey:c,openOrdersAccount:d,feeDiscountPubkey:l,maxTs:h});return await this._sendTransaction(e,f,[r,...p])}getSplTokenBalanceFromAccountInfo(e,t){return w(new u.default(e.data.slice(64,72),10,"le"),new u.default(10).pow(new u.default(t)))}get supportsSrmFeeDiscounts(){return h.supportsSrmFeeDiscounts(this._programId)}get supportsReferralFees(){return p.getLayoutVersion(this._programId)>1}get usesRequestQueue(){return p.getLayoutVersion(this._programId)<=2}async findFeeDiscountKeys(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=[];const o=(new Date).getTime(),i=t.toBase58();if(i in this._feeDiscountKeysCache&&o-this._feeDiscountKeysCache[i].ts<r)return this._feeDiscountKeysCache[i].accounts;if(this.supportsSrmFeeDiscounts){const r=(await this.getTokenAccountsByOwnerForMint(e,t,f.MSRM_MINT)).map((e=>{let{pubkey:t,account:r}=e;const n=this.getSplTokenBalanceFromAccountInfo(r,f.MSRM_DECIMALS);return{pubkey:t,mint:f.MSRM_MINT,balance:n,feeTier:h.getFeeTier(n,0)}})),o=(await this.getTokenAccountsByOwnerForMint(e,t,f.SRM_MINT)).map((e=>{let{pubkey:t,account:r}=e;const n=this.getSplTokenBalanceFromAccountInfo(r,f.SRM_DECIMALS);return{pubkey:t,mint:f.SRM_MINT,balance:n,feeTier:h.getFeeTier(0,n)}}));n=r.concat(o).sort(((e,t)=>e.feeTier>t.feeTier?-1:e.feeTier<t.feeTier?1:e.balance>t.balance?-1:e.balance<t.balance?1:0))}return this._feeDiscountKeysCache[i]={accounts:n,ts:o},n}async findBestFeeDiscountKey(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4;const n=await this.findFeeDiscountKeys(e,t,r);return n.length>0?{pubkey:n[0].pubkey,feeTier:n[0].feeTier}:{pubkey:null,feeTier:0}}async makePlaceOrderTransaction(e,t){let{owner:r,payer:n,side:o,price:i,size:s,orderType:a="limit",clientId:u,openOrdersAddressKey:d,openOrdersAccount:l,feeDiscountPubkey:h,selfTradeBehavior:p="decrementTake",maxTs:m}=t,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;var w,v;const _=null!==(w=r.publicKey)&&void 0!==w?w:r,A=await this.findOpenOrdersAccountsForOwner(e,_,y),S=new c.Transaction,k=[];let E,T;if(E=h||(void 0===h&&this.supportsSrmFeeDiscounts?(await this.findBestFeeDiscountKey(e,_,b)).pubkey:null),0===A.length){let t;t=l||new c.Account,S.add(await g.makeCreateAccountTransaction(e,this.address,_,t.publicKey,this._programId)),T=t.publicKey,k.push(t),this._openOrdersAccountsCache[_.toBase58()].ts=0}else T=l?l.publicKey:d||A[0].address;let P=null;if(n.equals(_)){if(!("buy"===o&&this.quoteMintAddress.equals(f.WRAPPED_SOL_MINT)||"sell"===o&&this.baseMintAddress.equals(f.WRAPPED_SOL_MINT)))throw new Error("Invalid payer account");{let e;P=new c.Account,"buy"===o?(e=Math.round(i*s*1.01*c.LAMPORTS_PER_SOL),A.length>0&&(e-=A[0].quoteTokenFree.toNumber())):(e=Math.round(s*c.LAMPORTS_PER_SOL),A.length>0&&(e-=A[0].baseTokenFree.toNumber())),e=Math.max(e,0)+1e7,S.add(c.SystemProgram.createAccount({fromPubkey:_,newAccountPubkey:P.publicKey,lamports:e,space:165,programId:f.TOKEN_PROGRAM_ID})),S.add(f.initializeAccount({account:P.publicKey,mint:f.WRAPPED_SOL_MINT,owner:_})),k.push(P)}}const I=this.makePlaceOrderInstruction(e,{owner:r,payer:null!==(v=null===P||void 0===P?void 0:P.publicKey)&&void 0!==v?v:n,side:o,price:i,size:s,orderType:a,clientId:u,openOrdersAddressKey:T,feeDiscountPubkey:E,selfTradeBehavior:p,maxTs:m});return S.add(I),P&&S.add(f.closeAccount({source:P.publicKey,destination:_,owner:_})),{transaction:S,signers:k,payer:r}}makePlaceOrderInstruction(e,t){var r;const{owner:n,payer:o,side:i,price:s,size:c,orderType:d="limit",clientId:l,openOrdersAddressKey:h,openOrdersAccount:f,feeDiscountPubkey:p=null,maxTs:m}=t,g=null!==(r=n.publicKey)&&void 0!==r?r:n;if(this.baseSizeNumberToLots(c).lte(new u.default(0)))throw new Error("size too small");if(this.priceNumberToLots(s).lte(new u.default(0)))throw new Error("invalid price");return this.usesRequestQueue?a.DexInstructions.newOrder({market:this.address,requestQueue:this._decoded.requestQueue,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,openOrders:f?f.publicKey:h,owner:g,payer:o,side:i,limitPrice:this.priceNumberToLots(s),maxQuantity:this.baseSizeNumberToLots(c),orderType:d,clientId:l,programId:this._programId,feeDiscountPubkey:this.supportsSrmFeeDiscounts?p:null}):this.makeNewOrderV3Instruction(t)}makeNewOrderV3Instruction(e){var t;const{owner:r,payer:n,side:o,price:i,size:s,orderType:c="limit",clientId:d,openOrdersAddressKey:l,openOrdersAccount:h,feeDiscountPubkey:f=null,selfTradeBehavior:p="decrementTake",programId:m,maxTs:g}=e,y=null!==(t=r.publicKey)&&void 0!==t?t:r;return a.DexInstructions.newOrderV3({market:this.address,bids:this._decoded.bids,asks:this._decoded.asks,requestQueue:this._decoded.requestQueue,eventQueue:this._decoded.eventQueue,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,openOrders:h?h.publicKey:l,owner:y,payer:n,side:o,limitPrice:this.priceNumberToLots(i),maxBaseQuantity:this.baseSizeNumberToLots(s),maxQuoteQuantity:new u.default(this._decoded.quoteLotSize.toNumber()).mul(this.baseSizeNumberToLots(s).mul(this.priceNumberToLots(i))),orderType:c,clientId:d,programId:null!==m&&void 0!==m?m:this._programId,selfTradeBehavior:p,feeDiscountPubkey:this.supportsSrmFeeDiscounts?f:null,maxTs:g})}async _sendTransaction(e,t,r){const n=await e.sendTransaction(t,r,{skipPreflight:this._skipPreflight}),{value:o}=await e.confirmTransaction(n,this._commitment);if(null===o||void 0===o?void 0:o.err)throw new Error(JSON.stringify(o.err));return n}async cancelOrderByClientId(e,t,r,n){const o=await this.makeCancelOrderByClientIdTransaction(e,t.publicKey,r,n);return await this._sendTransaction(e,o,[t])}async cancelOrdersByClientIds(e,t,r,n){const o=await this.makeCancelOrdersByClientIdsTransaction(e,t.publicKey,r,n);return await this._sendTransaction(e,o,[t])}async makeCancelOrderByClientIdTransaction(e,t,r,n){const o=new c.Transaction;return this.usesRequestQueue?o.add(a.DexInstructions.cancelOrderByClientId({market:this.address,owner:t,openOrders:r,requestQueue:this._decoded.requestQueue,clientId:n,programId:this._programId})):o.add(a.DexInstructions.cancelOrderByClientIdV2({market:this.address,openOrders:r,owner:t,bids:this._decoded.bids,asks:this._decoded.asks,eventQueue:this._decoded.eventQueue,clientId:n,programId:this._programId})),o}async makeCancelOrdersByClientIdsTransaction(e,t,r,n){const o=new c.Transaction;return o.add(a.DexInstructions.cancelOrdersByClientIds({market:this.address,openOrders:r,owner:t,bids:this._decoded.bids,asks:this._decoded.asks,eventQueue:this._decoded.eventQueue,clientIds:n,programId:this._programId})),o}async cancelOrder(e,t,r){const n=await this.makeCancelOrderTransaction(e,t.publicKey,r);return await this._sendTransaction(e,n,[t])}async makeCancelOrderTransaction(e,t,r){const n=new c.Transaction;return n.add(this.makeCancelOrderInstruction(e,t,r)),n}makeCancelOrderInstruction(e,t,r){return this.usesRequestQueue?a.DexInstructions.cancelOrder({market:this.address,owner:t,openOrders:r.openOrdersAddress,requestQueue:this._decoded.requestQueue,side:r.side,orderId:r.orderId,openOrdersSlot:r.openOrdersSlot,programId:this._programId}):a.DexInstructions.cancelOrderV2({market:this.address,owner:t,openOrders:r.openOrdersAddress,bids:this._decoded.bids,asks:this._decoded.asks,eventQueue:this._decoded.eventQueue,side:r.side,orderId:r.orderId,openOrdersSlot:r.openOrdersSlot,programId:this._programId})}makeConsumeEventsInstruction(e,t){return a.DexInstructions.consumeEvents({market:this.address,eventQueue:this._decoded.eventQueue,coinFee:this._decoded.eventQueue,pcFee:this._decoded.eventQueue,openOrdersAccounts:e,limit:t,programId:this._programId})}makeConsumeEventsPermissionedInstruction(e,t){return a.DexInstructions.consumeEventsPermissioned({market:this.address,eventQueue:this._decoded.eventQueue,crankAuthority:this._decoded.consumeEventsAuthority,openOrdersAccounts:e,limit:t,programId:this._programId})}async settleFunds(e,t,r,n,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(!r.owner.equals(t.publicKey))throw new Error("Invalid open orders account");if(i&&!this.supportsReferralFees)throw new Error("This program ID does not support referrerQuoteWallet");const{transaction:s,signers:a}=await this.makeSettleFundsTransaction(e,r,n,o,i);return await this._sendTransaction(e,s,[t,...a])}async makeSettleFundsTransaction(e,t,r,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const i=await c.PublicKey.createProgramAddress([this.address.toBuffer(),this._decoded.vaultSignerNonce.toArrayLike(l.Buffer,"le",8)],this._programId),s=new c.Transaction,u=[];let d=null;return(this.baseMintAddress.equals(f.WRAPPED_SOL_MINT)&&r.equals(t.owner)||this.quoteMintAddress.equals(f.WRAPPED_SOL_MINT)&&n.equals(t.owner))&&(d=new c.Account,s.add(c.SystemProgram.createAccount({fromPubkey:t.owner,newAccountPubkey:d.publicKey,lamports:await e.getMinimumBalanceForRentExemption(165),space:165,programId:f.TOKEN_PROGRAM_ID})),s.add(f.initializeAccount({account:d.publicKey,mint:f.WRAPPED_SOL_MINT,owner:t.owner})),u.push(d)),s.add(a.DexInstructions.settleFunds({market:this.address,openOrders:t.address,owner:t.owner,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,baseWallet:r.equals(t.owner)&&d?d.publicKey:r,quoteWallet:n.equals(t.owner)&&d?d.publicKey:n,vaultSigner:i,programId:this._programId,referrerQuoteWallet:o})),d&&s.add(f.closeAccount({source:d.publicKey,destination:t.owner,owner:t.owner})),{transaction:s,signers:u,payer:t.owner}}async matchOrders(e,t,r){const n=this.makeMatchOrdersTransaction(r);return await this._sendTransaction(e,n,[t])}makeMatchOrdersTransaction(e){const t=new c.Transaction;return t.add(a.DexInstructions.matchOrders({market:this.address,requestQueue:this._decoded.requestQueue,eventQueue:this._decoded.eventQueue,bids:this._decoded.bids,asks:this._decoded.asks,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,limit:e,programId:this._programId})),t}async loadRequestQueue(e){const{data:t}=S(await e.getAccountInfo(this._decoded.requestQueue));return d.decodeRequestQueue(t)}async loadEventQueue(e){const{data:t}=S(await e.getAccountInfo(this._decoded.eventQueue));return d.decodeEventQueue(t)}async loadFills(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const{data:r}=S(await e.getAccountInfo(this._decoded.eventQueue));return d.decodeEventQueue(r,t).filter((e=>e.eventFlags.fill&&e.nativeQuantityPaid.gtn(0))).map(this.parseFillEvent.bind(this))}parseFillEvent(e){let t,r,n,o;return e.eventFlags.bid?(n="buy",o=e.eventFlags.maker?e.nativeQuantityPaid.add(e.nativeFeeOrRebate):e.nativeQuantityPaid.sub(e.nativeFeeOrRebate),r=w(o.mul(this._baseSplTokenMultiplier),this._quoteSplTokenMultiplier.mul(e.nativeQuantityReleased)),t=w(e.nativeQuantityReleased,this._baseSplTokenMultiplier)):(n="sell",o=e.eventFlags.maker?e.nativeQuantityReleased.sub(e.nativeFeeOrRebate):e.nativeQuantityReleased.add(e.nativeFeeOrRebate),r=w(o.mul(this._baseSplTokenMultiplier),this._quoteSplTokenMultiplier.mul(e.nativeQuantityPaid)),t=w(e.nativeQuantityPaid,this._baseSplTokenMultiplier)),{...e,side:n,price:r,feeCost:this.quoteSplSizeToNumber(e.nativeFeeOrRebate)*(e.eventFlags.maker?-1:1),size:t}}get _baseSplTokenMultiplier(){return new u.default(10).pow(new u.default(this._baseSplTokenDecimals))}get _quoteSplTokenMultiplier(){return new u.default(10).pow(new u.default(this._quoteSplTokenDecimals))}priceLotsToNumber(e){return w(e.mul(this._decoded.quoteLotSize).mul(this._baseSplTokenMultiplier),this._decoded.baseLotSize.mul(this._quoteSplTokenMultiplier))}priceNumberToLots(e){return new u.default(Math.round(e*Math.pow(10,this._quoteSplTokenDecimals)*this._decoded.baseLotSize.toNumber()/(Math.pow(10,this._baseSplTokenDecimals)*this._decoded.quoteLotSize.toNumber())))}baseSplSizeToNumber(e){return w(e,this._baseSplTokenMultiplier)}quoteSplSizeToNumber(e){return w(e,this._quoteSplTokenMultiplier)}baseSizeLotsToNumber(e){return w(e.mul(this._decoded.baseLotSize),this._baseSplTokenMultiplier)}baseSizeNumberToLots(e){return new u.default(Math.round(e*Math.pow(10,this._baseSplTokenDecimals))).div(this._decoded.baseLotSize)}quoteSizeLotsToNumber(e){return w(e.mul(this._decoded.quoteLotSize),this._quoteSplTokenMultiplier)}quoteSizeNumberToLots(e){return new u.default(Math.round(e*Math.pow(10,this._quoteSplTokenDecimals))).div(this._decoded.quoteLotSize)}get minOrderSize(){return this.baseSizeLotsToNumber(new u.default(1))}get tickSize(){return this.priceLotsToNumber(new u.default(1))}}t.Market=m,t._OPEN_ORDERS_LAYOUT_V1=o.struct([o.blob(5),i.accountFlagsLayout("accountFlags"),i.publicKeyLayout("market"),i.publicKeyLayout("owner"),i.u64("baseTokenFree"),i.u64("baseTokenTotal"),i.u64("quoteTokenFree"),i.u64("quoteTokenTotal"),i.u128("freeSlotBits"),i.u128("isBidBits"),o.seq(i.u128(),128,"orders"),o.seq(i.u64(),128,"clientIds"),o.blob(7)]),t._OPEN_ORDERS_LAYOUT_V2=o.struct([o.blob(5),i.accountFlagsLayout("accountFlags"),i.publicKeyLayout("market"),i.publicKeyLayout("owner"),i.u64("baseTokenFree"),i.u64("baseTokenTotal"),i.u64("quoteTokenFree"),i.u64("quoteTokenTotal"),i.u128("freeSlotBits"),i.u128("isBidBits"),o.seq(i.u128(),128,"orders"),o.seq(i.u64(),128,"clientIds"),i.u64("referrerRebatesAccrued"),o.blob(7)]);class g{constructor(e,t,r){this.address=e,this._programId=r,Object.assign(this,t)}static getLayout(e){return 1===p.getLayoutVersion(e)?t._OPEN_ORDERS_LAYOUT_V1:t._OPEN_ORDERS_LAYOUT_V2}static async findForOwner(e,t,r){const n=[{memcmp:{offset:this.getLayout(r).offsetOf("owner"),bytes:t.toBase58()}},{dataSize:this.getLayout(r).span}];return(await A(e,r,n)).map((e=>{let{publicKey:t,accountInfo:n}=e;return g.fromAccountInfo(t,n,r)}))}static async findForMarketAndOwner(e,t,r,n){const o=[{memcmp:{offset:this.getLayout(n).offsetOf("market"),bytes:t.toBase58()}},{memcmp:{offset:this.getLayout(n).offsetOf("owner"),bytes:r.toBase58()}},{dataSize:this.getLayout(n).span}];return(await A(e,n,o)).map((e=>{let{publicKey:t,accountInfo:r}=e;return g.fromAccountInfo(t,r,n)}))}static async load(e,t,r){const n=await e.getAccountInfo(t);if(null===n)throw new Error("Open orders account not found");return g.fromAccountInfo(t,n,r)}static fromAccountInfo(e,t,r){const{owner:n,data:o}=t;if(!n.equals(r))throw new Error("Address not owned by program");const i=this.getLayout(r).decode(o);if(!i.accountFlags.initialized||!i.accountFlags.openOrders)throw new Error("Invalid open orders account");return new g(e,i,r)}static async makeCreateAccountTransaction(e,t,r,n,o){return c.SystemProgram.createAccount({fromPubkey:r,newAccountPubkey:n,lamports:await e.getMinimumBalanceForRentExemption(this.getLayout(o).span),space:this.getLayout(o).span,programId:o})}get publicKey(){return this.address}}t.OpenOrders=g,t.ORDERBOOK_LAYOUT=o.struct([o.blob(5),i.accountFlagsLayout("accountFlags"),s.SLAB_LAYOUT.replicate("slab"),o.blob(7)]);class y{constructor(e,t,r){if(!t.initialized||!(t.bids^t.asks))throw new Error("Invalid orderbook");this.market=e,this.isBids=t.bids,this.slab=r}static get LAYOUT(){return t.ORDERBOOK_LAYOUT}static decode(e,r){const{accountFlags:n,slab:o}=t.ORDERBOOK_LAYOUT.decode(r);return new y(e,n,o)}getL2(e){const t=this.isBids,r=[];for(const{key:n,quantity:o}of this.slab.items(t)){const t=b(n);if(r.length>0&&r[r.length-1][0].eq(t))r[r.length-1][1]=r[r.length-1][1].add(o);else{if(r.length===e)break;r.push([t,o])}}return r.map((e=>{let[t,r]=e;return[this.market.priceLotsToNumber(t),this.market.baseSizeLotsToNumber(r),t,r]}))}[Symbol.iterator](){return this.items(!1)}*items(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(const{key:t,ownerSlot:r,owner:n,quantity:o,feeTier:i,clientOrderId:s}of this.slab.items(e)){const e=b(t);yield{orderId:t,clientId:s,openOrdersAddress:n,openOrdersSlot:r,feeTier:i,price:this.market.priceLotsToNumber(e),priceLots:e,size:this.market.baseSizeLotsToNumber(o),sizeLots:o,side:this.isBids?"buy":"sell"}}}}function b(e){return e.ushrn(64)}function w(e,t){const r=e.div(t).toNumber(),n=e.umod(t),o=n.gcd(t);return r+n.div(o).toNumber()/t.div(o).toNumber()}t.Orderbook=y;const v=o.struct([o.blob(44),o.u8("decimals"),o.blob(37)]);async function _(e,t){if(t.equals(f.WRAPPED_SOL_MINT))return 9;const{data:r}=S(await e.getAccountInfo(t),"mint not found"),{decimals:n}=v.decode(r);return n}async function A(e,t,r){const n=await e._rpcRequest("getProgramAccounts",[t.toBase58(),{commitment:e.commitment,filters:r,encoding:"base64"}]);if(n.error)throw new Error(n.error.message);return n.result.map((e=>{let{pubkey:t,account:{data:r,executable:n,owner:o,lamports:i}}=e;return{publicKey:new c.PublicKey(t),accountInfo:{data:l.Buffer.from(r[0],"base64"),executable:n,owner:new c.PublicKey(o),lamports:i}}}))}function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"account not found";if(null===e)throw new Error(t);return e}t.getMintDecimals=_},31472:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_QUEUE_LAYOUT=t.REQUEST_QUEUE_LAYOUT=t.decodeEventQueue=t.decodeRequestQueue=t.decodeEventsSince=void 0;const n=r(12324),o=r(84321),i=n.struct([n.blob(5),o.accountFlagsLayout("accountFlags"),n.u32("head"),o.zeros(4),n.u32("count"),o.zeros(4),n.u32("nextSeqNum"),o.zeros(4)]),s=n.bits(n.u8(),!1,"requestFlags");s.addBoolean("newOrder"),s.addBoolean("cancelOrder"),s.addBoolean("bid"),s.addBoolean("postOnly"),s.addBoolean("ioc");const a=n.struct([s,n.u8("openOrdersSlot"),n.u8("feeTier"),n.blob(5),o.u64("maxBaseSizeOrCancelId"),o.u64("nativeQuoteQuantityLocked"),o.u128("orderId"),o.publicKeyLayout("openOrders"),o.u64("clientOrderId")]),u=n.struct([n.blob(5),o.accountFlagsLayout("accountFlags"),n.u32("head"),o.zeros(4),n.u32("count"),o.zeros(4),n.u32("seqNum"),o.zeros(4)]),c=n.bits(n.u8(),!1,"eventFlags");c.addBoolean("fill"),c.addBoolean("out"),c.addBoolean("bid"),c.addBoolean("maker");const d=n.struct([c,n.u8("openOrdersSlot"),n.u8("feeTier"),n.blob(5),o.u64("nativeQuantityReleased"),o.u64("nativeQuantityPaid"),o.u64("nativeFeeOrRebate"),o.u128("orderId"),o.publicKeyLayout("openOrders"),o.u64("clientOrderId")]);function l(e,t,r,n){return t.decode(r,e.span+n*t.span)}function h(e,t,r,n){const o=e.decode(r),i=Math.floor((r.length-e.span)/t.span),s=[];if(n)for(let a=0;a<Math.min(n,i);++a){const n=(o.head+o.count+i-1-a)%i;s.push(l(e,t,r,n))}else for(let a=0;a<o.count;++a){const n=(o.head+a)%i;s.push(l(e,t,r,n))}return{header:o,nodes:s}}t.decodeEventsSince=function(e,t){const r=u.decode(e),n=Math.floor((e.length-u.span)/d.span),o=4294967296;let i=(r.seqNum-t+o)%o;i>n&&(i=n-1);const s=(r.seqNum-i+o)%o,a=((r.head+r.count)%n-i+n)%n,c=[];for(let h=0;h<i;++h){const t=l(u,d,e,(a+h)%n);t.seqNum=(s+h)%o,c.push(t)}return c},t.decodeRequestQueue=function(e,t){const{header:r,nodes:n}=h(i,a,e,t);if(!r.accountFlags.initialized||!r.accountFlags.requestQueue)throw new Error("Invalid requests queue");return n},t.decodeEventQueue=function(e,t){const{header:r,nodes:n}=h(u,d,e,t);if(!r.accountFlags.initialized||!r.accountFlags.eventQueue)throw new Error("Invalid events queue");return n},t.REQUEST_QUEUE_LAYOUT={HEADER:i,NODE:a},t.EVENT_QUEUE_LAYOUT={HEADER:u,NODE:d}},35366:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Slab=t.SLAB_LAYOUT=void 0;const o=n(r(48744)),i=r(12324),s=r(84321),a=i.struct([i.u32("bumpIndex"),s.zeros(4),i.u32("freeListLen"),s.zeros(4),i.u32("freeListHead"),i.u32("root"),i.u32("leafCount"),s.zeros(4)],"header"),u=i.union(i.u32("tag"),i.blob(68),"node");u.addVariant(0,i.struct([]),"uninitialized"),u.addVariant(1,i.struct([i.u32("prefixLen"),s.u128("key"),i.seq(i.u32(),2,"children")]),"innerNode"),u.addVariant(2,i.struct([i.u8("ownerSlot"),i.u8("feeTier"),i.blob(2),s.u128("key"),s.publicKeyLayout("owner"),s.u64("quantity"),s.u64("clientOrderId")]),"leafNode"),u.addVariant(3,i.struct([i.u32("next")]),"freeNode"),u.addVariant(4,i.struct([]),"lastFreeNode"),t.SLAB_LAYOUT=i.struct([a,i.seq(u,i.offset(a.layoutFor("bumpIndex"),a.offsetOf("bumpIndex")-a.span),"nodes")]);class c{constructor(e,t){this.header=e,this.nodes=t}static decode(e){return t.SLAB_LAYOUT.decode(e)}get(e){if(0===this.header.leafCount)return null;e instanceof o.default||(e=new o.default(e));let t=this.header.root;for(;;){const{leafNode:r,innerNode:n}=this.nodes[t];if(r)return r.key.eq(e)?r:null;if(!n)throw new Error("Invalid slab");if(!n.key.xor(e).iushrn(128-n.prefixLen).isZero())return null;t=n.children[e.testn(128-n.prefixLen-1)?1:0]}}[Symbol.iterator](){return this.items(!1)}*items(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0===this.header.leafCount)return;const t=[this.header.root];for(;t.length>0;){const r=t.pop(),{leafNode:n,innerNode:o}=this.nodes[r];n?yield n:o&&(e?t.push(o.children[0],o.children[1]):t.push(o.children[1],o.children[0]))}}}t.Slab=c,s.setLayoutDecoder(t.SLAB_LAYOUT,(e=>{let{header:t,nodes:r}=e;return new c(t,r)}))},63786:function(e,t,r){"use strict";var n=r(97429).Buffer,o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.closeAccount=t.mintTo=t.setAuthority=t.revoke=t.approve=t.transfer=t.initializeAccount=t.initializeMint=t.decodeTokenInstructionData=t.SRM_DECIMALS=t.SRM_MINT=t.MSRM_DECIMALS=t.MSRM_MINT=t.WRAPPED_SOL_MINT=t.TOKEN_PROGRAM_ID=t.CLOSE_ACCOUNT_OWNER_INDEX=t.CLOSE_ACCOUNT_DESTINATION_INDEX=t.CLOSE_ACCOUNT_SOURCE_INDEX=t.TRANSFER_OWNER_INDEX=t.TRANSFER_DESTINATION_INDEX=t.TRANSFER_SOURCE_INDEX=t.INITIALIZE_ACCOUNT_OWNER_INDEX=t.INITIALIZE_ACCOUNT_MINT_INDEX=t.INITIALIZE_ACCOUNT_ACCOUNT_INDEX=void 0;const a=s(r(12324)),u=r(71256),c=r(84321);t.INITIALIZE_ACCOUNT_ACCOUNT_INDEX=0,t.INITIALIZE_ACCOUNT_MINT_INDEX=1,t.INITIALIZE_ACCOUNT_OWNER_INDEX=2,t.TRANSFER_SOURCE_INDEX=0,t.TRANSFER_DESTINATION_INDEX=1,t.TRANSFER_OWNER_INDEX=2,t.CLOSE_ACCOUNT_SOURCE_INDEX=0,t.CLOSE_ACCOUNT_DESTINATION_INDEX=1,t.CLOSE_ACCOUNT_OWNER_INDEX=2,t.TOKEN_PROGRAM_ID=new u.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),t.WRAPPED_SOL_MINT=new u.PublicKey("So11111111111111111111111111111111111111112"),t.MSRM_MINT=new u.PublicKey("MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L"),t.MSRM_DECIMALS=0,t.SRM_MINT=new u.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),t.SRM_DECIMALS=6;const d=a.union(a.u8("instruction"));d.addVariant(0,a.struct([a.u8("decimals"),c.publicKeyLayout("mintAuthority"),a.u8("freezeAuthorityOption"),c.publicKeyLayout("freezeAuthority")]),"initializeMint"),d.addVariant(1,a.struct([]),"initializeAccount"),d.addVariant(3,a.struct([a.nu64("amount")]),"transfer"),d.addVariant(4,a.struct([a.nu64("amount")]),"approve"),d.addVariant(5,a.struct([]),"revoke"),d.addVariant(6,a.struct([a.u8("authorityType"),a.u8("newAuthorityOption"),c.publicKeyLayout("newAuthority")]),"setAuthority"),d.addVariant(7,a.struct([a.nu64("amount")]),"mintTo"),d.addVariant(8,a.struct([a.nu64("amount")]),"burn"),d.addVariant(9,a.struct([]),"closeAccount");const l=Math.max(...Object.values(d.registry).map((e=>e.span)));function h(e){const t=n.alloc(l),r=d.encode(e,t);return t.slice(0,r)}t.decodeTokenInstructionData=function(e){return d.decode(e)},t.initializeMint=function(e){let{mint:r,decimals:n,mintAuthority:o,freezeAuthority:i=null}=e;const s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new u.TransactionInstruction({keys:s,data:h({initializeMint:{decimals:n,mintAuthority:o,freezeAuthorityOption:!!i,freezeAuthority:i||new u.PublicKey(0)}}),programId:t.TOKEN_PROGRAM_ID})},t.initializeAccount=function(e){let{account:r,mint:n,owner:o}=e;const i=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new u.TransactionInstruction({keys:i,data:h({initializeAccount:{}}),programId:t.TOKEN_PROGRAM_ID})},t.transfer=function(e){let{source:r,destination:n,amount:o,owner:i}=e;const s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:s,data:h({transfer:{amount:o}}),programId:t.TOKEN_PROGRAM_ID})},t.approve=function(e){let{source:r,delegate:n,amount:o,owner:i}=e;const s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:s,data:h({approve:{amount:o}}),programId:t.TOKEN_PROGRAM_ID})},t.revoke=function(e){let{source:r,owner:n}=e;const o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:o,data:h({revoke:{}}),programId:t.TOKEN_PROGRAM_ID})},t.setAuthority=function(e){let{target:r,currentAuthority:n,newAuthority:o,authorityType:i}=e;const s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:s,data:h({setAuthority:{authorityType:i,newAuthorityOption:!!o,newAuthority:o}}),programId:t.TOKEN_PROGRAM_ID})},t.mintTo=function(e){let{mint:r,destination:n,amount:o,mintAuthority:i}=e;const s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:s,data:h({mintTo:{amount:o}}),programId:t.TOKEN_PROGRAM_ID})},t.closeAccount=function(e){let{source:r,destination:n,owner:o}=e;const i=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:i,data:h({closeAccount:{}}),programId:t.TOKEN_PROGRAM_ID})}},1127:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MARKETS=t.TOKEN_MINTS=t.getLayoutVersion=t.PROGRAM_LAYOUT_VERSIONS=void 0;const o=r(71256),i=n(r(80104)),s=n(r(7458));t.PROGRAM_LAYOUT_VERSIONS={"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn":1,BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg:1,EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o:2,"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin":3},t.getLayoutVersion=function(e){return t.PROGRAM_LAYOUT_VERSIONS[e.toString()]||3},t.TOKEN_MINTS=s.default.map((e=>({address:new o.PublicKey(e.address),name:e.name}))),t.MARKETS=i.default.map((e=>({address:new o.PublicKey(e.address),name:e.name,programId:new o.PublicKey(e.programId),deprecated:e.deprecated})))},26969:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AccountClient:()=>De,AccountsCoder:()=>X,BN:()=>g(),Coder:()=>de,EventCoder:()=>re,InstructionCoder:()=>H,Program:()=>Je,Provider:()=>v,StateClient:()=>Oe,StateCoder:()=>ue,TypesCoder:()=>$,Wallet:()=>_,getProvider:()=>S,setProvider:()=>A,utils:()=>f,web3:()=>y,workspace:()=>$e});var n={};r.r(n),r.d(n,{isSet:()=>se,set:()=>ie});var o={};r.r(o),r.d(o,{associated:()=>Ee,createProgramAddressSync:()=>Ae,createWithSeedSync:()=>_e,findProgramAddressSync:()=>Se});var i={};r.r(i),r.d(i,{decode:()=>Ke,encode:()=>je});var s={};r.r(s),r.d(s,{decode:()=>Ve,encode:()=>qe});var a={};r.r(a),r.d(a,{decode:()=>He,encode:()=>Ze});var u={};r.r(u),r.d(u,{decode:()=>Xe,encode:()=>Qe});var c={};r.r(c),r.d(c,{base64:()=>u,bs58:()=>a,hex:()=>i,utf8:()=>s});var d={};r.r(d),r.d(d,{hash:()=>et});var l={};r.r(l),r.d(l,{getMultipleAccounts:()=>nt,invoke:()=>rt});var h={};r.r(h),r.d(h,{associatedAddress:()=>st});var f={};r.r(f),r.d(f,{bytes:()=>c,features:()=>n,publicKey:()=>o,rpc:()=>l,sha256:()=>d,token:()=>h});var p,m=r(48744),g=r.n(m),y=r(71256);const b="undefined"!==typeof window&&!(null===(p=window.process)||void 0===p?void 0:p.hasOwnProperty("type"));var w=r(97429).Buffer;class v{constructor(e,t,r){this.connection=e,this.wallet=t,this.opts=r}static defaultOptions(){return{preflightCommitment:"recent",commitment:"recent"}}static local(e,t){t=null!==t&&void 0!==t?t:v.defaultOptions();const r=new y.Connection(null!==e&&void 0!==e?e:"http://localhost:8899",t.preflightCommitment),n=_.local();return new v(r,n,t)}static env(){if(b)return;const e=r(26477).env.ANCHOR_PROVIDER_URL;if(void 0===e)throw new Error("ANCHOR_PROVIDER_URL is not defined");const t=v.defaultOptions(),n=new y.Connection(e,t.commitment),o=_.local();return new v(n,o,t)}async send(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(r.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)}));const n=e.serialize();return await(0,y.sendAndConfirmRawTransaction)(this.connection,n,r)}async sendAll(e,t){void 0===t&&(t=this.opts);const r=await this.connection.getRecentBlockhash(t.preflightCommitment);let n=e.map((e=>{let t=e.tx,n=e.signers;return void 0===n&&(n=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=r.blockhash,n.filter((e=>void 0!==e)).forEach((e=>{t.partialSign(e)})),t}));const o=await this.wallet.signAllTransactions(n),i=[];for(let s=0;s<n.length;s+=1){const e=o[s].serialize();i.push(await(0,y.sendAndConfirmRawTransaction)(this.connection,e,t))}return i}async simulate(e,t,r){var n,o;return void 0===t&&(t=[]),void 0===r&&(r=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(n=r.preflightCommitment)&&void 0!==n?n:this.opts.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)})),await async function(e,t,r){t.recentBlockhash=await e._recentBlockhash(e._disableBlockhashCaching);const n=t.serializeMessage(),o=t._serialize(n).toString("base64"),i=[o,{encoding:"base64",commitment:r}],s=await e._rpcRequest("simulateTransaction",i);if(s.error)throw new Error("failed to simulate transaction: "+s.error.message);return s.result}(this.connection,e,null!==(o=r.commitment)&&void 0!==o?o:this.opts.commitment)}}class _{constructor(e){this.payer=e}static local(){const e=y.Keypair.fromSecretKey(w.from(JSON.parse(r(55555).readFileSync(r(84466).homedir()+"/.config/solana/id.json",{encoding:"utf-8"}))));return new _(e)}async signTransaction(e){return e.partialSign(this.payer),e}async signAllTransactions(e){return e.map((e=>(e.partialSign(this.payer),e)))}get publicKey(){return this.payer.publicKey}}function A(e){k=e}function S(){return null===k?v.local():k}let k=null;var E=r(8511),T=r.n(E),P=r(26434),I=r(68532);class x extends Error{}class O extends Error{constructor(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];super(...n),this.code=e,this.msg=t}static parse(e,t){let r,n=e.toString().split("custom program error: ");if(2!==n.length)return null;try{r=parseInt(n[1])}catch(i){return null}let o=t.get(r);return void 0!==o?new O(r,o):(o=B.get(r),void 0!==o?new O(r,o):null)}toString(){return this.msg}}const B=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[120,"The program was compiled without idl instructions"],[121,"The transaction was given an invalid program for the IDL instruction"],[140,"A mut constraint was violated"],[141,"A has_one constraint was violated"],[142,"A signer constraint was violated"],[143,"A raw constraint as violated"],[144,"An owner constraint was violated"],[145,"A rent exempt constraint was violated"],[146,"A seeds constraint was violated"],[147,"An executable constraint was violated"],[148,"A state constraint was violated"],[149,"An associated constraint was violated"],[150,"An associated init constraint was violated"],[151,"A close constraint was violated"],[152,"An address constraint was violated"],[160,"The account discriminator was already set on this account"],[161,"No 8 byte discriminator was found on the account"],[162,"8 byte discriminator did not match what was expected"],[163,"Failed to deserialize the account"],[164,"Failed to serialize the account"],[165,"Not enough account keys given to the instruction"],[166,"The given account is not mutable"],[167,"The given account is not owned by the executing program"],[180,"The given state account does not have the correct address"],[299,"The API being used is deprecated and should no longer be used"]]);class M{static fieldLayout(e,t){const r=void 0!==e.name?T()(e.name):void 0;switch(e.type){case"bool":return P.bool(r);case"u8":return P.u8(r);case"i8":return P.i8(r);case"u16":return P.u16(r);case"i16":return P.i16(r);case"u32":return P.u32(r);case"i32":return P.i32(r);case"u64":return P.u64(r);case"i64":return P.i64(r);case"u128":return P.u128(r);case"i128":return P.i128(r);case"bytes":return P.vecU8(r);case"string":return P.str(r);case"publicKey":return P.publicKey(r);default:if(e.type.vec)return P.vec(M.fieldLayout({name:void 0,type:e.type.vec},t),r);if(e.type.option)return P.option(M.fieldLayout({name:void 0,type:e.type.option},t),r);if(e.type.defined){if(void 0===t)throw new x("User defined types not provided");const n=t.filter((t=>t.name===e.type.defined));if(1!==n.length)throw new x(`Type not found: ${JSON.stringify(e)}`);return M.typeDefLayout(n[0],t,r)}if(e.type.array){let n=e.type.array[0],o=e.type.array[1],i=M.fieldLayout({name:void 0,type:n},t);return P.array(i,o,r)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,t,r){if("struct"===e.type.kind){const n=e.type.fields.map((e=>M.fieldLayout(e,t)));return P.struct(n,r)}if("enum"===e.type.kind){let n=e.type.variants.map((e=>{const r=T()(e.name);if(void 0===e.fields)return P.struct([],r);const n=e.fields.map((e=>{if(void 0===e.name)throw new Error("Tuple enum variants not yet implemented.");return M.fieldLayout(e,t)}));return P.struct(n,r)}));return void 0!==r?P.rustEnum(n).replicate(r):P.rustEnum(n,r)}throw new Error(`Unknown type kint: ${e}`)}}var D=r(93845);function U(e){return e.toLowerCase()}var R=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],L=/[^A-Z0-9]+/gi;function N(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce((function(e,t){return e.replace(t,r)}),e)}function C(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var r=t.splitRegexp,n=void 0===r?R:r,o=t.stripRegexp,i=void 0===o?L:o,s=t.transform,a=void 0===s?U:s,u=t.delimiter,c=void 0===u?" ":u,d=N(N(e,n,"$1\0$2"),i,"\0"),l=0,h=d.length;"\0"===d.charAt(l);)l++;for(;"\0"===d.charAt(h-1);)h--;return d.slice(l,h).split("\0").map(a).join(c)}(e,(0,D.pi)({delimiter:"."},t))}var F=r(10119),W=r(97429).Buffer;function z(e,t){if("enum"===t.type.kind){let r=t.type.variants.map((t=>void 0===t.fields?0:t.fields.map((t=>{if(void 0===t.name)throw new Error("Tuple enum variants not yet implemented.");return j(e,t.type)})).reduce(((e,t)=>e+t))));return Math.max(...r)+1}return void 0===t.type.fields?0:t.type.fields.map((t=>j(e,t.type))).reduce(((e,t)=>e+t))}function j(e,t){switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":return 4;case"u64":case"i64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if(void 0!==t.vec)return 1;if(void 0!==t.option)return 1+j(e,t.option);if(void 0!==t.defined){const r=e.types.filter((e=>e.name===t.defined));if(1!==r.length)throw new x(`Type not found: ${JSON.stringify(t)}`);return z(e,r[0])}if(void 0!==t.array){let r=t.array[0],n=t.array[1];return j(e,r)*n}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}function K(e,t){var r;let n=`${e}:${void 0===r&&(r={}),C(t,(0,D.pi)({delimiter:"_"},r))}`;return W.from(F.sha256.digest(n)).slice(0,8)}var V=r(97429).Buffer;const q="state",Z="global";class H{constructor(e){this.idl=e,this.ixLayout=H.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const r=K(Z,e.name);t.set(I.encode(r),{layout:this.ixLayout.get(e.name),name:e.name})})),e.state&&e.state.methods.map((e=>{const r=K(q,e.name);t.set(I.encode(r),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t){return this._encode(Z,e,t)}encodeState(e,t){return this._encode(q,e,t)}_encode(e,t,r){const n=V.alloc(1e3),o=T()(t),i=this.ixLayout.get(o).encode(r,n),s=n.slice(0,i);return V.concat([K(e,t),s])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map((t=>{let r=t.args.map((t=>M.fieldLayout(t,e.types)));const n=T()(t.name);return[n,P.struct(r,n)]})).concat(e.instructions.map((t=>{let r=t.args.map((t=>M.fieldLayout(t,e.types)));const n=T()(t.name);return[n,P.struct(r,n)]})));return new Map(t)}decode(e){"string"===typeof e&&(e=I.decode(e));let t=I.encode(e.slice(0,8)),r=e.slice(8);const n=this.sighashLayouts.get(t);return n?{data:n.layout.decode(r),name:n.name}:null}format(e,t){return G.format(e,t,this.idl)}}class G{static format(e,t,r){const n=r.instructions.filter((t=>e.name===t.name))[0];if(void 0===n)return console.error("Invalid instruction given"),null;const o=n.args.map((t=>({name:t.name,type:G.formatIdlType(t.type),data:G.formatIdlData(t,e.data[t.name],r.types)}))),i=G.flattenIdlAccounts(n.accounts);return{args:o,accounts:t.map(((e,t)=>t<i.length?{name:i[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){return"string"===typeof e?e:e.vec?`Vec<${this.formatIdlType(e.vec)}>`:e.option?`Option<${this.formatIdlType(e.option)}>`:e.defined?e.defined:void 0}static formatIdlData(e,t,r){if("string"===typeof e.type)return t.toString();if(e.type.vec)return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t))).join(", ")+"]";if(e.type.option)return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t);if(e.type.defined){if(void 0===r)throw new Error("User defined types not provided");const n=r.filter((t=>t.name===e.type.defined));if(1!==n.length)throw new Error(`Type not found: ${e.type.defined}`);return G.formatIdlDataDefined(n[0],t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){if("struct"===e.type.kind){return"{ "+Object.keys(t).map((n=>{const o=e.type.fields.filter((e=>e.name===n))[0];if(void 0===o)throw new Error("Unable to find type");return n+": "+G.formatIdlData(o,t[n],r)})).join(", ")+" }"}if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const n=Object.keys(t)[0],o=t[n],i=Object.keys(o).map((t=>{var i;const s=o[t],a=null===(i=e.type.variants[n])||void 0===i?void 0:i.filter((e=>e.name===t))[0];if(void 0===a)throw new Error("Unable to find variant");return t+": "+G.formatIdlData(a,s,r)})).join(", "),s=T()(n,{pascalCase:!0});return 0===i.length?s:`${s} { ${i} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map((e=>{const r=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.accounts){const n=t?`${t} > ${r}`:r;return G.flattenIdlAccounts(e.accounts,n)}return{...e,name:t?`${t} > ${r}`:r}})).flat()}}var Q=r(97429).Buffer;class X{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,M.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t)}async encode(e,t){const r=Q.alloc(1e3),n=this.accountLayouts.get(e).encode(t,r);let o=r.slice(0,n),i=await J(e);return Q.concat([i,o])}decode(e,t){const r=t.slice(8);return this.accountLayouts.get(e).decode(r)}}async function J(e){return Q.from(F.sha256.digest(`account:${e}`)).slice(0,8)}var Y=r(97429).Buffer;class ${constructor(e){if(void 0===e.types)return void(this.layouts=new Map);const t=e.types.map((t=>[t.name,M.typeDefLayout(t,e.types)]));this.layouts=new Map(t)}encode(e,t){const r=Y.alloc(1e3),n=this.layouts.get(e).encode(t,r);return r.slice(0,n)}decode(e,t){return this.layouts.get(e).decode(t)}}var ee=r(12009),te=r(97429).Buffer;class re{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let r={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,M.typeDefLayout(r,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>{return[ee.fromByteArray((t=e.name,te.from(F.sha256.digest(`event:${t}`)).slice(0,8))),e.name];var t})))}decode(e){let t;try{t=te.from(ee.toByteArray(e))}catch(o){return null}const r=ee.fromByteArray(t.slice(0,8)),n=this.discriminators.get(r);if(void 0===n)return null;return{data:this.layouts.get(n).decode(t.slice(8)),name:n}}}const ne=new Set(["anchor-deprecated-state"]),oe=new Map;function ie(e){if(!ne.has(e))throw new Error("Invalid feature");oe.set(e,!0)}function se(e){return void 0!==oe.get(e)}var ae=r(97429).Buffer;class ue{constructor(e){if(void 0===e.state)throw new Error("Idl state not defined.");this.layout=M.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const r=ae.alloc(1e3),n=this.layout.encode(t,r),o=await ce(e),i=r.slice(0,n);return ae.concat([o,i])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function ce(e){let t=se("anchor-deprecated-state")?"account":"state";return ae.from(F.sha256.digest(`${t}:${e}`)).slice(0,8)}class de{constructor(e){this.instruction=new H(e),this.accounts=new X(e),this.types=new $(e),this.events=new re(e),e.state&&(this.state=new ue(e))}sighash(e,t){return K(e,t)}}var le=r(60266),he=r(81070);r(97429).Buffer;const fe=P.struct([P.publicKey("authority"),P.vecU8("data")]);var pe=r(48449),me=r.n(pe);function ge(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var r;let n=null!==(r=e.msg)&&void 0!==r?r:e.name;t.set(e.code,n)})),t}function ye(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(e.args.length!=r.length)throw new Error("Invalid argument length");const o={};let i=0;return e.args.forEach((e=>{o[e.name]=r[i],i+=1})),o}function be(e,t){e.forEach((e=>{if(void 0!==e.accounts)be(e.accounts,t[e.name]);else if(void 0===t[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function we(e){if("string"===typeof e){return new y.PublicKey(e)}return e}var ve=r(97429).Buffer;function _e(e,t,r){const n=ve.concat([e.toBuffer(),ve.from(t),r.toBuffer()]),o=F.sha256.digest(n);return new y.PublicKey(ve.from(o))}function Ae(e,t){let r=ve.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");r=ve.concat([r,ke(e)])})),r=ve.concat([r,t.toBuffer(),ve.from("ProgramDerivedAddress")]);let n=(0,F.sha256)(new Uint8Array(r)),o=new(g())(n,16).toArray(void 0,32);if(y.PublicKey.isOnCurve(new Uint8Array(o)))throw new Error("Invalid seeds, address must fall off the curve");return new y.PublicKey(o)}function Se(e,t){let r,n=255;for(;0!=n;){try{r=Ae(e.concat(ve.from([n])),t)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}const ke=e=>e instanceof ve?e:e instanceof Uint8Array?ve.from(e.buffer,e.byteOffset,e.byteLength):ve.from(e);async function Ee(e){let t=[ve.from([97,110,99,104,111,114])];for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];n.forEach((e=>{t.push(void 0!==e.buffer?e:we(e).toBuffer())}));const[i]=await y.PublicKey.findProgramAddress(t,we(e));return i}function Te(e,t){let r={};const n=e.args?e.args.length:0;if(t.length>n){if(t.length!==n+1)throw new Error("provided too many arguments ${args}");r=t.pop()}return[t,r]}class Pe{static build(e,t,r){if("_inner"===e.name)throw new x("the _inner name is reserved");const n=function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];const[a,u]=Te(e,[...i]);be(e.accounts,u.accounts);const c=n.accounts(u.accounts);return void 0!==u.remainingAccounts&&c.push(...u.remainingAccounts),u.__private&&u.__private.logAccounts&&console.log("Outgoing account metas:",c),new y.TransactionInstruction({keys:c,programId:r,data:t(e.name,ye(e,...a))})};return n.accounts=t=>Pe.accountsArray(t,e.accounts),n}static accountsArray(e,t){return t.map((t=>{const r=t.accounts;if(void 0!==r){const n=e[t.name];return Pe.accountsArray(n,r).flat()}{const r=t;return{pubkey:we(e[t.name]),isWritable:r.isMut,isSigner:r.isSigner}}})).flat()}}class Ie{static build(e,t,r,n){return async function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];const a=t(...i),[,u]=Te(e,[...i]);try{return await n.send(a,u.signers,u.options)}catch(c){console.log("Translating error",c);let e=O.parse(c,r);if(null===e)throw c;throw e}}}}class xe{static build(e,t){return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];const[,i]=Te(e,[...n]),s=new y.Transaction;return void 0!==i.instructions&&s.add(...i.instructions),s.add(t(...n)),s}}}class Oe{constructor(e,t,r,n){this._idl=e,this._programId=t,this._address=Be(t),this._provider=null!==r&&void 0!==r?r:S(),this._coder=null!==n&&void 0!==n?n:new de(e),this._sub=null;const[o,i,s]=(()=>{let o={},i={},s={};return e.state.methods.forEach((a=>{const u=Pe.build(a,((e,t)=>n.instruction.encodeState(e,t)),t);u.accounts=e=>{const n=function(e,t,r,n){if("new"===r.name){const[r]=Se([],e);return[{pubkey:t.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:Be(e),isWritable:!0,isSigner:!1},{pubkey:r,isWritable:!1,isSigner:!1},{pubkey:y.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e,isWritable:!1,isSigner:!1},{pubkey:y.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}]}return be(r.accounts,n),[{pubkey:Be(e),isWritable:!0,isSigner:!1}]}(t,r,a,e);return n.concat(Pe.accountsArray(e,a.accounts))};const c=xe.build(a,u),d=Ie.build(a,c,ge(e),r),l=T()(a.name);o[l]=u,i[l]=c,s[l]=d})),[o,i,s]})();this.instruction=o,this.transaction=i,this.rpc=s}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(null===t)throw new Error(`Account does not exist ${e.toString()}`);if((await ce(this._idl.state.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(null!==this._sub)return this._sub.ee;const t=new(me()),r=this.provider.connection.onAccountChange(this.address(),(e=>{const r=this.coder.state.decode(e.data);t.emit("change",r)}),e);return this._sub={ee:t,listener:r},t}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function Be(e){let[t]=Se([],e);return _e(t,"unversioned",e)}var Me=r(97429).Buffer;class De{constructor(e,t,r,n,o){this._idlAccount=t,this._programId=r,this._provider=null!==n&&void 0!==n?n:S(),this._coder=null!==o&&void 0!==o?o:new de(e),this._size=8+z(e,t)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetch(e){const t=await this._provider.connection.getAccountInfo(we(e));if(null===t)throw new Error(`Account does not exist ${e.toString()}`);if((await J(this._idlAccount.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this._coder.accounts.decode(this._idlAccount.name,t.data)}async all(e){let t=await J(this._idlAccount.name);return void 0!==e&&(t=Me.concat([t,e])),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:{offset:0,bytes:I.encode(t)}}]})).map((e=>{let{pubkey:t,account:r}=e;return{publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,r.data)}}))}subscribe(e,t){if(Ue.get(e.toString()))return Ue.get(e.toString()).ee;const r=new(me());e=we(e);const n=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);r.emit("change",t)}),t);return Ue.set(e.toString(),{ee:r,listener:n}),r}unsubscribe(e){let t=Ue.get(e.toString());t?Ue&&this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{Ue.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const r=this.size;return y.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:null!==t&&void 0!==t?t:r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!==t&&void 0!==t?t:r),programId:this._programId})}async associated(){const e=await this.associatedAddress(...arguments);return await this.fetch(e)}async associatedAddress(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return await Ee(this._programId,...t)}}const Ue=new Map;var Re=r(21380),Le=r.n(Re);const Ne="Program log: ".length;class Ce{constructor(e,t){this.coder=e,this.programId=t}parseLogs(e,t){const r=new We(e),n=new Fe(r.next());let o=r.next();for(;null!==o;){let[e,i,s]=this.handleLog(n,o);e&&t(e),i&&n.push(i),s&&n.pop(),o=r.next()}}handleLog(e,t){return e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log:")){const t=e.slice(Ne);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class Fe{constructor(e){const t=/^Program (.*) invoke.*$/g.exec(e)[1];this.stack=[t]}program(){return Re.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){Re.ok(this.stack.length>0),this.stack.pop()}}class We{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}var ze=r(97429).Buffer;function je(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")}function Ke(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2===1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?ze.from([]):ze.from(t.map((e=>parseInt(e,16))))}function Ve(e){return("undefined"===typeof TextDecoder?new(r(58404).TextDecoder)("utf-8"):new TextDecoder("utf-8")).decode(e)}function qe(e){return("undefined"===typeof TextEncoder?new(r(58404).TextEncoder)("utf-8"):new TextEncoder).encode(e)}function Ze(e){return I.encode(e)}function He(e){return I.decode(e)}var Ge=r(97429).Buffer;function Qe(e){return ee.fromByteArray(e)}function Xe(e){return Ge.from(ee.toByteArray(e))}class Je{constructor(e,t,r){t=we(t),this._idl=e,this._programId=t,this._provider=null!==r&&void 0!==r?r:S(),this._coder=new de(e);const[n,o,i,s,a,u]=class{static build(e,t,r,n){const o={},i={},s={},a={},u=ge(e),c=class{static build(e,t,r,n){if(void 0!==e.state)return new Oe(e,r,n,t)}}.build(e,t,r,n);e.instructions.forEach((c=>{const d=Pe.build(c,((e,r)=>t.instruction.encode(e,r)),r),l=xe.build(c,d),h=Ie.build(c,l,u,n),f=class{static build(e,t,r,n,o,i,s){return async function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];const d=t(...u),[,l]=Te(e,[...u]);let h;try{h=await n.simulate(d,l.signers,l.options)}catch(m){console.log("Translating error",m);let e=O.parse(m,r);if(null===e)throw m;throw e}if(void 0===h)throw new Error("Unable to simulate transaction");if(h.value.err)throw new Error(`Simulate error: ${h.value.err.toString()}`);const f=h.value.logs;if(!f)throw new Error("Simulated logs not found");const p=[];return s.events&&new Ce(o,i).parseLogs(f,(e=>{p.push(e)})),{events:p,raw:f}}}}.build(c,l,u,n,t,r,e),p=T()(c.name);i[p]=d,s[p]=l,o[p]=h,a[p]=f}));const d=e.accounts?class{static build(e,t,r,n){const o={};return e.accounts.forEach((i=>{const s=T()(i.name);o[s]=new De(e,i,r,n,t)})),o}}.build(e,t,r,n):{};return[o,i,s,d,a,c]}}.build(e,this._coder,t,this._provider);this.rpc=n,this.instruction=o,this.transaction=i,this.account=s,this.simulate=a,this.state=u}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const r=we(e),n=await Je.fetchIdl(r,t);return new Je(n,r,t)}static async fetchIdl(e,t){t=null!==t&&void 0!==t?t:S();const r=we(e),n=await async function(e){const t=(await y.PublicKey.findProgramAddress([],e))[0];return await y.PublicKey.createWithSeed(t,"anchor:idl",e)}(r),o=await t.connection.getAccountInfo(n);let i=(s=o.data.slice(8),fe.decode(s));var s;const a=(0,he.rr)(i.data);return JSON.parse(Ve(a))}addEventListener(e,t){const r=new Ce(this._coder,this._programId);return this._provider.connection.onLogs(this._programId,((n,o)=>{n.err?console.error(n):r.parseLogs(n.logs,(r=>{r.name===e&&t(r.data,o.slot)}))}))}async removeEventListener(e){return this._provider.connection.removeOnLogsListener(e)}}let Ye=!1;const $e=new Proxy({},{get(e,t){if(b)return void console.log("Workspaces aren't available in the browser");const n=r(55555),o=r(26477);if(!Ye){const t=r(71633);let i=o.cwd();for(;!n.existsSync(t.join(i,"Anchor.toml"));){const e=t.dirname(i);e===i&&(i=void 0),i=e}if(void 0===i)throw new Error("Could not find workspace root.");const s=`${i}/target/idl`;if(!n.existsSync(s))throw new Error(`${s} doesn't exist. Did you use "anchor build"?`);const a=new Map;n.readdirSync(s).forEach((t=>{const r=`${s}/${t}`,o=n.readFileSync(r),i=JSON.parse(o);a.set(i.name,i);const u=T()(i.name,{pascalCase:!0});i.metadata&&i.metadata.address&&(e[u]=new Je(i,new y.PublicKey(i.metadata.address)))}));const u=le.parse(n.readFileSync(t.join(i,"Anchor.toml"),"utf-8")),c=u.provider.cluster;u.clusters&&u.clusters[c]&&function(e,t,n){Object.keys(t).forEach((o=>{const i=T()(o,{pascalCase:!0}),s=t[o],a=new y.PublicKey("string"===typeof s?s:s.address);let u=n.get(o);"string"!==typeof s&&s.idl&&(u=JSON.parse(r(55555).readFileSync(s.idl,"utf-8"))),e[i]=new Je(u,a)}))}(e,u.clusters[c],a),Ye=!0}return e[t]}});function et(e){return(0,F.sha256)(e)}var tt=r(97429).Buffer;async function rt(e,t,r,n){e=we(e),n||(n=S());const o=new y.Transaction;return o.add(new y.TransactionInstruction({programId:e,keys:null!==t&&void 0!==t?t:[],data:r})),await n.send(o)}async function nt(e,t){const r=[t.map((e=>e.toBase58())),{commitment:"recent"}],n=await e._rpcRequest("getMultipleAccounts",r);if(n.error)throw new Error("failed to get info about accounts "+t.map((e=>e.toBase58())).join(", ")+": "+n.error.message);Le()("undefined"!==typeof n.result);const o=[];for(const i of n.result.value){let e=null;if(null!==i){if(n.result.value){const{executable:t,owner:r,lamports:n,data:o}=i;Le()("base64"===o[1]),e={executable:t,owner:new y.PublicKey(r),lamports:n,data:tt.from(o[0],"base64")}}if(null===e)throw new Error("Invalid response");o.push(e)}else o.push(null)}return o.map(((e,r)=>null===e?null:{publicKey:t[r],account:e}))}const ot=new y.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),it=new y.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");async function st(e){let{mint:t,owner:r}=e;return(await y.PublicKey.findProgramAddress([r.toBuffer(),ot.toBuffer(),t.toBuffer()],it))[0]}},62279:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function a(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythConnection=void 0;var i=r(94834),s=function(){function e(e,t,r){void 0===r&&(r="finalized"),this.productAccountKeyToProduct={},this.priceAccountKeyToProductAccountKey={},this.callbacks=[],this.connection=e,this.pythProgramKey=t,this.commitment=r}return e.prototype.handleProductAccount=function(e,t){var r=i.parseProductData(t.data),n=r.priceAccountKey,o=(r.type,r.product);this.productAccountKeyToProduct[e.toString()]=o,"11111111111111111111111111111111"!==n.toString()&&(this.priceAccountKeyToProductAccountKey[n.toString()]=e.toString())},e.prototype.handlePriceAccount=function(e,t,r){var n=this.productAccountKeyToProduct[this.priceAccountKeyToProductAccountKey[e.toString()]];if(void 0===n)throw new Error("Got a price update for an unknown product. This is a bug in the library, please report it to the developers.");for(var o=i.parsePriceData(t.data,r),s=0,a=this.callbacks;s<a.length;s++){(0,a[s])(n,o)}},e.prototype.handleAccount=function(e,t,r,n){var o=i.parseBaseData(t.data);if(o)switch(o.type){case i.AccountType.Mapping:break;case i.AccountType.Product:this.handleProductAccount(e,t);break;case i.AccountType.Price:r||this.handlePriceAccount(e,t,n);break;case i.AccountType.Test:break;default:throw new Error("Unknown account type: "+o.type+". Try upgrading pyth-client.")}},e.prototype.start=function(){return n(this,void 0,void 0,(function(){var e,t,r,n,i,s=this;return o(this,(function(o){switch(o.label){case 0:return[4,this.connection.getProgramAccounts(this.pythProgramKey,this.commitment)];case 1:return e=o.sent(),[4,this.connection.getSlot(this.commitment)];case 2:for(t=o.sent(),r=0,n=e;r<n.length;r++)i=n[r],this.handleAccount(i.pubkey,i.account,!0,t);return this.connection.onProgramAccountChange(this.pythProgramKey,(function(e,t){s.handleAccount(e.accountId,e.accountInfo,!1,t.slot)}),this.commitment),[2]}}))}))},e.prototype.onPriceChange=function(e){this.callbacks.push(e)},e.prototype.stop=function(){return n(this,void 0,void 0,(function(){return o(this,(function(e){return this.callbacks=[],[2]}))}))},e}();t.PythConnection=s},18437:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function a(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythHttpClient=void 0;var i=r(94834),s=function(){function e(e,t,r){void 0===r&&(r="finalized"),this.connection=e,this.pythProgramKey=t,this.commitment=r}return e.prototype.getData=function(){return n(this,void 0,void 0,(function(){var e,t,r,n,s,a,u,c,d,l;return o(this,(function(o){switch(o.label){case 0:return e=new Set,t=new Set,r=new Set,n=new Map,s=new Map,a=new Array,[4,this.connection.getProgramAccounts(this.pythProgramKey,this.commitment)];case 1:return u=o.sent(),c=new Array,d=new Map,[4,this.connection.getSlot(this.commitment)];case 2:return l=o.sent(),u.forEach((function(o){var s=i.parseBaseData(o.account.data);if(s)switch(s.type){case i.AccountType.Mapping:break;case i.AccountType.Product:var a=i.parseProductData(o.account.data);d.set(o.pubkey.toBase58(),a.product),e.add(a.product.asset_type),t.add(a.product.symbol),r.add(a.product),n.set(a.product.symbol,a.product);break;case i.AccountType.Price:var u=i.parsePriceData(o.account.data,l);c.push(u);break;case i.AccountType.Test:break;default:throw new Error("Unknown account type: "+s.type+". Try upgrading pyth-client.")}})),c.forEach((function(e){var t=d.get(e.productAccountKey.toBase58());t&&(s.set(t.symbol,e),a.push(e))})),[2,{assetTypes:Array.from(e),symbols:Array.from(t),products:Array.from(r),productFromSymbol:n,productPrice:s,prices:a}]}}))}))},e}();t.PythHttpClient=s},35798:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPythProgramKeyForCluster=void 0;var n=r(71256),o={"mainnet-beta":"FsJ3A3u2vn5cTVofAjvy6y5kwABJAqYWpe4975bi2epH",devnet:"gSbePebfvPy7tRqimPoVecS2UsBvYv46ynrzWocc92s",testnet:"8tfDNiaEyrV6Q1U4DEXrEigs9DoDtkugzFbybENEbCDz"};t.getPythProgramKeyForCluster=function(e){if(void 0!==o[e])return new n.PublicKey(o[e]);throw new Error("Invalid Solana cluster name: "+e+". Valid options are: "+JSON.stringify(Object.keys(o)))}},94834:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPythProgramKeyForCluster=t.PythHttpClient=t.PythConnection=t.parsePriceData=t.parseProductData=t.parseMappingData=t.parseBaseData=t.AccountType=t.DeriveType=t.PriceType=t.CorpAction=t.PriceStatus=t.MAX_SLOT_DIFFERENCE=t.Version=t.Version2=t.Magic=void 0;var n,o=r(71256),i=r(97429),s=r(48955);t.Magic=2712847316,t.Version2=2,t.Version=t.Version2,t.MAX_SLOT_DIFFERENCE=25,function(e){e[e.Unknown=0]="Unknown",e[e.Trading=1]="Trading",e[e.Halted=2]="Halted",e[e.Auction=3]="Auction"}(n=t.PriceStatus||(t.PriceStatus={})),function(e){e[e.NoCorpAct=0]="NoCorpAct"}(t.CorpAction||(t.CorpAction={})),function(e){e[e.Unknown=0]="Unknown",e[e.Price=1]="Price"}(t.PriceType||(t.PriceType={})),function(e){e[e.Unknown=0]="Unknown",e[e.Volatility=1]="Volatility"}(t.DeriveType||(t.DeriveType={})),function(e){e[e.Unknown=0]="Unknown",e[e.Mapping=1]="Mapping",e[e.Product=2]="Product",e[e.Price=3]="Price",e[e.Test=4]="Test"}(t.AccountType||(t.AccountType={}));var a=i.Buffer.alloc(32),u=function(e){return e.equals(a)?null:new o.PublicKey(e)};t.parseBaseData=function(e){if(!(e.byteLength<4)){var r=e.readUInt32LE(0);return r===t.Magic?{magic:r,version:e.readUInt32LE(4),type:e.readUInt32LE(8),size:e.readUInt32LE(12)}:void 0}};t.parseMappingData=function(e){for(var t=e.readUInt32LE(0),r=e.readUInt32LE(4),n=e.readUInt32LE(8),i=e.readUInt32LE(12),s=e.readUInt32LE(16),a=u(e.slice(24,56)),c=56,d=[],l=0;l<s;l++){var h=e.slice(c,c+32),f=new o.PublicKey(h);c+=32,d.push(f)}return{magic:t,version:r,type:n,size:i,nextMappingAccount:a,productAccountKeys:d}};t.parseProductData=function(e){for(var t=e.readUInt32LE(0),r=e.readUInt32LE(4),n=e.readUInt32LE(8),i=e.readUInt32LE(12),s=e.slice(16,48),a=new o.PublicKey(s),u={},c=48;c<i;){var d=e[c];if(c++,d){var l=e.slice(c,c+d).toString(),h=e[c+=d];c++;var f=e.slice(c,c+h).toString();c+=h,u[l]=f}}return{magic:t,version:r,type:n,size:i,priceAccountKey:a,product:u}};var c=function(e,t){var r=s.readBigInt64LE(e,0);return{valueComponent:r,value:Number(r)*Math.pow(10,t),numerator:s.readBigInt64LE(e,8),denominator:s.readBigInt64LE(e,16)}},d=function(e,t){var r=s.readBigInt64LE(e,0),n=Number(r)*Math.pow(10,t),o=s.readBigUInt64LE(e,8);return{priceComponent:r,price:n,confidenceComponent:o,confidence:Number(o)*Math.pow(10,t),status:e.readUInt32LE(16),corporateAction:e.readUInt32LE(20),publishSlot:Number(s.readBigUInt64LE(e,24))}};t.parsePriceData=function(e,r){var i,a,l=e.readUInt32LE(0),h=e.readUInt32LE(4),f=e.readUInt32LE(8),p=e.readUInt32LE(12),m=e.readUInt32LE(16),g=e.readInt32LE(20),y=e.readUInt32LE(24),b=e.readUInt32LE(28),w=s.readBigUInt64LE(e,32),v=s.readBigUInt64LE(e,40),_=c(e.slice(48,72),g),A=c(e.slice(72,96),g),S=s.readBigInt64LE(e,96),k=Number(S)*Math.pow(10,g),E=e.readUInt8(104),T=e.readInt8(105),P=e.readInt16LE(106),I=e.readInt32LE(108),x=new o.PublicKey(e.slice(112,144)),O=u(e.slice(144,176)),B=s.readBigUInt64LE(e,176),M=s.readBigInt64LE(e,184),D=Number(M)*Math.pow(10,g),U=s.readBigUInt64LE(e,192),R=Number(U)*Math.pow(10,g),L=s.readBigInt64LE(e,200),N=Number(L)*Math.pow(10,g),C=d(e.slice(208,240),g),F=C.status;r&&F===n.Trading&&r-C.publishSlot>t.MAX_SLOT_DIFFERENCE&&(F=n.Unknown),F===n.Trading&&(i=C.price,a=C.confidence);for(var W=[],z=240,j=!0;z<e.length&&j;){var K=u(e.slice(z,z+32));if(z+=32,K){var V=d(e.slice(z,z+32),g);z+=32;var q=d(e.slice(z,z+32),g);z+=32,W.push({publisher:K,aggregate:V,latest:q})}else j=!1}return{magic:l,version:h,type:f,size:p,priceType:m,exponent:g,numComponentPrices:y,numQuoters:b,lastSlot:w,validSlot:v,emaPrice:_,emaConfidence:A,drv1Component:S,drv1:k,minPublishers:E,drv2:T,drv3:P,drv4:I,productAccountKey:x,nextPriceAccountKey:O,previousSlot:B,previousPriceComponent:M,previousPrice:D,previousConfidenceComponent:U,previousConfidence:R,drv5Component:L,drv5:N,aggregate:C,priceComponents:W,price:i,confidence:a,status:F}};var l=r(62279);Object.defineProperty(t,"PythConnection",{enumerable:!0,get:function(){return l.PythConnection}});var h=r(18437);Object.defineProperty(t,"PythHttpClient",{enumerable:!0,get:function(){return h.PythHttpClient}});var f=r(35798);Object.defineProperty(t,"getPythProgramKeyForCluster",{enumerable:!0,get:function(){return f.getPythProgramKeyForCluster}})},48955:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readBigUInt64LE=t.readBigInt64LE=void 0;var r=function(e,t,r){return new Error('The value of "'+e+" is out of range. It must be "+t+". Received "+r)};function n(e,t){if("number"!==typeof e)throw function(e,t,r){return new Error('The "'+e+'" argument must be of type '+t+". Received "+r)}(t,"number",e)}function o(e,t){if(Math.floor(e)!==e)throw n(e,"offset"),r("offset","an integer",e);if(t<0)throw new Error("Attempt to access memory outside buffer bounds");throw r("offset",">= 0 and <= "+t,e)}t.readBigInt64LE=function(e,t){void 0===t&&(t=0),n(t,"offset");var r=e[t],i=e[t+7];void 0!==r&&void 0!==i||o(t,e.length-8);var s=e[t+4]+e[t+5]*Math.pow(2,8)+e[t+6]*Math.pow(2,16)+(i<<24);return(BigInt(s)<<BigInt(32))+BigInt(r+e[++t]*Math.pow(2,8)+e[++t]*Math.pow(2,16)+e[++t]*Math.pow(2,24))},t.readBigUInt64LE=function(e,t){void 0===t&&(t=0),n(t,"offset");var r=e[t],i=e[t+7];void 0!==r&&void 0!==i||o(t,e.length-8);var s=r+e[++t]*Math.pow(2,8)+e[++t]*Math.pow(2,16)+e[++t]*Math.pow(2,24),a=e[++t]+e[++t]*Math.pow(2,8)+e[++t]*Math.pow(2,16)+i*Math.pow(2,24);return BigInt(s)+(BigInt(a)<<BigInt(32))}},25047:(e,t,r)=>{"use strict";t._O=t.Jq=t.KB=t.u8=t.cv=t.Ar=void 0,t.Ik=t.A9=t.n_=t.gM=t.Xo=void 0;const n=r(97429);function o(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function i(e){return o(e),n.Buffer.from(e.buffer,e.byteOffset,e.length)}class s{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function a(e,t){return t.property?e+"["+t.property+"]":e}t.Ar=s;class u extends s{isCount(){throw new Error("ExternalLayout is abstract")}}class c extends u{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o(e);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}class d extends u{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;if(!(e instanceof s))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof l||this.layout instanceof h}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.layout.decode(e,t+this.offset)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.layout.encode(e,t,r+this.offset)}}class l extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i(e).readUIntLE(t,this.span)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i(t).writeUIntLE(e,r,this.span),this.span}}class h extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i(e).readUIntBE(t,this.span)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i(t).writeUIntBE(e,r,this.span),this.span}}class f extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i(e).readIntLE(t,this.span)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i(t).writeIntLE(e,r,this.span),this.span}}class p extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i(e).readIntBE(t,this.span)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i(t).writeIntBE(e,r,this.span),this.span}}const m=Math.pow(2,32);function g(e){const t=Math.floor(e/m);return{hi32:t,lo32:e-t*m}}function y(e,t){return e*m+t}class b extends s{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=i(e),n=r.readUInt32LE(t);return y(r.readUInt32LE(t+4),n)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=g(e),o=i(t);return o.writeUInt32LE(n.lo32,r),o.writeUInt32LE(n.hi32,r+4),8}}class w extends s{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=i(e);return y(r.readUInt32BE(t),r.readUInt32BE(t+4))}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=g(e),o=i(t);return o.writeUInt32BE(n.hi32,r),o.writeUInt32BE(n.lo32,r+4),8}}class v extends s{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=i(e),n=r.readUInt32LE(t);return y(r.readInt32LE(t+4),n)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=g(e),o=i(t);return o.writeUInt32LE(n.lo32,r),o.writeInt32LE(n.hi32,r+4),8}}class _ extends s{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=i(e);return y(r.readInt32BE(t),r.readUInt32BE(t+4))}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=g(e),o=i(t);return o.writeInt32BE(n.hi32,r),o.writeUInt32BE(n.lo32,r+4),8}}class A extends s{constructor(e){super(4,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i(e).readFloatLE(t)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i(t).writeFloatLE(e,r),4}}class S extends s{constructor(e){super(4,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i(e).readFloatBE(t)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i(t).writeFloatBE(e,r),4}}class k extends s{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i(e).readDoubleLE(t)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i(t).writeDoubleLE(e,r),8}}class E extends s{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i(e).readDoubleBE(t)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i(t).writeDoubleBE(e,r),8}}class T extends s{constructor(e,t,r){if(!(e instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof u&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(t instanceof u)&&0<e.span&&(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof u&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let o=0;for(;o<n;)r+=this.elementLayout.getSpan(e,t+r),++o}return r}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=[];let n=0,o=this.count;for(o instanceof u&&(o=o.decode(e,t));n<o;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.elementLayout,o=e.reduce(((e,o)=>e+n.encode(o,t,r+e)),0);return this.count instanceof u&&this.count.encode(e.length,t,r),o}}class P extends s{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof s),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof t&&void 0===r&&(r=t,t=void 0);for(const i of e)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(o){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce(((r,n)=>{const o=n.getSpan(e,t);return t+=o,r+o}),0)}catch(n){throw new RangeError("indeterminate span")}return r}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o(e);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=r;let o=0,i=0;for(const s of this.fields){let n=s.span;if(i=0<n?n:0,void 0!==s.property){const o=e[s.property];void 0!==o&&(i=s.encode(o,t,r),0>n&&(n=s.getSpan(t,r)))}o=r,r+=n}return o+i-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!==typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class I{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,r){throw new Error("UnionDiscriminator is abstract")}}class x extends I{constructor(e,t){if(!(e instanceof u&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class O extends s{constructor(e,t,r){let n;if(e instanceof l||e instanceof h)n=new x(new d(e));else if(e instanceof u&&e.isCount())n=new x(e);else{if(!(e instanceof I))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");n=e}if(void 0===t&&(t=null),!(null===t||t instanceof s))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let o=-1;t&&(o=t.span,0<=o&&(e instanceof l||e instanceof h)&&(o+=n.layout.span)),super(o,r),this.discriminator=n,this.usesPrefixDiscriminator=e instanceof l||e instanceof h,this.defaultLayout=t,this.registry={};let i=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return i(e)},this.configGetSourceVariant=function(e){i=e.bind(this)}}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.discriminator,o=n.decode(e,r),i=this.registry[o];if(void 0===i){const i=this.defaultLayout;let s=0;this.usesPrefixDiscriminator&&(s=n.layout.span),t=this.makeDestinationObject(),t[n.property]=o,t[i.property]=i.decode(e,r+s)}else t=i.decode(e,r);return t}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.getSourceVariant(e);if(void 0===n){const n=this.discriminator,o=this.defaultLayout;let i=0;return this.usesPrefixDiscriminator&&(i=n.layout.span),n.encode(e[n.property],t,r),i+o.encode(e[o.property],t,r+i)}return n.encode(e,t,r)}addVariant(e,t,r){const n=new B(this,e,t,r);return this.registry[e]=n,n}getVariant(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t=e instanceof Uint8Array?this.discriminator.decode(e,r):e,this.registry[t]}}class B extends s{constructor(e,t,r,n){if(!(e instanceof O))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof s))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof n)throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let o=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),o+=this.layout.getSpan(t,r+n),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function M(e){return 0>e&&(e+=4294967296),e}class D extends s{constructor(e,t,r){if(!(e instanceof l||e instanceof h))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=M(e),this},this._packedGetValue=function(){return n}}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.makeDestinationObject(),n=this.word.decode(e,t);this._packedSetValue(n);for(const o of this.fields)void 0!==o.property&&(r[o.property]=o.decode(e));return r}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.word.decode(t,r);this._packedSetValue(n);for(const o of this.fields)if(void 0!==o.property){const t=e[o.property];void 0!==t&&o.encode(t)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new U(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new R(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class U{constructor(e,t,r){if(!(e instanceof D))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const n=8*e.span,o=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+o>n)throw new Error("bits too long for span remainder ("+(n-o)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=n-o-t),this.wordMask=M(this.valueMask<<this.start),this.property=r}decode(e,t){return M(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!==typeof e||!Number.isInteger(e)||e!==M(e&this.valueMask))throw new TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=M(e<<this.start);this.container._packedSetValue(M(t&~this.wordMask)|r)}}class R extends U{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"===typeof e&&(e=+e),super.encode(e)}}class L extends s{constructor(e,t){if(!(e instanceof u&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof u||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.span;return 0>r&&(r=this.length.decode(e,t)),i(e).slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof u&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw new RangeError("encoding overruns Uint8Array");const o=i(e);return i(t).write(o.toString("hex"),r,n,"hex"),this.length instanceof u&&this.length.encode(n,t,r),n}}class N extends s{constructor(e){super(-1,e)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o(e);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.getSpan(e,t);return i(e).slice(t,t+r-1).toString("utf-8")}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;"string"!==typeof e&&(e=String(e));const o=n.Buffer.from(e,"utf8"),s=o.length;if(r+s>t.length)throw new RangeError("encoding overruns Buffer");const a=i(t);return o.copy(a,r),a[r+s]=0,s+1}}class C extends s{constructor(e,t){if("string"===typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e),e.length-t}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return i(e).slice(t,t+r).toString("utf-8")}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;"string"!==typeof e&&(e=String(e));const o=n.Buffer.from(e,"utf8"),s=o.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>t.length)throw new RangeError("encoding overruns Buffer");return o.copy(i(t),r),s}}class F extends s{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}}t.cv=(e,t,r)=>new d(e,t,r),t.u8=e=>new l(1,e),t.KB=e=>new l(2,e),t.Jq=e=>new l(4,e),t._O=e=>new b(e),t.Xo=e=>new f(4,e),t.gM=e=>new v(e),t.n_=(e,t,r)=>new P(e,t,r),t.A9=(e,t,r)=>new T(e,t,r),t.Ik=(e,t)=>new L(e,t)},21380:(e,t,r)=>{"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o,i,s=r(99697).codes,a=s.ERR_AMBIGUOUS_ARGUMENT,u=s.ERR_INVALID_ARG_TYPE,c=s.ERR_INVALID_ARG_VALUE,d=s.ERR_INVALID_RETURN_VALUE,l=s.ERR_MISSING_ARGS,h=r(77319),f=r(58404).inspect,p=r(58404).types,m=p.isPromise,g=p.isRegExp,y=Object.assign?Object.assign:r(42330).assign,b=Object.is?Object.is:r(94395);new Map;function w(){var e=r(56047);o=e.isDeepEqual,i=e.isDeepStrictEqual}var v=!1,_=e.exports=E,A={};function S(e){if(e.message instanceof Error)throw e.message;throw new h(e)}function k(e,t,r,n){if(!r){var o=!1;if(0===t)o=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var i=new h({actual:r,expected:!0,message:n,operator:"==",stackStartFn:e});throw i.generatedMessage=o,i}}function E(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];k.apply(void 0,[E,t.length].concat(t))}_.fail=function e(t,r,n,o,i){var s,a=arguments.length;if(0===a)s="Failed";else if(1===a)n=t,t=void 0;else{if(!1===v){v=!0;var u=process.emitWarning?process.emitWarning:console.warn.bind(console);u("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}2===a&&(o="!=")}if(n instanceof Error)throw n;var c={actual:t,expected:r,operator:void 0===o?"fail":o,stackStartFn:i||e};void 0!==n&&(c.message=n);var d=new h(c);throw s&&(d.message=s,d.generatedMessage=!0),d},_.AssertionError=h,_.ok=E,_.equal=function e(t,r,n){if(arguments.length<2)throw new l("actual","expected");t!=r&&S({actual:t,expected:r,message:n,operator:"==",stackStartFn:e})},_.notEqual=function e(t,r,n){if(arguments.length<2)throw new l("actual","expected");t==r&&S({actual:t,expected:r,message:n,operator:"!=",stackStartFn:e})},_.deepEqual=function e(t,r,n){if(arguments.length<2)throw new l("actual","expected");void 0===o&&w(),o(t,r)||S({actual:t,expected:r,message:n,operator:"deepEqual",stackStartFn:e})},_.notDeepEqual=function e(t,r,n){if(arguments.length<2)throw new l("actual","expected");void 0===o&&w(),o(t,r)&&S({actual:t,expected:r,message:n,operator:"notDeepEqual",stackStartFn:e})},_.deepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new l("actual","expected");void 0===o&&w(),i(t,r)||S({actual:t,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:e})},_.notDeepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new l("actual","expected");void 0===o&&w();i(t,r)&&S({actual:t,expected:r,message:n,operator:"notDeepStrictEqual",stackStartFn:e})},_.strictEqual=function e(t,r,n){if(arguments.length<2)throw new l("actual","expected");b(t,r)||S({actual:t,expected:r,message:n,operator:"strictEqual",stackStartFn:e})},_.notStrictEqual=function e(t,r,n){if(arguments.length<2)throw new l("actual","expected");b(t,r)&&S({actual:t,expected:r,message:n,operator:"notStrictEqual",stackStartFn:e})};var T=function e(t,r,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.forEach((function(e){e in t&&(void 0!==n&&"string"===typeof n[e]&&g(t[e])&&t[e].test(n[e])?o[e]=n[e]:o[e]=t[e])}))};function P(e,t,r,n,o,s){if(!(r in e)||!i(e[r],t[r])){if(!n){var a=new T(e,o),u=new T(t,o,e),c=new h({actual:a,expected:u,operator:"deepStrictEqual",stackStartFn:s});throw c.actual=e,c.expected=t,c.operator=s.name,c}S({actual:e,expected:t,message:n,operator:s.name,stackStartFn:s})}}function I(e,t,r,i){if("function"!==typeof t){if(g(t))return t.test(e);if(2===arguments.length)throw new u("expected",["Function","RegExp"],t);if("object"!==n(e)||null===e){var s=new h({actual:e,expected:t,message:r,operator:"deepStrictEqual",stackStartFn:i});throw s.operator=i.name,s}var a=Object.keys(t);if(t instanceof Error)a.push("name","message");else if(0===a.length)throw new c("error",t,"may not be an empty object");return void 0===o&&w(),a.forEach((function(n){"string"===typeof e[n]&&g(t[n])&&t[n].test(e[n])||P(e,t,n,r,a,i)})),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function x(e){if("function"!==typeof e)throw new u("fn","Function",e);try{e()}catch(t){return t}return A}function O(e){return m(e)||null!==e&&"object"===n(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function B(e){return Promise.resolve().then((function(){var t;if("function"===typeof e){if(!O(t=e()))throw new d("instance of Promise","promiseFn",t)}else{if(!O(e))throw new u("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return A})).catch((function(e){return e}))}))}function M(e,t,r,o){if("string"===typeof r){if(4===arguments.length)throw new u("error",["Object","Error","Function","RegExp"],r);if("object"===n(t)&&null!==t){if(t.message===r)throw new a("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===r)throw new a("error/message",'The error "'.concat(t,'" is identical to the message.'));o=r,r=void 0}else if(null!=r&&"object"!==n(r)&&"function"!==typeof r)throw new u("error",["Object","Error","Function","RegExp"],r);if(t===A){var i="";r&&r.name&&(i+=" (".concat(r.name,")")),i+=o?": ".concat(o):".";var s="rejects"===e.name?"rejection":"exception";S({actual:void 0,expected:r,operator:e.name,message:"Missing expected ".concat(s).concat(i),stackStartFn:e})}if(r&&!I(t,r,o,e))throw t}function D(e,t,r,n){if(t!==A){if("string"===typeof r&&(n=r,r=void 0),!r||I(t,r)){var o=n?": ".concat(n):".",i="doesNotReject"===e.name?"rejection":"exception";S({actual:t,expected:r,operator:e.name,message:"Got unwanted ".concat(i).concat(o,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function U(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];k.apply(void 0,[U,t.length].concat(t))}_.throws=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];M.apply(void 0,[e,x(t)].concat(n))},_.rejects=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return B(t).then((function(t){return M.apply(void 0,[e,t].concat(n))}))},_.doesNotThrow=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];D.apply(void 0,[e,x(t)].concat(n))},_.doesNotReject=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return B(t).then((function(t){return D.apply(void 0,[e,t].concat(n))}))},_.ifError=function e(t){if(null!==t&&void 0!==t){var r="ifError got unwanted exception: ";"object"===n(t)&&"string"===typeof t.message?0===t.message.length&&t.constructor?r+=t.constructor.name:r+=t.message:r+=f(t);var o=new h({actual:t,expected:null,operator:"ifError",message:r,stackStartFn:e}),i=t.stack;if("string"===typeof i){var s=i.split("\n");s.shift();for(var a=o.stack.split("\n"),u=0;u<s.length;u++){var c=a.indexOf(s[u]);if(-1!==c){a=a.slice(0,c);break}}o.stack="".concat(a.join("\n"),"\n").concat(s.join("\n"))}throw o}},_.strict=y(U,_,{equal:_.strictEqual,deepEqual:_.deepStrictEqual,notEqual:_.notStrictEqual,notDeepEqual:_.notDeepStrictEqual}),_.strict.strict=_.strict},77319:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){var t="function"===typeof Map?new Map:void 0;return a=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,l(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},a(e)}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e,t,r){return c=u()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&d(o,r.prototype),o},c.apply(null,arguments)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function h(e){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}var f=r(58404).inspect,p=r(99697).codes.ERR_INVALID_ARG_TYPE;function m(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}var g="",y="",b="",w="",v={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function _(e){var t=Object.keys(e),r=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){r[t]=e[t]})),Object.defineProperty(r,"message",{value:e.message}),r}function A(e){return f(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function S(e,t,r){var n="",o="",i=0,s="",a=!1,u=A(e),c=u.split("\n"),d=A(t).split("\n"),l=0,f="";if("strictEqual"===r&&"object"===h(e)&&"object"===h(t)&&null!==e&&null!==t&&(r="strictEqualObject"),1===c.length&&1===d.length&&c[0]!==d[0]){var p=c[0].length+d[0].length;if(p<=10){if(("object"!==h(e)||null===e)&&("object"!==h(t)||null===t)&&(0!==e||0!==t))return"".concat(v[r],"\n\n")+"".concat(c[0]," !== ").concat(d[0],"\n")}else if("strictEqualObject"!==r){if(p<(process.stderr&&process.stderr.isTTY?process.stderr.columns:80)){for(;c[0][l]===d[0][l];)l++;l>2&&(f="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var r=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,r-e.length)}(" ",l),"^"),l=0)}}}for(var _=c[c.length-1],S=d[d.length-1];_===S&&(l++<2?s="\n  ".concat(_).concat(s):n=_,c.pop(),d.pop(),0!==c.length&&0!==d.length);)_=c[c.length-1],S=d[d.length-1];var k=Math.max(c.length,d.length);if(0===k){var E=u.split("\n");if(E.length>30)for(E[26]="".concat(g,"...").concat(w);E.length>27;)E.pop();return"".concat(v.notIdentical,"\n\n").concat(E.join("\n"),"\n")}l>3&&(s="\n".concat(g,"...").concat(w).concat(s),a=!0),""!==n&&(s="\n  ".concat(n).concat(s),n="");var T=0,P=v[r]+"\n".concat(y,"+ actual").concat(w," ").concat(b,"- expected").concat(w),I=" ".concat(g,"...").concat(w," Lines skipped");for(l=0;l<k;l++){var x=l-i;if(c.length<l+1)x>1&&l>2&&(x>4?(o+="\n".concat(g,"...").concat(w),a=!0):x>3&&(o+="\n  ".concat(d[l-2]),T++),o+="\n  ".concat(d[l-1]),T++),i=l,n+="\n".concat(b,"-").concat(w," ").concat(d[l]),T++;else if(d.length<l+1)x>1&&l>2&&(x>4?(o+="\n".concat(g,"...").concat(w),a=!0):x>3&&(o+="\n  ".concat(c[l-2]),T++),o+="\n  ".concat(c[l-1]),T++),i=l,o+="\n".concat(y,"+").concat(w," ").concat(c[l]),T++;else{var O=d[l],B=c[l],M=B!==O&&(!m(B,",")||B.slice(0,-1)!==O);M&&m(O,",")&&O.slice(0,-1)===B&&(M=!1,B+=","),M?(x>1&&l>2&&(x>4?(o+="\n".concat(g,"...").concat(w),a=!0):x>3&&(o+="\n  ".concat(c[l-2]),T++),o+="\n  ".concat(c[l-1]),T++),i=l,o+="\n".concat(y,"+").concat(w," ").concat(B),n+="\n".concat(b,"-").concat(w," ").concat(O),T+=2):(o+=n,n="",1!==x&&0!==l||(o+="\n  ".concat(B),T++))}if(T>20&&l<k-2)return"".concat(P).concat(I,"\n").concat(o,"\n").concat(g,"...").concat(w).concat(n,"\n")+"".concat(g,"...").concat(w)}return"".concat(P).concat(a?I:"","\n").concat(o).concat(n).concat(s).concat(f)}var k=function(e){function t(e){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==h(e)||null===e)throw new p("options","Object",e);var n=e.message,o=e.operator,a=e.stackStartFn,u=e.actual,c=e.expected,d=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=n)r=i(this,l(t).call(this,String(n)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&1!==process.stderr.getColorDepth()?(g="\x1b[34m",y="\x1b[32m",w="\x1b[39m",b="\x1b[31m"):(g="",y="",w="",b="")),"object"===h(u)&&null!==u&&"object"===h(c)&&null!==c&&"stack"in u&&u instanceof Error&&"stack"in c&&c instanceof Error&&(u=_(u),c=_(c)),"deepStrictEqual"===o||"strictEqual"===o)r=i(this,l(t).call(this,S(u,c,o)));else if("notDeepStrictEqual"===o||"notStrictEqual"===o){var f=v[o],m=A(u).split("\n");if("notStrictEqual"===o&&"object"===h(u)&&null!==u&&(f=v.notStrictEqualObject),m.length>30)for(m[26]="".concat(g,"...").concat(w);m.length>27;)m.pop();r=1===m.length?i(this,l(t).call(this,"".concat(f," ").concat(m[0]))):i(this,l(t).call(this,"".concat(f,"\n\n").concat(m.join("\n"),"\n")))}else{var k=A(u),E="",T=v[o];"notDeepEqual"===o||"notEqual"===o?(k="".concat(v[o],"\n\n").concat(k)).length>1024&&(k="".concat(k.slice(0,1021),"...")):(E="".concat(A(c)),k.length>512&&(k="".concat(k.slice(0,509),"...")),E.length>512&&(E="".concat(E.slice(0,509),"...")),"deepEqual"===o||"equal"===o?k="".concat(T,"\n\n").concat(k,"\n\nshould equal\n\n"):E=" ".concat(o," ").concat(E)),r=i(this,l(t).call(this,"".concat(k).concat(E)))}return Error.stackTraceLimit=d,r.generatedMessage=!n,Object.defineProperty(s(r),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),r.code="ERR_ASSERTION",r.actual=u,r.expected=c,r.operator=o,Error.captureStackTrace&&Error.captureStackTrace(s(r),a),r.stack,r.name="AssertionError",i(r)}var r,a,u;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),r=t,a=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:f.custom,value:function(e,t){return f(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(t){n(e,t,r[t])}))}return e}({},t,{customInspect:!1,depth:0}))}}],a&&o(r.prototype,a),u&&o(r,u),t}(a(Error));e.exports=k},99697:(e,t,r)=>{"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}var a,u,c={};function d(e,t,r){r||(r=Error);var n=function(r){function n(r,s,a){var u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),u=o(this,i(n).call(this,function(e,r,n){return"string"===typeof t?t:t(e,r,n)}(r,s,a))),u.code=e,u}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,r),n}(r);c[e]=n}function l(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}d("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),d("ERR_INVALID_ARG_TYPE",(function(e,t,o){var i,s,u,c;if(void 0===a&&(a=r(21380)),a("string"===typeof e,"'name' must be a string"),"string"===typeof t&&(s="not ",t.substr(!u||u<0?0:+u,s.length)===s)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))c="The ".concat(e," ").concat(i," ").concat(l(t,"type"));else{var d=function(e,t,r){return"number"!==typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";c='The "'.concat(e,'" ').concat(d," ").concat(i," ").concat(l(t,"type"))}return c+=". Received type ".concat(n(o))}),TypeError),d("ERR_INVALID_ARG_VALUE",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===u&&(u=r(58404));var o=u.inspect(t);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(n,". Received ").concat(o)}),TypeError,RangeError),d("ERR_INVALID_RETURN_VALUE",(function(e,t,r){var o;return o=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(n(r)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(o,".")}),TypeError),d("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];void 0===a&&(a=r(21380)),a(t.length>0,"At least one arg needs to be specified");var o="The ",i=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),i){case 1:o+="".concat(t[0]," argument");break;case 2:o+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:o+=t.slice(0,i-1).join(", "),o+=", and ".concat(t[i-1]," arguments")}return"".concat(o," must be specified")}),TypeError),e.exports.codes=c},56047:(e,t,r)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(u){o=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i=void 0!==/a/g.flags,s=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},a=function(e){var t=[];return e.forEach((function(e,r){return t.push([r,e])})),t},u=Object.is?Object.is:r(94395),c=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},d=Number.isNaN?Number.isNaN:r(26110);function l(e){return e.call.bind(e)}var h=l(Object.prototype.hasOwnProperty),f=l(Object.prototype.propertyIsEnumerable),p=l(Object.prototype.toString),m=r(58404).types,g=m.isAnyArrayBuffer,y=m.isArrayBufferView,b=m.isDate,w=m.isMap,v=m.isRegExp,_=m.isSet,A=m.isNativeError,S=m.isBoxedPrimitive,k=m.isNumberObject,E=m.isStringObject,T=m.isBooleanObject,P=m.isBigIntObject,I=m.isSymbolObject,x=m.isFloat32Array,O=m.isFloat64Array;function B(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r<48||r>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function M(e){return Object.keys(e).filter(B).concat(c(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function D(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0}function U(e,t,r,n){if(e===t)return 0!==e||(!r||u(e,t));if(r){if("object"!==o(e))return"number"===typeof e&&d(e)&&d(t);if("object"!==o(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==o(e))return(null===t||"object"!==o(t))&&e==t;if(null===t||"object"!==o(t))return!1}var s,a,c,l,h=p(e);if(h!==p(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var f=M(e),m=M(t);return f.length===m.length&&L(e,t,r,n,1,f)}if("[object Object]"===h&&(!w(e)&&w(t)||!_(e)&&_(t)))return!1;if(b(e)){if(!b(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(v(e)){if(!v(t)||(c=e,l=t,!(i?c.source===l.source&&c.flags===l.flags:RegExp.prototype.toString.call(c)===RegExp.prototype.toString.call(l))))return!1}else if(A(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(y(e)){if(r||!x(e)&&!O(e)){if(!function(e,t){return e.byteLength===t.byteLength&&0===D(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}(e,t))return!1}else if(!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}(e,t))return!1;var B=M(e),U=M(t);return B.length===U.length&&L(e,t,r,n,0,B)}if(_(e))return!(!_(t)||e.size!==t.size)&&L(e,t,r,n,2);if(w(e))return!(!w(t)||e.size!==t.size)&&L(e,t,r,n,3);if(g(e)){if(a=t,(s=e).byteLength!==a.byteLength||0!==D(new Uint8Array(s),new Uint8Array(a)))return!1}else if(S(e)&&!function(e,t){return k(e)?k(t)&&u(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):E(e)?E(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):T(e)?T(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):P(e)?P(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):I(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}(e,t))return!1}return L(e,t,r,n,0)}function R(e,t){return t.filter((function(t){return f(e,t)}))}function L(e,t,r,n,o,i){if(5===arguments.length){i=Object.keys(e);var s=Object.keys(t);if(i.length!==s.length)return!1}for(var a=0;a<i.length;a++)if(!h(t,i[a]))return!1;if(r&&5===arguments.length){var u=c(e);if(0!==u.length){var d=0;for(a=0;a<u.length;a++){var l=u[a];if(f(e,l)){if(!f(t,l))return!1;i.push(l),d++}else if(f(t,l))return!1}var p=c(t);if(u.length!==p.length&&R(t,p).length!==d)return!1}else{var m=c(t);if(0!==m.length&&0!==R(t,m).length)return!1}}if(0===i.length&&(0===o||1===o&&0===e.length||0===e.size))return!0;if(void 0===n)n={val1:new Map,val2:new Map,position:0};else{var g=n.val1.get(e);if(void 0!==g){var y=n.val2.get(t);if(void 0!==y)return g===y}n.position++}n.val1.set(e,n.position),n.val2.set(t,n.position);var b=j(e,t,r,i,n,o);return n.val1.delete(e),n.val2.delete(t),b}function N(e,t,r,n){for(var o=s(e),i=0;i<o.length;i++){var a=o[i];if(U(t,a,r,n))return e.delete(a),!0}return!1}function C(e){switch(o(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(d(e))return!1}return!0}function F(e,t,r){var n=C(r);return null!=n?n:t.has(n)&&!e.has(n)}function W(e,t,r,n,o){var i=C(r);if(null!=i)return i;var s=t.get(i);return!(void 0===s&&!t.has(i)||!U(n,s,!1,o))&&(!e.has(i)&&U(n,s,!1,o))}function z(e,t,r,n,o,i){for(var a=s(e),u=0;u<a.length;u++){var c=a[u];if(U(r,c,o,i)&&U(n,t.get(c),o,i))return e.delete(c),!0}return!1}function j(e,t,r,i,u,c){var d=0;if(2===c){if(!function(e,t,r,n){for(var i=null,a=s(e),u=0;u<a.length;u++){var c=a[u];if("object"===o(c)&&null!==c)null===i&&(i=new Set),i.add(c);else if(!t.has(c)){if(r)return!1;if(!F(e,t,c))return!1;null===i&&(i=new Set),i.add(c)}}if(null!==i){for(var d=s(t),l=0;l<d.length;l++){var h=d[l];if("object"===o(h)&&null!==h){if(!N(i,h,r,n))return!1}else if(!r&&!e.has(h)&&!N(i,h,r,n))return!1}return 0===i.size}return!0}(e,t,r,u))return!1}else if(3===c){if(!function(e,t,r,i){for(var s=null,u=a(e),c=0;c<u.length;c++){var d=n(u[c],2),l=d[0],h=d[1];if("object"===o(l)&&null!==l)null===s&&(s=new Set),s.add(l);else{var f=t.get(l);if(void 0===f&&!t.has(l)||!U(h,f,r,i)){if(r)return!1;if(!W(e,t,l,h,i))return!1;null===s&&(s=new Set),s.add(l)}}}if(null!==s){for(var p=a(t),m=0;m<p.length;m++){var g=n(p[m],2),y=(l=g[0],g[1]);if("object"===o(l)&&null!==l){if(!z(s,e,l,y,r,i))return!1}else if(!r&&(!e.has(l)||!U(e.get(l),y,!1,i))&&!z(s,e,l,y,!1,i))return!1}return 0===s.size}return!0}(e,t,r,u))return!1}else if(1===c)for(;d<e.length;d++){if(!h(e,d)){if(h(t,d))return!1;for(var l=Object.keys(e);d<l.length;d++){var f=l[d];if(!h(t,f)||!U(e[f],t[f],r,u))return!1}return l.length===Object.keys(t).length}if(!h(t,d)||!U(e[d],t[d],r,u))return!1}for(d=0;d<i.length;d++){var p=i[d];if(!U(e[p],t[p],r,u))return!1}return!0}e.exports={isDeepEqual:function(e,t){return U(e,t,false)},isDeepStrictEqual:function(e,t){return U(e,t,true)}}},1583:function(e,t,r){var n;!function(o){"use strict";var i,s=1e6,a=1e6,u="[big.js] ",c=u+"Invalid ",d=c+"decimal places",l=u+"Division by zero",h={},f=void 0,p=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function m(e,t,r,n){var o=e.c;if(r===f&&(r=e.constructor.RM),0!==r&&1!==r&&2!==r&&3!==r)throw Error("[big.js] Invalid rounding mode");if(t<1)n=3===r&&(n||!!o[0])||0===t&&(1===r&&o[0]>=5||2===r&&(o[0]>5||5===o[0]&&(n||o[1]!==f))),o.length=1,n?(e.e=e.e-t+1,o[0]=1):o[0]=e.e=0;else if(t<o.length){if(n=1===r&&o[t]>=5||2===r&&(o[t]>5||5===o[t]&&(n||o[t+1]!==f||1&o[t-1]))||3===r&&(n||!!o[0]),o.length=t--,n)for(;++o[t]>9;)o[t]=0,t--||(++e.e,o.unshift(1));for(t=o.length;!o[--t];)o.pop()}return e}function g(e,t,r){var n=e.e,o=e.c.join(""),i=o.length;if(t)o=o.charAt(0)+(i>1?"."+o.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)o="0"+o;o="0."+o}else if(n>0)if(++n>i)for(n-=i;n--;)o+="0";else n<i&&(o=o.slice(0,n)+"."+o.slice(n));else i>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&r?"-"+o:o}h.abs=function(){var e=new this.constructor(this);return e.s=1,e},h.cmp=function(e){var t,r=this,n=r.c,o=(e=new r.constructor(e)).c,i=r.s,s=e.s,a=r.e,u=e.e;if(!n[0]||!o[0])return n[0]?i:o[0]?-s:0;if(i!=s)return i;if(t=i<0,a!=u)return a>u^t?1:-1;for(s=(a=n.length)<(u=o.length)?a:u,i=-1;++i<s;)if(n[i]!=o[i])return n[i]>o[i]^t?1:-1;return a==u?0:a>u^t?1:-1},h.div=function(e){var t=this,r=t.constructor,n=t.c,o=(e=new r(e)).c,i=t.s==e.s?1:-1,a=r.DP;if(a!==~~a||a<0||a>s)throw Error(d);if(!o[0])throw Error(l);if(!n[0])return e.s=i,e.c=[e.e=0],e;var u,c,h,p,g,y=o.slice(),b=u=o.length,w=n.length,v=n.slice(0,u),_=v.length,A=e,S=A.c=[],k=0,E=a+(A.e=t.e-e.e)+1;for(A.s=i,i=E<0?0:E,y.unshift(0);_++<u;)v.push(0);do{for(h=0;h<10;h++){if(u!=(_=v.length))p=u>_?1:-1;else for(g=-1,p=0;++g<u;)if(o[g]!=v[g]){p=o[g]>v[g]?1:-1;break}if(!(p<0))break;for(c=_==u?o:y;_;){if(v[--_]<c[_]){for(g=_;g&&!v[--g];)v[g]=9;--v[g],v[_]+=10}v[_]-=c[_]}for(;!v[0];)v.shift()}S[k++]=p?h:++h,v[0]&&p?v[_]=n[b]||0:v=[n[b]]}while((b++<w||v[0]!==f)&&i--);return S[0]||1==k||(S.shift(),A.e--,E--),k>E&&m(A,E,r.RM,v[0]!==f),A},h.eq=function(e){return 0===this.cmp(e)},h.gt=function(e){return this.cmp(e)>0},h.gte=function(e){return this.cmp(e)>-1},h.lt=function(e){return this.cmp(e)<0},h.lte=function(e){return this.cmp(e)<1},h.minus=h.sub=function(e){var t,r,n,o,i=this,s=i.constructor,a=i.s,u=(e=new s(e)).s;if(a!=u)return e.s=-u,i.plus(e);var c=i.c.slice(),d=i.e,l=e.c,h=e.e;if(!c[0]||!l[0])return l[0]?e.s=-u:c[0]?e=new s(i):e.s=1,e;if(a=d-h){for((o=a<0)?(a=-a,n=c):(h=d,n=l),n.reverse(),u=a;u--;)n.push(0);n.reverse()}else for(r=((o=c.length<l.length)?c:l).length,a=u=0;u<r;u++)if(c[u]!=l[u]){o=c[u]<l[u];break}if(o&&(n=c,c=l,l=n,e.s=-e.s),(u=(r=l.length)-(t=c.length))>0)for(;u--;)c[t++]=0;for(u=t;r>a;){if(c[--r]<l[r]){for(t=r;t&&!c[--t];)c[t]=9;--c[t],c[r]+=10}c[r]-=l[r]}for(;0===c[--u];)c.pop();for(;0===c[0];)c.shift(),--h;return c[0]||(e.s=1,c=[h=0]),e.c=c,e.e=h,e},h.mod=function(e){var t,r=this,n=r.constructor,o=r.s,i=(e=new n(e)).s;if(!e.c[0])throw Error(l);return r.s=e.s=1,t=1==e.cmp(r),r.s=o,e.s=i,t?new n(r):(o=n.DP,i=n.RM,n.DP=n.RM=0,r=r.div(e),n.DP=o,n.RM=i,this.minus(r.times(e)))},h.plus=h.add=function(e){var t,r,n,o=this,i=o.constructor;if(e=new i(e),o.s!=e.s)return e.s=-e.s,o.minus(e);var s=o.e,a=o.c,u=e.e,c=e.c;if(!a[0]||!c[0])return c[0]||(a[0]?e=new i(o):e.s=o.s),e;if(a=a.slice(),t=s-u){for(t>0?(u=s,n=c):(t=-t,n=a),n.reverse();t--;)n.push(0);n.reverse()}for(a.length-c.length<0&&(n=c,c=a,a=n),t=c.length,r=0;t;a[t]%=10)r=(a[--t]=a[t]+c[t]+r)/10|0;for(r&&(a.unshift(r),++u),t=a.length;0===a[--t];)a.pop();return e.c=a,e.e=u,e},h.pow=function(e){var t=this,r=new t.constructor("1"),n=r,o=e<0;if(e!==~~e||e<-1e6||e>a)throw Error(c+"exponent");for(o&&(e=-e);1&e&&(n=n.times(t)),e>>=1;)t=t.times(t);return o?r.div(n):n},h.prec=function(e,t){if(e!==~~e||e<1||e>s)throw Error(c+"precision");return m(new this.constructor(this),e,t)},h.round=function(e,t){if(e===f)e=0;else if(e!==~~e||e<-s||e>s)throw Error(d);return m(new this.constructor(this),e+this.e+1,t)},h.sqrt=function(){var e,t,r,n=this,o=n.constructor,i=n.s,s=n.e,a=new o("0.5");if(!n.c[0])return new o(n);if(i<0)throw Error(u+"No square root");0===(i=Math.sqrt(n+""))||i===1/0?((t=n.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),e=new o(((i=Math.sqrt(t))==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+s)):e=new o(i+""),s=e.e+(o.DP+=4);do{r=e,e=a.times(r.plus(n.div(r)))}while(r.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return m(e,(o.DP-=4)+e.e+1,o.RM)},h.times=h.mul=function(e){var t,r=this,n=r.constructor,o=r.c,i=(e=new n(e)).c,s=o.length,a=i.length,u=r.e,c=e.e;if(e.s=r.s==e.s?1:-1,!o[0]||!i[0])return e.c=[e.e=0],e;for(e.e=u+c,s<a&&(t=o,o=i,i=t,c=s,s=a,a=c),t=new Array(c=s+a);c--;)t[c]=0;for(u=a;u--;){for(a=0,c=s+u;c>u;)a=t[c]+i[u]*o[c-u-1]+a,t[c--]=a%10,a=a/10|0;t[c]=a}for(a?++e.e:t.shift(),u=t.length;!t[--u];)t.pop();return e.c=t,e},h.toExponential=function(e,t){var r=this,n=r.c[0];if(e!==f){if(e!==~~e||e<0||e>s)throw Error(d);for(r=m(new r.constructor(r),++e,t);r.c.length<e;)r.c.push(0)}return g(r,!0,!!n)},h.toFixed=function(e,t){var r=this,n=r.c[0];if(e!==f){if(e!==~~e||e<0||e>s)throw Error(d);for(e=e+(r=m(new r.constructor(r),e+r.e+1,t)).e+1;r.c.length<e;)r.c.push(0)}return g(r,!1,!!n)},h.toJSON=h.toString=function(){var e=this,t=e.constructor;return g(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},h.toNumber=function(){var e=Number(g(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(u+"Imprecise conversion");return e},h.toPrecision=function(e,t){var r=this,n=r.constructor,o=r.c[0];if(e!==f){if(e!==~~e||e<1||e>s)throw Error(c+"precision");for(r=m(new n(r),e,t);r.c.length<e;)r.c.push(0)}return g(r,e<=r.e||r.e<=n.NE||r.e>=n.PE,!!o)},h.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(u+"valueOf disallowed");return g(e,e.e<=t.NE||e.e>=t.PE,!0)},i=function e(){function t(r){var n=this;if(!(n instanceof t))return r===f?e():new t(r);if(r instanceof t)n.s=r.s,n.e=r.e,n.c=r.c.slice();else{if("string"!==typeof r){if(!0===t.strict)throw TypeError(c+"number");r=0===r&&1/r<0?"-0":String(r)}!function(e,t){var r,n,o;if(!p.test(t))throw Error(c+"number");e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".",""));(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length);for(o=t.length,n=0;n<o&&"0"==t.charAt(n);)++n;if(n==o)e.c=[e.e=0];else{for(;o>0&&"0"==t.charAt(--o););for(e.e=r-n-1,e.c=[],r=0;n<=o;)e.c[r++]=+t.charAt(n++)}}(n,r)}n.constructor=t}return t.prototype=h,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=false,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}(),i.default=i.Big=i,void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},12324:(e,t,r)=>{"use strict";var n=r(97429).Buffer;class o{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function i(e,t){return t.property?e+"["+t.property+"]":e}t.Layout=o,t.nameWithProperty=i,t.bindConstructorLayout=function(e,t){if("function"!==typeof e)throw new TypeError("Class must be constructor");if(e.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof o))throw new TypeError("layout must be a Layout");if(t.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value:function(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value:function(e,r){return t.decode(e,r)},writable:!0})};class s extends o{isCount(){throw new Error("ExternalLayout is abstract")}}class a extends s{constructor(e,t){if(void 0===e&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t){void 0===t&&(t=0);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}class u extends s{constructor(e,t,r){if(!(e instanceof o))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof c||this.layout instanceof d}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return void 0===r&&(r=0),this.layout.encode(e,t,r+this.offset)}}class c extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class d extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}class l extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeIntLE(e,r,this.span),this.span}}class h extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntBE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeIntBE(e,r,this.span),this.span}}const f=Math.pow(2,32);function p(e){const t=Math.floor(e/f);return{hi32:t,lo32:e-t*f}}function m(e,t){return e*f+t}class g extends o{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const r=e.readUInt32LE(t);return m(e.readUInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);const n=p(e);return t.writeUInt32LE(n.lo32,r),t.writeUInt32LE(n.hi32,r+4),8}}class y extends o{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);return m(e.readUInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,r){void 0===r&&(r=0);const n=p(e);return t.writeUInt32BE(n.hi32,r),t.writeUInt32BE(n.lo32,r+4),8}}class b extends o{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const r=e.readUInt32LE(t);return m(e.readInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);const n=p(e);return t.writeUInt32LE(n.lo32,r),t.writeInt32LE(n.hi32,r+4),8}}class w extends o{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);return m(e.readInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,r){void 0===r&&(r=0);const n=p(e);return t.writeInt32BE(n.hi32,r),t.writeUInt32BE(n.lo32,r+4),8}}class v extends o{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatLE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeFloatLE(e,r),4}}class _ extends o{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatBE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeFloatBE(e,r),4}}class A extends o{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleLE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeDoubleLE(e,r),8}}class S extends o{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleBE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeDoubleBE(e,r),8}}class k extends o{constructor(e,t,r){if(!(e instanceof o))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof s&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(t instanceof s)&&0<e.span&&(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0,n=this.count;if(n instanceof s&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let o=0;for(;o<n;)r+=this.elementLayout.getSpan(e,t+r),++o}return r}decode(e,t){void 0===t&&(t=0);const r=[];let n=0,o=this.count;for(o instanceof s&&(o=o.decode(e,t));n<o;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r){void 0===r&&(r=0);const n=this.elementLayout,o=e.reduce(((e,o)=>e+n.encode(o,t,r+e)),0);return this.count instanceof s&&this.count.encode(e.length,t,r),o}}class E extends o{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof o),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof t&&void 0===r&&(r=t,t=void 0);for(const o of e)if(0>o.span&&void 0===o.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(i){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;try{r=this.fields.reduce(((r,n)=>{const o=n.getSpan(e,t);return t+=o,r+o}),0)}catch(n){throw new RangeError("indeterminate span")}return r}decode(e,t){void 0===t&&(t=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){void 0===r&&(r=0);const n=r;let o=0,i=0;for(const s of this.fields){let n=s.span;if(i=0<n?n:0,void 0!==s.property){const o=e[s.property];void 0!==o&&(i=s.encode(o,t,r),0>n&&(n=s.getSpan(t,r)))}o=r,r+=n}return o+i-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!==typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class T{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class P extends T{constructor(e,t){if(!(e instanceof s&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class I extends o{constructor(e,t,r){const n=e instanceof c||e instanceof d;if(n)e=new P(new u(e));else if(e instanceof s&&e.isCount())e=new P(e);else if(!(e instanceof T))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof o))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&n&&(i+=e.layout.span)),super(i,r),this.discriminator=e,this.usesPrefixDiscriminator=n,this.defaultLayout=t,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return a(e)},this.configGetSourceVariant=function(e){a=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){let r;void 0===t&&(t=0);const n=this.discriminator,o=n.decode(e,t);let i=this.registry[o];if(void 0===i){let s=0;i=this.defaultLayout,this.usesPrefixDiscriminator&&(s=n.layout.span),r=this.makeDestinationObject(),r[n.property]=o,r[i.property]=this.defaultLayout.decode(e,t+s)}else r=i.decode(e,t);return r}encode(e,t,r){void 0===r&&(r=0);const n=this.getSourceVariant(e);if(void 0===n){const n=this.discriminator,o=this.defaultLayout;let i=0;return this.usesPrefixDiscriminator&&(i=n.layout.span),n.encode(e[n.property],t,r),i+o.encode(e[o.property],t,r+i)}return n.encode(e,t,r)}addVariant(e,t,r){const n=new x(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t){let r=e;return n.isBuffer(e)&&(void 0===t&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class x extends o{constructor(e,t,r,n){if(!(e instanceof I))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof o))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof n)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let o=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),o+=this.layout.getSpan(t,r+n),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function O(e){return 0>e&&(e+=4294967296),e}class B extends o{constructor(e,t,r){if(!(e instanceof c||e instanceof d))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof t&&void 0===r&&(r=t,t=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=O(e),this},this._packedGetValue=function(){return n}}decode(e,t){const r=this.makeDestinationObject();void 0===t&&(t=0);const n=this.word.decode(e,t);this._packedSetValue(n);for(const o of this.fields)void 0!==o.property&&(r[o.property]=o.decode(n));return r}encode(e,t,r){void 0===r&&(r=0);const n=this.word.decode(t,r);this._packedSetValue(n);for(const o of this.fields)if(void 0!==o.property){const t=e[o.property];void 0!==t&&o.encode(t)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new M(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new D(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class M{constructor(e,t,r){if(!(e instanceof B))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const n=8*e.span,o=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+o>n)throw new Error("bits too long for span remainder ("+(n-o)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=n-o-t),this.wordMask=O(this.valueMask<<this.start),this.property=r}decode(){return O(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==O(e&this.valueMask))throw new TypeError(i("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=O(e<<this.start);this.container._packedSetValue(O(t&~this.wordMask)|r)}}class D extends M{constructor(e,t){super(e,1,t)}decode(e,t){return!!M.prototype.decode.call(this,e,t)}encode(e){return"boolean"===typeof e&&(e=+e),M.prototype.encode.call(this,e)}}class U extends o{constructor(e,t){if(!(e instanceof s&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof s||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){void 0===t&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let o=this.length;if(this.length instanceof s&&(o=e.length),!n.isBuffer(e)||o!==e.length)throw new TypeError(i("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(r+o>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,o,"hex"),this.length instanceof s&&this.length.encode(o,t,r),o}}class R extends o{constructor(e){super(-1,e)}getSpan(e,t){if(!n.isBuffer(e))throw new TypeError("b must be a Buffer");void 0===t&&(t=0);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e,t,r){void 0===t&&(t=0);let n=this.getSpan(e,t);return e.slice(t,t+n-1).toString("utf-8")}encode(e,t,r){void 0===r&&(r=0),"string"!==typeof e&&(e=e.toString());const o=new n(e,"utf8"),i=o.length;if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return o.copy(t,r),t[r+i]=0,i+1}}class L extends o{constructor(e,t){if("string"===typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t){if(!n.isBuffer(e))throw new TypeError("b must be a Buffer");return void 0===t&&(t=0),e.length-t}decode(e,t,r){void 0===t&&(t=0);let n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return e.slice(t,t+n).toString("utf-8")}encode(e,t,r){void 0===r&&(r=0),"string"!==typeof e&&(e=e.toString());const o=new n(e,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return o.copy(t,r),i}}class N extends o{constructor(e,t){super(0,t),this.value=e}decode(e,t,r){return this.value}encode(e,t,r){return 0}}t.ExternalLayout=s,t.GreedyCount=a,t.OffsetLayout=u,t.UInt=c,t.UIntBE=d,t.Int=l,t.IntBE=h,t.Float=v,t.FloatBE=_,t.Double=A,t.DoubleBE=S,t.Sequence=k,t.Structure=E,t.UnionDiscriminator=T,t.UnionLayoutDiscriminator=P,t.Union=I,t.VariantLayout=x,t.BitStructure=B,t.BitField=M,t.Boolean=D,t.Blob=U,t.CString=R,t.UTF8=L,t.Constant=N,t.greedy=(e,t)=>new a(e,t),t.offset=(e,t,r)=>new u(e,t,r),t.u8=e=>new c(1,e),t.u16=e=>new c(2,e),t.u24=e=>new c(3,e),t.u32=e=>new c(4,e),t.u40=e=>new c(5,e),t.u48=e=>new c(6,e),t.nu64=e=>new g(e),t.u16be=e=>new d(2,e),t.u24be=e=>new d(3,e),t.u32be=e=>new d(4,e),t.u40be=e=>new d(5,e),t.u48be=e=>new d(6,e),t.nu64be=e=>new y(e),t.s8=e=>new l(1,e),t.s16=e=>new l(2,e),t.s24=e=>new l(3,e),t.s32=e=>new l(4,e),t.s40=e=>new l(5,e),t.s48=e=>new l(6,e),t.ns64=e=>new b(e),t.s16be=e=>new h(2,e),t.s24be=e=>new h(3,e),t.s32be=e=>new h(4,e),t.s40be=e=>new h(5,e),t.s48be=e=>new h(6,e),t.ns64be=e=>new w(e),t.f32=e=>new v(e),t.f32be=e=>new _(e),t.f64=e=>new A(e),t.f64be=e=>new S(e),t.struct=(e,t,r)=>new E(e,t,r),t.bits=(e,t,r)=>new B(e,t,r),t.seq=(e,t,r)=>new k(e,t,r),t.union=(e,t,r)=>new I(e,t,r),t.unionLayoutDiscriminator=(e,t)=>new P(e,t),t.blob=(e,t)=>new U(e,t),t.cstr=e=>new R(e),t.utf8=(e,t)=>new L(e,t),t.const=(e,t)=>new N(e,t)},8511:e=>{"use strict";const t=(e,t)=>{if("string"!==typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");t=Object.assign({pascalCase:!1},t);if(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim(),0===e.length)return"";if(1===e.length)return t.pascalCase?e.toUpperCase():e.toLowerCase();return e!==e.toLowerCase()&&(e=(e=>{let t=!1,r=!1,n=!1;for(let o=0;o<e.length;o++){const i=e[o];t&&/[a-zA-Z]/.test(i)&&i.toUpperCase()===i?(e=e.slice(0,o)+"-"+e.slice(o),t=!1,n=r,r=!0,o++):r&&n&&/[a-zA-Z]/.test(i)&&i.toLowerCase()===i?(e=e.slice(0,o-1)+"-"+e.slice(o-1),n=r,r=!1,t=!0):(t=i.toLowerCase()===i&&i.toUpperCase()!==i,n=r,r=i.toUpperCase()===i&&i.toLowerCase()!==i)}return e})(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,((e,t)=>t.toUpperCase())).replace(/\d+(\w|$)/g,(e=>e.toUpperCase())),r=e,t.pascalCase?r.charAt(0).toUpperCase()+r.slice(1):r;var r};e.exports=t,e.exports.default=t},46995:function(e,t){var r="undefined"!==typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!==typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function m(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=p(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=d(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=d(t)},h.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),l(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),l(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var r=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=function(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function _(e){var t=new h;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t}function A(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},A.error=function(){var e=new A(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];A.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new A(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(E){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,r){return new Promise((function(n,i){var s=new w(e,r);if(s.signal&&s.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:_(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;n(new A(t,e))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=h,e.Request=w,e.Response=A),t.Headers=h,t.Request=w,t.Response=A,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},69101:function(e,t,r){var n;!function(o){"use strict";var i,s=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},u=!0,c="[DecimalError] ",d=c+"Invalid argument: ",l=c+"Exponent out of range: ",h=Math.floor,f=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m=1e7,g=9007199254740991,y=h(1286742750677284.5),b={};function w(e,t){var r,n,o,i,s,a,c,d,l=e.constructor,h=l.precision;if(!e.s||!t.s)return t.s||(t=new l(e)),u?x(t,h):t;if(c=e.d,d=t.d,s=e.e,o=t.e,c=c.slice(),i=s-o){for(i<0?(n=c,i=-i,a=d.length):(n=d,o=s,a=c.length),i>(a=(s=Math.ceil(h/7))>a?s+1:a+1)&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((a=c.length)-(i=d.length)<0&&(i=a,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/m|0,c[i]%=m;for(r&&(c.unshift(r),++o),a=c.length;0==c[--a];)c.pop();return t.d=c,t.e=o,u?x(t,h):t}function v(e,t,r){if(e!==~~e||e<t||e>r)throw Error(d+e)}function _(e){var t,r,n,o=e.length-1,i="",s=e[0];if(o>0){for(i+=s,t=1;t<o;t++)(r=7-(n=e[t]+"").length)&&(i+=T(r)),i+=n;(r=7-(n=(s=e[t])+"").length)&&(i+=T(r))}else if(0===s)return"0";for(;s%10===0;)s/=10;return i+s}b.absoluteValue=b.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},b.comparedTo=b.cmp=function(e){var t,r,n,o,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,r=(n=i.d.length)<(o=e.d.length)?n:o;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===o?0:n>o^i.s<0?1:-1},b.decimalPlaces=b.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},b.dividedBy=b.div=function(e){return A(this,new this.constructor(e))},b.dividedToIntegerBy=b.idiv=function(e){var t=this.constructor;return x(A(this,new t(e),0,1),t.precision)},b.equals=b.eq=function(e){return!this.cmp(e)},b.exponent=function(){return k(this)},b.greaterThan=b.gt=function(e){return this.cmp(e)>0},b.greaterThanOrEqualTo=b.gte=function(e){return this.cmp(e)>=0},b.isInteger=b.isint=function(){return this.e>this.d.length-2},b.isNegative=b.isneg=function(){return this.s<0},b.isPositive=b.ispos=function(){return this.s>0},b.isZero=function(){return 0===this.s},b.lessThan=b.lt=function(e){return this.cmp(e)<0},b.lessThanOrEqualTo=b.lte=function(e){return this.cmp(e)<1},b.logarithm=b.log=function(e){var t,r=this,n=r.constructor,o=n.precision,s=o+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(i))throw Error(c+"NaN");if(r.s<1)throw Error(c+(r.s?"NaN":"-Infinity"));return r.eq(i)?new n(0):(u=!1,t=A(P(r,s),P(e,s),s),u=!0,x(t,o))},b.minus=b.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O(t,e):w(t,(e.s=-e.s,e))},b.modulo=b.mod=function(e){var t,r=this,n=r.constructor,o=n.precision;if(!(e=new n(e)).s)throw Error(c+"NaN");return r.s?(u=!1,t=A(r,e,0,1).times(e),u=!0,r.minus(t)):x(new n(r),o)},b.naturalExponential=b.exp=function(){return S(this)},b.naturalLogarithm=b.ln=function(){return P(this)},b.negated=b.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},b.plus=b.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?w(t,e):O(t,(e.s=-e.s,e))},b.precision=b.sd=function(e){var t,r,n,o=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(d+e);if(t=k(o)+1,r=7*(n=o.d.length-1)+1,n=o.d[n]){for(;n%10==0;n/=10)r--;for(n=o.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},b.squareRoot=b.sqrt=function(){var e,t,r,n,o,i,s,a=this,d=a.constructor;if(a.s<1){if(!a.s)return new d(0);throw Error(c+"NaN")}for(e=k(a),u=!1,0==(o=Math.sqrt(+a))||o==1/0?(((t=_(a.d)).length+e)%2==0&&(t+="0"),o=Math.sqrt(t),e=h((e+1)/2)-(e<0||e%2),n=new d(t=o==1/0?"5e"+e:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new d(o.toString()),o=s=(r=d.precision)+3;;)if(n=(i=n).plus(A(a,i,s+2)).times(.5),_(i.d).slice(0,s)===(t=_(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),o==s&&"4999"==t){if(x(i,r+1,0),i.times(i).eq(a)){n=i;break}}else if("9999"!=t)break;s+=4}return u=!0,x(n,r)},b.times=b.mul=function(e){var t,r,n,o,i,s,a,c,d,l=this,h=l.constructor,f=l.d,p=(e=new h(e)).d;if(!l.s||!e.s)return new h(0);for(e.s*=l.s,r=l.e+e.e,(c=f.length)<(d=p.length)&&(i=f,f=p,p=i,s=c,c=d,d=s),i=[],n=s=c+d;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,o=c+n;o>n;)a=i[o]+p[n]*f[o-n-1]+t,i[o--]=a%m|0,t=a/m|0;i[o]=(i[o]+t)%m|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,u?x(e,h.precision):e},b.toDecimalPlaces=b.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(v(e,0,s),void 0===t?t=n.rounding:v(t,0,8),x(r,e+k(r)+1,t))},b.toExponential=function(e,t){var r,n=this,o=n.constructor;return void 0===e?r=B(n,!0):(v(e,0,s),void 0===t?t=o.rounding:v(t,0,8),r=B(n=x(new o(n),e+1,t),!0,e+1)),r},b.toFixed=function(e,t){var r,n,o=this,i=o.constructor;return void 0===e?B(o):(v(e,0,s),void 0===t?t=i.rounding:v(t,0,8),r=B((n=x(new i(o),e+k(o)+1,t)).abs(),!1,e+k(n)+1),o.isneg()&&!o.isZero()?"-"+r:r)},b.toInteger=b.toint=function(){var e=this,t=e.constructor;return x(new t(e),k(e)+1,t.rounding)},b.toNumber=function(){return+this},b.toPower=b.pow=function(e){var t,r,n,o,s,a,d=this,l=d.constructor,f=+(e=new l(e));if(!e.s)return new l(i);if(!(d=new l(d)).s){if(e.s<1)throw Error(c+"Infinity");return d}if(d.eq(i))return d;if(n=l.precision,e.eq(i))return x(d,n);if(a=(t=e.e)>=(r=e.d.length-1),s=d.s,a){if((r=f<0?-f:f)<=g){for(o=new l(i),t=Math.ceil(n/7+4),u=!1;r%2&&M((o=o.times(d)).d,t),0!==(r=h(r/2));)M((d=d.times(d)).d,t);return u=!0,e.s<0?new l(i).div(o):x(o,n)}}else if(s<0)throw Error(c+"NaN");return s=s<0&&1&e.d[Math.max(t,r)]?-1:1,d.s=1,u=!1,o=e.times(P(d,n+12)),u=!0,(o=S(o)).s=s,o},b.toPrecision=function(e,t){var r,n,o=this,i=o.constructor;return void 0===e?n=B(o,(r=k(o))<=i.toExpNeg||r>=i.toExpPos):(v(e,1,s),void 0===t?t=i.rounding:v(t,0,8),n=B(o=x(new i(o),e,t),e<=(r=k(o))||r<=i.toExpNeg,e)),n},b.toSignificantDigits=b.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(v(e,1,s),void 0===t?t=r.rounding:v(t,0,8)),x(new r(this),e,t)},b.toString=b.valueOf=b.val=b.toJSON=function(){var e=this,t=k(e),r=e.constructor;return B(e,t<=r.toExpNeg||t>=r.toExpPos)};var A=function(){function e(e,t){var r,n=0,o=e.length;for(e=e.slice();o--;)r=e[o]*t+n,e[o]=r%m|0,n=r/m|0;return n&&e.unshift(n),e}function t(e,t,r,n){var o,i;if(r!=n)i=r>n?1:-1;else for(o=i=0;o<r;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*m+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,o,i,s){var a,u,d,l,h,f,p,g,y,b,w,v,_,A,S,E,T,P,I=n.constructor,O=n.s==o.s?1:-1,B=n.d,M=o.d;if(!n.s)return new I(n);if(!o.s)throw Error(c+"Division by zero");for(u=n.e-o.e,T=M.length,S=B.length,g=(p=new I(O)).d=[],d=0;M[d]==(B[d]||0);)++d;if(M[d]>(B[d]||0)&&--u,(v=null==i?i=I.precision:s?i+(k(n)-k(o))+1:i)<0)return new I(0);if(v=v/7+2|0,d=0,1==T)for(l=0,M=M[0],v++;(d<S||l)&&v--;d++)_=l*m+(B[d]||0),g[d]=_/M|0,l=_%M|0;else{for((l=m/(M[0]+1)|0)>1&&(M=e(M,l),B=e(B,l),T=M.length,S=B.length),A=T,b=(y=B.slice(0,T)).length;b<T;)y[b++]=0;(P=M.slice()).unshift(0),E=M[0],M[1]>=m/2&&++E;do{l=0,(a=t(M,y,T,b))<0?(w=y[0],T!=b&&(w=w*m+(y[1]||0)),(l=w/E|0)>1?(l>=m&&(l=m-1),1==(a=t(h=e(M,l),y,f=h.length,b=y.length))&&(l--,r(h,T<f?P:M,f))):(0==l&&(a=l=1),h=M.slice()),(f=h.length)<b&&h.unshift(0),r(y,h,b),-1==a&&(a=t(M,y,T,b=y.length))<1&&(l++,r(y,T<b?P:M,b)),b=y.length):0===a&&(l++,y=[0]),g[d++]=l,a&&y[0]?y[b++]=B[A]||0:(y=[B[A]],b=1)}while((A++<S||void 0!==y[0])&&v--)}return g[0]||g.shift(),p.e=u,x(p,s?i+k(p)+1:i)}}();function S(e,t){var r,n,o,s,a,c=0,d=0,h=e.constructor,p=h.precision;if(k(e)>16)throw Error(l+k(e));if(!e.s)return new h(i);for(null==t?(u=!1,a=p):a=t,s=new h(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(a+=Math.log(f(2,d))/Math.LN10*2+5|0,r=n=o=new h(i),h.precision=a;;){if(n=x(n.times(e),a),r=r.times(++c),_((s=o.plus(A(n,r,a))).d).slice(0,a)===_(o.d).slice(0,a)){for(;d--;)o=x(o.times(o),a);return h.precision=p,null==t?(u=!0,x(o,p)):o}o=s}}function k(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function E(e,t,r){if(t>e.LN10.sd())throw u=!0,r&&(e.precision=r),Error(c+"LN10 precision limit exceeded");return x(new e(e.LN10),t)}function T(e){for(var t="";e--;)t+="0";return t}function P(e,t){var r,n,o,s,a,d,l,h,f,p=1,m=e,g=m.d,y=m.constructor,b=y.precision;if(m.s<1)throw Error(c+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new y(0);if(null==t?(u=!1,h=b):h=t,m.eq(10))return null==t&&(u=!0),E(y,h);if(h+=10,y.precision=h,n=(r=_(g)).charAt(0),s=k(m),!(Math.abs(s)<15e14))return l=E(y,h+2,b).times(s+""),m=P(new y(n+"."+r.slice(1)),h-10).plus(l),y.precision=b,null==t?(u=!0,x(m,b)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=_((m=m.times(e)).d)).charAt(0),p++;for(s=k(m),n>1?(m=new y("0."+r),s++):m=new y(n+"."+r.slice(1)),d=a=m=A(m.minus(i),m.plus(i),h),f=x(m.times(m),h),o=3;;){if(a=x(a.times(f),h),_((l=d.plus(A(a,new y(o),h))).d).slice(0,h)===_(d.d).slice(0,h))return d=d.times(2),0!==s&&(d=d.plus(E(y,h+2,b).times(s+""))),d=A(d,new y(p),h),y.precision=b,null==t?(u=!0,x(d,b)):d;d=l,o+=2}}function I(e,t){var r,n,o;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(o=t.length;48===t.charCodeAt(o-1);)--o;if(t=t.slice(n,o)){if(o-=n,r=r-n-1,e.e=h(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<o){for(n&&e.d.push(+t.slice(0,n)),o-=7;n<o;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=o;for(;n--;)t+="0";if(e.d.push(+t),u&&(e.e>y||e.e<-y))throw Error(l+r)}else e.s=0,e.e=0,e.d=[0];return e}function x(e,t,r){var n,o,i,s,a,c,d,p,g=e.d;for(s=1,i=g[0];i>=10;i/=10)s++;if((n=t-s)<0)n+=7,o=t,d=g[p=0];else{if((p=Math.ceil((n+1)/7))>=(i=g.length))return e;for(d=i=g[p],s=1;i>=10;i/=10)s++;o=(n%=7)-7+s}if(void 0!==r&&(a=d/(i=f(10,s-o-1))%10|0,c=t<0||void 0!==g[p+1]||d%i,c=r<4?(a||c)&&(0==r||r==(e.s<0?3:2)):a>5||5==a&&(4==r||c||6==r&&(n>0?o>0?d/f(10,s-o):0:g[p-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return c?(i=k(e),g.length=1,t=t-i-1,g[0]=f(10,(7-t%7)%7),e.e=h(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==n?(g.length=p,i=1,p--):(g.length=p+1,i=f(10,7-n),g[p]=o>0?(d/f(10,s-o)%f(10,o)|0)*i:0),c)for(;;){if(0==p){(g[0]+=i)==m&&(g[0]=1,++e.e);break}if(g[p]+=i,g[p]!=m)break;g[p--]=0,i=1}for(n=g.length;0===g[--n];)g.pop();if(u&&(e.e>y||e.e<-y))throw Error(l+k(e));return e}function O(e,t){var r,n,o,i,s,a,c,d,l,h,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),u?x(t,p):t;if(c=e.d,h=t.d,n=t.e,d=e.e,c=c.slice(),s=d-n){for((l=s<0)?(r=c,s=-s,a=h.length):(r=h,n=d,a=c.length),s>(o=Math.max(Math.ceil(p/7),a)+2)&&(s=o,r.length=1),r.reverse(),o=s;o--;)r.push(0);r.reverse()}else{for((l=(o=c.length)<(a=h.length))&&(a=o),o=0;o<a;o++)if(c[o]!=h[o]){l=c[o]<h[o];break}s=0}for(l&&(r=c,c=h,h=r,t.s=-t.s),a=c.length,o=h.length-a;o>0;--o)c[a++]=0;for(o=h.length;o>s;){if(c[--o]<h[o]){for(i=o;i&&0===c[--i];)c[i]=m-1;--c[i],c[o]+=m}c[o]-=h[o]}for(;0===c[--a];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,u?x(t,p):t):new f(0)}function B(e,t,r){var n,o=k(e),i=_(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+T(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(o<0?"e":"e+")+o):o<0?(i="0."+T(-o-1)+i,r&&(n=r-s)>0&&(i+=T(n))):o>=s?(i+=T(o+1-s),r&&(n=r-o-1)>0&&(i=i+"."+T(n))):((n=o+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(o+1===s&&(i+="."),i+=T(n))),e.s<0?"-"+i:i}function M(e,t){if(e.length>t)return e.length=t,!0}function D(e){if(!e||"object"!==typeof e)throw Error(c+"Object expected");var t,r,n,o=["precision",1,s,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<o.length;t+=3)if(void 0!==(n=e[r=o[t]])){if(!(h(n)===n&&n>=o[t+1]&&n<=o[t+2]))throw Error(d+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(d+r+": "+n);this[r]=new this(n)}return this}a=function e(t){var r,n,o;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(d+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):I(t,e.toString())}if("string"!==typeof e)throw Error(d+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(d+e);I(t,e)}if(i.prototype=b,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=D,void 0===t&&(t={}),t)for(o=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<o.length;)t.hasOwnProperty(n=o[r++])||(t[n]=this[n]);return i.config(t),i}(a),a.default=a.Decimal=a,i=new a(1),void 0===(n=function(){return a}.call(t,r,t,e))||(e.exports=n)}()},2674:(e,t,r)=>{"use strict";var n=r(30318),o="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),i=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,u=a&&function(){var e={};try{for(var t in a(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(r){return!1}}(),c=function(e,t,r,n){var o;(!(t in e)||"function"===typeof(o=n)&&"[object Function]"===i.call(o)&&n())&&(u?a(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},d=function(e,t){var r=arguments.length>2?arguments[2]:{},i=n(t);o&&(i=s.call(i,Object.getOwnPropertySymbols(t)));for(var a=0;a<i.length;a+=1)c(e,i[a],t[i[a]],r[i[a]])};d.supportsDescriptors=!!u,e.exports=d},42330:e=>{"use strict";function t(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var r=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(void 0!==o&&null!==o)for(var i=Object.keys(Object(o)),s=0,a=i.length;s<a;s++){var u=i[s],c=Object.getOwnPropertyDescriptor(o,u);void 0!==c&&c.enumerable&&(r[u]=o[u])}}return r}e.exports={assign:t,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}}},53126:e=>{"use strict";e.exports=function(e){return e!==e}},26110:(e,t,r)=>{"use strict";var n=r(33130),o=r(2674),i=r(53126),s=r(83329),a=r(14321),u=n(s(),Number);o(u,{getPolyfill:s,implementation:i,shim:a}),e.exports=u},83329:(e,t,r)=>{"use strict";var n=r(53126);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},14321:(e,t,r)=>{"use strict";var n=r(2674),o=r(83329);e.exports=function(){var e=o();return n(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},10119:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"===typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"===typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(r){return new Sha256(t,!0).update(r)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createOutputMethod(n,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"===typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null===e||void 0===e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(r,n){return new HmacSha256(r,t,!0).update(n)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,r){return t.create(e).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createHmacOutputMethod(n,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,r){var n,o=typeof e;if("string"===o){var i,s=[],a=e.length,u=0;for(n=0;n<a;++n)(i=e.charCodeAt(n))<128?s[u++]=i:i<2048?(s[u++]=192|i>>6,s[u++]=128|63&i):i<55296||i>=57344?(s[u++]=224|i>>12,s[u++]=128|i>>6&63,s[u++]=128|63&i):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++n)),s[u++]=240|i>>18,s[u++]=128|i>>12&63,s[u++]=128|i>>6&63,s[u++]=128|63&i);e=s}else{if("object"!==o)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var c=[],d=[];for(n=0;n<64;++n){var l=e[n]||0;c[n]=92^l,d[n]=54^l}Sha256.call(this,t,r),this.update(d),this.oKeyPad=c,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var n,o,i=0,s=e.length,a=this.blocks;i<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(o=this.start;i<s&&o<64;++i)a[o>>2]|=e[i]<<SHIFT[3&o++];else for(o=this.start;i<s&&o<64;++i)(n=e.charCodeAt(i))<128?a[o>>2]|=n<<SHIFT[3&o++]:n<2048?(a[o>>2]|=(192|n>>6)<<SHIFT[3&o++],a[o>>2]|=(128|63&n)<<SHIFT[3&o++]):n<55296||n>=57344?(a[o>>2]|=(224|n>>12)<<SHIFT[3&o++],a[o>>2]|=(128|n>>6&63)<<SHIFT[3&o++],a[o>>2]|=(128|63&n)<<SHIFT[3&o++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++i)),a[o>>2]|=(240|n>>18)<<SHIFT[3&o++],a[o>>2]|=(128|n>>12&63)<<SHIFT[3&o++],a[o>>2]|=(128|n>>6&63)<<SHIFT[3&o++],a[o>>2]|=(128|63&n)<<SHIFT[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=a[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,r,n,o,i,s,a,u,c=this.h0,d=this.h1,l=this.h2,h=this.h3,f=this.h4,p=this.h5,m=this.h6,g=this.h7,y=this.blocks;for(e=16;e<64;++e)t=((o=y[e-15])>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,r=((o=y[e-2])>>>17|o<<15)^(o>>>19|o<<13)^o>>>10,y[e]=y[e-16]+t+y[e-7]+r<<0;for(u=d&l,e=0;e<64;e+=4)this.first?(this.is224?(i=300032,g=(o=y[0]-1413257819)-150054599<<0,h=o+24177077<<0):(i=704751109,g=(o=y[0]-210244248)-1521486534<<0,h=o+143694565<<0),this.first=!1):(t=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),n=(i=c&d)^c&l^u,g=h+(o=g+(r=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&p^~f&m)+K[e]+y[e])<<0,h=o+(t+n)<<0),t=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),n=(s=h&c)^h&d^i,m=l+(o=m+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&f^~g&p)+K[e+1]+y[e+1])<<0,t=((l=o+(t+n)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(a=l&h)^l&c^s,p=d+(o=p+(r=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&g^~m&f)+K[e+2]+y[e+2])<<0,t=((d=o+(t+n)<<0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),n=(u=d&l)^d&h^a,f=c+(o=f+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&m^~p&g)+K[e+3]+y[e+3])<<0,c=o+(t+n)<<0;this.h0=this.h0+c<<0,this.h1=this.h1+d<<0,this.h2=this.h2+l<<0,this.h3=this.h3+h<<0,this.h4=this.h4+f<<0,this.h5=this.h5+p<<0,this.h6=this.h6+m<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,o=this.h4,i=this.h5,s=this.h6,a=this.h7,u=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(u+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,o=this.h4,i=this.h5,s=this.h6,a=this.h7,u=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,o>>24&255,o>>16&255,o>>8&255,255&o,i>>24&255,i>>16&255,i>>8&255,255&i,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||u.push(a>>24&255,a>>16&255,a>>8&255,255&a),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},46694:function(e){e.exports=function(){"use strict";var e=Math.imul,t=Math.clz32;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r,n=0;n<t.length;n++)(r=t[n]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function d(){return d=c()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&u(o,r.prototype),o},d.apply(null,arguments)}function l(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function h(e){var t="function"==typeof Map?new Map:void 0;return h=function(e){function r(){return d(e,arguments,a(this).constructor)}if(null===e||!l(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof t){if(t.has(e))return t.get(e);t.set(e,r)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)},h(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function m(e){var t=c();return function(){var r,n=a(e);if(t){var o=a(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function g(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=g(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}var w=function(e){var t=Math.abs,o=Math.max,a=Math.floor;function u(e,t){var r;if(n(this,u),(r=c.call(this,e)).sign=t,Object.setPrototypeOf(f(r),u.prototype),e>u.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return r}s(u,e);var c=m(u);return i(u,[{key:"toDebugString",value:function(){var e,t=["BigInt["],r=b(this);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push((n?(n>>>0).toString(16):n)+", ")}}catch(e){r.e(e)}finally{r.f()}return t.push("]"),t.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(e&e-1)?u.__toStringBasePowerOfTwo(this,e):u.__toStringGeneric(this,e,!1)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var e=new u(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return u.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(e,t,r){r>this.length&&(r=this.length);for(var n=32767&e,o=e>>>15,i=0,s=t,a=0;a<r;a++){var c=this.__digit(a),d=32767&c,l=c>>>15,h=u.__imul(d,n),f=u.__imul(d,o),p=u.__imul(l,n),m=s+h+i;i=m>>>30,m&=1073741823,i+=(m+=((32767&f)<<15)+((32767&p)<<15))>>>30,s=u.__imul(l,o)+(f>>>15)+(p>>>15),this.__setDigit(a,1073741823&m)}if(0!==i||0!==s)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,r){for(var n,o=0,i=0;i<r;i++)o=(n=this.__halfDigit(t+i)+e.__halfDigit(i)+o)>>>15,this.__setHalfDigit(t+i,32767&n);return o}},{key:"__inplaceSub",value:function(e,t,r){var n=0;if(1&t){t>>=1;for(var o=this.__digit(t),i=32767&o,s=0;s<r-1>>>1;s++){var a=e.__digit(s),u=(o>>>15)-(32767&a)-n;n=1&u>>>15,this.__setDigit(t+s,(32767&u)<<15|32767&i),n=1&(i=(32767&(o=this.__digit(t+s+1)))-(a>>>15)-n)>>>15}var c=e.__digit(s),d=(o>>>15)-(32767&c)-n;if(n=1&d>>>15,this.__setDigit(t+s,(32767&d)<<15|32767&i),t+s+1>=this.length)throw new RangeError("out of bounds");0==(1&r)&&(n=1&(i=(32767&(o=this.__digit(t+s+1)))-(c>>>15)-n)>>>15,this.__setDigit(t+e.length,1073709056&o|32767&i))}else{t>>=1;for(var l=0;l<e.length-1;l++){var h=this.__digit(t+l),f=e.__digit(l),p=(32767&h)-(32767&f)-n,m=(h>>>15)-(f>>>15)-(n=1&p>>>15);n=1&m>>>15,this.__setDigit(t+l,(32767&m)<<15|32767&p)}var g=this.__digit(t+l),y=e.__digit(l),b=(32767&g)-(32767&y)-n;n=1&b>>>15;var w=0;0==(1&r)&&(n=1&(w=(g>>>15)-(y>>>15)-n)>>>15),this.__setDigit(t+l,(32767&w)<<15|32767&b)}return n}},{key:"__inplaceRightShift",value:function(e){if(0!==e){for(var t,r=this.__digit(0)>>>e,n=this.length-1,o=0;o<n;o++)t=this.__digit(o+1),this.__setDigit(o,1073741823&t<<30-e|r),r=t>>>e;this.__setDigit(n,r)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 32767&this[e>>>1]>>>15*(1&e)}},{key:"__setHalfDigit",value:function(e,t){var r=e>>>1,n=this.__digit(r),o=1&e?32767&n|t<<15:1073709056&n|32767&t;this.__setDigit(r,o)}}],[{key:"BigInt",value:function(e){var t=Number.isFinite;if("number"==typeof e){if(0===e)return u.__zero();if(u.__isOneDigitInt(e))return 0>e?u.__oneDigit(-e,!0):u.__oneDigit(e,!1);if(!t(e)||a(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return u.__fromDouble(e)}if("string"==typeof e){var n=u.__fromString(e);if(null===n)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return n}if("boolean"==typeof e)return!0===e?u.__oneDigit(1,!1):u.__zero();if("object"===r(e)){if(e.constructor===u)return e;var o=u.__toPrimitive(e);return u.BigInt(o)}throw new TypeError("Cannot convert "+e+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(0===t)return 0;if(1===t){var r=e.__unsignedDigit(0);return e.sign?-r:r}var n=e.__digit(t-1),o=u.__clz30(n),i=30*t-o;if(1024<i)return e.sign?-1/0:1/0;var s=i-1,a=n,c=t-1,d=o+3,l=32===d?0:a<<d;l>>>=12;var h=d-12,f=12<=d?0:a<<20+d,p=20+d;for(0<h&&0<c&&(c--,l|=(a=e.__digit(c))>>>30-h,f=a<<h+2,p=h+2);0<p&&0<c;)c--,a=e.__digit(c),f|=30<=p?a<<p-30:a>>>30-p,p-=30;var m=u.__decideRounding(e,p,c,a);if((1===m||0===m&&1==(1&f))&&0===(f=f+1>>>0)&&0!=++l>>>20&&(l=0,1023<++s))return e.sign?-1/0:1/0;var g=e.sign?-2147483648:0;return s=s+1023<<20,u.__kBitConversionInts[1]=g|s|l,u.__kBitConversionInts[0]=f,u.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(0===e.length)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?u.__absoluteSubOne(e).__trim():u.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return u.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return e.sign&&0==(1&t.__digit(0))?u.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");var r=t.__unsignedDigit(0);if(1===r)return e;if(r>=u.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){var n=1+(0|r/30),o=new u(n,e.sign&&0!=(1&r));o.__initializeDigits();var i=1<<r%30;return o.__setDigit(n-1,i),o}var s=null,a=e;for(0!=(1&r)&&(s=e),r>>=1;0!==r;r>>=1)a=u.multiply(a,a),0!=(1&r)&&(s=null===s?a:u.multiply(s,a));return s}},{key:"multiply",value:function(e,t){if(0===e.length)return e;if(0===t.length)return t;var r=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&r--;var n=new u(r,e.sign!==t.sign);n.__initializeDigits();for(var o=0;o<e.length;o++)u.__multiplyAccumulate(t,e.__digit(o),n,o);return n.__trim()}},{key:"divide",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(e,t))return u.__zero();var r,n=e.sign!==t.sign,o=t.__unsignedDigit(0);if(1===t.length&&32767>=o){if(1===o)return n===e.sign?e:u.unaryMinus(e);r=u.__absoluteDivSmall(e,o,null)}else r=u.__absoluteDivLarge(e,t,!0,!1);return r.sign=n,r.__trim()}},{key:"remainder",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(e,t))return e;var r=t.__unsignedDigit(0);if(1===t.length&&32767>=r){if(1===r)return u.__zero();var n=u.__absoluteModSmall(e,r);return 0===n?u.__zero():u.__oneDigit(n,e.sign)}var o=u.__absoluteDivLarge(e,t,!1,!0);return o.sign=e.sign,o.__trim()}},{key:"add",value:function(e,t){var r=e.sign;return r===t.sign?u.__absoluteAdd(e,t,r):0<=u.__absoluteCompare(e,t)?u.__absoluteSub(e,t,r):u.__absoluteSub(t,e,!r)}},{key:"subtract",value:function(e,t){var r=e.sign;return r===t.sign?0<=u.__absoluteCompare(e,t)?u.__absoluteSub(e,t,r):u.__absoluteSub(t,e,!r):u.__absoluteAdd(e,t,r)}},{key:"leftShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?u.__rightShiftByAbsolute(e,t):u.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?u.__leftShiftByAbsolute(e,t):u.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return 0>u.__compareToBigInt(e,t)}},{key:"lessThanOrEqual",value:function(e,t){return 0>=u.__compareToBigInt(e,t)}},{key:"greaterThan",value:function(e,t){return 0<u.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=u.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}},{key:"notEqual",value:function(e,t){return!u.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign)return u.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var r=o(e.length,t.length)+1,n=u.__absoluteSubOne(e,r),i=u.__absoluteSubOne(t);return n=u.__absoluteOr(n,i,n),u.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var s=[t,e];e=s[0],t=s[1]}return u.__absoluteAndNot(e,u.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign)return u.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var r=o(e.length,t.length),n=u.__absoluteSubOne(e,r),i=u.__absoluteSubOne(t);return u.__absoluteXor(n,i,n).__trim()}var s=o(e.length,t.length)+1;if(e.sign){var a=[t,e];e=a[0],t=a[1]}var c=u.__absoluteSubOne(t,s);return c=u.__absoluteXor(c,e,c),u.__absoluteAddOne(c,!0,c).__trim()}},{key:"bitwiseOr",value:function(e,t){var r=o(e.length,t.length);if(!e.sign&&!t.sign)return u.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var n=u.__absoluteSubOne(e,r),i=u.__absoluteSubOne(t);return n=u.__absoluteAnd(n,i,n),u.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var s=[t,e];e=s[0],t=s[1]}var a=u.__absoluteSubOne(t,r);return a=u.__absoluteAndNot(a,e,a),u.__absoluteAddOne(a,!0,a).__trim()}},{key:"asIntN",value:function(e,t){if(0===t.length)return t;if(0>(e=a(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return u.__zero();if(e>=u.__kMaxLengthBits)return t;var r=0|(e+29)/30;if(t.length<r)return t;var n=t.__unsignedDigit(r-1),o=1<<(e-1)%30;if(t.length===r&&n<o)return t;if((n&o)!==o)return u.__truncateToNBits(e,t);if(!t.sign)return u.__truncateAndSubFromPowerOfTwo(e,t,!0);if(0==(n&o-1)){for(var i=r-2;0<=i;i--)if(0!==t.__digit(i))return u.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===r&&n===o?t:u.__truncateToNBits(e,t)}return u.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(0===t.length)return t;if(0>(e=a(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return u.__zero();if(t.sign){if(e>u.__kMaxLengthBits)throw new RangeError("BigInt too big");return u.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=u.__kMaxLengthBits)return t;var r=0|(e+29)/30;if(t.length<r)return t;var n=e%30;if(t.length==r){if(0===n)return t;if(0==t.__digit(r-1)>>>n)return t}return u.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=u.__toPrimitive(e),t=u.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=u.__toNumeric(e),t=u.__toNumeric(t),u.__isBigInt(e)&&u.__isBigInt(t))return u.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return u.__compare(e,t,0)}},{key:"LE",value:function(e,t){return u.__compare(e,t,1)}},{key:"GT",value:function(e,t){return u.__compare(e,t,2)}},{key:"GE",value:function(e,t){return u.__compare(e,t,3)}},{key:"EQ",value:function(e,t){for(;;){if(u.__isBigInt(e))return u.__isBigInt(t)?u.equal(e,t):u.EQ(t,e);if("number"==typeof e){if(u.__isBigInt(t))return u.__equalToNumber(t,e);if("object"!==r(t))return e==t;t=u.__toPrimitive(t)}else if("string"==typeof e){if(u.__isBigInt(t))return null!==(e=u.__fromString(e))&&u.equal(e,t);if("object"!==r(t))return e==t;t=u.__toPrimitive(t)}else if("boolean"==typeof e){if(u.__isBigInt(t))return u.__equalToNumber(t,+e);if("object"!==r(t))return e==t;t=u.__toPrimitive(t)}else if("symbol"===r(e)){if(u.__isBigInt(t))return!1;if("object"!==r(t))return e==t;t=u.__toPrimitive(t)}else{if("object"!==r(e))return e==t;if("object"===r(t)&&t.constructor!==u)return e==t;e=u.__toPrimitive(e)}}}},{key:"NE",value:function(e,t){return!u.EQ(e,t)}},{key:"__zero",value:function(){return new u(0,!1)}},{key:"__oneDigit",value:function(e,t){var r=new u(1,t);return r.__setDigit(0,e),r}},{key:"__decideRounding",value:function(e,t,r,n){if(0<t)return-1;var o;if(0>t)o=-t-1;else{if(0===r)return-1;r--,n=e.__digit(r),o=29}var i=1<<o;if(0==(n&i))return-1;if(0!=(n&(i-=1)))return 1;for(;0<r;)if(r--,0!==e.__digit(r))return 1;return 0}},{key:"__fromDouble",value:function(e){u.__kBitConversionDouble[0]=e;var t,r=(2047&u.__kBitConversionInts[1]>>>20)-1023,n=1+(0|r/30),o=new u(n,0>e),i=1048575&u.__kBitConversionInts[1]|1048576,s=u.__kBitConversionInts[0],a=20,c=r%30,d=0;if(c<a){var l=a-c;d=l+32,t=i>>>l,i=i<<32-l|s>>>l,s<<=32-l}else if(c===a)d=32,t=i,i=s,s=0;else{var h=c-a;d=32-h,t=i<<h|s>>>32-h,i=s<<h,s=0}o.__setDigit(n-1,t);for(var f=n-2;0<=f;f--)0<d?(d-=30,t=i>>>2,i=i<<30|s>>>2,s<<=30):t=0,o.__setDigit(f,t);return o.__trim()}},{key:"__isWhitespace",value:function(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=0,n=e.length,o=0;if(o===n)return u.__zero();for(var i=e.charCodeAt(o);u.__isWhitespace(i);){if(++o===n)return u.__zero();i=e.charCodeAt(o)}if(43===i){if(++o===n)return null;i=e.charCodeAt(o),r=1}else if(45===i){if(++o===n)return null;i=e.charCodeAt(o),r=-1}if(0===t){if(t=10,48===i){if(++o===n)return u.__zero();if(88===(i=e.charCodeAt(o))||120===i){if(t=16,++o===n)return null;i=e.charCodeAt(o)}else if(79===i||111===i){if(t=8,++o===n)return null;i=e.charCodeAt(o)}else if(66===i||98===i){if(t=2,++o===n)return null;i=e.charCodeAt(o)}}}else if(16===t&&48===i){if(++o===n)return u.__zero();if(88===(i=e.charCodeAt(o))||120===i){if(++o===n)return null;i=e.charCodeAt(o)}}if(0!==r&&10!==t)return null;for(;48===i;){if(++o===n)return u.__zero();i=e.charCodeAt(o)}var s=n-o,a=u.__kMaxBitsPerChar[t],c=u.__kBitsPerCharTableMultiplier-1;if(s>1073741824/a)return null;var d=new u(0|(29+(a*s+c>>>u.__kBitsPerCharTableShift))/30,!1),l=10>t?t:10,h=10<t?t-10:0;if(0==(t&t-1)){a>>=u.__kBitsPerCharTableShift;var f=[],p=[],m=!1;do{for(var g,y=0,b=0;;){if(g=void 0,i-48>>>0<l)g=i-48;else{if(!((32|i)-97>>>0<h)){m=!0;break}g=(32|i)-87}if(b+=a,y=y<<a|g,++o===n){m=!0;break}if(i=e.charCodeAt(o),30<b+a)break}f.push(y),p.push(b)}while(!m);u.__fillFromParts(d,f,p)}else{d.__initializeDigits();var w=!1,v=0;do{for(var _,A=0,S=1;;){if(_=void 0,i-48>>>0<l)_=i-48;else{if(!((32|i)-97>>>0<h)){w=!0;break}_=(32|i)-87}var k=S*t;if(1073741823<k)break;if(S=k,A=A*t+_,v++,++o===n){w=!0;break}i=e.charCodeAt(o)}var E=0|(a*v+(c=30*u.__kBitsPerCharTableMultiplier-1)>>>u.__kBitsPerCharTableShift)/30;d.__inplaceMultiplyAdd(S,A,E)}while(!w)}if(o!==n){if(!u.__isWhitespace(i))return null;for(o++;o<n;o++)if(i=e.charCodeAt(o),!u.__isWhitespace(i))return null}return d.sign=-1===r,d.__trim()}},{key:"__fillFromParts",value:function(e,t,r){for(var n=0,o=0,i=0,s=t.length-1;0<=s;s--){var a=t[s],u=r[s];o|=a<<i,30===(i+=u)?(e.__setDigit(n++,o),i=0,o=0):30<i&&(e.__setDigit(n++,1073741823&o),o=a>>>u-(i-=30))}if(0!==o){if(n>=e.length)throw new Error("implementation bug");e.__setDigit(n++,o)}for(;n<e.length;n++)e.__setDigit(n,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var r=e.length,n=t-1,o=n=(15&(n=(51&(n=(85&n>>>1)+(85&n))>>>2)+(51&n))>>>4)+(15&n),i=t-1,s=e.__digit(r-1),a=0|(30*r-u.__clz30(s)+o-1)/o;if(e.sign&&a++,268435456<a)throw new Error("string too long");for(var c=Array(a),d=a-1,l=0,h=0,f=0;f<r-1;f++){var p=e.__digit(f),m=(l|p<<h)&i;c[d--]=u.__kConversionChars[m];var g=o-h;for(l=p>>>g,h=30-g;h>=o;)c[d--]=u.__kConversionChars[l&i],l>>>=o,h-=o}var y=(l|s<<h)&i;for(c[d--]=u.__kConversionChars[y],l=s>>>o-h;0!==l;)c[d--]=u.__kConversionChars[l&i],l>>>=o;if(e.sign&&(c[d--]="-"),-1!==d)throw new Error("implementation bug");return c.join("")}},{key:"__toStringGeneric",value:function(e,t,r){var n=e.length;if(0===n)return"";if(1===n){var o=e.__unsignedDigit(0).toString(t);return!1===r&&e.sign&&(o="-"+o),o}var i,s,a=30*n-u.__clz30(e.__digit(n-1)),c=u.__kMaxBitsPerChar[t]-1,d=a*u.__kBitsPerCharTableMultiplier,l=1+(d=0|(d+=c-1)/c)>>1,h=u.exponentiate(u.__oneDigit(t,!1),u.__oneDigit(l,!1)),f=h.__unsignedDigit(0);if(1===h.length&&32767>=f){(i=new u(e.length,!1)).__initializeDigits();for(var p,m=0,g=2*e.length-1;0<=g;g--)p=m<<15|e.__halfDigit(g),i.__setHalfDigit(g,0|p/f),m=0|p%f;s=m.toString(t)}else{var y=u.__absoluteDivLarge(e,h,!0,!0);i=y.quotient;var b=y.remainder.__trim();s=u.__toStringGeneric(b,t,!0)}i.__trim();for(var w=u.__toStringGeneric(i,t,!0);s.length<l;)s="0"+s;return!1===r&&e.sign&&(w="-"+w),w+s}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var r=e.sign;if(r!==t.sign)return u.__unequalSign(r);var n=u.__absoluteCompare(e,t);return 0<n?u.__absoluteGreater(r):0>n?u.__absoluteLess(r):0}},{key:"__compareToNumber",value:function(e,r){if(u.__isOneDigitInt(r)){var n=e.sign,o=0>r;if(n!==o)return u.__unequalSign(n);if(0===e.length){if(o)throw new Error("implementation bug");return 0===r?0:-1}if(1<e.length)return u.__absoluteGreater(n);var i=t(r),s=e.__unsignedDigit(0);return s>i?u.__absoluteGreater(n):s<i?u.__absoluteLess(n):0}return u.__compareToDouble(e,r)}},{key:"__compareToDouble",value:function(e,t){if(t!==t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;var r=e.sign;if(r!==0>t)return u.__unequalSign(r);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;u.__kBitConversionDouble[0]=t;var n=2047&u.__kBitConversionInts[1]>>>20;if(2047==n)throw new Error("implementation bug: handled elsewhere");var o=n-1023;if(0>o)return u.__absoluteGreater(r);var i=e.length,s=e.__digit(i-1),a=u.__clz30(s),c=30*i-a,d=o+1;if(c<d)return u.__absoluteLess(r);if(c>d)return u.__absoluteGreater(r);var l=1048576|1048575&u.__kBitConversionInts[1],h=u.__kBitConversionInts[0],f=20,p=29-a;if(p!==(0|(c-1)%30))throw new Error("implementation bug");var m,g=0;if(p<f){var y=f-p;g=y+32,m=l>>>y,l=l<<32-y|h>>>y,h<<=32-y}else if(p===f)g=32,m=l,l=h,h=0;else{var b=p-f;g=32-b,m=l<<b|h>>>32-b,l=h<<b,h=0}if((s>>>=0)>(m>>>=0))return u.__absoluteGreater(r);if(s<m)return u.__absoluteLess(r);for(var w=i-2;0<=w;w--){0<g?(g-=30,m=l>>>2,l=l<<30|h>>>2,h<<=30):m=0;var v=e.__unsignedDigit(w);if(v>m)return u.__absoluteGreater(r);if(v<m)return u.__absoluteLess(r)}if(0!==l||0!==h){if(0===g)throw new Error("implementation bug");return u.__absoluteLess(r)}return 0}},{key:"__equalToNumber",value:function(e,r){return u.__isOneDigitInt(r)?0===r?0===e.length:1===e.length&&e.sign===0>r&&e.__unsignedDigit(0)===t(r):0===u.__compareToDouble(e,r)}},{key:"__comparisonResultToBool",value:function(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}},{key:"__compare",value:function(e,t,r){if(e=u.__toPrimitive(e),t=u.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(u.__isBigInt(e)&&"string"==typeof t)return null!==(t=u.__fromString(t))&&u.__comparisonResultToBool(u.__compareToBigInt(e,t),r);if("string"==typeof e&&u.__isBigInt(t))return null!==(e=u.__fromString(e))&&u.__comparisonResultToBool(u.__compareToBigInt(e,t),r);if(e=u.__toNumeric(e),t=u.__toNumeric(t),u.__isBigInt(e)){if(u.__isBigInt(t))return u.__comparisonResultToBool(u.__compareToBigInt(e,t),r);if("number"!=typeof t)throw new Error("implementation bug");return u.__comparisonResultToBool(u.__compareToNumber(e,t),r)}if("number"!=typeof e)throw new Error("implementation bug");if(u.__isBigInt(t))return u.__comparisonResultToBool(u.__compareToNumber(t,e),2^r);if("number"!=typeof t)throw new Error("implementation bug");return 0===r?e<t:1===r?e<=t:2===r?e>t:3===r?e>=t:void 0}},{key:"__absoluteAdd",value:function(e,t,r){if(e.length<t.length)return u.__absoluteAdd(t,e,r);if(0===e.length)return e;if(0===t.length)return e.sign===r?e:u.unaryMinus(e);var n=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&n++;for(var o,i=new u(n,r),s=0,a=0;a<t.length;a++)s=(o=e.__digit(a)+t.__digit(a)+s)>>>30,i.__setDigit(a,1073741823&o);for(;a<e.length;a++){var c=e.__digit(a)+s;s=c>>>30,i.__setDigit(a,1073741823&c)}return a<i.length&&i.__setDigit(a,s),i.__trim()}},{key:"__absoluteSub",value:function(e,t,r){if(0===e.length)return e;if(0===t.length)return e.sign===r?e:u.unaryMinus(e);for(var n,o=new u(e.length,r),i=0,s=0;s<t.length;s++)i=1&(n=e.__digit(s)-t.__digit(s)-i)>>>30,o.__setDigit(s,1073741823&n);for(;s<e.length;s++){var a=e.__digit(s)-i;i=1&a>>>30,o.__setDigit(s,1073741823&a)}return o.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length;null===r?r=new u(n,t):r.sign=t;for(var o,i=1,s=0;s<n;s++)i=(o=e.__digit(s)+i)>>>30,r.__setDigit(s,1073741823&o);return 0!==i&&r.__setDigitGrow(n,1),r}},{key:"__absoluteSubOne",value:function(e,t){for(var r,n=e.length,o=new u(t=t||n,!1),i=1,s=0;s<n;s++)i=1&(r=e.__digit(s)-i)>>>30,o.__setDigit(s,1073741823&r);if(0!==i)throw new Error("implementation bug");for(var a=n;a<t;a++)o.__setDigit(a,0);return o}},{key:"__absoluteAnd",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,o=t.length,i=o;if(n<o){i=n;var s=e,a=n;e=t,n=o,t=s,o=a}var c=i;null===r?r=new u(c,!1):c=r.length;for(var d=0;d<i;d++)r.__setDigit(d,e.__digit(d)&t.__digit(d));for(;d<c;d++)r.__setDigit(d,0);return r}},{key:"__absoluteAndNot",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,o=t.length,i=o;n<o&&(i=n);var s=n;null===r?r=new u(s,!1):s=r.length;for(var a=0;a<i;a++)r.__setDigit(a,e.__digit(a)&~t.__digit(a));for(;a<n;a++)r.__setDigit(a,e.__digit(a));for(;a<s;a++)r.__setDigit(a,0);return r}},{key:"__absoluteOr",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,o=t.length,i=o;if(n<o){i=n;var s=e,a=n;e=t,n=o,t=s,o=a}var c=n;null===r?r=new u(c,!1):c=r.length;for(var d=0;d<i;d++)r.__setDigit(d,e.__digit(d)|t.__digit(d));for(;d<n;d++)r.__setDigit(d,e.__digit(d));for(;d<c;d++)r.__setDigit(d,0);return r}},{key:"__absoluteXor",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,o=t.length,i=o;if(n<o){i=n;var s=e,a=n;e=t,n=o,t=s,o=a}var c=n;null===r?r=new u(c,!1):c=r.length;for(var d=0;d<i;d++)r.__setDigit(d,e.__digit(d)^t.__digit(d));for(;d<n;d++)r.__setDigit(d,e.__digit(d));for(;d<c;d++)r.__setDigit(d,0);return r}},{key:"__absoluteCompare",value:function(e,t){var r=e.length-t.length;if(0!=r)return r;for(var n=e.length-1;0<=n&&e.__digit(n)===t.__digit(n);)n--;return 0>n?0:e.__unsignedDigit(n)>t.__unsignedDigit(n)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,r,n){if(0!==t){for(var o=32767&t,i=t>>>15,s=0,a=0,c=0;c<e.length;c++,n++){var d=r.__digit(n),l=e.__digit(c),h=32767&l,f=l>>>15,p=u.__imul(h,o),m=u.__imul(h,i),g=u.__imul(f,o);s=(d+=a+p+s)>>>30,d&=1073741823,s+=(d+=((32767&m)<<15)+((32767&g)<<15))>>>30,a=u.__imul(f,i)+(m>>>15)+(g>>>15),r.__setDigit(n,1073741823&d)}for(;0!==s||0!==a;n++){var y=r.__digit(n);y+=s+a,a=0,s=y>>>30,r.__setDigit(n,1073741823&y)}}}},{key:"__internalMultiplyAdd",value:function(e,t,r,n,o){for(var i=r,s=0,a=0;a<n;a++){var c=e.__digit(a),d=u.__imul(32767&c,t),l=u.__imul(c>>>15,t),h=d+((32767&l)<<15)+s+i;i=h>>>30,s=l>>>15,o.__setDigit(a,1073741823&h)}if(o.length>n)for(o.__setDigit(n++,i+s);n<o.length;)o.__setDigit(n++,0);else if(0!==i+s)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===r&&(r=new u(e.length,!1));for(var n=0,o=2*e.length-1;0<=o;o-=2){var i=(n<<15|e.__halfDigit(o))>>>0,s=0|i/t,a=0|(i=((n=0|i%t)<<15|e.__halfDigit(o-1))>>>0)/t;n=0|i%t,r.__setDigit(o>>>1,s<<15|a)}return r}},{key:"__absoluteModSmall",value:function(e,t){for(var r=0,n=2*e.length-1;0<=n;n--)r=0|((r<<15|e.__halfDigit(n))>>>0)%t;return r}},{key:"__absoluteDivLarge",value:function(e,t,r,n){var o=t.__halfDigitLength(),i=t.length,s=e.__halfDigitLength()-o,a=null;r&&(a=new u(s+2>>>1,!1)).__initializeDigits();var c=new u(o+2>>>1,!1);c.__initializeDigits();var d=u.__clz15(t.__halfDigit(o-1));0<d&&(t=u.__specialLeftShift(t,d,0));for(var l=u.__specialLeftShift(e,d,1),h=t.__halfDigit(o-1),f=0,p=s;0<=p;p--){var m=32767,g=l.__halfDigit(p+o);if(g!==h){var y=(g<<15|l.__halfDigit(p+o-1))>>>0;m=0|y/h;for(var b=0|y%h,w=t.__halfDigit(o-2),v=l.__halfDigit(p+o-2);u.__imul(m,w)>>>0>(b<<16|v)>>>0&&(m--,!(32767<(b+=h))););}u.__internalMultiplyAdd(t,m,0,i,c);var _=l.__inplaceSub(c,p,o+1);0!==_&&(_=l.__inplaceAdd(t,p,o),l.__setHalfDigit(p+o,32767&l.__halfDigit(p+o)+_),m--),r&&(1&p?f=m<<15:a.__setDigit(p>>>1,f|m))}if(n)return l.__inplaceRightShift(d),r?{quotient:a,remainder:l}:l;if(r)return a;throw new Error("unreachable")}},{key:"__clz15",value:function(e){return u.__clz30(e)-15}},{key:"__specialLeftShift",value:function(e,t,r){var n=e.length,o=new u(n+r,!1);if(0===t){for(var i=0;i<n;i++)o.__setDigit(i,e.__digit(i));return 0<r&&o.__setDigit(n,0),o}for(var s,a=0,c=0;c<n;c++)s=e.__digit(c),o.__setDigit(c,1073741823&s<<t|a),a=s>>>30-t;return 0<r&&o.__setDigit(n,a),o}},{key:"__leftShiftByAbsolute",value:function(e,t){var r=u.__toShiftAmount(t);if(0>r)throw new RangeError("BigInt too big");var n=0|r/30,o=r%30,i=e.length,s=0!==o&&0!=e.__digit(i-1)>>>30-o,a=i+n+(s?1:0),c=new u(a,e.sign);if(0===o){for(var d=0;d<n;d++)c.__setDigit(d,0);for(;d<a;d++)c.__setDigit(d,e.__digit(d-n))}else{for(var l=0,h=0;h<n;h++)c.__setDigit(h,0);for(var f,p=0;p<i;p++)f=e.__digit(p),c.__setDigit(p+n,1073741823&f<<o|l),l=f>>>30-o;if(s)c.__setDigit(i+n,l);else if(0!==l)throw new Error("implementation bug")}return c.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var r=e.length,n=e.sign,o=u.__toShiftAmount(t);if(0>o)return u.__rightShiftByMaximum(n);var i=0|o/30,s=o%30,a=r-i;if(0>=a)return u.__rightShiftByMaximum(n);var c=!1;if(n)if(0!=(e.__digit(i)&(1<<s)-1))c=!0;else for(var d=0;d<i;d++)if(0!==e.__digit(d)){c=!0;break}c&&0===s&&0==~e.__digit(r-1)&&a++;var l=new u(a,n);if(0===s){l.__setDigit(a-1,0);for(var h=i;h<r;h++)l.__setDigit(h-i,e.__digit(h))}else{for(var f,p=e.__digit(i)>>>s,m=r-i-1,g=0;g<m;g++)f=e.__digit(g+i+1),l.__setDigit(g,1073741823&f<<30-s|p),p=f>>>s;l.__setDigit(m,p)}return c&&(l=u.__absoluteAddOne(l,!0,l)),l.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?u.__oneDigit(1,!0):u.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var t=e.__unsignedDigit(0);return t>u.__kMaxLengthBits?-1:t}},{key:"__toPrimitive",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==r(e))return e;if(e.constructor===u)return e;if("undefined"!=typeof Symbol&&"symbol"===r(Symbol.toPrimitive)){var n=e[Symbol.toPrimitive];if(n){var o=n(t);if("object"!==r(o))return o;throw new TypeError("Cannot convert object to primitive value")}}var i=e.valueOf;if(i){var s=i.call(e);if("object"!==r(s))return s}var a=e.toString;if(a){var c=a.call(e);if("object"!==r(c))return c}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return u.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(e){return"object"===r(e)&&null!==e&&e.constructor===u}},{key:"__truncateToNBits",value:function(e,t){for(var r=0|(e+29)/30,n=new u(r,t.sign),o=r-1,i=0;i<o;i++)n.__setDigit(i,t.__digit(i));var s=t.__digit(o);if(0!=e%30){var a=32-e%30;s=s<<a>>>a}return n.__setDigit(o,s),n.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,r){for(var n,o=Math.min,i=0|(e+29)/30,s=new u(i,r),a=0,c=i-1,d=0,l=o(c,t.length);a<l;a++)d=1&(n=0-t.__digit(a)-d)>>>30,s.__setDigit(a,1073741823&n);for(;a<c;a++)s.__setDigit(a,0|1073741823&-d);var h,f=c<t.length?t.__digit(c):0,p=e%30;if(0===p)h=0-f-d,h&=1073741823;else{var m=32-p,g=1<<32-m;h=g-(f=f<<m>>>m)-d,h&=g-1}return s.__setDigit(c,h),s.__trim()}},{key:"__digitPow",value:function(e,t){for(var r=1;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}},{key:"__isOneDigitInt",value:function(e){return(1073741823&e)===e}}]),u}(h(Array));return w.__kMaxLength=33554432,w.__kMaxLengthBits=w.__kMaxLength<<5,w.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],w.__kBitsPerCharTableShift=5,w.__kBitsPerCharTableMultiplier=1<<w.__kBitsPerCharTableShift,w.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],w.__kBitConversionBuffer=new ArrayBuffer(8),w.__kBitConversionDouble=new Float64Array(w.__kBitConversionBuffer),w.__kBitConversionInts=new Int32Array(w.__kBitConversionBuffer),w.__clz30=t?function(e){return t(e)-2}:function(e){var t=Math.LN2,r=Math.log;return 0===e?30:0|29-(0|r(e>>>0)/t)},w.__imul=e||function(e,t){return 0|e*t},w}()},50498:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Array]",a="[object Boolean]",u="[object Date]",c="[object Error]",d="[object Function]",l="[object Map]",h="[object Number]",f="[object Object]",p="[object Promise]",m="[object RegExp]",g="[object Set]",y="[object String]",b="[object Symbol]",w="[object WeakMap]",v="[object ArrayBuffer]",_="[object DataView]",A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S=/^\w*$/,k=/^\./,E=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T=/\\(\\)?/g,P=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x[i]=x[s]=x[v]=x[a]=x[_]=x[u]=x[c]=x[d]=x[l]=x[h]=x[f]=x[m]=x[g]=x[y]=x[w]=!1;var O="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,B="object"==typeof self&&self&&self.Object===Object&&self,M=O||B||Function("return this")(),D=t&&!t.nodeType&&t,U=D&&e&&!e.nodeType&&e,R=U&&U.exports===D&&O.process,L=function(){try{return R&&R.binding("util")}catch(e){}}(),N=L&&L.isTypedArray;function C(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function F(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}function W(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function z(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var j,K,V=Array.prototype,q=Function.prototype,Z=Object.prototype,H=M["__core-js_shared__"],G=function(){var e=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Q=q.toString,X=Z.hasOwnProperty,J=Z.toString,Y=RegExp("^"+Q.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=M.Symbol,ee=M.Uint8Array,te=Z.propertyIsEnumerable,re=V.splice,ne=(j=Object.keys,K=Object,function(e){return j(K(e))}),oe=Le(M,"DataView"),ie=Le(M,"Map"),se=Le(M,"Promise"),ae=Le(M,"Set"),ue=Le(M,"WeakMap"),ce=Le(Object,"create"),de=Ve(oe),le=Ve(ie),he=Ve(se),fe=Ve(ae),pe=Ve(ue),me=$?$.prototype:void 0,ge=me?me.valueOf:void 0,ye=me?me.toString:void 0;function be(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function we(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ve(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function _e(e){var t=-1,r=e?e.length:0;for(this.__data__=new ve;++t<r;)this.add(e[t])}function Ae(e){this.__data__=new we(e)}function Se(e,t){var r=Ge(e)||He(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var i in e)!t&&!X.call(e,i)||o&&("length"==i||Ce(i,n))||r.push(i);return r}function ke(e,t){for(var r=e.length;r--;)if(Ze(e[r][0],t))return r;return-1}be.prototype.clear=function(){this.__data__=ce?ce(null):{}},be.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},be.prototype.get=function(e){var t=this.__data__;if(ce){var r=t[e];return r===n?void 0:r}return X.call(t,e)?t[e]:void 0},be.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:X.call(t,e)},be.prototype.set=function(e,t){return this.__data__[e]=ce&&void 0===t?n:t,this},we.prototype.clear=function(){this.__data__=[]},we.prototype.delete=function(e){var t=this.__data__,r=ke(t,e);return!(r<0)&&(r==t.length-1?t.pop():re.call(t,r,1),!0)},we.prototype.get=function(e){var t=this.__data__,r=ke(t,e);return r<0?void 0:t[r][1]},we.prototype.has=function(e){return ke(this.__data__,e)>-1},we.prototype.set=function(e,t){var r=this.__data__,n=ke(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},ve.prototype.clear=function(){this.__data__={hash:new be,map:new(ie||we),string:new be}},ve.prototype.delete=function(e){return Re(this,e).delete(e)},ve.prototype.get=function(e){return Re(this,e).get(e)},ve.prototype.has=function(e){return Re(this,e).has(e)},ve.prototype.set=function(e,t){return Re(this,e).set(e,t),this},_e.prototype.add=_e.prototype.push=function(e){return this.__data__.set(e,n),this},_e.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.clear=function(){this.__data__=new we},Ae.prototype.delete=function(e){return this.__data__.delete(e)},Ae.prototype.get=function(e){return this.__data__.get(e)},Ae.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.set=function(e,t){var r=this.__data__;if(r instanceof we){var n=r.__data__;if(!ie||n.length<199)return n.push([e,t]),this;r=this.__data__=new ve(n)}return r.set(e,t),this};var Ee,Te=function(e,t,r){for(var n=-1,o=Object(e),i=r(e),s=i.length;s--;){var a=i[Ee?s:++n];if(!1===t(o[a],a,o))break}return e};function Pe(e,t){for(var r=0,n=(t=Fe(t,e)?[t]:De(t)).length;null!=e&&r<n;)e=e[Ke(t[r++])];return r&&r==n?e:void 0}function Ie(e,t){return null!=e&&t in Object(e)}function xe(e,t,r,n,o){return e===t||(null==e||null==t||!Ye(e)&&!$e(t)?e!==e&&t!==t:function(e,t,r,n,o,d){var p=Ge(e),w=Ge(t),A=s,S=s;p||(A=(A=Ne(e))==i?f:A);w||(S=(S=Ne(t))==i?f:S);var k=A==f&&!F(e),E=S==f&&!F(t),T=A==S;if(T&&!k)return d||(d=new Ae),p||tt(e)?Ue(e,t,r,n,o,d):function(e,t,r,n,o,i,s){switch(r){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case v:return!(e.byteLength!=t.byteLength||!n(new ee(e),new ee(t)));case a:case u:case h:return Ze(+e,+t);case c:return e.name==t.name&&e.message==t.message;case m:case y:return e==t+"";case l:var d=W;case g:var f=2&i;if(d||(d=z),e.size!=t.size&&!f)return!1;var p=s.get(e);if(p)return p==t;i|=1,s.set(e,t);var w=Ue(d(e),d(t),n,o,i,s);return s.delete(e),w;case b:if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,A,r,n,o,d);if(!(2&o)){var P=k&&X.call(e,"__wrapped__"),I=E&&X.call(t,"__wrapped__");if(P||I){var x=P?e.value():e,O=I?t.value():t;return d||(d=new Ae),r(x,O,n,o,d)}}if(!T)return!1;return d||(d=new Ae),function(e,t,r,n,o,i){var s=2&o,a=rt(e),u=a.length,c=rt(t).length;if(u!=c&&!s)return!1;var d=u;for(;d--;){var l=a[d];if(!(s?l in t:X.call(t,l)))return!1}var h=i.get(e);if(h&&i.get(t))return h==t;var f=!0;i.set(e,t),i.set(t,e);var p=s;for(;++d<u;){var m=e[l=a[d]],g=t[l];if(n)var y=s?n(g,m,l,t,e,i):n(m,g,l,e,t,i);if(!(void 0===y?m===g||r(m,g,n,o,i):y)){f=!1;break}p||(p="constructor"==l)}if(f&&!p){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,r,n,o,d)}(e,t,xe,r,n,o))}function Oe(e){return!(!Ye(e)||function(e){return!!G&&G in e}(e))&&(Xe(e)||F(e)?Y:P).test(Ve(e))}function Be(e){return"function"==typeof e?e:null==e?nt:"object"==typeof e?Ge(e)?function(e,t){if(Fe(e)&&We(t))return ze(Ke(e),t);return function(r){var n=function(e,t,r){var n=null==e?void 0:Pe(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?function(e,t){return null!=e&&function(e,t,r){t=Fe(t,e)?[t]:De(t);var n,o=-1,i=t.length;for(;++o<i;){var s=Ke(t[o]);if(!(n=null!=e&&r(e,s)))break;e=e[s]}if(n)return n;return!!(i=e?e.length:0)&&Je(i)&&Ce(s,i)&&(Ge(e)||He(e))}(e,t,Ie)}(r,e):xe(t,n,void 0,3)}}(e[0],e[1]):function(e){var t=function(e){var t=rt(e),r=t.length;for(;r--;){var n=t[r],o=e[n];t[r]=[n,o,We(o)]}return t}(e);if(1==t.length&&t[0][2])return ze(t[0][0],t[0][1]);return function(r){return r===e||function(e,t,r,n){var o=r.length,i=o,s=!n;if(null==e)return!i;for(e=Object(e);o--;){var a=r[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){var u=(a=r[o])[0],c=e[u],d=a[1];if(s&&a[2]){if(void 0===c&&!(u in e))return!1}else{var l=new Ae;if(n)var h=n(c,d,u,e,t,l);if(!(void 0===h?xe(d,c,n,3,l):h))return!1}}return!0}(r,e,t)}}(e):function(e){return Fe(e)?(t=Ke(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return Pe(t,e)}}(e);var t}(e)}function Me(e){if(!function(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||Z;return e===r}(e))return ne(e);var t=[];for(var r in Object(e))X.call(e,r)&&"constructor"!=r&&t.push(r);return t}function De(e){return Ge(e)?e:je(e)}function Ue(e,t,r,n,o,i){var s=2&o,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var d=-1,l=!0,h=1&o?new _e:void 0;for(i.set(e,t),i.set(t,e);++d<a;){var f=e[d],p=t[d];if(n)var m=s?n(p,f,d,t,e,i):n(f,p,d,e,t,i);if(void 0!==m){if(m)continue;l=!1;break}if(h){if(!C(t,(function(e,t){if(!h.has(t)&&(f===e||r(f,e,n,o,i)))return h.add(t)}))){l=!1;break}}else if(f!==p&&!r(f,p,n,o,i)){l=!1;break}}return i.delete(e),i.delete(t),l}function Re(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Le(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Oe(r)?r:void 0}var Ne=function(e){return J.call(e)};function Ce(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||I.test(e))&&e>-1&&e%1==0&&e<t}function Fe(e,t){if(Ge(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!et(e))||(S.test(e)||!A.test(e)||null!=t&&e in Object(t))}function We(e){return e===e&&!Ye(e)}function ze(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}(oe&&Ne(new oe(new ArrayBuffer(1)))!=_||ie&&Ne(new ie)!=l||se&&Ne(se.resolve())!=p||ae&&Ne(new ae)!=g||ue&&Ne(new ue)!=w)&&(Ne=function(e){var t=J.call(e),r=t==f?e.constructor:void 0,n=r?Ve(r):void 0;if(n)switch(n){case de:return _;case le:return l;case he:return p;case fe:return g;case pe:return w}return t});var je=qe((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(et(e))return ye?ye.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var r=[];return k.test(e)&&r.push(""),e.replace(E,(function(e,t,n,o){r.push(n?o.replace(T,"$1"):t||e)})),r}));function Ke(e){if("string"==typeof e||et(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ve(e){if(null!=e){try{return Q.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function qe(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var s=e.apply(this,n);return r.cache=i.set(o,s),s};return r.cache=new(qe.Cache||ve),r}function Ze(e,t){return e===t||e!==e&&t!==t}function He(e){return function(e){return $e(e)&&Qe(e)}(e)&&X.call(e,"callee")&&(!te.call(e,"callee")||J.call(e)==i)}qe.Cache=ve;var Ge=Array.isArray;function Qe(e){return null!=e&&Je(e.length)&&!Xe(e)}function Xe(e){var t=Ye(e)?J.call(e):"";return t==d||"[object GeneratorFunction]"==t}function Je(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Ye(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function $e(e){return!!e&&"object"==typeof e}function et(e){return"symbol"==typeof e||$e(e)&&J.call(e)==b}var tt=N?function(e){return function(t){return e(t)}}(N):function(e){return $e(e)&&Je(e.length)&&!!x[J.call(e)]};function rt(e){return Qe(e)?Se(e):Me(e)}function nt(e){return e}e.exports=function(e,t){var r={};return t=Be(t),function(e,t){e&&Te(e,t,rt)}(e,(function(e,n,o){r[n]=t(e,n,o)})),r}},87963:e=>{"use strict";var t=function(e){return e!==e};e.exports=function(e,r){return 0===e&&0===r?1/e===1/r:e===r||!(!t(e)||!t(r))}},94395:(e,t,r)=>{"use strict";var n=r(2674),o=r(33130),i=r(87963),s=r(80083),a=r(30878),u=o(s(),Object);n(u,{getPolyfill:s,implementation:i,shim:a}),e.exports=u},80083:(e,t,r)=>{"use strict";var n=r(87963);e.exports=function(){return"function"===typeof Object.is?Object.is:n}},30878:(e,t,r)=>{"use strict";var n=r(80083),o=r(2674);e.exports=function(){var e=n();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},60870:(e,t,r)=>{"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=r(20941),a=Object.prototype.propertyIsEnumerable,u=!a.call({toString:null},"toString"),c=a.call((function(){}),"prototype"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{l(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();n=function(e){var t=null!==e&&"object"===typeof e,r="[object Function]"===i.call(e),n=s(e),a=t&&"[object String]"===i.call(e),h=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var p=c&&r;if(a&&e.length>0&&!o.call(e,0))for(var m=0;m<e.length;++m)h.push(String(m));if(n&&e.length>0)for(var g=0;g<e.length;++g)h.push(String(g));else for(var y in e)p&&"prototype"===y||!o.call(e,y)||h.push(String(y));if(u)for(var b=function(e){if("undefined"===typeof window||!f)return l(e);try{return l(e)}catch(t){return!1}}(e),w=0;w<d.length;++w)b&&"constructor"===d[w]||!o.call(e,d[w])||h.push(d[w]);return h}}e.exports=n},30318:(e,t,r)=>{"use strict";var n=Array.prototype.slice,o=r(20941),i=Object.keys,s=i?function(e){return i(e)}:r(60870),a=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?a(n.call(e)):a(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},20941:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},84466:(e,t)=>{t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!==typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!==typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},71633:e=>{"use strict";function t(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",o=0,i=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(i===a-1||1===s);else if(i!==a-1&&2===s){if(n.length<2||2!==o||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var u=n.lastIndexOf("/");if(u!==n.length-1){-1===u?(n="",o=0):o=(n=n.slice(0,u)).length-1-n.lastIndexOf("/"),i=a,s=0;continue}}else if(2===n.length||1===n.length){n="",o=0,i=a,s=0;continue}t&&(n.length>0?n+="/..":n="..",o=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),o=a-i-1;i=a,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var n={resolve:function(){for(var e,n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var s;i>=0?s=arguments[i]:(void 0===e&&(e=process.cwd()),s=e),t(s),0!==s.length&&(n=s+"/"+n,o=47===s.charCodeAt(0))}return n=r(n,!o),o?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),o=47===e.charCodeAt(e.length-1);return 0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&o&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var o=arguments[r];t(o),o.length>0&&(void 0===e?e=o:e+="/"+o)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r)return"";if((e=n.resolve(e))===(r=n.resolve(r)))return"";for(var o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var i=e.length,s=i-o,a=1;a<r.length&&47===r.charCodeAt(a);++a);for(var u=r.length-a,c=s<u?s:u,d=-1,l=0;l<=c;++l){if(l===c){if(u>c){if(47===r.charCodeAt(a+l))return r.slice(a+l+1);if(0===l)return r.slice(a+l)}else s>c&&(47===e.charCodeAt(o+l)?d=l:0===l&&(d=0));break}var h=e.charCodeAt(o+l);if(h!==r.charCodeAt(a+l))break;47===h&&(d=l)}var f="";for(l=o+d+1;l<=i;++l)l!==i&&47!==e.charCodeAt(l)||(0===f.length?f+="..":f+="/..");return f.length>0?f+r.slice(a+d):(a+=d,47===r.charCodeAt(a)&&++a,r.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,o=-1,i=!0,s=e.length-1;s>=1;--s)if(47===(r=e.charCodeAt(s))){if(!i){o=s;break}}else i=!1;return-1===o?n?"/":".":n&&1===o?"//":e.slice(0,o)},basename:function(e,r){if(void 0!==r&&"string"!==typeof r)throw new TypeError('"ext" argument must be a string');t(e);var n,o=0,i=-1,s=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var a=r.length-1,u=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!s){o=n+1;break}}else-1===u&&(s=!1,u=n+1),a>=0&&(c===r.charCodeAt(a)?-1===--a&&(i=n):(a=-1,i=u))}return o===i?i=u:-1===i&&(i=e.length),e.slice(o,i)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!s){o=n+1;break}}else-1===i&&(s=!1,i=n+1);return-1===i?"":e.slice(o,i)},extname:function(e){t(e);for(var r=-1,n=0,o=-1,i=!0,s=0,a=e.length-1;a>=0;--a){var u=e.charCodeAt(a);if(47!==u)-1===o&&(i=!1,o=a+1),46===u?-1===r?r=a:1!==s&&(s=1):-1!==r&&(s=-1);else if(!i){n=a+1;break}}return-1===r||-1===o||0===s||1===s&&r===o-1&&r===n+1?"":e.slice(r,o)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}("/",e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,o=e.charCodeAt(0),i=47===o;i?(r.root="/",n=1):n=0;for(var s=-1,a=0,u=-1,c=!0,d=e.length-1,l=0;d>=n;--d)if(47!==(o=e.charCodeAt(d)))-1===u&&(c=!1,u=d+1),46===o?-1===s?s=d:1!==l&&(l=1):-1!==s&&(l=-1);else if(!c){a=d+1;break}return-1===s||-1===u||0===l||1===l&&s===u-1&&s===a+1?-1!==u&&(r.base=r.name=0===a&&i?e.slice(1,u):e.slice(a,u)):(0===a&&i?(r.name=e.slice(1,s),r.base=e.slice(1,u)):(r.name=e.slice(a,s),r.base=e.slice(a,u)),r.ext=e.slice(s,u)),a>0?r.dir=e.slice(0,a-1):i&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n},26477:e=>{var t,r,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"===typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var a,u=[],c=!1,d=-1;function l(){c&&a&&(c=!1,a.length?u=a.concat(u):d=-1,u.length&&h())}function h(){if(!c){var e=s(l);c=!0;for(var t=u.length;t;){for(a=u,u=[];++d<t;)a&&a[d].run();d=-1,t=u.length}a=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new f(e,t)),1!==u.length||c||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},51105:(e,t,r)=>{"use strict";var n=r(15504),o=r(23878),i=Object.prototype.hasOwnProperty;function s(e){return e&&"EPROMISERETRY"===e.code&&i.call(e,"retried")}e.exports=function(e,t){var r,i;return"object"===typeof e&&"function"===typeof t&&(r=t,t=e,e=r),i=o.operation(t),new Promise((function(t,r){i.attempt((function(o){Promise.resolve().then((function(){return e((function(e){throw s(e)&&(e=e.retried),n(new Error("Retrying"),"EPROMISERETRY",{retried:e})}),o)})).then(t,(function(e){s(e)&&(e=e.retried,i.retry(e||new Error))||r(e)}))}))}))}},23878:(e,t,r)=>{e.exports=r(90315)},90315:(e,t,r)=>{var n=r(91202);t.operation=function(e){var r=t.timeouts(e);return new n(r,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],o=0;o<t.retries;o++)n.push(this.createTimeout(o,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(o,t)),n.sort((function(e,t){return e-t})),n},t.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*t.minTimeout*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout)},t.wrap=function(e,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var o in n=[],e)"function"===typeof e[o]&&n.push(o);for(var i=0;i<n.length;i++){var s=n[i],a=e[s];e[s]=function(n){var o=t.operation(r),i=Array.prototype.slice.call(arguments,1),s=i.pop();i.push((function(e){o.retry(e)||(e&&(arguments[0]=o.mainError()),s.apply(this,arguments))})),o.attempt((function(){n.apply(e,i)}))}.bind(e,a),e[s].options=r}}},91202:e=>{function t(e,t){"boolean"===typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),r=this._timeouts.shift()}var n=this,o=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r);return this._options.unref&&o.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var o=this._errors[n],i=o.message,s=(e[i]||0)+1;e[i]=s,s>=r&&(t=o,r=s)}return t}},86243:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n="Invariant failed";function o(e,t){if(!e)throw new Error(n)}},23909:e=>{e.exports&&(e.exports=function(e){"use strict";return e.prototype.toFormat=function(e,t,r){if(!this.e&&0!==this.e)return this.toString();var n,o,i,s,a,u,c,d,l,h,f,p,m,g,y,b=this.format||{},w=this.constructor.format||{};if(e!=a?"object"==typeof e?(r=e,e=a):t!=a?"object"==typeof t?(r=t,t=a):"object"!=typeof r&&(r={}):r={}:r={},d=(n=this.toFixed(e,t).split("."))[0],l=n[1],u=(c=this.s<0?d.slice(1):d).length,(h=r.decimalSeparator)==a&&(h=b.decimalSeparator)==a&&(h=w.decimalSeparator)==a&&(h="."),(f=r.groupSeparator)==a&&(f=b.groupSeparator)==a&&(f=w.groupSeparator),f&&((p=r.groupSize)==a&&(p=b.groupSize)==a&&(p=w.groupSize)==a&&(p=0),(m=r.secondaryGroupSize)==a&&(m=b.secondaryGroupSize)==a&&(m=w.secondaryGroupSize)==a&&(m=0),m?(o=+m,u-=i=+p):(o=+p,i=+m),o>0&&u>0)){for(s=u%o||o,d=c.substr(0,s);s<u;s+=o)d+=f+c.substr(s,o);i>0&&(d+=f+c.slice(s)),this.s<0&&(d="-"+d)}return l?((g=r.fractionGroupSeparator)==a&&(g=b.fractionGroupSeparator)==a&&(g=w.fractionGroupSeparator),g&&((y=r.fractionGroupSize)==a&&(y=b.fractionGroupSize)==a&&(y=w.fractionGroupSize)==a&&(y=0),(y=+y)&&(l=l.replace(new RegExp("\\d{"+y+"}\\B","g"),"$&"+g))),d+h+l):d},e.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},e})},60266:(e,t,r)=>{var n=r(28076),o=r(54640);e.exports={parse:function(e){var t=n.parse(e.toString());return o.compile(t)}}},54640:e=>{"use strict";e.exports={compile:function(e){var t=[],r=[],n="",o=Object.create(null),i=o;return function(e){for(var t,r=0;r<e.length;r++)switch((t=e[r]).type){case"Assign":a(t);break;case"ObjectPath":l(t);break;case"ArrayPath":h(t)}return o}(e);function s(e,t,r){var n=new Error(e);throw n.line=t,n.column=r,n}function a(e){var o,a=e.key,d=e.value,l=e.line,h=e.column;o=n?n+"."+a:a,"undefined"!==typeof i[a]&&s("Cannot redefine existing key '"+o+"'.",l,h),i[a]=c(d),u(o)||(t.push(o),r.push(o))}function u(e){return-1!==t.indexOf(e)}function c(e){return"Array"===e.type?function(e){for(var t=null,r=0;r<e.length;r++){var n=e[r];null===t?t=n.type:n.type!==t&&s("Cannot add value of type "+n.type+" to array of type "+t+".",n.line,n.column)}return e.map(c)}(e.value):"InlineTable"===e.type?d(e.value):e.value}function d(e){for(var t=Object.create(null),r=0;r<e.length;r++){var n=e[r];"InlineTable"===n.value.type?t[n.key]=d(n.value.value):"InlineTableValue"===n.type&&(t[n.key]=c(n.value))}return t}function l(e){var r=e.value,a=r.map(p).join("."),c=e.line,d=e.column;u(a)&&s("Cannot redefine existing key '"+r+"'.",c,d),t.push(a),i=f(o,r,Object.create(null),c,d),n=r}function h(e){var r=e.value,a=r.map(p).join("."),c=e.line,d=e.column;if(u(a)||t.push(a),(t=t.filter((function(e){return 0!==e.indexOf(a)}))).push(a),i=f(o,r,[],c,d),n=a,i instanceof Array){var l=Object.create(null);i.push(l),i=l}else s("Cannot redefine existing key '"+r+"'.",c,d)}function f(e,t,n,o,i){for(var a=[],u="",c=(t.join("."),e),d=0;d<t.length;d++){var l=t[d];a.push(l),u=a.join("."),"undefined"===typeof c[l]?d===t.length-1?c[l]=n:c[l]=Object.create(null):d!==t.length-1&&r.indexOf(u)>-1&&s("Cannot redefine existing key '"+u+"'.",o,i),(c=c[l])instanceof Array&&c.length&&d<t.length-1&&(c=c[c.length-1])}return c}function p(e){return e.indexOf(".")>-1?'"'+e+'"':e}}}},28076:e=>{e.exports=function(){function e(e,t,r,n,o,i){this.message=e,this.expected=t,this.found=r,this.offset=n,this.line=o,this.column=i,this.name="SyntaxError"}return function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(e,Error),{SyntaxError:e,parse:function(t){var r,n=arguments.length>1?arguments[1]:{},o={},i={start:Ut},s=Ut,a=function(){return xr},u=o,c="#",d={type:"literal",value:"#",description:'"#"'},l=void 0,h={type:"any",description:"any character"},f="[",p={type:"literal",value:"[",description:'"["'},m="]",g={type:"literal",value:"]",description:'"]"'},y=function(e){Br(Mr("ObjectPath",e,xt,Ot))},b=function(e){Br(Mr("ArrayPath",e,xt,Ot))},w=function(e,t){return e.concat(t)},v=function(e){return[e]},_=function(e){return e},A=".",S={type:"literal",value:".",description:'"."'},k="=",E={type:"literal",value:"=",description:'"="'},T=function(e,t){Br(Mr("Assign",t,xt,Ot,e))},P=function(e){return e.join("")},I=function(e){return e.value},x='"""',O={type:"literal",value:'"""',description:'"\\"\\"\\""'},B=null,M=function(e){return Mr("String",e.join(""),xt,Ot)},D='"',U={type:"literal",value:'"',description:'"\\""'},R="'''",L={type:"literal",value:"'''",description:"\"'''\""},N="'",C={type:"literal",value:"'",description:'"\'"'},F=function(e){return e},W=function(e){return e},z="\\",j={type:"literal",value:"\\",description:'"\\\\"'},K=function(){return""},V="e",q={type:"literal",value:"e",description:'"e"'},Z="E",H={type:"literal",value:"E",description:'"E"'},G=function(e,t){return Mr("Float",parseFloat(e+"e"+t),xt,Ot)},Q=function(e){return Mr("Float",parseFloat(e),xt,Ot)},X="+",J={type:"literal",value:"+",description:'"+"'},Y=function(e){return e.join("")},$="-",ee={type:"literal",value:"-",description:'"-"'},te=function(e){return"-"+e.join("")},re=function(e){return Mr("Integer",parseInt(e,10),xt,Ot)},ne="true",oe={type:"literal",value:"true",description:'"true"'},ie=function(){return Mr("Boolean",!0,xt,Ot)},se="false",ae={type:"literal",value:"false",description:'"false"'},ue=function(){return Mr("Boolean",!1,xt,Ot)},ce=function(){return Mr("Array",[],xt,Ot)},de=function(e){return Mr("Array",e?[e]:[],xt,Ot)},le=function(e){return Mr("Array",e,xt,Ot)},he=function(e,t){return Mr("Array",e.concat(t),xt,Ot)},fe=function(e){return e},pe=",",me={type:"literal",value:",",description:'","'},ge="{",ye={type:"literal",value:"{",description:'"{"'},be="}",we={type:"literal",value:"}",description:'"}"'},ve=function(e){return Mr("InlineTable",e,xt,Ot)},_e=function(e,t){return Mr("InlineTableValue",t,xt,Ot,e)},Ae=function(e){return"."+e},Se=function(e){return e.join("")},ke=":",Ee={type:"literal",value:":",description:'":"'},Te=function(e){return e.join("")},Pe="T",Ie={type:"literal",value:"T",description:'"T"'},xe="Z",Oe={type:"literal",value:"Z",description:'"Z"'},Be=function(e,t){return Mr("Date",new Date(e+"T"+t+"Z"),xt,Ot)},Me=function(e,t){return Mr("Date",new Date(e+"T"+t),xt,Ot)},De=/^[ \t]/,Ue={type:"class",value:"[ \\t]",description:"[ \\t]"},Re="\n",Le={type:"literal",value:"\n",description:'"\\n"'},Ne="\r",Ce={type:"literal",value:"\r",description:'"\\r"'},Fe=/^[0-9a-f]/i,We={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},ze=/^[0-9]/,je={type:"class",value:"[0-9]",description:"[0-9]"},Ke="_",Ve={type:"literal",value:"_",description:'"_"'},qe=function(){return""},Ze=/^[A-Za-z0-9_\-]/,He={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},Ge=function(e){return e.join("")},Qe='\\"',Xe={type:"literal",value:'\\"',description:'"\\\\\\""'},Je=function(){return'"'},Ye="\\\\",$e={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},et=function(){return"\\"},tt="\\b",rt={type:"literal",value:"\\b",description:'"\\\\b"'},nt=function(){return"\b"},ot="\\t",it={type:"literal",value:"\\t",description:'"\\\\t"'},st=function(){return"\t"},at="\\n",ut={type:"literal",value:"\\n",description:'"\\\\n"'},ct=function(){return"\n"},dt="\\f",lt={type:"literal",value:"\\f",description:'"\\\\f"'},ht=function(){return"\f"},ft="\\r",pt={type:"literal",value:"\\r",description:'"\\\\r"'},mt=function(){return"\r"},gt="\\U",yt={type:"literal",value:"\\U",description:'"\\\\U"'},bt=function(e){return Dr(e.join(""))},wt="\\u",vt={type:"literal",value:"\\u",description:'"\\\\u"'},_t=0,At=0,St=0,kt={line:1,column:1,seenCR:!1},Et=0,Tt=[],Pt=0,It={};if("startRule"in n){if(!(n.startRule in i))throw new Error("Can't start parsing from rule \""+n.startRule+'".');s=i[n.startRule]}function xt(){return Bt(At).line}function Ot(){return Bt(At).column}function Bt(e){return St!==e&&(St>e&&(St=0,kt={line:1,column:1,seenCR:!1}),function(e,r,n){var o,i;for(o=r;o<n;o++)"\n"===(i=t.charAt(o))?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}(kt,St,e),St=e),kt}function Mt(e){_t<Et||(_t>Et&&(Et=_t,Tt=[]),Tt.push(e))}function Dt(r,n,o){var i=Bt(o),s=o<t.length?t.charAt(o):null;return null!==n&&function(e){var t=1;for(e.sort((function(e,t){return e.description<t.description?-1:e.description>t.description?1:0}));t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(n),new e(null!==r?r:function(e,t){var r,n=new Array(e.length);for(r=0;r<e.length;r++)n[r]=e[r].description;return"Expected "+(e.length>1?n.slice(0,-1).join(", ")+" or "+n[e.length-1]:n[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(e){return"\\x0"+t(e)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(e){return"\\x"+t(e)})).replace(/[\u0180-\u0FFF]/g,(function(e){return"\\u0"+t(e)})).replace(/[\u1080-\uFFFF]/g,(function(e){return"\\u"+t(e)}))}(t)+'"':"end of input")+" found."}(n,s),n,s,o,i.line,i.column)}function Ut(){var e,t,r,n=49*_t+0,i=It[n];if(i)return _t=i.nextPos,i.result;for(e=_t,t=[],r=Rt();r!==o;)t.push(r),r=Rt();return t!==o&&(At=e,t=a()),e=t,It[n]={nextPos:_t,result:e},e}function Rt(){var e,t,r,n,i,s,a,c=49*_t+1,d=It[c];if(d)return _t=d.nextPos,d.result;for(e=_t,t=[],r=wr();r!==o;)t.push(r),r=wr();if(t!==o)if((r=Lt())!==o){for(n=[],i=wr();i!==o;)n.push(i),i=wr();if(n!==o){for(i=[],s=Nt();s!==o;)i.push(s),s=Nt();if(i!==o){if(s=[],(a=vr())!==o)for(;a!==o;)s.push(a),a=vr();else s=u;s===o&&(s=Ar()),s!==o?e=t=[t,r,n,i,s]:(_t=e,e=u)}else _t=e,e=u}else _t=e,e=u}else _t=e,e=u;else _t=e,e=u;if(e===o){if(e=_t,t=[],(r=wr())!==o)for(;r!==o;)t.push(r),r=wr();else t=u;if(t!==o){if(r=[],(n=vr())!==o)for(;n!==o;)r.push(n),n=vr();else r=u;r===o&&(r=Ar()),r!==o?e=t=[t,r]:(_t=e,e=u)}else _t=e,e=u;e===o&&(e=vr())}return It[c]={nextPos:_t,result:e},e}function Lt(){var e,t=49*_t+2,r=It[t];return r?(_t=r.nextPos,r.result):((e=Nt())===o&&(e=Ct())===o&&(e=Ft())===o&&(e=Kt()),It[t]={nextPos:_t,result:e},e)}function Nt(){var e,r,n,i,s,a,f=49*_t+3,p=It[f];if(p)return _t=p.nextPos,p.result;if(e=_t,35===t.charCodeAt(_t)?(r=c,_t++):(r=o,0===Pt&&Mt(d)),r!==o){for(n=[],i=_t,s=_t,Pt++,(a=vr())===o&&(a=Ar()),Pt--,a===o?s=l:(_t=s,s=u),s!==o?(t.length>_t?(a=t.charAt(_t),_t++):(a=o,0===Pt&&Mt(h)),a!==o?i=s=[s,a]:(_t=i,i=u)):(_t=i,i=u);i!==o;)n.push(i),i=_t,s=_t,Pt++,(a=vr())===o&&(a=Ar()),Pt--,a===o?s=l:(_t=s,s=u),s!==o?(t.length>_t?(a=t.charAt(_t),_t++):(a=o,0===Pt&&Mt(h)),a!==o?i=s=[s,a]:(_t=i,i=u)):(_t=i,i=u);n!==o?e=r=[r,n]:(_t=e,e=u)}else _t=e,e=u;return It[f]={nextPos:_t,result:e},e}function Ct(){var e,r,n,i,s,a,c=49*_t+4,d=It[c];if(d)return _t=d.nextPos,d.result;if(e=_t,91===t.charCodeAt(_t)?(r=f,_t++):(r=o,0===Pt&&Mt(p)),r!==o){for(n=[],i=wr();i!==o;)n.push(i),i=wr();if(n!==o)if((i=Wt())!==o){for(s=[],a=wr();a!==o;)s.push(a),a=wr();s!==o?(93===t.charCodeAt(_t)?(a=m,_t++):(a=o,0===Pt&&Mt(g)),a!==o?(At=e,e=r=y(i)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;return It[c]={nextPos:_t,result:e},e}function Ft(){var e,r,n,i,s,a,c,d,l=49*_t+5,h=It[l];if(h)return _t=h.nextPos,h.result;if(e=_t,91===t.charCodeAt(_t)?(r=f,_t++):(r=o,0===Pt&&Mt(p)),r!==o)if(91===t.charCodeAt(_t)?(n=f,_t++):(n=o,0===Pt&&Mt(p)),n!==o){for(i=[],s=wr();s!==o;)i.push(s),s=wr();if(i!==o)if((s=Wt())!==o){for(a=[],c=wr();c!==o;)a.push(c),c=wr();a!==o?(93===t.charCodeAt(_t)?(c=m,_t++):(c=o,0===Pt&&Mt(g)),c!==o?(93===t.charCodeAt(_t)?(d=m,_t++):(d=o,0===Pt&&Mt(g)),d!==o?(At=e,e=r=b(s)):(_t=e,e=u)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;else _t=e,e=u;return It[l]={nextPos:_t,result:e},e}function Wt(){var e,t,r,n=49*_t+6,i=It[n];if(i)return _t=i.nextPos,i.result;if(e=_t,t=[],(r=jt())!==o)for(;r!==o;)t.push(r),r=jt();else t=u;return t!==o&&(r=zt())!==o?(At=e,e=t=w(t,r)):(_t=e,e=u),e===o&&(e=_t,(t=zt())!==o&&(At=e,t=v(t)),e=t),It[n]={nextPos:_t,result:e},e}function zt(){var e,t,r,n,i,s=49*_t+7,a=It[s];if(a)return _t=a.nextPos,a.result;for(e=_t,t=[],r=wr();r!==o;)t.push(r),r=wr();if(t!==o)if((r=Vt())!==o){for(n=[],i=wr();i!==o;)n.push(i),i=wr();n!==o?(At=e,e=t=_(r)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u;if(e===o){for(e=_t,t=[],r=wr();r!==o;)t.push(r),r=wr();if(t!==o)if((r=qt())!==o){for(n=[],i=wr();i!==o;)n.push(i),i=wr();n!==o?(At=e,e=t=_(r)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}return It[s]={nextPos:_t,result:e},e}function jt(){var e,r,n,i,s,a,c,d=49*_t+8,l=It[d];if(l)return _t=l.nextPos,l.result;for(e=_t,r=[],n=wr();n!==o;)r.push(n),n=wr();if(r!==o)if((n=Vt())!==o){for(i=[],s=wr();s!==o;)i.push(s),s=wr();if(i!==o)if(46===t.charCodeAt(_t)?(s=A,_t++):(s=o,0===Pt&&Mt(S)),s!==o){for(a=[],c=wr();c!==o;)a.push(c),c=wr();a!==o?(At=e,e=r=_(n)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;else _t=e,e=u;if(e===o){for(e=_t,r=[],n=wr();n!==o;)r.push(n),n=wr();if(r!==o)if((n=qt())!==o){for(i=[],s=wr();s!==o;)i.push(s),s=wr();if(i!==o)if(46===t.charCodeAt(_t)?(s=A,_t++):(s=o,0===Pt&&Mt(S)),s!==o){for(a=[],c=wr();c!==o;)a.push(c),c=wr();a!==o?(At=e,e=r=_(n)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;else _t=e,e=u}return It[d]={nextPos:_t,result:e},e}function Kt(){var e,r,n,i,s,a,c=49*_t+9,d=It[c];if(d)return _t=d.nextPos,d.result;if(e=_t,(r=Vt())!==o){for(n=[],i=wr();i!==o;)n.push(i),i=wr();if(n!==o)if(61===t.charCodeAt(_t)?(i=k,_t++):(i=o,0===Pt&&Mt(E)),i!==o){for(s=[],a=wr();a!==o;)s.push(a),a=wr();s!==o&&(a=Zt())!==o?(At=e,e=r=T(r,a)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;if(e===o)if(e=_t,(r=qt())!==o){for(n=[],i=wr();i!==o;)n.push(i),i=wr();if(n!==o)if(61===t.charCodeAt(_t)?(i=k,_t++):(i=o,0===Pt&&Mt(E)),i!==o){for(s=[],a=wr();a!==o;)s.push(a),a=wr();s!==o&&(a=Zt())!==o?(At=e,e=r=T(r,a)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;return It[c]={nextPos:_t,result:e},e}function Vt(){var e,t,r,n=49*_t+10,i=It[n];if(i)return _t=i.nextPos,i.result;if(e=_t,t=[],(r=Er())!==o)for(;r!==o;)t.push(r),r=Er();else t=u;return t!==o&&(At=e,t=P(t)),e=t,It[n]={nextPos:_t,result:e},e}function qt(){var e,t,r=49*_t+11,n=It[r];return n?(_t=n.nextPos,n.result):(e=_t,(t=Qt())!==o&&(At=e,t=I(t)),(e=t)===o&&(e=_t,(t=Jt())!==o&&(At=e,t=I(t)),e=t),It[r]={nextPos:_t,result:e},e)}function Zt(){var e,t=49*_t+12,r=It[t];return r?(_t=r.nextPos,r.result):((e=Ht())===o&&(e=br())===o&&(e=nr())===o&&(e=ir())===o&&(e=ar())===o&&(e=ur())===o&&(e=hr()),It[t]={nextPos:_t,result:e},e)}function Ht(){var e,t=49*_t+13,r=It[t];return r?(_t=r.nextPos,r.result):((e=Gt())===o&&(e=Qt())===o&&(e=Xt())===o&&(e=Jt()),It[t]={nextPos:_t,result:e},e)}function Gt(){var e,r,n,i,s,a=49*_t+14,c=It[a];if(c)return _t=c.nextPos,c.result;if(e=_t,t.substr(_t,3)===x?(r=x,_t+=3):(r=o,0===Pt&&Mt(O)),r!==o)if((n=vr())===o&&(n=B),n!==o){for(i=[],s=er();s!==o;)i.push(s),s=er();i!==o?(t.substr(_t,3)===x?(s=x,_t+=3):(s=o,0===Pt&&Mt(O)),s!==o?(At=e,e=r=M(i)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u;return It[a]={nextPos:_t,result:e},e}function Qt(){var e,r,n,i,s=49*_t+15,a=It[s];if(a)return _t=a.nextPos,a.result;if(e=_t,34===t.charCodeAt(_t)?(r=D,_t++):(r=o,0===Pt&&Mt(U)),r!==o){for(n=[],i=Yt();i!==o;)n.push(i),i=Yt();n!==o?(34===t.charCodeAt(_t)?(i=D,_t++):(i=o,0===Pt&&Mt(U)),i!==o?(At=e,e=r=M(n)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;return It[s]={nextPos:_t,result:e},e}function Xt(){var e,r,n,i,s,a=49*_t+16,c=It[a];if(c)return _t=c.nextPos,c.result;if(e=_t,t.substr(_t,3)===R?(r=R,_t+=3):(r=o,0===Pt&&Mt(L)),r!==o)if((n=vr())===o&&(n=B),n!==o){for(i=[],s=rr();s!==o;)i.push(s),s=rr();i!==o?(t.substr(_t,3)===R?(s=R,_t+=3):(s=o,0===Pt&&Mt(L)),s!==o?(At=e,e=r=M(i)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u;return It[a]={nextPos:_t,result:e},e}function Jt(){var e,r,n,i,s=49*_t+17,a=It[s];if(a)return _t=a.nextPos,a.result;if(e=_t,39===t.charCodeAt(_t)?(r=N,_t++):(r=o,0===Pt&&Mt(C)),r!==o){for(n=[],i=$t();i!==o;)n.push(i),i=$t();n!==o?(39===t.charCodeAt(_t)?(i=N,_t++):(i=o,0===Pt&&Mt(C)),i!==o?(At=e,e=r=M(n)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;return It[s]={nextPos:_t,result:e},e}function Yt(){var e,r,n,i=49*_t+18,s=It[i];return s?(_t=s.nextPos,s.result):((e=Pr())===o&&(e=_t,r=_t,Pt++,34===t.charCodeAt(_t)?(n=D,_t++):(n=o,0===Pt&&Mt(U)),Pt--,n===o?r=l:(_t=r,r=u),r!==o?(t.length>_t?(n=t.charAt(_t),_t++):(n=o,0===Pt&&Mt(h)),n!==o?(At=e,e=r=F(n)):(_t=e,e=u)):(_t=e,e=u)),It[i]={nextPos:_t,result:e},e)}function $t(){var e,r,n,i=49*_t+19,s=It[i];return s?(_t=s.nextPos,s.result):(e=_t,r=_t,Pt++,39===t.charCodeAt(_t)?(n=N,_t++):(n=o,0===Pt&&Mt(C)),Pt--,n===o?r=l:(_t=r,r=u),r!==o?(t.length>_t?(n=t.charAt(_t),_t++):(n=o,0===Pt&&Mt(h)),n!==o?(At=e,e=r=F(n)):(_t=e,e=u)):(_t=e,e=u),It[i]={nextPos:_t,result:e},e)}function er(){var e,r,n,i=49*_t+20,s=It[i];return s?(_t=s.nextPos,s.result):((e=Pr())===o&&(e=tr())===o&&(e=_t,r=_t,Pt++,t.substr(_t,3)===x?(n=x,_t+=3):(n=o,0===Pt&&Mt(O)),Pt--,n===o?r=l:(_t=r,r=u),r!==o?(t.length>_t?(n=t.charAt(_t),_t++):(n=o,0===Pt&&Mt(h)),n!==o?(At=e,e=r=W(n)):(_t=e,e=u)):(_t=e,e=u)),It[i]={nextPos:_t,result:e},e)}function tr(){var e,r,n,i,s=49*_t+21,a=It[s];if(a)return _t=a.nextPos,a.result;if(e=_t,92===t.charCodeAt(_t)?(r=z,_t++):(r=o,0===Pt&&Mt(j)),r!==o)if(vr()!==o){for(n=[],i=_r();i!==o;)n.push(i),i=_r();n!==o?(At=e,e=r=K()):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u;return It[s]={nextPos:_t,result:e},e}function rr(){var e,r,n,i=49*_t+22,s=It[i];return s?(_t=s.nextPos,s.result):(e=_t,r=_t,Pt++,t.substr(_t,3)===R?(n=R,_t+=3):(n=o,0===Pt&&Mt(L)),Pt--,n===o?r=l:(_t=r,r=u),r!==o?(t.length>_t?(n=t.charAt(_t),_t++):(n=o,0===Pt&&Mt(h)),n!==o?(At=e,e=r=F(n)):(_t=e,e=u)):(_t=e,e=u),It[i]={nextPos:_t,result:e},e)}function nr(){var e,r,n,i,s=49*_t+23,a=It[s];return a?(_t=a.nextPos,a.result):(e=_t,(r=or())===o&&(r=sr()),r!==o?(101===t.charCodeAt(_t)?(n=V,_t++):(n=o,0===Pt&&Mt(q)),n===o&&(69===t.charCodeAt(_t)?(n=Z,_t++):(n=o,0===Pt&&Mt(H))),n!==o&&(i=sr())!==o?(At=e,e=r=G(r,i)):(_t=e,e=u)):(_t=e,e=u),e===o&&(e=_t,(r=or())!==o&&(At=e,r=Q(r)),e=r),It[s]={nextPos:_t,result:e},e)}function or(){var e,r,n,i,s,a,c=49*_t+24,d=It[c];return d?(_t=d.nextPos,d.result):(e=_t,43===t.charCodeAt(_t)?(r=X,_t++):(r=o,0===Pt&&Mt(J)),r===o&&(r=B),r!==o?(n=_t,(i=Tr())!==o?(46===t.charCodeAt(_t)?(s=A,_t++):(s=o,0===Pt&&Mt(S)),s!==o&&(a=Tr())!==o?n=i=[i,s,a]:(_t=n,n=u)):(_t=n,n=u),n!==o?(At=e,e=r=Y(n)):(_t=e,e=u)):(_t=e,e=u),e===o&&(e=_t,45===t.charCodeAt(_t)?(r=$,_t++):(r=o,0===Pt&&Mt(ee)),r!==o?(n=_t,(i=Tr())!==o?(46===t.charCodeAt(_t)?(s=A,_t++):(s=o,0===Pt&&Mt(S)),s!==o&&(a=Tr())!==o?n=i=[i,s,a]:(_t=n,n=u)):(_t=n,n=u),n!==o?(At=e,e=r=te(n)):(_t=e,e=u)):(_t=e,e=u)),It[c]={nextPos:_t,result:e},e)}function ir(){var e,t,r=49*_t+25,n=It[r];return n?(_t=n.nextPos,n.result):(e=_t,(t=sr())!==o&&(At=e,t=re(t)),e=t,It[r]={nextPos:_t,result:e},e)}function sr(){var e,r,n,i,s,a=49*_t+26,c=It[a];if(c)return _t=c.nextPos,c.result;if(e=_t,43===t.charCodeAt(_t)?(r=X,_t++):(r=o,0===Pt&&Mt(J)),r===o&&(r=B),r!==o){if(n=[],(i=kr())!==o)for(;i!==o;)n.push(i),i=kr();else n=u;n!==o?(i=_t,Pt++,46===t.charCodeAt(_t)?(s=A,_t++):(s=o,0===Pt&&Mt(S)),Pt--,s===o?i=l:(_t=i,i=u),i!==o?(At=e,e=r=Y(n)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;if(e===o)if(e=_t,45===t.charCodeAt(_t)?(r=$,_t++):(r=o,0===Pt&&Mt(ee)),r!==o){if(n=[],(i=kr())!==o)for(;i!==o;)n.push(i),i=kr();else n=u;n!==o?(i=_t,Pt++,46===t.charCodeAt(_t)?(s=A,_t++):(s=o,0===Pt&&Mt(S)),Pt--,s===o?i=l:(_t=i,i=u),i!==o?(At=e,e=r=te(n)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;return It[a]={nextPos:_t,result:e},e}function ar(){var e,r,n=49*_t+27,i=It[n];return i?(_t=i.nextPos,i.result):(e=_t,t.substr(_t,4)===ne?(r=ne,_t+=4):(r=o,0===Pt&&Mt(oe)),r!==o&&(At=e,r=ie()),(e=r)===o&&(e=_t,t.substr(_t,5)===se?(r=se,_t+=5):(r=o,0===Pt&&Mt(ae)),r!==o&&(At=e,r=ue()),e=r),It[n]={nextPos:_t,result:e},e)}function ur(){var e,r,n,i,s,a=49*_t+28,c=It[a];if(c)return _t=c.nextPos,c.result;if(e=_t,91===t.charCodeAt(_t)?(r=f,_t++):(r=o,0===Pt&&Mt(p)),r!==o){for(n=[],i=lr();i!==o;)n.push(i),i=lr();n!==o?(93===t.charCodeAt(_t)?(i=m,_t++):(i=o,0===Pt&&Mt(g)),i!==o?(At=e,e=r=ce()):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;if(e===o&&(e=_t,91===t.charCodeAt(_t)?(r=f,_t++):(r=o,0===Pt&&Mt(p)),r!==o?((n=cr())===o&&(n=B),n!==o?(93===t.charCodeAt(_t)?(i=m,_t++):(i=o,0===Pt&&Mt(g)),i!==o?(At=e,e=r=de(n)):(_t=e,e=u)):(_t=e,e=u)):(_t=e,e=u),e===o)){if(e=_t,91===t.charCodeAt(_t)?(r=f,_t++):(r=o,0===Pt&&Mt(p)),r!==o){if(n=[],(i=dr())!==o)for(;i!==o;)n.push(i),i=dr();else n=u;n!==o?(93===t.charCodeAt(_t)?(i=m,_t++):(i=o,0===Pt&&Mt(g)),i!==o?(At=e,e=r=le(n)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u;if(e===o)if(e=_t,91===t.charCodeAt(_t)?(r=f,_t++):(r=o,0===Pt&&Mt(p)),r!==o){if(n=[],(i=dr())!==o)for(;i!==o;)n.push(i),i=dr();else n=u;n!==o&&(i=cr())!==o?(93===t.charCodeAt(_t)?(s=m,_t++):(s=o,0===Pt&&Mt(g)),s!==o?(At=e,e=r=he(n,i)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u}return It[a]={nextPos:_t,result:e},e}function cr(){var e,t,r,n,i,s=49*_t+29,a=It[s];if(a)return _t=a.nextPos,a.result;for(e=_t,t=[],r=lr();r!==o;)t.push(r),r=lr();if(t!==o)if((r=Zt())!==o){for(n=[],i=lr();i!==o;)n.push(i),i=lr();n!==o?(At=e,e=t=fe(r)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u;return It[s]={nextPos:_t,result:e},e}function dr(){var e,r,n,i,s,a,c,d=49*_t+30,l=It[d];if(l)return _t=l.nextPos,l.result;for(e=_t,r=[],n=lr();n!==o;)r.push(n),n=lr();if(r!==o)if((n=Zt())!==o){for(i=[],s=lr();s!==o;)i.push(s),s=lr();if(i!==o)if(44===t.charCodeAt(_t)?(s=pe,_t++):(s=o,0===Pt&&Mt(me)),s!==o){for(a=[],c=lr();c!==o;)a.push(c),c=lr();a!==o?(At=e,e=r=fe(n)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;else _t=e,e=u;return It[d]={nextPos:_t,result:e},e}function lr(){var e,t=49*_t+31,r=It[t];return r?(_t=r.nextPos,r.result):((e=wr())===o&&(e=vr())===o&&(e=Nt()),It[t]={nextPos:_t,result:e},e)}function hr(){var e,r,n,i,s,a,c=49*_t+32,d=It[c];if(d)return _t=d.nextPos,d.result;if(e=_t,123===t.charCodeAt(_t)?(r=ge,_t++):(r=o,0===Pt&&Mt(ye)),r!==o){for(n=[],i=wr();i!==o;)n.push(i),i=wr();if(n!==o){for(i=[],s=fr();s!==o;)i.push(s),s=fr();if(i!==o){for(s=[],a=wr();a!==o;)s.push(a),a=wr();s!==o?(125===t.charCodeAt(_t)?(a=be,_t++):(a=o,0===Pt&&Mt(we)),a!==o?(At=e,e=r=ve(i)):(_t=e,e=u)):(_t=e,e=u)}else _t=e,e=u}else _t=e,e=u}else _t=e,e=u;return It[c]={nextPos:_t,result:e},e}function fr(){var e,r,n,i,s,a,c,d,l,h,f,p=49*_t+33,m=It[p];if(m)return _t=m.nextPos,m.result;for(e=_t,r=[],n=wr();n!==o;)r.push(n),n=wr();if(r!==o)if((n=Vt())!==o){for(i=[],s=wr();s!==o;)i.push(s),s=wr();if(i!==o)if(61===t.charCodeAt(_t)?(s=k,_t++):(s=o,0===Pt&&Mt(E)),s!==o){for(a=[],c=wr();c!==o;)a.push(c),c=wr();if(a!==o)if((c=Zt())!==o){for(d=[],l=wr();l!==o;)d.push(l),l=wr();if(d!==o)if(44===t.charCodeAt(_t)?(l=pe,_t++):(l=o,0===Pt&&Mt(me)),l!==o){for(h=[],f=wr();f!==o;)h.push(f),f=wr();h!==o?(At=e,e=r=_e(n,c)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;else _t=e,e=u;if(e===o){for(e=_t,r=[],n=wr();n!==o;)r.push(n),n=wr();if(r!==o)if((n=Vt())!==o){for(i=[],s=wr();s!==o;)i.push(s),s=wr();if(i!==o)if(61===t.charCodeAt(_t)?(s=k,_t++):(s=o,0===Pt&&Mt(E)),s!==o){for(a=[],c=wr();c!==o;)a.push(c),c=wr();a!==o&&(c=Zt())!==o?(At=e,e=r=_e(n,c)):(_t=e,e=u)}else _t=e,e=u;else _t=e,e=u}else _t=e,e=u;else _t=e,e=u}return It[p]={nextPos:_t,result:e},e}function pr(){var e,r,n,i=49*_t+34,s=It[i];return s?(_t=s.nextPos,s.result):(e=_t,46===t.charCodeAt(_t)?(r=A,_t++):(r=o,0===Pt&&Mt(S)),r!==o&&(n=Tr())!==o?(At=e,e=r=Ae(n)):(_t=e,e=u),It[i]={nextPos:_t,result:e},e)}function mr(){var e,r,n,i,s,a,c,d,l,h,f,p,m=49*_t+35,g=It[m];return g?(_t=g.nextPos,g.result):(e=_t,r=_t,(n=kr())!==o&&(i=kr())!==o&&(s=kr())!==o&&(a=kr())!==o?(45===t.charCodeAt(_t)?(c=$,_t++):(c=o,0===Pt&&Mt(ee)),c!==o&&(d=kr())!==o&&(l=kr())!==o?(45===t.charCodeAt(_t)?(h=$,_t++):(h=o,0===Pt&&Mt(ee)),h!==o&&(f=kr())!==o&&(p=kr())!==o?r=n=[n,i,s,a,c,d,l,h,f,p]:(_t=r,r=u)):(_t=r,r=u)):(_t=r,r=u),r!==o&&(At=e,r=Se(r)),e=r,It[m]={nextPos:_t,result:e},e)}function gr(){var e,r,n,i,s,a,c,d,l,h,f,p=49*_t+36,m=It[p];return m?(_t=m.nextPos,m.result):(e=_t,r=_t,(n=kr())!==o&&(i=kr())!==o?(58===t.charCodeAt(_t)?(s=ke,_t++):(s=o,0===Pt&&Mt(Ee)),s!==o&&(a=kr())!==o&&(c=kr())!==o?(58===t.charCodeAt(_t)?(d=ke,_t++):(d=o,0===Pt&&Mt(Ee)),d!==o&&(l=kr())!==o&&(h=kr())!==o?((f=pr())===o&&(f=B),f!==o?r=n=[n,i,s,a,c,d,l,h,f]:(_t=r,r=u)):(_t=r,r=u)):(_t=r,r=u)):(_t=r,r=u),r!==o&&(At=e,r=Te(r)),e=r,It[p]={nextPos:_t,result:e},e)}function yr(){var e,r,n,i,s,a,c,d,l,h,f,p,m,g,y,b,w,v=49*_t+37,_=It[v];return _?(_t=_.nextPos,_.result):(e=_t,r=_t,(n=kr())!==o&&(i=kr())!==o?(58===t.charCodeAt(_t)?(s=ke,_t++):(s=o,0===Pt&&Mt(Ee)),s!==o&&(a=kr())!==o&&(c=kr())!==o?(58===t.charCodeAt(_t)?(d=ke,_t++):(d=o,0===Pt&&Mt(Ee)),d!==o&&(l=kr())!==o&&(h=kr())!==o?((f=pr())===o&&(f=B),f!==o?(45===t.charCodeAt(_t)?(p=$,_t++):(p=o,0===Pt&&Mt(ee)),p===o&&(43===t.charCodeAt(_t)?(p=X,_t++):(p=o,0===Pt&&Mt(J))),p!==o&&(m=kr())!==o&&(g=kr())!==o?(58===t.charCodeAt(_t)?(y=ke,_t++):(y=o,0===Pt&&Mt(Ee)),y!==o&&(b=kr())!==o&&(w=kr())!==o?r=n=[n,i,s,a,c,d,l,h,f,p,m,g,y,b,w]:(_t=r,r=u)):(_t=r,r=u)):(_t=r,r=u)):(_t=r,r=u)):(_t=r,r=u)):(_t=r,r=u),r!==o&&(At=e,r=Te(r)),e=r,It[v]={nextPos:_t,result:e},e)}function br(){var e,r,n,i,s,a=49*_t+38,c=It[a];return c?(_t=c.nextPos,c.result):(e=_t,(r=mr())!==o?(84===t.charCodeAt(_t)?(n=Pe,_t++):(n=o,0===Pt&&Mt(Ie)),n!==o&&(i=gr())!==o?(90===t.charCodeAt(_t)?(s=xe,_t++):(s=o,0===Pt&&Mt(Oe)),s!==o?(At=e,e=r=Be(r,i)):(_t=e,e=u)):(_t=e,e=u)):(_t=e,e=u),e===o&&(e=_t,(r=mr())!==o?(84===t.charCodeAt(_t)?(n=Pe,_t++):(n=o,0===Pt&&Mt(Ie)),n!==o&&(i=yr())!==o?(At=e,e=r=Me(r,i)):(_t=e,e=u)):(_t=e,e=u)),It[a]={nextPos:_t,result:e},e)}function wr(){var e,r=49*_t+39,n=It[r];return n?(_t=n.nextPos,n.result):(De.test(t.charAt(_t))?(e=t.charAt(_t),_t++):(e=o,0===Pt&&Mt(Ue)),It[r]={nextPos:_t,result:e},e)}function vr(){var e,r,n,i=49*_t+40,s=It[i];return s?(_t=s.nextPos,s.result):(10===t.charCodeAt(_t)?(e=Re,_t++):(e=o,0===Pt&&Mt(Le)),e===o&&(e=_t,13===t.charCodeAt(_t)?(r=Ne,_t++):(r=o,0===Pt&&Mt(Ce)),r!==o?(10===t.charCodeAt(_t)?(n=Re,_t++):(n=o,0===Pt&&Mt(Le)),n!==o?e=r=[r,n]:(_t=e,e=u)):(_t=e,e=u)),It[i]={nextPos:_t,result:e},e)}function _r(){var e,t=49*_t+41,r=It[t];return r?(_t=r.nextPos,r.result):((e=vr())===o&&(e=wr()),It[t]={nextPos:_t,result:e},e)}function Ar(){var e,r,n=49*_t+42,i=It[n];return i?(_t=i.nextPos,i.result):(e=_t,Pt++,t.length>_t?(r=t.charAt(_t),_t++):(r=o,0===Pt&&Mt(h)),Pt--,r===o?e=l:(_t=e,e=u),It[n]={nextPos:_t,result:e},e)}function Sr(){var e,r=49*_t+43,n=It[r];return n?(_t=n.nextPos,n.result):(Fe.test(t.charAt(_t))?(e=t.charAt(_t),_t++):(e=o,0===Pt&&Mt(We)),It[r]={nextPos:_t,result:e},e)}function kr(){var e,r,n=49*_t+44,i=It[n];return i?(_t=i.nextPos,i.result):(ze.test(t.charAt(_t))?(e=t.charAt(_t),_t++):(e=o,0===Pt&&Mt(je)),e===o&&(e=_t,95===t.charCodeAt(_t)?(r=Ke,_t++):(r=o,0===Pt&&Mt(Ve)),r!==o&&(At=e,r=qe()),e=r),It[n]={nextPos:_t,result:e},e)}function Er(){var e,r=49*_t+45,n=It[r];return n?(_t=n.nextPos,n.result):(Ze.test(t.charAt(_t))?(e=t.charAt(_t),_t++):(e=o,0===Pt&&Mt(He)),It[r]={nextPos:_t,result:e},e)}function Tr(){var e,t,r,n=49*_t+46,i=It[n];if(i)return _t=i.nextPos,i.result;if(e=_t,t=[],(r=kr())!==o)for(;r!==o;)t.push(r),r=kr();else t=u;return t!==o&&(At=e,t=Ge(t)),e=t,It[n]={nextPos:_t,result:e},e}function Pr(){var e,r,n=49*_t+47,i=It[n];return i?(_t=i.nextPos,i.result):(e=_t,t.substr(_t,2)===Qe?(r=Qe,_t+=2):(r=o,0===Pt&&Mt(Xe)),r!==o&&(At=e,r=Je()),(e=r)===o&&(e=_t,t.substr(_t,2)===Ye?(r=Ye,_t+=2):(r=o,0===Pt&&Mt($e)),r!==o&&(At=e,r=et()),(e=r)===o&&(e=_t,t.substr(_t,2)===tt?(r=tt,_t+=2):(r=o,0===Pt&&Mt(rt)),r!==o&&(At=e,r=nt()),(e=r)===o&&(e=_t,t.substr(_t,2)===ot?(r=ot,_t+=2):(r=o,0===Pt&&Mt(it)),r!==o&&(At=e,r=st()),(e=r)===o&&(e=_t,t.substr(_t,2)===at?(r=at,_t+=2):(r=o,0===Pt&&Mt(ut)),r!==o&&(At=e,r=ct()),(e=r)===o&&(e=_t,t.substr(_t,2)===dt?(r=dt,_t+=2):(r=o,0===Pt&&Mt(lt)),r!==o&&(At=e,r=ht()),(e=r)===o&&(e=_t,t.substr(_t,2)===ft?(r=ft,_t+=2):(r=o,0===Pt&&Mt(pt)),r!==o&&(At=e,r=mt()),(e=r)===o&&(e=Ir()))))))),It[n]={nextPos:_t,result:e},e)}function Ir(){var e,r,n,i,s,a,c,d,l,h,f,p=49*_t+48,m=It[p];return m?(_t=m.nextPos,m.result):(e=_t,t.substr(_t,2)===gt?(r=gt,_t+=2):(r=o,0===Pt&&Mt(yt)),r!==o?(n=_t,(i=Sr())!==o&&(s=Sr())!==o&&(a=Sr())!==o&&(c=Sr())!==o&&(d=Sr())!==o&&(l=Sr())!==o&&(h=Sr())!==o&&(f=Sr())!==o?n=i=[i,s,a,c,d,l,h,f]:(_t=n,n=u),n!==o?(At=e,e=r=bt(n)):(_t=e,e=u)):(_t=e,e=u),e===o&&(e=_t,t.substr(_t,2)===wt?(r=wt,_t+=2):(r=o,0===Pt&&Mt(vt)),r!==o?(n=_t,(i=Sr())!==o&&(s=Sr())!==o&&(a=Sr())!==o&&(c=Sr())!==o?n=i=[i,s,a,c]:(_t=n,n=u),n!==o?(At=e,e=r=bt(n)):(_t=e,e=u)):(_t=e,e=u)),It[p]={nextPos:_t,result:e},e)}var xr=[];function Or(e,t,r){var n=new Error(e);throw n.line=t,n.column=r,n}function Br(e){xr.push(e)}function Mr(e,t,r,n,o){var i={type:e,value:t,line:r(),column:n()};return o&&(i.key=o),i}function Dr(e,t,r){var n=parseInt("0x"+e);if(!(!isFinite(n)||Math.floor(n)!=n||n<0||n>1114111||n>55295&&n<57344))return Ur(n);Or("Invalid Unicode escape code: "+e,t,r)}function Ur(){var e,t,r=16384,n=[],o=-1,i=arguments.length;if(!i)return"";for(var s="";++o<i;){var a=Number(arguments[o]);a<=65535?n.push(a):(e=55296+((a-=65536)>>10),t=a%1024+56320,n.push(e,t)),(o+1==i||n.length>r)&&(s+=String.fromCharCode.apply(null,n),n.length=0)}return s}if((r=s())!==o&&_t===t.length)return r;throw r!==o&&_t<t.length&&Mt({type:"end",description:"end of input"}),Dt(null,Tt,Et)}}}()},93845:(e,t,r)=>{"use strict";r.d(t,{pi:()=>n,mG:()=>o});var n=function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};function o(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function a(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))}Object.create;Object.create},81070:(e,t,r)=>{"use strict";r.d(t,{rr:()=>ar});function n(e){let t=e.length;for(;--t>=0;)e[t]=0}const o=256,i=286,s=30,a=15,u=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),c=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),d=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),l=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=new Array(576);n(h);const f=new Array(60);n(f);const p=new Array(512);n(p);const m=new Array(256);n(m);const g=new Array(29);n(g);const y=new Array(s);function b(e,t,r,n,o){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=o,this.has_stree=e&&e.length}let w,v,_;function A(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}n(y);const S=e=>e<256?p[e]:p[256+(e>>>7)],k=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},E=(e,t,r)=>{e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,k(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},T=(e,t,r)=>{E(e,r[2*t],r[2*t+1])},P=(e,t)=>{let r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1},I=(e,t,r)=>{const n=new Array(16);let o,i,s=0;for(o=1;o<=a;o++)n[o]=s=s+r[o-1]<<1;for(i=0;i<=t;i++){let t=e[2*i+1];0!==t&&(e[2*i]=P(n[t]++,t))}},x=e=>{let t;for(t=0;t<i;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},O=e=>{e.bi_valid>8?k(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},B=(e,t,r,n)=>{const o=2*t,i=2*r;return e[o]<e[i]||e[o]===e[i]&&n[t]<=n[r]},M=(e,t,r)=>{const n=e.heap[r];let o=r<<1;for(;o<=e.heap_len&&(o<e.heap_len&&B(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!B(t,n,e.heap[o],e.depth));)e.heap[r]=e.heap[o],r=o,o<<=1;e.heap[r]=n},D=(e,t,r)=>{let n,i,s,a,d=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*d]<<8|e.pending_buf[e.d_buf+2*d+1],i=e.pending_buf[e.l_buf+d],d++,0===n?T(e,i,t):(s=m[i],T(e,s+o+1,t),a=u[s],0!==a&&(i-=g[s],E(e,i,a)),n--,s=S(n),T(e,s,r),a=c[s],0!==a&&(n-=y[s],E(e,n,a)))}while(d<e.last_lit);T(e,256,t)},U=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems;let s,u,c,d=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<i;s++)0!==r[2*s]?(e.heap[++e.heap_len]=d=s,e.depth[s]=0):r[2*s+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=d<2?++d:0,r[2*c]=1,e.depth[c]=0,e.opt_len--,o&&(e.static_len-=n[2*c+1]);for(t.max_code=d,s=e.heap_len>>1;s>=1;s--)M(e,r,s);c=i;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],M(e,r,1),u=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=u,r[2*c]=r[2*s]+r[2*u],e.depth[c]=(e.depth[s]>=e.depth[u]?e.depth[s]:e.depth[u])+1,r[2*s+1]=r[2*u+1]=c,e.heap[1]=c++,M(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const r=t.dyn_tree,n=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,u=t.stat_desc.extra_base,c=t.stat_desc.max_length;let d,l,h,f,p,m,g=0;for(f=0;f<=a;f++)e.bl_count[f]=0;for(r[2*e.heap[e.heap_max]+1]=0,d=e.heap_max+1;d<573;d++)l=e.heap[d],f=r[2*r[2*l+1]+1]+1,f>c&&(f=c,g++),r[2*l+1]=f,l>n||(e.bl_count[f]++,p=0,l>=u&&(p=s[l-u]),m=r[2*l],e.opt_len+=m*(f+p),i&&(e.static_len+=m*(o[2*l+1]+p)));if(0!==g){do{for(f=c-1;0===e.bl_count[f];)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[c]--,g-=2}while(g>0);for(f=c;0!==f;f--)for(l=e.bl_count[f];0!==l;)h=e.heap[--d],h>n||(r[2*h+1]!==f&&(e.opt_len+=(f-r[2*h+1])*r[2*h],r[2*h+1]=f),l--)}})(e,t),I(r,d,e.bl_count)},R=(e,t,r)=>{let n,o,i=-1,s=t[1],a=0,u=7,c=4;for(0===s&&(u=138,c=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)o=s,s=t[2*(n+1)+1],++a<u&&o===s||(a<c?e.bl_tree[2*o]+=a:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,i=o,0===s?(u=138,c=3):o===s?(u=6,c=3):(u=7,c=4))},L=(e,t,r)=>{let n,o,i=-1,s=t[1],a=0,u=7,c=4;for(0===s&&(u=138,c=3),n=0;n<=r;n++)if(o=s,s=t[2*(n+1)+1],!(++a<u&&o===s)){if(a<c)do{T(e,o,e.bl_tree)}while(0!==--a);else 0!==o?(o!==i&&(T(e,o,e.bl_tree),a--),T(e,16,e.bl_tree),E(e,a-3,2)):a<=10?(T(e,17,e.bl_tree),E(e,a-3,3)):(T(e,18,e.bl_tree),E(e,a-11,7));a=0,i=o,0===s?(u=138,c=3):o===s?(u=6,c=3):(u=7,c=4)}};let N=!1;const C=(e,t,r,n)=>{E(e,0+(n?1:0),3),((e,t,r,n)=>{O(e),n&&(k(e,r),k(e,~r)),e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r})(e,t,r,!0)};var F=(e,t,r,n)=>{let i,s,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),U(e,e.l_desc),U(e,e.d_desc),a=(e=>{let t;for(R(e,e.dyn_ltree,e.l_desc.max_code),R(e,e.dyn_dtree,e.d_desc.max_code),U(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==t?C(e,t,r,n):4===e.strategy||s===i?(E(e,2+(n?1:0),3),D(e,h,f)):(E(e,4+(n?1:0),3),((e,t,r,n)=>{let o;for(E(e,t-257,5),E(e,r-1,5),E(e,n-4,4),o=0;o<n;o++)E(e,e.bl_tree[2*l[o]+1],3);L(e,e.dyn_ltree,t-1),L(e,e.dyn_dtree,r-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),D(e,e.dyn_ltree,e.dyn_dtree)),x(e),n&&O(e)},W={_tr_init:e=>{N||((()=>{let e,t,r,n,o;const l=new Array(16);for(r=0,n=0;n<28;n++)for(g[n]=r,e=0;e<1<<u[n];e++)m[r++]=n;for(m[r-1]=n,o=0,n=0;n<16;n++)for(y[n]=o,e=0;e<1<<c[n];e++)p[o++]=n;for(o>>=7;n<s;n++)for(y[n]=o<<7,e=0;e<1<<c[n]-7;e++)p[256+o++]=n;for(t=0;t<=a;t++)l[t]=0;for(e=0;e<=143;)h[2*e+1]=8,e++,l[8]++;for(;e<=255;)h[2*e+1]=9,e++,l[9]++;for(;e<=279;)h[2*e+1]=7,e++,l[7]++;for(;e<=287;)h[2*e+1]=8,e++,l[8]++;for(I(h,287,l),e=0;e<s;e++)f[2*e+1]=5,f[2*e]=P(e,5);w=new b(h,u,257,i,a),v=new b(f,c,0,s,a),_=new b(new Array(0),d,0,19,7)})(),N=!0),e.l_desc=new A(e.dyn_ltree,w),e.d_desc=new A(e.dyn_dtree,v),e.bl_desc=new A(e.bl_tree,_),e.bi_buf=0,e.bi_valid=0,x(e)},_tr_stored_block:C,_tr_flush_block:F,_tr_tally:(e,t,r)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(m[r]+o+1)]++,e.dyn_dtree[2*S(t)]++),e.last_lit===e.lit_bufsize-1),_tr_align:e=>{E(e,2,3),T(e,256,h),(e=>{16===e.bi_valid?(k(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var z=(e,t,r,n)=>{let o=65535&e|0,i=e>>>16&65535|0,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do{o=o+t[n++]|0,i=i+o|0}while(--s);o%=65521,i%=65521}return o|i<<16|0};const j=new Uint32Array((()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t})());var K=(e,t,r,n)=>{const o=j,i=n+r;e^=-1;for(let s=n;s<i;s++)e=e>>>8^o[255&(e^t[s])];return-1^e},V={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},q={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Z,_tr_stored_block:H,_tr_flush_block:G,_tr_tally:Q,_tr_align:X}=W,{Z_NO_FLUSH:J,Z_PARTIAL_FLUSH:Y,Z_FULL_FLUSH:$,Z_FINISH:ee,Z_BLOCK:te,Z_OK:re,Z_STREAM_END:ne,Z_STREAM_ERROR:oe,Z_DATA_ERROR:ie,Z_BUF_ERROR:se,Z_DEFAULT_COMPRESSION:ae,Z_FILTERED:ue,Z_HUFFMAN_ONLY:ce,Z_RLE:de,Z_FIXED:le,Z_DEFAULT_STRATEGY:he,Z_UNKNOWN:fe,Z_DEFLATED:pe}=q,me=258,ge=262,ye=103,be=113,we=666,ve=(e,t)=>(e.msg=V[t],t),_e=e=>(e<<1)-(e>4?9:0),Ae=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let Se=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask;const ke=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},Ee=(e,t)=>{G(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ke(e.strm)},Te=(e,t)=>{e.pending_buf[e.pending++]=t},Pe=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ie=(e,t,r,n)=>{let o=e.avail_in;return o>n&&(o=n),0===o?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),r),1===e.state.wrap?e.adler=z(e.adler,t,o,r):2===e.state.wrap&&(e.adler=K(e.adler,t,o,r)),e.next_in+=o,e.total_in+=o,o)},xe=(e,t)=>{let r,n,o=e.max_chain_length,i=e.strstart,s=e.prev_length,a=e.nice_match;const u=e.strstart>e.w_size-ge?e.strstart-(e.w_size-ge):0,c=e.window,d=e.w_mask,l=e.prev,h=e.strstart+me;let f=c[i+s-1],p=c[i+s];e.prev_length>=e.good_match&&(o>>=2),a>e.lookahead&&(a=e.lookahead);do{if(r=t,c[r+s]===p&&c[r+s-1]===f&&c[r]===c[i]&&c[++r]===c[i+1]){i+=2,r++;do{}while(c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&i<h);if(n=me-(h-i),i=h-me,n>s){if(e.match_start=t,s=n,n>=a)break;f=c[i+s-1],p=c[i+s]}}}while((t=l[t&d])>u&&0!==--o);return s<=e.lookahead?s:e.lookahead},Oe=e=>{const t=e.w_size;let r,n,o,i,s;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ge)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do{o=e.head[--r],e.head[r]=o>=t?o-t:0}while(--n);n=t,r=n;do{o=e.prev[--r],e.prev[r]=o>=t?o-t:0}while(--n);i+=t}if(0===e.strm.avail_in)break;if(n=Ie(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=3)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=Se(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=Se(e,e.ins_h,e.window[s+3-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<ge&&0!==e.strm.avail_in)},Be=(e,t)=>{let r,n;for(;;){if(e.lookahead<ge){if(Oe(e),e.lookahead<ge&&t===J)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=Se(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-ge&&(e.match_length=xe(e,r)),e.match_length>=3)if(n=Q(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Se(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Se(e,e.ins_h,e.window[e.strstart+1]);else n=Q(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Ee(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===ee?(Ee(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ee(e,!1),0===e.strm.avail_out)?1:2},Me=(e,t)=>{let r,n,o;for(;;){if(e.lookahead<ge){if(Oe(e),e.lookahead<ge&&t===J)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=Se(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-ge&&(e.match_length=xe(e,r),e.match_length<=5&&(e.strategy===ue||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-3,n=Q(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=Se(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(Ee(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=Q(e,0,e.window[e.strstart-1]),n&&Ee(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Q(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===ee?(Ee(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ee(e,!1),0===e.strm.avail_out)?1:2};function De(e,t,r,n,o){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=o}const Ue=[new De(0,0,0,0,((e,t)=>{let r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Oe(e),0===e.lookahead&&t===J)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,Ee(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-ge&&(Ee(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ee?(Ee(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Ee(e,!1),e.strm.avail_out),1)})),new De(4,4,8,4,Be),new De(4,5,16,8,Be),new De(4,6,32,32,Be),new De(4,4,16,16,Me),new De(8,16,32,32,Me),new De(8,16,128,128,Me),new De(8,32,128,256,Me),new De(32,128,258,1024,Me),new De(32,258,258,4096,Me)];function Re(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=pe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Ae(this.dyn_ltree),Ae(this.dyn_dtree),Ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Le=e=>{if(!e||!e.state)return ve(e,oe);e.total_in=e.total_out=0,e.data_type=fe;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:be,e.adler=2===t.wrap?0:1,t.last_flush=J,Z(t),re},Ne=e=>{const t=Le(e);var r;return t===re&&((r=e.state).window_size=2*r.w_size,Ae(r.head),r.max_lazy_match=Ue[r.level].max_lazy,r.good_match=Ue[r.level].good_length,r.nice_match=Ue[r.level].nice_length,r.max_chain_length=Ue[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),t},Ce=(e,t,r,n,o,i)=>{if(!e)return oe;let s=1;if(t===ae&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),o<1||o>9||r!==pe||n<8||n>15||t<0||t>9||i<0||i>le)return ve(e,oe);8===n&&(n=9);const a=new Re;return e.state=a,a.strm=e,a.wrap=s,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=i,a.method=r,Ne(e)};var Fe={deflateInit:(e,t)=>Ce(e,t,pe,15,8,he),deflateInit2:Ce,deflateReset:Ne,deflateResetKeep:Le,deflateSetHeader:(e,t)=>e&&e.state?2!==e.state.wrap?oe:(e.state.gzhead=t,re):oe,deflate:(e,t)=>{let r,n;if(!e||!e.state||t>te||t<0)return e?ve(e,oe):oe;const o=e.state;if(!e.output||!e.input&&0!==e.avail_in||o.status===we&&t!==ee)return ve(e,0===e.avail_out?se:oe);o.strm=e;const i=o.last_flush;if(o.last_flush=t,42===o.status)if(2===o.wrap)e.adler=0,Te(o,31),Te(o,139),Te(o,8),o.gzhead?(Te(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),Te(o,255&o.gzhead.time),Te(o,o.gzhead.time>>8&255),Te(o,o.gzhead.time>>16&255),Te(o,o.gzhead.time>>24&255),Te(o,9===o.level?2:o.strategy>=ce||o.level<2?4:0),Te(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(Te(o,255&o.gzhead.extra.length),Te(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=K(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(Te(o,0),Te(o,0),Te(o,0),Te(o,0),Te(o,0),Te(o,9===o.level?2:o.strategy>=ce||o.level<2?4:0),Te(o,3),o.status=be);else{let t=pe+(o.w_bits-8<<4)<<8,r=-1;r=o.strategy>=ce||o.level<2?0:o.level<6?1:6===o.level?2:3,t|=r<<6,0!==o.strstart&&(t|=32),t+=31-t%31,o.status=be,Pe(o,t),0!==o.strstart&&(Pe(o,e.adler>>>16),Pe(o,65535&e.adler)),e.adler=1}if(69===o.status)if(o.gzhead.extra){for(r=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>r&&(e.adler=K(e.adler,o.pending_buf,o.pending-r,r)),ke(e),r=o.pending,o.pending!==o.pending_buf_size));)Te(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>r&&(e.adler=K(e.adler,o.pending_buf,o.pending-r,r)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){r=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>r&&(e.adler=K(e.adler,o.pending_buf,o.pending-r,r)),ke(e),r=o.pending,o.pending===o.pending_buf_size)){n=1;break}n=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,Te(o,n)}while(0!==n);o.gzhead.hcrc&&o.pending>r&&(e.adler=K(e.adler,o.pending_buf,o.pending-r,r)),0===n&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){r=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>r&&(e.adler=K(e.adler,o.pending_buf,o.pending-r,r)),ke(e),r=o.pending,o.pending===o.pending_buf_size)){n=1;break}n=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,Te(o,n)}while(0!==n);o.gzhead.hcrc&&o.pending>r&&(e.adler=K(e.adler,o.pending_buf,o.pending-r,r)),0===n&&(o.status=ye)}else o.status=ye;if(o.status===ye&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&ke(e),o.pending+2<=o.pending_buf_size&&(Te(o,255&e.adler),Te(o,e.adler>>8&255),e.adler=0,o.status=be)):o.status=be),0!==o.pending){if(ke(e),0===e.avail_out)return o.last_flush=-1,re}else if(0===e.avail_in&&_e(t)<=_e(i)&&t!==ee)return ve(e,se);if(o.status===we&&0!==e.avail_in)return ve(e,se);if(0!==e.avail_in||0!==o.lookahead||t!==J&&o.status!==we){let r=o.strategy===ce?((e,t)=>{let r;for(;;){if(0===e.lookahead&&(Oe(e),0===e.lookahead)){if(t===J)return 1;break}if(e.match_length=0,r=Q(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Ee(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ee?(Ee(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ee(e,!1),0===e.strm.avail_out)?1:2})(o,t):o.strategy===de?((e,t)=>{let r,n,o,i;const s=e.window;for(;;){if(e.lookahead<=me){if(Oe(e),e.lookahead<=me&&t===J)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(o=e.strstart-1,n=s[o],n===s[++o]&&n===s[++o]&&n===s[++o])){i=e.strstart+me;do{}while(n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&o<i);e.match_length=me-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=Q(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Q(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Ee(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ee?(Ee(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ee(e,!1),0===e.strm.avail_out)?1:2})(o,t):Ue[o.level].func(o,t);if(3!==r&&4!==r||(o.status=we),1===r||3===r)return 0===e.avail_out&&(o.last_flush=-1),re;if(2===r&&(t===Y?X(o):t!==te&&(H(o,0,0,!1),t===$&&(Ae(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),ke(e),0===e.avail_out))return o.last_flush=-1,re}return t!==ee?re:o.wrap<=0?ne:(2===o.wrap?(Te(o,255&e.adler),Te(o,e.adler>>8&255),Te(o,e.adler>>16&255),Te(o,e.adler>>24&255),Te(o,255&e.total_in),Te(o,e.total_in>>8&255),Te(o,e.total_in>>16&255),Te(o,e.total_in>>24&255)):(Pe(o,e.adler>>>16),Pe(o,65535&e.adler)),ke(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?re:ne)},deflateEnd:e=>{if(!e||!e.state)return oe;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==ye&&t!==be&&t!==we?ve(e,oe):(e.state=null,t===be?ve(e,ie):re)},deflateSetDictionary:(e,t)=>{let r=t.length;if(!e||!e.state)return oe;const n=e.state,o=n.wrap;if(2===o||1===o&&42!==n.status||n.lookahead)return oe;if(1===o&&(e.adler=z(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){0===o&&(Ae(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(r-n.w_size,r),0),t=e,r=n.w_size}const i=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Oe(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do{n.ins_h=Se(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++}while(--t);n.strstart=e,n.lookahead=2,Oe(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=s,e.input=a,e.avail_in=i,n.wrap=o,re},deflateInfo:"pako deflate (from Nodeca project)"};const We=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var ze=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if("object"!==typeof r)throw new TypeError(r+"must be non-object");for(const t in r)We(r,t)&&(e[t]=r[t])}}return e},je=e=>{let t=0;for(let n=0,o=e.length;n<o;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,o=0,i=e.length;n<i;n++){let t=e[n];r.set(t,o),o+=t.length}return r};let Ke=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(ur){Ke=!1}const Ve=new Uint8Array(256);for(let cr=0;cr<256;cr++)Ve[cr]=cr>=252?6:cr>=248?5:cr>=240?4:cr>=224?3:cr>=192?2:1;Ve[254]=Ve[254]=1;var qe=e=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,r,n,o,i,s=e.length,a=0;for(o=0;o<s;o++)r=e.charCodeAt(o),55296===(64512&r)&&o+1<s&&(n=e.charCodeAt(o+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),o++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(a),i=0,o=0;i<a;o++)r=e.charCodeAt(o),55296===(64512&r)&&o+1<s&&(n=e.charCodeAt(o+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),o++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|63&r):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|63&r):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|63&r);return t},Ze=(e,t)=>{const r=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let n,o;const i=new Array(2*r);for(o=0,n=0;n<r;){let t=e[n++];if(t<128){i[o++]=t;continue}let s=Ve[t];if(s>4)i[o++]=65533,n+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&n<r;)t=t<<6|63&e[n++],s--;s>1?i[o++]=65533:t<65536?i[o++]=t:(t-=65536,i[o++]=55296|t>>10&1023,i[o++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&Ke)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r})(i,o)},He=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let r=t-1;for(;r>=0&&128===(192&e[r]);)r--;return r<0||0===r?t:r+Ve[e[r]]>t?r:t};var Ge=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Qe=Object.prototype.toString,{Z_NO_FLUSH:Xe,Z_SYNC_FLUSH:Je,Z_FULL_FLUSH:Ye,Z_FINISH:$e,Z_OK:et,Z_STREAM_END:tt,Z_DEFAULT_COMPRESSION:rt,Z_DEFAULT_STRATEGY:nt,Z_DEFLATED:ot}=q;function it(e){this.options=ze({level:rt,method:ot,chunkSize:16384,windowBits:15,memLevel:8,strategy:nt},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ge,this.strm.avail_out=0;let r=Fe.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==et)throw new Error(V[r]);if(t.header&&Fe.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"===typeof t.dictionary?qe(t.dictionary):"[object ArrayBuffer]"===Qe.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,r=Fe.deflateSetDictionary(this.strm,e),r!==et)throw new Error(V[r]);this._dict_set=!0}}function st(e,t){const r=new it(t);if(r.push(e,!0),r.err)throw r.msg||V[r.err];return r.result}it.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let o,i;if(this.ended)return!1;for(i=t===~~t?t:!0===t?$e:Xe,"string"===typeof e?r.input=qe(e):"[object ArrayBuffer]"===Qe.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(i===Je||i===Ye)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(o=Fe.deflate(r,i),o===tt)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),o=Fe.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===et;if(0!==r.avail_out){if(i>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},it.prototype.onData=function(e){this.chunks.push(e)},it.prototype.onEnd=function(e){e===et&&(this.result=je(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var at={Deflate:it,deflate:st,deflateRaw:function(e,t){return(t=t||{}).raw=!0,st(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,st(e,t)},constants:q};var ut=function(e,t){let r,n,o,i,s,a,u,c,d,l,h,f,p,m,g,y,b,w,v,_,A,S,k,E;const T=e.state;r=e.next_in,k=e.input,n=r+(e.avail_in-5),o=e.next_out,E=e.output,i=o-(t-e.avail_out),s=o+(e.avail_out-257),a=T.dmax,u=T.wsize,c=T.whave,d=T.wnext,l=T.window,h=T.hold,f=T.bits,p=T.lencode,m=T.distcode,g=(1<<T.lenbits)-1,y=(1<<T.distbits)-1;e:do{f<15&&(h+=k[r++]<<f,f+=8,h+=k[r++]<<f,f+=8),b=p[h&g];t:for(;;){if(w=b>>>24,h>>>=w,f-=w,w=b>>>16&255,0===w)E[o++]=65535&b;else{if(!(16&w)){if(0===(64&w)){b=p[(65535&b)+(h&(1<<w)-1)];continue t}if(32&w){T.mode=12;break e}e.msg="invalid literal/length code",T.mode=30;break e}v=65535&b,w&=15,w&&(f<w&&(h+=k[r++]<<f,f+=8),v+=h&(1<<w)-1,h>>>=w,f-=w),f<15&&(h+=k[r++]<<f,f+=8,h+=k[r++]<<f,f+=8),b=m[h&y];r:for(;;){if(w=b>>>24,h>>>=w,f-=w,w=b>>>16&255,!(16&w)){if(0===(64&w)){b=m[(65535&b)+(h&(1<<w)-1)];continue r}e.msg="invalid distance code",T.mode=30;break e}if(_=65535&b,w&=15,f<w&&(h+=k[r++]<<f,f+=8,f<w&&(h+=k[r++]<<f,f+=8)),_+=h&(1<<w)-1,_>a){e.msg="invalid distance too far back",T.mode=30;break e}if(h>>>=w,f-=w,w=o-i,_>w){if(w=_-w,w>c&&T.sane){e.msg="invalid distance too far back",T.mode=30;break e}if(A=0,S=l,0===d){if(A+=u-w,w<v){v-=w;do{E[o++]=l[A++]}while(--w);A=o-_,S=E}}else if(d<w){if(A+=u+d-w,w-=d,w<v){v-=w;do{E[o++]=l[A++]}while(--w);if(A=0,d<v){w=d,v-=w;do{E[o++]=l[A++]}while(--w);A=o-_,S=E}}}else if(A+=d-w,w<v){v-=w;do{E[o++]=l[A++]}while(--w);A=o-_,S=E}for(;v>2;)E[o++]=S[A++],E[o++]=S[A++],E[o++]=S[A++],v-=3;v&&(E[o++]=S[A++],v>1&&(E[o++]=S[A++]))}else{A=o-_;do{E[o++]=E[A++],E[o++]=E[A++],E[o++]=E[A++],v-=3}while(v>2);v&&(E[o++]=E[A++],v>1&&(E[o++]=E[A++]))}break}}break}}while(r<n&&o<s);v=f>>3,r-=v,f-=v<<3,h&=(1<<f)-1,e.next_in=r,e.next_out=o,e.avail_in=r<n?n-r+5:5-(r-n),e.avail_out=o<s?s-o+257:257-(o-s),T.hold=h,T.bits=f};const ct=15,dt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ht=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ft=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var pt=(e,t,r,n,o,i,s,a)=>{const u=a.bits;let c,d,l,h,f,p,m=0,g=0,y=0,b=0,w=0,v=0,_=0,A=0,S=0,k=0,E=null,T=0;const P=new Uint16Array(16),I=new Uint16Array(16);let x,O,B,M=null,D=0;for(m=0;m<=ct;m++)P[m]=0;for(g=0;g<n;g++)P[t[r+g]]++;for(w=u,b=ct;b>=1&&0===P[b];b--);if(w>b&&(w=b),0===b)return o[i++]=20971520,o[i++]=20971520,a.bits=1,0;for(y=1;y<b&&0===P[y];y++);for(w<y&&(w=y),A=1,m=1;m<=ct;m++)if(A<<=1,A-=P[m],A<0)return-1;if(A>0&&(0===e||1!==b))return-1;for(I[1]=0,m=1;m<ct;m++)I[m+1]=I[m]+P[m];for(g=0;g<n;g++)0!==t[r+g]&&(s[I[t[r+g]]++]=g);if(0===e?(E=M=s,p=19):1===e?(E=dt,T-=257,M=lt,D-=257,p=256):(E=ht,M=ft,p=-1),k=0,g=0,m=y,f=i,v=w,_=0,l=-1,S=1<<w,h=S-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){x=m-_,s[g]<p?(O=0,B=s[g]):s[g]>p?(O=M[D+s[g]],B=E[T+s[g]]):(O=96,B=0),c=1<<m-_,d=1<<v,y=d;do{d-=c,o[f+(k>>_)+d]=x<<24|O<<16|B|0}while(0!==d);for(c=1<<m-1;k&c;)c>>=1;if(0!==c?(k&=c-1,k+=c):k=0,g++,0===--P[m]){if(m===b)break;m=t[r+s[g]]}if(m>w&&(k&h)!==l){for(0===_&&(_=w),f+=y,v=m-_,A=1<<v;v+_<b&&(A-=P[v+_],!(A<=0));)v++,A<<=1;if(S+=1<<v,1===e&&S>852||2===e&&S>592)return 1;l=k&h,o[l]=w<<24|v<<16|f-i|0}}return 0!==k&&(o[f+k]=m-_<<24|64<<16|0),a.bits=w,0};const{Z_FINISH:mt,Z_BLOCK:gt,Z_TREES:yt,Z_OK:bt,Z_STREAM_END:wt,Z_NEED_DICT:vt,Z_STREAM_ERROR:_t,Z_DATA_ERROR:At,Z_MEM_ERROR:St,Z_BUF_ERROR:kt,Z_DEFLATED:Et}=q,Tt=12,Pt=30,It=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function xt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ot=e=>{if(!e||!e.state)return _t;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,bt},Bt=e=>{if(!e||!e.state)return _t;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Ot(e)},Mt=(e,t)=>{let r;if(!e||!e.state)return _t;const n=e.state;return t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?_t:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Bt(e))},Dt=(e,t)=>{if(!e)return _t;const r=new xt;e.state=r,r.window=null;const n=Mt(e,t);return n!==bt&&(e.state=null),n};let Ut,Rt,Lt=!0;const Nt=e=>{if(Lt){Ut=new Int32Array(512),Rt=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(pt(1,e.lens,0,288,Ut,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;pt(2,e.lens,0,32,Rt,0,e.work,{bits:5}),Lt=!1}e.lencode=Ut,e.lenbits=9,e.distcode=Rt,e.distbits=5},Ct=(e,t,r,n)=>{let o;const i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>n&&(o=n),i.window.set(t.subarray(r-n,r-n+o),i.wnext),(n-=o)?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0};var Ft={inflateReset:Bt,inflateReset2:Mt,inflateResetKeep:Ot,inflateInit:e=>Dt(e,15),inflateInit2:Dt,inflate:(e,t)=>{let r,n,o,i,s,a,u,c,d,l,h,f,p,m,g,y,b,w,v,_,A,S,k=0;const E=new Uint8Array(4);let T,P;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return _t;r=e.state,r.mode===Tt&&(r.mode=13),s=e.next_out,o=e.output,u=e.avail_out,i=e.next_in,n=e.input,a=e.avail_in,c=r.hold,d=r.bits,l=a,h=u,S=bt;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;d<16;){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}if(2&r.wrap&&35615===c){r.check=0,E[0]=255&c,E[1]=c>>>8&255,r.check=K(r.check,E,2,0),c=0,d=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=Pt;break}if((15&c)!==Et){e.msg="unknown compression method",r.mode=Pt;break}if(c>>>=4,d-=4,A=8+(15&c),0===r.wbits)r.wbits=A;else if(A>r.wbits){e.msg="invalid window size",r.mode=Pt;break}r.dmax=1<<r.wbits,e.adler=r.check=1,r.mode=512&c?10:Tt,c=0,d=0;break;case 2:for(;d<16;){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}if(r.flags=c,(255&r.flags)!==Et){e.msg="unknown compression method",r.mode=Pt;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=Pt;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&(E[0]=255&c,E[1]=c>>>8&255,r.check=K(r.check,E,2,0)),c=0,d=0,r.mode=3;case 3:for(;d<32;){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}r.head&&(r.head.time=c),512&r.flags&&(E[0]=255&c,E[1]=c>>>8&255,E[2]=c>>>16&255,E[3]=c>>>24&255,r.check=K(r.check,E,4,0)),c=0,d=0,r.mode=4;case 4:for(;d<16;){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&(E[0]=255&c,E[1]=c>>>8&255,r.check=K(r.check,E,2,0)),c=0,d=0,r.mode=5;case 5:if(1024&r.flags){for(;d<16;){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&(E[0]=255&c,E[1]=c>>>8&255,r.check=K(r.check,E,2,0)),c=0,d=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(f=r.length,f>a&&(f=a),f&&(r.head&&(A=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+f),A)),512&r.flags&&(r.check=K(r.check,n,f,i)),a-=f,i+=f,r.length-=f),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===a)break e;f=0;do{A=n[i+f++],r.head&&A&&r.length<65536&&(r.head.name+=String.fromCharCode(A))}while(A&&f<a);if(512&r.flags&&(r.check=K(r.check,n,f,i)),a-=f,i+=f,A)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===a)break e;f=0;do{A=n[i+f++],r.head&&A&&r.length<65536&&(r.head.comment+=String.fromCharCode(A))}while(A&&f<a);if(512&r.flags&&(r.check=K(r.check,n,f,i)),a-=f,i+=f,A)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;d<16;){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}if(c!==(65535&r.check)){e.msg="header crc mismatch",r.mode=Pt;break}c=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Tt;break;case 10:for(;d<32;){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}e.adler=r.check=It(c),c=0,d=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=s,e.avail_out=u,e.next_in=i,e.avail_in=a,r.hold=c,r.bits=d,vt;e.adler=r.check=1,r.mode=Tt;case Tt:if(t===gt||t===yt)break e;case 13:if(r.last){c>>>=7&d,d-=7&d,r.mode=27;break}for(;d<3;){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}switch(r.last=1&c,c>>>=1,d-=1,3&c){case 0:r.mode=14;break;case 1:if(Nt(r),r.mode=20,t===yt){c>>>=2,d-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=Pt}c>>>=2,d-=2;break;case 14:for(c>>>=7&d,d-=7&d;d<32;){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}if((65535&c)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Pt;break}if(r.length=65535&c,c=0,d=0,r.mode=15,t===yt)break e;case 15:r.mode=16;case 16:if(f=r.length,f){if(f>a&&(f=a),f>u&&(f=u),0===f)break e;o.set(n.subarray(i,i+f),s),a-=f,i+=f,u-=f,s+=f,r.length-=f;break}r.mode=Tt;break;case 17:for(;d<14;){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}if(r.nlen=257+(31&c),c>>>=5,d-=5,r.ndist=1+(31&c),c>>>=5,d-=5,r.ncode=4+(15&c),c>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Pt;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;d<3;){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}r.lens[I[r.have++]]=7&c,c>>>=3,d-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,T={bits:r.lenbits},S=pt(0,r.lens,0,19,r.lencode,0,r.work,T),r.lenbits=T.bits,S){e.msg="invalid code lengths set",r.mode=Pt;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[c&(1<<r.lenbits)-1],g=k>>>24,y=k>>>16&255,b=65535&k,!(g<=d);){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}if(b<16)c>>>=g,d-=g,r.lens[r.have++]=b;else{if(16===b){for(P=g+2;d<P;){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}if(c>>>=g,d-=g,0===r.have){e.msg="invalid bit length repeat",r.mode=Pt;break}A=r.lens[r.have-1],f=3+(3&c),c>>>=2,d-=2}else if(17===b){for(P=g+3;d<P;){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}c>>>=g,d-=g,A=0,f=3+(7&c),c>>>=3,d-=3}else{for(P=g+7;d<P;){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}c>>>=g,d-=g,A=0,f=11+(127&c),c>>>=7,d-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Pt;break}for(;f--;)r.lens[r.have++]=A}}if(r.mode===Pt)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=Pt;break}if(r.lenbits=9,T={bits:r.lenbits},S=pt(1,r.lens,0,r.nlen,r.lencode,0,r.work,T),r.lenbits=T.bits,S){e.msg="invalid literal/lengths set",r.mode=Pt;break}if(r.distbits=6,r.distcode=r.distdyn,T={bits:r.distbits},S=pt(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,T),r.distbits=T.bits,S){e.msg="invalid distances set",r.mode=Pt;break}if(r.mode=20,t===yt)break e;case 20:r.mode=21;case 21:if(a>=6&&u>=258){e.next_out=s,e.avail_out=u,e.next_in=i,e.avail_in=a,r.hold=c,r.bits=d,ut(e,h),s=e.next_out,o=e.output,u=e.avail_out,i=e.next_in,n=e.input,a=e.avail_in,c=r.hold,d=r.bits,r.mode===Tt&&(r.back=-1);break}for(r.back=0;k=r.lencode[c&(1<<r.lenbits)-1],g=k>>>24,y=k>>>16&255,b=65535&k,!(g<=d);){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}if(y&&0===(240&y)){for(w=g,v=y,_=b;k=r.lencode[_+((c&(1<<w+v)-1)>>w)],g=k>>>24,y=k>>>16&255,b=65535&k,!(w+g<=d);){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}c>>>=w,d-=w,r.back+=w}if(c>>>=g,d-=g,r.back+=g,r.length=b,0===y){r.mode=26;break}if(32&y){r.back=-1,r.mode=Tt;break}if(64&y){e.msg="invalid literal/length code",r.mode=Pt;break}r.extra=15&y,r.mode=22;case 22:if(r.extra){for(P=r.extra;d<P;){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;k=r.distcode[c&(1<<r.distbits)-1],g=k>>>24,y=k>>>16&255,b=65535&k,!(g<=d);){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}if(0===(240&y)){for(w=g,v=y,_=b;k=r.distcode[_+((c&(1<<w+v)-1)>>w)],g=k>>>24,y=k>>>16&255,b=65535&k,!(w+g<=d);){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}c>>>=w,d-=w,r.back+=w}if(c>>>=g,d-=g,r.back+=g,64&y){e.msg="invalid distance code",r.mode=Pt;break}r.offset=b,r.extra=15&y,r.mode=24;case 24:if(r.extra){for(P=r.extra;d<P;){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Pt;break}r.mode=25;case 25:if(0===u)break e;if(f=h-u,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Pt;break}f>r.wnext?(f-=r.wnext,p=r.wsize-f):p=r.wnext-f,f>r.length&&(f=r.length),m=r.window}else m=o,p=s-r.offset,f=r.length;f>u&&(f=u),u-=f,r.length-=f;do{o[s++]=m[p++]}while(--f);0===r.length&&(r.mode=21);break;case 26:if(0===u)break e;o[s++]=r.length,u--,r.mode=21;break;case 27:if(r.wrap){for(;d<32;){if(0===a)break e;a--,c|=n[i++]<<d,d+=8}if(h-=u,e.total_out+=h,r.total+=h,h&&(e.adler=r.check=r.flags?K(r.check,o,h,s-h):z(r.check,o,h,s-h)),h=u,(r.flags?c:It(c))!==r.check){e.msg="incorrect data check",r.mode=Pt;break}c=0,d=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;d<32;){if(0===a)break e;a--,c+=n[i++]<<d,d+=8}if(c!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=Pt;break}c=0,d=0}r.mode=29;case 29:S=wt;break e;case Pt:S=At;break e;case 31:return St;default:return _t}return e.next_out=s,e.avail_out=u,e.next_in=i,e.avail_in=a,r.hold=c,r.bits=d,(r.wsize||h!==e.avail_out&&r.mode<Pt&&(r.mode<27||t!==mt))&&Ct(e,e.output,e.next_out,h-e.avail_out),l-=e.avail_in,h-=e.avail_out,e.total_in+=l,e.total_out+=h,r.total+=h,r.wrap&&h&&(e.adler=r.check=r.flags?K(r.check,o,h,e.next_out-h):z(r.check,o,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Tt?128:0)+(20===r.mode||15===r.mode?256:0),(0===l&&0===h||t===mt)&&S===bt&&(S=kt),S},inflateEnd:e=>{if(!e||!e.state)return _t;let t=e.state;return t.window&&(t.window=null),e.state=null,bt},inflateGetHeader:(e,t)=>{if(!e||!e.state)return _t;const r=e.state;return 0===(2&r.wrap)?_t:(r.head=t,t.done=!1,bt)},inflateSetDictionary:(e,t)=>{const r=t.length;let n,o,i;return e&&e.state?(n=e.state,0!==n.wrap&&11!==n.mode?_t:11===n.mode&&(o=1,o=z(o,t,r,0),o!==n.check)?At:(i=Ct(e,t,r,r),i?(n.mode=31,St):(n.havedict=1,bt))):_t},inflateInfo:"pako inflate (from Nodeca project)"};var Wt=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const zt=Object.prototype.toString,{Z_NO_FLUSH:jt,Z_FINISH:Kt,Z_OK:Vt,Z_STREAM_END:qt,Z_NEED_DICT:Zt,Z_STREAM_ERROR:Ht,Z_DATA_ERROR:Gt,Z_MEM_ERROR:Qt}=q;function Xt(e){this.options=ze({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ge,this.strm.avail_out=0;let r=Ft.inflateInit2(this.strm,t.windowBits);if(r!==Vt)throw new Error(V[r]);if(this.header=new Wt,Ft.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=qe(t.dictionary):"[object ArrayBuffer]"===zt.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Ft.inflateSetDictionary(this.strm,t.dictionary),r!==Vt)))throw new Error(V[r])}function Jt(e,t){const r=new Xt(t);if(r.push(e),r.err)throw r.msg||V[r.err];return r.result}Xt.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,o=this.options.dictionary;let i,s,a;if(this.ended)return!1;for(s=t===~~t?t:!0===t?Kt:jt,"[object ArrayBuffer]"===zt.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=Ft.inflate(r,s),i===Zt&&o&&(i=Ft.inflateSetDictionary(r,o),i===Vt?i=Ft.inflate(r,s):i===Gt&&(i=Zt));r.avail_in>0&&i===qt&&r.state.wrap>0&&0!==e[r.next_in];)Ft.inflateReset(r),i=Ft.inflate(r,s);switch(i){case Ht:case Gt:case Zt:case Qt:return this.onEnd(i),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(0===r.avail_out||i===qt))if("string"===this.options.to){let e=He(r.output,r.next_out),t=r.next_out-e,o=Ze(r.output,e);r.next_out=t,r.avail_out=n-t,t&&r.output.set(r.output.subarray(e,e+t),0),this.onData(o)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(i!==Vt||0!==a){if(i===qt)return i=Ft.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},Xt.prototype.onData=function(e){this.chunks.push(e)},Xt.prototype.onEnd=function(e){e===Vt&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=je(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Yt={Inflate:Xt,inflate:Jt,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Jt(e,t)},ungzip:Jt,constants:q};const{Deflate:$t,deflate:er,deflateRaw:tr,gzip:rr}=at,{Inflate:nr,inflate:or,inflateRaw:ir,ungzip:sr}=Yt;var ar=or},80104:e=>{"use strict";e.exports=JSON.parse('[{"address":"B37pZmwrwXHjpgvd9hHDAx1yeDsNevTnbbrN9W12BoGK","deprecated":true,"name":"soALEPH/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"CAgAeMD7quTdnr6RPa7JySQpjf3irAmefYNdTb6anemq","deprecated":true,"name":"BTC/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"ASKiV944nKg1W9vsf7hf3fTsjawK6DwLwrnB2LH9n61c","deprecated":true,"name":"soETH/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"Cdp72gDcYMCLLk3aDkPxjeiirKoFqK38ECm8Ywvk94Wi","deprecated":true,"name":"SOL/soUSDC","programId":"BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg"},{"address":"68J6nkWToik6oM9rTatKSR5ibVSykAtzftBUEAvpRsys","deprecated":true,"name":"SRM/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"8Jzed8Fafu1RU1CQDWdiETSrqAJy1ukZ5JL6Pma3p3a2","deprecated":true,"name":"SRM/SOL","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9wDmxsfwaDb2ysmZpBLzxKzoWrF1zHzBN7PV5EmJe19R","deprecated":true,"name":"soSUSHI/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"GbQSffne1NcJbS4jsewZEpRGYVR4RNnuVUN8Ht6vAGb6","deprecated":true,"name":"soSXP/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"7kgkDyW7dmyMeP8KFXzbcUZz1R2WHsovDZ7n3ihZuNDS","deprecated":true,"name":"MSRM/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"FZqrBXz7ADGsmDf1TM9YgysPUfvtG8rJiNUrqDpHc9Au","deprecated":true,"name":"soFTT/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"FJg9FUtbN3fg3YFbMCFiZKjGh5Bn4gtzxZmtxFzmz9kT","deprecated":true,"name":"soYFI/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"7GZ59DMgJ7D6dfoJTpszPayTRyua9jwcaGJXaRMMF1my","deprecated":true,"name":"soLINK/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"uPNcBgFhrLW3FtvyYYbBUi53BBEQf9e4NPgwxaLu5Hn","deprecated":true,"name":"soHGET/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"3puWJFZyCso14EdxhywjD7xqyTarpsULx483mzvqxQRW","deprecated":true,"name":"soCREAM/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"8Ae7Uhigx8k4fKdJG7irdPCVDZLvWsJfeTH2t5fr3TVD","deprecated":true,"name":"soUBXT/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"Hze5AUX4Qp1cTujiJ4CsAMRGn4g6ZpgXsmptFn3xxhWg","deprecated":true,"name":"soHNT/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"FJq4HX3bUSgF3yQZ8ADALtJYfAyr9fz36SNG18hc3dgF","deprecated":true,"name":"soFRONT/soUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"BZMuoQ2i2noNUXMdrRDivc7MwjGspNJTCfZkdHMwK18T","deprecated":true,"name":"soALEPH/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5LgJphS6D5zXwUVPU7eCryDBkyta3AidrJ5vjNU6BcGW","deprecated":true,"name":"BTC/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"DmEDKZPXXkWgaYiKgWws2ZXWWKCh41eryDPRVD4zKnD9","deprecated":true,"name":"soETH/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"EBFTQNg2QjyxV7WDDenoLbfLLXLcbSz6w1YrdTCGPWT5","deprecated":true,"name":"SOL/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"8YmQZRXGizZXYPCDmxgjwB8X8XN4PZG7MMwNg76iAmPZ","deprecated":true,"name":"SRM/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9vFuX2BizwinWjkZLQTmThDcNMFEcY3wVXYuqnRQtcD","deprecated":true,"name":"soSUSHI/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"C5NReXAeQhfjiDCGPFj1UUmDxDqF8v2CUVKoYuQqb4eW","deprecated":true,"name":"soSXP/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"58H7ZRmiyWtsrz2sQGz1qQCMW6n7447xhNNehUSQGPj5","deprecated":true,"name":"MSRM/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"ES8skmkEeyH1BYFThd2FtyaFKhkqtwH7XWp8mXptv3vg","deprecated":true,"name":"soFTT/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"Gw78CYLLFbgmmn4rps9KoPAnNtBQ2S1foL2Mn6Z5ZHYB","deprecated":true,"name":"soYFI/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"WjfsTPyrvUUrhGJ9hVQFubMnKDcnQS8VxSXU7L2gLcA","deprecated":true,"name":"soLINK/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"2ZmB255T4FVUugpeXTFxD6Yz5GE47yTByYvqSTDUbk3G","deprecated":true,"name":"soHGET/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FGJtCDXoHLHjagP5Ht6xcUFt2rW3z8MJPe87rFKP2ZW6","deprecated":true,"name":"soCREAM/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7K6MPog6LskZmyaYwqtLvRUuedoiE68nirbQ9tK3LasE","deprecated":true,"name":"soUBXT/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9RyozJe3bkAFfH3jmoiKHjkWCoLTxn7aBQSi6YfaV6ab","deprecated":true,"name":"soHNT/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AGtBbGuJZiv3Ko3dfT4v6g4kCqnNc9DXfoGLe5HpjmWx","deprecated":true,"name":"soFRONT/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AA1HSrsMcRNzjaQfRMTNarHR9B7e4U79LJ2319UtiqPF","deprecated":true,"name":"soAKRO/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AUAobJdffexcoJBMeyLorpShu3ZtG9VvPEPjoeTN4u5Z","deprecated":true,"name":"soHXRO/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"GpdYLFbKHeSeDGqsnQ4jnP7D1294iBpQcsN1VPwhoaFS","deprecated":true,"name":"soUNI/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"sxS9EdTx1UPe4j2c6Au9f1GKZXrFj5pTgNKgjGGtGdY","deprecated":true,"name":"soKEEP/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"CfnnU38ACScF6pcurxSB3FLXeZmfFYunVKExeUyosu5P","deprecated":true,"name":"soMATH/soUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7NR5GDouQYkkfppVkNhpa4HfJ2LwqUQymE3b4CYQiYHa","deprecated":true,"name":"soALEPH/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"CVfYa8RGXnuDBeGmniCcdkBwoLqVxh92xB1JqgRQx3F","deprecated":true,"name":"BTC/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"H5uzEytiByuXt964KampmuNCurNDwkVVypkym75J2DQW","deprecated":true,"name":"soETH/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7xMDbYTCqQEcK2aM9LbetGtNFJpzKdfXzLL5juaLh4GJ","deprecated":true,"name":"SOL/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"CDdR97S8y96v3To93aKvi3nCnjUrbuVSuumw8FLvbVeg","deprecated":true,"name":"SRM/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7LVJtqSrF6RudMaz5rKGTmR3F3V5TKoDcN6bnk68biYZ","deprecated":true,"name":"soSUSHI/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"13vjJ8pxDMmzen26bQ5UrouX8dkXYPW1p3VLVDjxXrKR","deprecated":true,"name":"soSXP/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AwvPwwSprfDZ86beBJDNH5vocFvuw4ZbVQ6upJDbSCXZ","deprecated":true,"name":"MSRM/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FfDb3QZUdMW2R2aqJQgzeieys4ETb3rPrFFfPSemzq7R","deprecated":true,"name":"soFTT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"4QL5AQvXdMSCVZmnKXiuMMU83Kq3LCwVfU8CyznqZELG","deprecated":true,"name":"soYFI/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7JCG9TsCx3AErSV3pvhxiW4AbkKRcJ6ZAveRmJwrgQ16","deprecated":true,"name":"soLINK/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"3otQFkeQ7GNUKT3i2p3aGTQKS2SAw6NLYPE5qxh3PoqZ","deprecated":true,"name":"soHGET/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"2M8EBxFbLANnCoHydypL1jupnRHG782RofnvkatuKyLL","deprecated":true,"name":"soCREAM/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"3UqXdFtNBZsFrFtRGAWGvy9R8H6GJR2hAyGRdYT9BgG3","deprecated":true,"name":"soUBXT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9jiasgdYGGh34fAbBQSwkKe1dYSapXbjy2sLsYpetqFp","deprecated":true,"name":"soHNT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7oKqJhnz9b8af8Mw47dieTiuxeaHnRYYGBiqCrRpzTRD","deprecated":true,"name":"soFRONT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"F1rxD8Ns5w4WzVcTRdaJ96LG7YKaA5a25BBmM32yFP4b","deprecated":true,"name":"soAKRO/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"6ToedDwjRCvrcKX7fnHSTA9uABQe1dcLK6YgS5B9M3wo","deprecated":true,"name":"soHXRO/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FURvCsDUiuUaxZ13pZqQbbfktFGWmQVTHz7tL992LQVZ","deprecated":true,"name":"soUNI/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"EcfDRMrEJ3yW4SgrRyyxTPoKqAZDNSBV8EerigT7BNSS","deprecated":true,"name":"soKEEP/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"2bPsJ6bZ9KDLfJ8QgSN1Eb4mRsbAiaGyHN6cJkoVLpwd","deprecated":true,"name":"soMATH/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"B1GypajMh7S8zJVp6M1xMfu6zGsMgvYrt3cSn9wG7Dd6","deprecated":true,"name":"soTOMO/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"rPTGvVrNFYzBeTEcYnHiaWGNnkSXsWNNjUgk771LkwJ","deprecated":true,"name":"soLUA/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FrDavxi4QawYnQY259PVfYUjUvuyPNfqSXbLBqMnbfWJ","deprecated":true,"name":"FIDA/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"CVn1nJ5Utuseyy2qqwrpYoJz9Y7jjYonVL4UYvcCepDH","deprecated":true,"name":"KIN/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"BqjGW7ousAizgs8VrHo5SR1LxTksAQPtb8cKZZiNvX5D","deprecated":true,"name":"MAPS/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"GcoKtAmTy5QyuijXSmJKBtFdt99e6Buza18Js7j9AJ6e","deprecated":false,"name":"soALEPH/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"A8YFbxQYFVqKZaoYJLLUVcQiWP7G2MeEgW5wsAQgMvFw","deprecated":false,"name":"BTC/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4tSvZvnbyzHXLMTiFonMyxZoHmFqau1XArcRCVHLZ5gX","deprecated":false,"name":"soETH/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"ByRys5tuUWDgL73G8JBAEfkdFf8JWBzPBDHsBVQ5vbQA","deprecated":false,"name":"SRM/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"A1Q9iJDVVS8Wsswr9ajeZugmj64bQVCYLZQLra2TMBMo","deprecated":false,"name":"soSUSHI/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4LUro5jaPaTurXK737QAxgJywdhABnFAMQkXX4ZyqqaZ","deprecated":false,"name":"soSXP/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4VKLSYdvrQ5ngQrt1d2VS8o4ewvb2MMUZLiejbnGPV33","deprecated":false,"name":"MSRM/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2Pbh1CvRVku1TgewMfycemghf6sU9EyuFDcNXqvRmSxc","deprecated":false,"name":"soFTT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7qcCo8jqepnjjvB5swP4Afsr3keVBs6gNpBTNubd1Kr2","deprecated":false,"name":"soYFI/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3hwH1txjJVS8qv588tWrjHfRxdqNjBykM1kMcit484up","deprecated":false,"name":"soLINK/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"88vztw7RTN6yJQchVvxrs6oXUDryvpv9iJaFa1EEmg87","deprecated":false,"name":"soHGET/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7nZP6feE94eAz9jmfakNJWPwEKaeezuKKC5D1vrnqyo2","deprecated":false,"name":"soCREAM/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2wr3Ab29KNwGhtzr5HaPCyfU1qGJzTUAN4amCLZWaD1H","deprecated":false,"name":"soUBXT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CnUV42ZykoKUnMDdyefv5kP6nDSJf7jFd7WXAecC6LYr","deprecated":false,"name":"soHNT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"9Zx1CvxSVdroKMMWf2z8RwrnrLiQZ9VkQ7Ex3syQqdSH","deprecated":false,"name":"soFRONT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5CZXTTgVZKSzgSA3AFMN5a2f3hmwmmJ6hU8BHTEJ3PX8","deprecated":false,"name":"soAKRO/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6Pn1cSiRos3qhBf54uBP9ZQg8x3JTardm1dL3n4p29tA","deprecated":false,"name":"soHXRO/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6JYHjaQBx6AtKSSsizDMwozAEDEZ5KBsSUzH7kRjGJon","deprecated":false,"name":"soUNI/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"J7cPYBrXVy8Qeki2crZkZavcojf2sMRyQU7nx438Mf8t","deprecated":false,"name":"soMATH/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"8BdpjpSD5n3nk8DQLqPUyTZvVqFu6kcff5bzUX5dqDpy","deprecated":false,"name":"soTOMO/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4xyWjQ74Eifq17vbue5Ut9xfFNfuVB116tZLEpiZuAn8","deprecated":false,"name":"soLUA/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"jyei9Fpj2GtHLDDGgcuhDacxYLLiSyxU4TY7KxB2xai","deprecated":false,"name":"SRM/SOL","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"9wFFyRfZBsuAha4YcuxcXLKwMxJR43S7fPfQLusDBzvT","deprecated":false,"name":"SOL/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"E14BKBhDWD4EuTkWj1ooZezesGxMW8LPCps4W5PuzZJo","deprecated":false,"name":"FIDA/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"Bn6NPyr6UzrFAwC4WmvPvDr2Vm8XSUnFykM2aQroedgn","deprecated":false,"name":"KIN/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3A8XQRWXC7BjLpgLDDBhQJLT5yPCzS16cGYRKHkKxvYo","deprecated":false,"name":"MAPS/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3rgacody9SvM88QR83GHaNdEEx4Fe2V2ed5GJp2oeKDr","deprecated":false,"name":"soKEEP/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"EmCzMQfXMgNHcnRoFwAdPe1i2SuiSzMj1mx6wu3KN2uA","deprecated":true,"name":"soALEPH/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"8AcVjMG2LTbpkjNoyq8RwysokqZunkjy3d5JDzxC6BJa","deprecated":true,"name":"BTC/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"HfCZdJ1wfsWKfYP2qyWdXTT5PWAGWFctzFjLH48U1Hsd","deprecated":true,"name":"soETH/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"8mDuvJJSgoodovMRYArtVVYBbixWYdGzR47GPrRT65YJ","deprecated":true,"name":"SOL/soUSDT","programId":"BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg"},{"address":"HARFLhSq8nECZk4DVFKvzqXMNMA9a3hjvridGMFizeLa","deprecated":true,"name":"SRM/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"DzFjazak6EKHnaB2w6qSsArnj28CV1TKd2Smcj9fqtHW","deprecated":true,"name":"soSUSHI/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"GuvWMATdEV6DExWnXncPYEzn4ePWYkvGdC8pu8gsn7m7","deprecated":true,"name":"soSXP/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"H4snTKK9adiU15gP22ErfZYtro3aqR9BTMXiH3AwiUTQ","deprecated":true,"name":"MSRM/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"DHDdghmkBhEpReno3tbzBPtsxCt6P3KrMzZvxavTktJt","deprecated":true,"name":"soFTT/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"5zu5bTZZvqESAAgFsr12CUMxdQvMrvU9CgvC1GW8vJdf","deprecated":true,"name":"soYFI/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"F5xschQBMpu1gD2q1babYEAVJHR1buj1YazLiXyQNqSW","deprecated":true,"name":"soLINK/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"BAbc9baz4hV1hnYjWSJ6cZDRjfvziWbYGQu9UFkcdUmx","deprecated":true,"name":"soHGET/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"EBxJWA2nLV57ZntbjizxH527ZjPNLT5cpUHMnY5k3oq","deprecated":true,"name":"soCREAM/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"46VdEkj4MJwZinwVb3Y7DUDpVXLNb9YW7P2waKU3vCqr","deprecated":true,"name":"soUBXT/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"Hc22rHKrhbrZBaQMmhJvPTkp1yDr31PDusU8wKoqFSZV","deprecated":true,"name":"soHNT/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"HFoca5HKwiTPpw9iUY5iXWqzkXdu88dS7YrpSvt2uhyF","deprecated":true,"name":"soFRONT/soUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"5xnYnWca2bFwC6cPufpdsCbDJhMjYCC59YgwoZHEfiee","deprecated":true,"name":"soALEPH/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"EXnGBBSamqzd3uxEdRLUiYzjJkTwQyorAaFXdfteuGXe","deprecated":true,"name":"BTC/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5abZGhrELnUnfM9ZUnvK6XJPoBU5eShZwfFPkdhAC7o","deprecated":true,"name":"soETH/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7xLk17EQQ5KLDLDe44wCmupJKJjTGd8hs3eSVVhCx932","deprecated":true,"name":"SOL/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"H3APNWA8bZW2gLMSq5sRL41JSMmEJ648AqoEdDgLcdvB","deprecated":true,"name":"SRM/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"4uZTPc72sCDcVRfKKii67dTPm2Xe4ri3TYnGcUQrtnU9","deprecated":true,"name":"soSUSHI/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"33GHmwG9woY95JuWNi74Aa8uKvysSXxif9P1EwwkrCRz","deprecated":true,"name":"soSXP/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FUaF58sDrgbqakHTR8RUwRLauSofRTjqyCsqThFPh6YM","deprecated":true,"name":"MSRM/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5NqjQVXLuLSDnsnQMfWp3rF9gbWDusWG4B1Xwtk3rZ5S","deprecated":true,"name":"soFTT/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"97NiXHUNkpYd1eb2HthSDGhaPfepuqMAV3QsZhAgb1wm","deprecated":true,"name":"soYFI/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"hBswhpNyz4m5nt4KwtCA7jYXvh7VmyZ4TuuPmpaKQb1","deprecated":true,"name":"soLINK/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"GaeUpY7CT8rjoeVGjY1t3mJJDd1bdXxYWtrGSpsVFors","deprecated":true,"name":"soHGET/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7qq9BABQvTWKZuJ5fX2PeTKX6XVtduEs9zW9WS21fSzN","deprecated":true,"name":"soCREAM/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"DCHvVahuLTNWBGUtEzF5GrTdx5FRpxqEJiS6Ru1hrDfD","deprecated":true,"name":"soUBXT/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"DWjJ8VHdGYBxDQYdrRBVDWkHswrgjuBFEv5pBhiRoPBz","deprecated":true,"name":"soHNT/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"56eqxJYzPigm4FkigiBdsfebjMgAbKNh24E7oiKLBtye","deprecated":true,"name":"soFRONT/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FQbCNSVH3RgosCPB4CJRstkLh5hXkvuXzAjQzT11oMYo","deprecated":true,"name":"soAKRO/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"Fs5xtGUmJTYo8Ao75M3R3m3mVX53KMUhzfXCmyRLnp2P","deprecated":true,"name":"soHXRO/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"ChKV7mxecPqFPGYJjhzowPHDiLKFWXXVujUiE3EWxFcg","deprecated":true,"name":"soUNI/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"6N3oU7ALvn2RPwdpYVzPBgQJ8njT29inBbS2tSrwx8fh","deprecated":true,"name":"soKEEP/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5P6dJbyKySFXMYNWiEcNQu8xPRYsehYzCeVpae9Ueqrg","deprecated":true,"name":"soMATH/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"H7c8FcQPJ2E5tJmpWBPSi7xCAbk8immdtUxKFRUyE4Ro","deprecated":true,"name":"soTOMO/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7PSeX1AEtBY9KvgegF5rUh452VemMh7oDzFtJgH7sxMG","deprecated":true,"name":"soLUA/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AF2oQQaLtcrTnQyVs3EPTdyw57TPaK6njKYDq2Qw7LqP","deprecated":true,"name":"soSWAG/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9TE15E5h61zJ5VmQAAHkGrAuQdFTth33aBbKdcrppZBp","deprecated":true,"name":"FIDA/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"8HEaA1vSA5mGQoHcvRPNibnuZvnUpSjJJru9HJNH3SqM","deprecated":true,"name":"KIN/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"8EuuEwULFM7n7zthPjC7kA64LPRzYkpAyuLFiLuVg7D4","deprecated":true,"name":"soUSDT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"8grUs4WZoTs4KJ8LfRNUBs6SNkMTp5BnVRzJgQ2ranDT","deprecated":true,"name":"MAPS/soUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FoCuWt4KboucUg2PwmQ3dbkvLqYPLnAo1Rsm8p7QPyf","deprecated":true,"name":"soALEPH/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5r8FfnbNYcQbS1m4CYmoHYGjBtu6bxfo6UJHNRfzPiYH","deprecated":true,"name":"BTC/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"71CtEComq2XdhGNbXBuYPmosAjMCPSedcgbNi5jDaGbR","deprecated":true,"name":"soETH/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"EZyQ9zyqQsw3QcsLksoWyd1UFVjHZkzRx8N4ZMnZQrS2","deprecated":true,"name":"SRM/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6ERBjj692XHLWwWSRAUpiKenXshcwmPqhMy7RMapeoKa","deprecated":true,"name":"soSUSHI/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CQ3kAGxPmpBbak2RSHWyMeRhyLYbH6oVZHJxgjzDLpLW","deprecated":true,"name":"soSXP/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2Hqn46jhwaQMQ3zEnHtxrWxQZom6qwLXAgdsFJM1Srwh","deprecated":true,"name":"MSRM/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"G5jqZNo2UVCTnJxgEhKCYvqFRs3MxsnH8Bervq3rfLoL","deprecated":true,"name":"soFTT/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CbwtTHEpfTnCyLw4GoTbKk7WyrXkuATLfLadY2odBSsY","deprecated":true,"name":"soYFI/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5GjhBAYx8pYeCeUQt7rt93KQZnoQFuDq9Jx4iqq97Mip","deprecated":true,"name":"soLINK/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"9jMPV9E23pTirMjC7vz5suRNkd25311G3Httg7jTib8R","deprecated":true,"name":"soCREAM/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"DsSz9KWT97T4RewRTqTNDpNFQyxMPcuYNAJw2xHAzSiZ","deprecated":true,"name":"soUBXT/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3k1sURztjxhjYczjyioQ7y2UkMB6K5Ksi3SWvLeLx6Ex","deprecated":true,"name":"soHNT/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"B791G8UCahfmABVcR2wPAMK6LJnuqxSAqiG6wX3mmVVM","deprecated":true,"name":"soFRONT/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"95f7fxfUh8WqUTrdjorHRXm6rTfkWqr23ioGMmKMjedP","deprecated":true,"name":"soAKRO/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"H4RxtmQ4P3TYPt78G3DuHgaGzyFct6MfaeYneLB5PyeG","deprecated":true,"name":"soHXRO/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7myaZEGZf9m72T1Mqm8GTx5MnmSFS5NCXSwRP18W4EA3","deprecated":true,"name":"soUNI/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7cRKzNoqjF9VtzvdnP129VYP3izivk9iY3jMJBMzREVT","deprecated":true,"name":"soHGET/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"GV9fYzdwipoaagXFxe5tzDMPcmSVQati5CUvBPsEZThH","deprecated":true,"name":"soMATH/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"AaMLXcwYYi5fA41JNCB2ukAmQyKHitYx5NnpsiWWev6R","deprecated":true,"name":"soTOMO/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5ZeNLrduGi3WkH9CPwv2Zpbkh38MH8v63aSi2aBUW23g","deprecated":true,"name":"soLUA/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"Ec1aq54XKH9o5fe169cU2sCcxxTP54eeQCe77SpizKuc","deprecated":true,"name":"soUSDT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"G3uhFg2rBFunHUXtCera13vyQ5KCS8Hx3d4HohLoZbT5","deprecated":true,"name":"SOL/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2NMTG7tFZidRpQk9Sf4dgQyJb9HxKCyXjQdiuXww3sKm","deprecated":true,"name":"soSWAG/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7QpJAiwGmqY1SiucjfPXvgeWwCobyV6hZSgzMysZX6Ww","deprecated":true,"name":"FIDA/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CmLhvXARncLncE1949XBfQWeJh6Zvw3FE5A3Z5ecPYQH","deprecated":true,"name":"KIN/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"FhP3X2ptdi7L1RtWK9Vfow5dyzD92gfXiA57e8eqxvka","deprecated":true,"name":"MAPS/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"DE7xJE2EkaV81wLabDMuhBzUwFhhwfURLdz1aXBBQZQ1","deprecated":true,"name":"soKEEP/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5nLJ22h1DUfeCfwbFxPYK8zbfbri7nA9bXoDcR8AcJjs","deprecated":false,"name":"MSRM/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7dLVkUfBVfCGkFhSXDCq1ukM9usathSgS716t643iFGF","deprecated":false,"name":"soETH/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"8afKwzHR3wJE7W7Y5hvQkngXh6iTepSZuutRMMy96MjR","deprecated":false,"name":"soSXP/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"cgani53cMZgYfRMgSrNekJTMaLmccRfspsfTbXWRg7u","deprecated":false,"name":"soCEL/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"Gyp1UGRgbrb6z8t7fpssxEKQgEmcJ4pVnWW3ds2p6ZPY","deprecated":false,"name":"soALEPH/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4ztJEvQyryoYagj2uieep3dyPwG2pyEwb2dKXTwmXe82","deprecated":false,"name":"soCREAM/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"HEGnaVL5i48ubPBqWAhodnZo8VsSLzEM3Gfc451DnFj9","deprecated":false,"name":"soKEEP/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"8FpuMGLtMZ7Wt9ZvyTGuTVwTwwzLYfS5NZWcHxbP1Wuh","deprecated":false,"name":"soHNT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5GAPymgnnWieGcRrcghZdA3aanefqa4cZx1ZSE8UTyMV","deprecated":false,"name":"soMAPS/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"AADohBGxvf7bvixs2HKC3dG2RuU3xpZDwaTzYFJThM8U","deprecated":false,"name":"TRYB/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"EbV7pPpEvheLizuYX3gUCvWM8iySbSRAhu2mQ5Vz2Mxf","deprecated":false,"name":"FIDA/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"FcPet5fz9NLdbXwVM6kw2WTHzRAD7mT78UjwTpawd7hJ","deprecated":false,"name":"soRSR/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"AtNnsY1AyRERWJ8xCskfz38YdvruWVJQUVXgScC1iPb","deprecated":false,"name":"SRM/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"teE55QrL4a4QSfydR9dnHF97jgCfptpuigbb53Lo95g","deprecated":false,"name":"RAY/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"C1EuT9VokAKLiW7i2ASnZUvxDoKuKkCpDDeNxAptuNe4","deprecated":false,"name":"BTC/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"Hr3wzG8mZXNHV7TuL6YqtgfVUesCqMxGYCEyP3otywZE","deprecated":false,"name":"soFTT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"HLvRdctRB48F9yLnu9E24LUTRt89D48Z35yi1HcxayDf","deprecated":false,"name":"soAKRO/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2SSnWNrc83otLpfRo792P6P3PESZpdr8cu2r8zCE6bMD","deprecated":false,"name":"soUNI/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"F1T7b6pnR8Pge3qmfNUfW6ZipRDiGpMww6TKTrRU4NiL","deprecated":false,"name":"soUBXT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"HWHvQhFmJB3NUcu1aihKmrKegfVxBEHzwVX6yZCKEsi1","deprecated":false,"name":"SOL/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"35tV8UsHH8FnSAi3YFRrgCu4K9tb883wKnAXpnihot5r","deprecated":false,"name":"soLUA/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6DgQRTpJTnAYBSShngAVZZDq7j9ogRN1GfSQ3cq9tubW","deprecated":false,"name":"soSUSHI/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2WghiBkDL2yRhHdvm8CpprrkmfguuQGJTCDfPSudKBAZ","deprecated":false,"name":"soMATH/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"ErQXxiNfJgd4fqQ58PuEw5xY35TZG84tHT6FXf5s4UxY","deprecated":false,"name":"soHGET/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CGC4UgWwqA9PET6Tfx6o6dLv94EK2coVkPtxgNHuBtxj","deprecated":false,"name":"soFRONT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"GnKPri4thaGipzTbp8hhSGSrHgG4F8MFiZVrbRn16iG2","deprecated":false,"name":"soTOMO/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6bxuB5N3bt3qW8UnPNLgMMzDq5sEH8pFmYJYGgzvE11V","deprecated":false,"name":"soAAVE/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7cknqHAuGpfVXPtFoJpFvUjJ8wkmyEfbFusmwMfNy3FE","deprecated":false,"name":"MAPS/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4absuMsgemvdjfkgdLQq1zKEjw3dHBoCWkzKoctndyqd","deprecated":false,"name":"soHXRO/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4nCFQr8sahhhL4XJ7kngGFBmpkmyf3xLzemuMhn6mWTm","deprecated":false,"name":"KIN/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3Xg9Q4VtZhD4bVYJbTfgGWFV5zjE3U7ztSHa938zizte","deprecated":false,"name":"soYFI/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3yEZ9ZpXSQapmKjLAGKZEzUNA1rcupJtsDp5mPBWmGZR","deprecated":false,"name":"soLINK/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"J2XSt77XWim5HwtUM8RUwQvmRXNZsbMKpp5GTKpHafvf","deprecated":false,"name":"soSWAG/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"77quYg4MGneUdjgXCunt9GgM1usmrxKY31twEy3WHwcS","deprecated":false,"name":"USDT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"GKLev6UHeX1KSDCyo2bzyG6wqhByEzDBkmYTxEdmYJgB","deprecated":false,"name":"OXY/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"HdBhZrnrxpje39ggXnTb6WuTWVvj5YKcSHwYGQCRsVj","deprecated":false,"name":"OXY/soUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"OXY/USDC","address":"GZ3WBFsqntmERPwumFEYgrX2B7J7G11MzNZAy7Hje27X","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"xCOPE/USDC","address":"7MpMwArporUHEGW7quUpkPZp5L5cHPs9eKUfKCdaPHq2","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"COPE/USDC","address":"6fc7v3PmjZG9Lk2XTot6BywGyYLkBQuzuFKd4FpCsPxk","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"MER/USDC","address":"HhvDWug3ftYNx5148ZmrQxzvEmohN2pKVNiRT4TVoekF","deprecated":true,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"MER/USDT","address":"6HwcY27nbeb933UkEcxqJejtjWLfNQFWkGCjAVNes6g7","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"MER/USDC","address":"G4LcexdCzzJUKZfqyVDQFzpkjhB1JoCNL8Kooxi9nJz5","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"SNY/USDC","address":"DPfj2jYwPaezkCmUNm5SSYfkrkz8WFqwGLcxDDUsN3gA","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"SLRS/USDC","address":"2Gx3UfV831BAh8uQv1FKSPKS9yajfeeD8GJ4ZNb2o2YP","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"ETHV/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"HrgkuJryyKRserkoz7LBFYkASzhXHWp9XA6fRYCA6PHb"},{"name":"IETHV/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"5aoLj1bySDhhWjo7cLfT3pF2gqNGd63uEJ9HMSfASESL"},{"name":"SBR/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"HXBi8YBwbh4TXF6PjVw81m8Z3Cc4WBofvauj5SBFdgUs"},{"name":"renBTC/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"74Ciu5yRzhe8TFTHvQuEVbFZJrbnCMRoohBK33NNiPtv"},{"name":"renDOGE/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"5FpKCWYXgHWZ9CdDMHjwxAfqxJLdw2PRXuAmtECkzADk"},{"name":"DXL/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"DYfigimKWc5VhavR4moPBibx9sMcWYVSjVdWvPztBPTa"},{"name":"MNGO/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"3d4rzwpy9iGdCZvgxcu7B1YocYffVLsQXPXkBZKt2zLc"},{"name":"CYS/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"6V6y6QFi17QZC9qNRpVp7SaPiHpCTp2skbRQkUyZZXPW"},{"name":"POLIS/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"HxFLKUAmAMLz1jtT3hbvCMELwH5H9tpM2QugP8sKyfhW"},{"name":"ATLAS/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"Di66GTLsV64JgCCYGVcY21RZ173BHkjJVgPyezNN7P1K"},{"name":"LIKE/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"3WptgZZu34aiDrLMUiPntTYZGNZ72yT1yxHYxSdbTArX"},{"name":"MSOL/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"6oGsL2puUgySccKzn9XA9afqF217LfxP5ocq4B3LWsjy"},{"name":"MSOL/SOL","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"5cLrMai1DsLRYc1Nio9qMTicsWtvzjzZfJPXyAoF4t1Z"},{"name":"AAVE/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"8WZrmdpLckptiVKd2fPHPjewRVYQGQkjxi9vzRYG1sfs"},{"name":"AAVE/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"LghsMERQWQFK3zWMTrUkoyAJARQw2wSmcYZjexeN3zy"},{"name":"AKRO/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"G3h8NZgJozk9crme2me6sKDJuSQ12mNCtvC9NbSWqGuk"},{"name":"AKRO/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"DvbiPxKzuXZPcmUcYDqBz1tvUrXYPsNrRAjSeuwHtmEA"},{"name":"ALEPH/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"Fw4mvuE7KZmTjQPxP2sRpHwPDfRMWnKBupFZGyW9CAQH"},{"name":"ALEPH/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"GZeHR8uCTVoHVDZFRVXTgm386DK1EKehy9yMS3BFChcL"},{"name":"CEL/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"79ESpYSb2hM14KTRXPZUwDkxUGC5irE2esd1vxdXfnZz"},{"name":"CEL/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"J9ww1yufRNDDbUbDXmew2mW2ozkx7cme7dMvKjMQVHrL"},{"name":"CREAM/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"4pdQ2D4gehMhGu4z9jeQbEPUFbTxB5qcPr3zCynjJGyp"},{"name":"CREAM/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"6fspxMfBmYFTGFBDN5MU33A55i2MkGr7eSjBLPCAU6y9"},{"name":"ETH/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"8Gmi2HhZmwQPVdCwzS7CM66MGstMXPcTVHA7jF19cLZz"},{"name":"ETH/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"ch7kmPrtoQUSEPBggcNAvLGiMQkJagVwd3gDYfd8m7Q"},{"name":"FRONT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"B95oZN5HCLGmFAhbzReWBA9cuSGPFQAXeuhm2FfpdrML"},{"name":"FRONT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"DZTYyy1L5Pr6DmTtYY5bEuU9g3LQ4XGvuYiN3zS25yG7"},{"name":"FTT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"2wteg25ch227n4Rh1CN4WNrDZXBpRBpWJ48mEC2K7f4r"},{"name":"FTT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"BoHojHESAv4McZx9gXd1bWTZMq25JYyGz4qL1m5C3nvk"},{"name":"HGET/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"27e1mB6UoPohbc3MmwMXu5QM7b2E3k5Mbhwv6JguwyXg"},{"name":"HGET/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"BdRzTEKb7Qdu4tWts5zXjwcpQErZxEzvShKZ5QcthMag"},{"name":"HXRO/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"CBb5zXwNRB73WVjs2m21P5prcEZa6SWmej74Vzxh8dRm"},{"name":"HXRO/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"3BScwNxtMrEcQ5VTHyXHYQR98dTaxfyXGaLkuSjBY1dW"},{"name":"LINK/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"FJMjxMCiDKn16TLhXUdEbVDH5wC6k9EHYJTcrH6NcbDE"},{"name":"LINK/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"Gr2KmhK7Upr4uW56B1QQrJuhhgmot6zAHJeZALTMStiX"},{"name":"LUA/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"J9imTcEeahZqKuaoQaPcCeSGCMWL8qSACpK4B7bC8NN4"},{"name":"LUA/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"BMJ3CvQZ57cNnuc3Lz5Pb6cW6Sr9kZGz3qz2bJQTE24A"},{"name":"MATH/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"G8L1YLrktaG1t8YBMJs3CwV96nExvJJCSpw3DARPDjE2"},{"name":"MATH/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"CkvNfATB7nky8zPLuwS9bgcFbVRkQdkd5zuKEovyo9rs"},{"name":"RAY/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"2xiv8A5xrJ7RnGdxXB42uFEkYHJjszEhaJyKKt4WaLep"},{"name":"RSR/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"GqgkxEswUwHBntmzb5GpUhKrVpJhzreSruZycuJwdNwB"},{"name":"RSR/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"2j2or38X2FUbpkK4gkgvjDtqN3ibkKw3v5yn7o2gHqPc"},{"name":"SUSHI/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"3uWVMWu7cwMnYMAAdtsZNwaaqeeeZHARGZwcExnQiFay"},{"name":"SUSHI/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"T3aC6qcPAJtX1gqkckfSxBPdPWziz5fLYRt5Dz3Nafq"},{"name":"SWAG/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"wSkeLMv3ktJyLm51bvQWxY2saGKqGxbnUFimPxbgEvQ"},{"name":"SWAG/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"6URQ4zFWvPm1fhJCKKWorrh8X3mmTFiDDyXEUmSf8Rb2"},{"name":"SXP/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"G5F84rfqmWqzZv5GBpSn8mMwW8zJ2B4Y1GpGupiwjHNM"},{"name":"SXP/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"2FQbPW1ticJz2SMMbEXxbKWJKmw1wLc6ggSP2HyzdMen"},{"name":"UBXT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"Hh4p7tJpqkGW6xsHM2LiPPMpJg43fwn5TbmVmfrURdLY"},{"name":"UBXT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"5xhjc3ZtAwnBK3qsaro28VChL7WrxY9N4SG6UZpYxpGc"},{"name":"UNI/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"B7b5rjQuqQCuGqmUBWmcCTqaL3Z1462mo4NArqty6QFR"},{"name":"UNI/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"FrKM6kJtAjXknHPEpkrQtJSXZwUxV5dq26wDpc4YjQST"},{"name":"YFI/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"BiJXGFc1c4gyPpv9HLRJoKbZewWQrTCHGuxYKjYMQJpC"},{"name":"YFI/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"9sue9TZAeUhNtNAPPGb9dke7rkJeXktGD3u8ZC37GWnQ"},{"name":"AVAX/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"E8JQstcwjuqN5kdMyUJLNuaectymnhffkvfg1j286UCr"},{"name":"AXSet/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"HZCheduA4nsSuQpVww1TiyKZpXSAitqaXxjBD2ymg22X"},{"name":"BNB/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"4UPUurKveNEJgBqJzqHPyi8DhedvpYsMXi7d43CjAg2f"},{"name":"BNB/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"FjbKNZME5yVSC1R3HJM99kB3yir3q3frS5MteMFD72sV"},{"name":"GALA/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"F7WJsoxTWQRmAwAyFe9APmuVv4HqmhchFtdbR9dvAUDm"},{"name":"MATICpo/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"5WRoQxE59966N2XfD2wYy1uhuyKeoVJ9NBMH6r6RNYEF"},{"name":"ROSE/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"EybAYkmRKCyD4w8AErTG1bqmnvT85LFuPQPMCc8J3yD"},{"name":"SAND/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"3FE2g3cadTJjN3C7gNRavwnv7Yh9Midq7h9KgTVUE7tR"},{"name":"LUNA/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"HBTu8hNaoT3VyiSSzJYa8jwt9sDGKtJviSwFa11iXdmE"},{"name":"SHIB/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"Er7Jp4PADPVHifykFwbVoHdkL1RtZSsx9zGJrPJTrCgW"},{"name":"UST/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"8WmckvEoVGZvtN8knjdzFGbWJ3Sr4BcWdyzSYuCrD4YK"},{"name":"FAB/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"Cud48DK2qoxsWNzQeTL5D8sAiHsGwG8Ev1VMNcYLayxt"},{"name":"JET/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"6pQMoHDC2o8eeFxyTKtfnsr8d48hKFWsRpLHAqVHH2ZP"},{"name":"scnSOL/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"D52sefGCWho2nd5UGxWd7wCftAzeNEMNYZkdEPGEdQTb"},{"name":"stSOL/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"5F7LGsP1LPtaRV7vVKgxwNYX4Vf22xvuzyXjyar7jJqp"}]')},7458:e=>{"use strict";e.exports=JSON.parse('[{"address":"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E","name":"BTC"},{"address":"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk","name":"ETH"},{"address":"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3","name":"FTT"},{"address":"3JSf5tPeuscJGtaCp5giEiDhv51gQ4v3zWg8DGgyLfAB","name":"YFI"},{"address":"CWE8jPTUYhdCTZYWPTe1o5DFqfdjzWKc9WKz6rSjQUdG","name":"LINK"},{"address":"Ga2AXHpfAF6mv2ekZwcsJFqu7wB4NV331qNH7fW9Nst8","name":"XRP"},{"address":"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB","name":"USDT"},{"address":"BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4","name":"WUSDT"},{"address":"BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW","name":"WUSDC"},{"address":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","name":"USDC"},{"address":"MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L","name":"MSRM"},{"address":"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt","name":"SRM"},{"address":"AR1Mtgh7zAtxuxGd2XPovXPVjcSdY3i4rQYisNadjfKy","name":"SUSHI"},{"address":"SF3oTvfWzEP3DTwGSvUXRrGTvr75pdZNnBLAH9bzMuX","name":"SXP"},{"address":"CsZ5LZkDS7h9TDKjrbL7VAwQZ9nsRu8vJLhRYfmGaN8K","name":"ALEPH"},{"address":"BtZQfWqDGbk9Wf2rXEiWyQBdBY1etnUUn6zEphvVS7yN","name":"HGET"},{"address":"5Fu5UUgbjpUvdBveb3a1JTNirL8rXtiYeSMWvKjtUNQv","name":"CREAM"},{"address":"873KLxCbz7s9Kc4ZzgYRtNmhfkQrhfyWGZJBmyCbC3ei","name":"UBXT"},{"address":"HqB7uswoVg4suaQiDP3wjxob1G5WdZ144zhdStwMCq7e","name":"HNT"},{"address":"9S4t2NEAiJVMvPdRYKVrfJpBafPBLtvbvyS3DecojQHw","name":"FRONT"},{"address":"6WNVCuxCGJzNjmMZoKyhZJwvJ5tYpsLyAtagzYASqBoF","name":"AKRO"},{"address":"DJafV9qemGp7mLMEn5wrfqaFwxsbLgUsGVS16zKRk9kc","name":"HXRO"},{"address":"DEhAasscXF4kEGxFgJ3bq4PpVGp5wyUxMRvn6TzGVHaw","name":"UNI"},{"address":"GUohe4DJUA5FKPWo3joiPgsB7yzer7LpDmt1Vhzy3Zht","name":"KEEP"},{"address":"GeDS162t9yGJuLEHPWXXGrb1zwkzinCgRwnT8vHYjKza","name":"MATH"},{"address":"So11111111111111111111111111111111111111112","name":"SOL"},{"address":"GXMvfY2jpQctDqZ9RoU3oWPhufKiCcFEfchvYumtX7jd","name":"TOMO"},{"address":"EqWCKXfs3x47uVosDpTRgFniThL9Y8iCztJaapxbEaVX","name":"LUA"},{"address":"9F9fNTT6qwjsu4X4yWYKZpsbw5qT7o6yR2i57JF2jagy","name":"SWAG"},{"address":"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp","name":"FIDA"},{"address":"kinXdEcpDQeHPEuQnqmUgtYykqKGVFq6CeVX5iAHJq6","name":"KIN"},{"address":"MAPS41MDahZ9QdKXhVa4dWB9RuyfV4XqhyAZ8XcYepb","name":"MAPS"},{"address":"z3dn17yLaGMKffVogeFHQ9zWVcXgqgf3PQnDsNs2g6M","name":"OXY"},{"address":"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R","name":"RAY"},{"address":"3K6rftdAaQYMPunrtNRHgnK2UAtjm2JwyT2oCiTDouYE","name":"xCOPE"},{"address":"dK83wTVypEpa1pqiBbHY3MNuUnT3ADUZM4wk9VZXZEc","name":"AAVE"},{"address":"DgHK9mfhMtUwwv54GChRrU54T2Em5cuszq2uMuen1ZVE","name":"CEL"},{"address":"7ncCLJpP3MNww17LW8bRvx8odQQnubNtfNZBL5BgAEHW","name":"RSR"},{"address":"6ry4WBDvAwAnrYJVv6MCog4J8zx6S3cPgSqnTsDZ73AR","name":"TRYB"},{"address":"8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh","name":"COPE"},{"address":"MERt85fc5boKw3BW1eYdxonEuJNvXbiMbs6hvheau5K","name":"MER"},{"address":"4dmKkXNHdgYsXqBHCuMikNQWwVomZURhYvkkX5c4pQ7y","name":"SNY"},{"address":"SLRSSpSLUTP7okbCUBYStWCo1vUgyt775faPqz8HUMr","name":"SLRS"},{"address":"CDJWUqTcYTVAKXAVXoQZFes5JUFc7owSeq7eMQcDSbo5","name":"renBTC"},{"address":"ArUkYE2XDKzqy77PRRGjo4wREWwqk6RXTfM9NeqzPvjU","name":"renDOGE"},{"address":"GsNzxJfFn6zQdJGeYsupJWzUAm57Ba7335mfhWvFiE9Z","name":"DXL"}]')}}]);
//# sourceMappingURL=636.a4fce6ec.chunk.js.map