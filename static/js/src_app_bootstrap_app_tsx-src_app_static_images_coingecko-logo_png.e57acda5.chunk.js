(globalThis.webpackChunksen_swap=globalThis.webpackChunksen_swap||[]).push([["src_app_bootstrap_app_tsx-src_app_static_images_coingecko-logo_png"],{4725:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ReactComponent:()=>u,default:()=>p});var n,a,r,i,o,l=s(92950);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},c.apply(this,arguments)}function d(e,t){let{title:s,titleId:d,...u}=e;return l.createElement("svg",c({width:257,height:256,viewBox:"0 0 257 256",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":d},u),s?l.createElement("title",{id:d},s):null,n||(n=l.createElement("path",{d:"M0.622803 60C0.622803 26.8629 27.4857 0 60.6228 0H196.623C229.76 0 256.623 26.8629 256.623 60V196C256.623 229.137 229.76 256 196.623 256H60.6228C27.4857 256 0.622803 229.137 0.622803 196V60Z",fill:"url(#paint0_linear_1991_5334)"})),a||(a=l.createElement("path",{opacity:.5,d:"M173.411 88.5162C173.411 85.8961 170.825 53.5885 173.411 74.5451C175.067 72.6924 178.384 68.7581 180.726 68.7581C183.067 68.7581 189.414 66.9054 191.069 68.7581C192.725 70.6108 191.069 85.8961 191.069 88.5162L191.069 167.549C191.069 178.029 187.349 188.08 180.726 195.491C174.103 202.902 165.12 207.065 155.753 207.065C146.387 207.065 137.404 202.902 130.781 195.491C124.158 188.08 120.438 178.029 120.438 167.549L120.438 88.5162C120.438 83.2761 118.577 78.2505 115.266 74.5451C111.954 70.8398 107.463 68.7581 102.78 68.7581C98.0965 68.7581 93.6051 70.8398 90.2936 74.5451C86.9821 78.2505 85.1217 83.276 85.1217 88.5162L85.1217 177.428C85.1217 180.048 84.1915 182.561 82.5358 184.413C80.88 186.266 78.6343 187.307 76.2928 187.307C73.9512 187.307 71.7055 186.266 70.0497 184.413C68.394 182.561 67.4638 180.048 67.4638 177.428L67.4638 88.5162C67.4638 78.0359 71.1846 67.9848 77.8076 60.574C84.4306 53.1633 93.4133 49 102.78 49C112.146 49 121.129 53.1633 127.752 60.574C134.375 67.9848 138.096 78.0359 138.096 88.5162L138.096 167.549C138.096 172.789 139.956 177.814 143.267 181.52C146.579 185.225 151.07 187.307 155.753 187.307C160.437 187.307 164.928 185.225 168.239 181.52C171.551 177.814 173.411 172.789 173.411 167.549L173.411 88.5162Z",fill:"white"})),r||(r=l.createElement("path",{d:"M161.626 95.3311C159.955 97.1241 157.717 98.1163 155.394 98.0939C153.071 98.0714 150.849 97.0362 149.206 95.2112C147.563 93.3861 146.632 90.9172 146.611 88.3363C146.591 85.7554 147.484 83.2689 149.098 81.4124L175.677 51.8821C177.338 50.0367 179.591 49.0001 181.941 49.0001C184.29 49.0001 186.543 50.0367 188.204 51.8821L214.783 81.4124C216.397 83.2689 217.29 85.7554 217.27 88.3363C217.249 90.9172 216.318 93.3861 214.675 95.2112C213.032 97.0362 210.81 98.0714 208.487 98.0939C206.164 98.1163 203.927 97.1241 202.256 95.3311L181.941 72.76L161.626 95.3311Z",fill:"white"})),i||(i=l.createElement("path",{d:"M55.6986 160.846C54.0422 159.005 51.7959 157.971 49.4538 157.971C47.1116 157.971 44.8653 159.005 43.2089 160.846C41.553 162.687 40.6228 165.185 40.6228 167.788C40.6228 170.392 41.553 172.889 43.2089 174.731L69.7075 204.19C71.3639 206.031 73.6101 207.065 75.9523 207.065C78.2944 207.065 80.5407 206.031 82.1971 204.19L108.696 174.731C110.352 172.889 111.282 170.392 111.282 167.788C111.282 165.185 110.352 162.687 108.696 160.846C107.039 159.005 104.793 157.971 102.451 157.971C100.109 157.971 97.8624 159.005 96.206 160.846L75.9523 183.362L55.6986 160.846Z",fill:"white"})),o||(o=l.createElement("defs",null,l.createElement("linearGradient",{id:"paint0_linear_1991_5334",x1:.999999,y1:-114739e-11,x2:257,y2:256,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#3E8C6A"}),l.createElement("stop",{offset:1,stopColor:"#5C997E"})))))}const u=l.forwardRef(d),p=s.p+"static/media/logo.d86456fa078e55b87bfac60a8309fe54.svg"},79937:(e,t,s)=>{"use strict";Object.defineProperty(t,"X$",{value:!0}),Object.defineProperty(t,"jY",{enumerable:!0,get:function(){return i.default}}),t.h0=void 0,Object.defineProperty(t,"ng",{enumerable:!0,get:function(){return o.default}});var n=l(s(59062)),a=l(s(38340)),r=l(s(45910)),i=l(s(4725)),o=l(s(89374));function l(e){return e&&e.__esModule?e:{default:e}}const c=[n.default,a.default,r.default];t.h0=c},86236:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Page:()=>Ss,__esModule:()=>js.X$,logo:()=>js.jY,panels:()=>js.h0,readme:()=>js.ng});var n=s(55754),a=s(47229),r=s(92950),i=s(45055),o=s(95418),l=s(12636),c=s(71256),d=s(94751),u=s(4550),p=s.n(u),h=s(41630),m=s(45263);const f=[void 0],g=e=>{let{mintAddress:t,size:s=24,icon:n=(0,m.jsx)(h.Z,{name:"diamond-outline"}),reversed:i=!1,...l}=e;const[c,u]=(0,r.useState)(f),{tokenProvider:p}=(0,a.useMint)(),{pools:g}=(0,a.usePool)(),x=(0,r.useCallback)((async e=>{const t=await p.findByAddress(e);if(null!==t&&void 0!==t&&t.logoURI)return t.logoURI}),[p]),y=(0,r.useCallback)((async()=>{if(!o.account.isAddress(t))return u(f);const e=Object.values(g||{}).find((e=>{let{mint_lpt:s}=e;return s===t}));if(e){const{mint_a:t,mint_b:s}=e,n=await Promise.all([t,s].map(x));return i&&n.reverse(),u(n)}const s=await x(t);return u([s])}),[t,i,x,g]);return(0,r.useEffect)((()=>{y()}),[y]),1===c.length?(0,m.jsx)(d.Avatar,{src:c[0],size:s,style:{backgroundColor:"#2D3355",border:"none"},...l,children:n}):(0,m.jsx)(d.Avatar.Group,{style:{display:"block",whiteSpace:"nowrap"},...l,children:c.map(((e,t)=>(0,m.jsx)(d.Avatar,{src:e,size:s,style:{backgroundColor:"#2D3355",border:"none"},children:n},t)))})},x="Unknown Token",y=e=>{let{mintAddress:t,separator:s=" \u2022 ",reversed:n=!1}=e;const[i,l]=(0,r.useState)(x),{tokenProvider:c}=(0,a.useMint)(),{pools:d}=(0,a.usePool)(),u=(0,r.useCallback)((async e=>{const t=await c.findByAddress(e);return null!==t&&void 0!==t&&t.name?t.name:x}),[c]),p=(0,r.useCallback)((async()=>{if(!o.account.isAddress(t))return l(x);const e=Object.values(d||{}).find((e=>{let{mint_lpt:s}=e;return s===t}));if(e){const{mint_a:t,mint_b:a}=e,r=await Promise.all([t,a].map(u));return n&&r.reverse(),l(`${r.join(s)} LP`)}const a=await u(t);return l(a)}),[t,n,u,d,s]);return(0,r.useEffect)((()=>{p()}),[p]),(0,m.jsx)("span",{children:i})},w="TOKN",v=e=>{let{mintAddress:t,separator:s=" \u2022 ",reversed:n=!1}=e;const[i,l]=(0,r.useState)(w),{tokenProvider:c}=(0,a.useMint)(),{pools:d}=(0,a.usePool)(),u=(0,r.useCallback)((async e=>{const t=await c.findByAddress(e);return null!==t&&void 0!==t&&t.symbol?t.symbol:e.substring(0,4)}),[c]),p=(0,r.useCallback)((async()=>{if(!o.account.isAddress(t))return l(w);const e=Object.values(d||{}).find((e=>{let{mint_lpt:s}=e;return s===t}));if(e){const{mint_a:t,mint_b:a}=e,r=await Promise.all([t,a].map(u));return n&&r.reverse(),l(r.join(s))}const a=await u(t);return l(a)}),[t,n,u,d,s]);return(0,r.useEffect)((()=>{p()}),[p]),(0,m.jsx)("span",{children:i})};var b=s(58421),j=s(34559);const C=e=>{let{mintAddress:t,onClick:s=(()=>{}),active:n=!1}=e;return(0,m.jsx)(d.Card,{bodyStyle:{padding:8,cursor:"pointer"},style:{borderRadius:8,backgroundColor:(0,j.p)(t,.2)},className:"mint-tag",bordered:Boolean(n),onClick:()=>s(t),children:(0,m.jsxs)(d.Space,{size:8,style:{width:"100%",justifyContent:"center"},children:[(0,m.jsx)(g,{mintAddress:t}),(0,m.jsx)(d.Typography.Text,{ellipsis:!0,style:{color:(0,j.p)(t)},children:(0,m.jsx)(v,{mintAddress:t})}),n&&(0,m.jsx)(h.Z,{name:"checkmark-outline"})]})})},S=e=>{let{mintAddress:t,onClick:s=(()=>{})}=e;return(0,m.jsx)(d.Card,{bodyStyle:{padding:8},style:{boxShadow:"unset",cursor:"pointer"},bordered:!1,onClick:()=>s(t),children:(0,m.jsxs)(d.Row,{gutter:[16,16],align:"middle",children:[(0,m.jsx)(d.Col,{children:(0,m.jsx)(g,{mintAddress:t,size:36})}),(0,m.jsx)(d.Col,{children:(0,m.jsxs)(d.Space,{direction:"vertical",size:0,children:[(0,m.jsx)(d.Typography.Text,{children:(0,m.jsx)(v,{mintAddress:t})}),(0,m.jsx)(d.Typography.Text,{type:"secondary",className:"caption",children:(0,m.jsx)(y,{mintAddress:t})})]})})]})})},k=e=>{let{callback:t}=e;return(0,r.useEffect)((()=>{t()}),[t]),(0,m.jsx)(r.Fragment,{})},A=e=>(0,m.jsx)(b.ZP,{overflow:!0,children:(0,m.jsx)(k,{...e})}),T=()=>{const[e,t]=(0,r.useState)([]),{tokenProvider:s}=(0,a.useMint)(),n=(0,r.useCallback)((async()=>{const e=(await s.all()).map((e=>{let{address:t}=e;return t})),n=e.filter((t=>e.includes(t)));return t(n)}),[s]);return(0,r.useEffect)((()=>{n()}),[n]),e},I=e=>{const[t,s]=(0,r.useState)([]),{accounts:n}=(0,a.useAccount)(),i=(0,r.useMemo)((()=>{const e={};for(const t of Object.values(n))e[t.mint]=Number(t.amount.toString());return e}),[n]),o=(0,r.useCallback)((async e=>{const t=e.sort(((e,t)=>{let s=i[e]||-1,n=i[t]||-1;return Number(n)-Number(s)}));return s(t)}),[i]);return(0,r.useEffect)((()=>{o(e)}),[e,o]),{sortedMints:t,sortMints:o}};var R=s(63805),M=s(53933);const B=`${R.ef}:selected_mints`;let D;const E=e=>{let{value:t="",onChange:s=(()=>{}),style:n={},disabled:i=!1}=e;const[o,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),[p,f]=(0,r.useState)(20),{recommendedMints:x,addRecommendMint:y}=(()=>{const[e,t]=(0,r.useState)([]),s=T(),{sortedMints:n}=I(s),a=(0,r.useCallback)((async()=>{let e=M.Z.get(B)||[];for(const t of n){if(e.length>=8)break;e.includes(t)||e.push(t)}return t(e.slice(0,8))}),[n]),i=(0,r.useCallback)((async s=>{const n=e.filter((e=>e!==s)),a=[s,...n].slice(0,8);return M.Z.set(B,a),t(a)}),[e]);return(0,r.useEffect)((()=>{a()}),[a]),{recommendedMints:e,addRecommendMint:i}})(),{searchedMints:w,loading:j}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;const[s,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)([]),{tokenProvider:l}=(0,a.useMint)(),c=T(),d=(0,r.useCallback)((async()=>{if(!e)return n(!1),o(c);D&&clearTimeout(D),n(!0),D=setTimeout((async()=>{const s=(await l.find(e,t)).map((e=>{let{address:t}=e;return t}));return n(!1),o(s)}),500)}),[e,t,c,l]);return(0,r.useEffect)((()=>{d()}),[d]),{searchedMints:i,loading:s}}(c,0),{sortedMints:k}=I(w),R=(0,r.useCallback)((e=>{l(!1),s(e),y(e)}),[s,y]);return(0,r.useEffect)((()=>{f(20);const e=document.getElementById("sentre-token-selection-list");e&&(e.scrollTop=0)}),[c,o]),(0,r.useEffect)((()=>{o||u("")}),[o]),(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(d.Button,{type:"text",onClick:()=>l(!0),style:{padding:4,...n},disabled:i,children:(0,m.jsxs)(d.Space,{children:[(0,m.jsx)(g,{mintAddress:t}),(0,m.jsx)(v,{mintAddress:t}),(0,m.jsx)(h.Z,{name:"chevron-down-outline"})]})}),(0,m.jsx)(d.Modal,{visible:o,onCancel:()=>l(!1),footer:null,closable:!1,centered:!0,className:"mint-select-modal",children:(0,m.jsxs)(d.Row,{gutter:[32,32],children:[(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(d.Input,{placeholder:"Search token symbol, name, address, ...",suffix:(0,m.jsx)(d.Button,{type:"text",style:{marginRight:-7},icon:(0,m.jsx)(h.Z,{name:c?"close-outline":"search-outline"}),onClick:c?()=>u(""):()=>{},loading:j}),value:c,onChange:e=>u(e.target.value||"")})}),!c.length&&(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(d.Row,{gutter:[8,8],children:x.map((e=>(0,m.jsx)(d.Col,{xs:12,sm:8,md:6,children:(0,m.jsx)(C,{mintAddress:e,onClick:R,active:e===t})},e)))})}),(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(d.Row,{gutter:[8,8],style:{maxHeight:360},className:"scrollbar",id:"sentre-token-selection-list",justify:"center",children:k.length?k.slice(0,p).map(((e,t)=>(0,m.jsxs)(d.Col,{span:24,children:[(0,m.jsx)(b.ZP,{height:60,overflow:!0,throttle:500,children:(0,m.jsx)(S,{mintAddress:e,onClick:R})}),t===p-5&&(0,m.jsx)(A,{callback:()=>f(p+20)})]},e))):(0,m.jsx)(d.Col,{children:(0,m.jsx)(d.Empty,{style:{padding:40}})})})})]})})]})},N=()=>{const{bid:{mintInfo:e},ask:{mintInfo:t}}=(0,n.useSelector)((e=>e)),s=(null===e||void 0===e?void 0:e.address)||"",a=(null===t||void 0===t?void 0:t.address)||"";return(0,m.jsxs)(d.Space,{children:[(0,m.jsxs)(d.Avatar.Group,{children:[(0,m.jsx)(g,{mintAddress:a}),(0,m.jsx)(g,{mintAddress:s})]}),(0,m.jsxs)(d.Typography.Text,{children:[(0,m.jsx)(v,{mintAddress:a})," / ",(0,m.jsx)(v,{mintAddress:s})]})]})};var P=s(76907),_=s.n(P),L=s(21111),z=s.n(L);const F=e=>{let{chartData:t=[],labels:s=[],type:n="line",configs:a,disableAxe:i=!1,chartId:o="sen_chart"}=e;const{backgroundColor:l}=a||{},[c,d]=(0,r.useState)(!1),u=(0,r.useCallback)(((e,t,s)=>({labels:t,datasets:[{...a,data:e,backgroundColor:s}]})),[a]),p=(0,r.useRef)(null),h=(0,r.useCallback)((()=>{var e,t;if(!p||!l)return"#dadada";const s=null===p||void 0===p||null===(e=p.current)||void 0===e||null===(t=e.canvas)||void 0===t?void 0:t.getContext("2d"),a=null===s||void 0===s?void 0:s.createLinearGradient(0,0,0,180);null===a||void 0===a||a.addColorStop(0,l),null===a||void 0===a||a.addColorStop(1,`${l}00`);return"line"===n?a:l}),[l,n]);return(0,r.useEffect)((()=>{var e;const n=p.current,a=null===n||void 0===n||null===(e=n.data.datasets)||void 0===e?void 0:e.find((e=>{let{data:t}=e;return t})),r=z()(null===a||void 0===a?void 0:a.data,t);n&&!r&&(n.data=u(t,s,h()),null===n||void 0===n||n.update())}),[t,u,h,s]),(0,m.jsx)("canvas",{id:o,height:"180px",ref:e=>{if(!e)return;const t=e.getContext("2d");t&&!c&&(p.current=new(_())(t,{type:n,data:{labels:[],datasets:[{data:[]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{gridLines:{drawBorder:!1,display:!1},ticks:{display:!i}}],yAxes:[{gridLines:{drawBorder:!1,display:!1},ticks:{display:!i,beginAtZero:!1,maxTicksLimit:8,callback:function(e,t,s){return(0,j.uR)(e).format("0,0.[0]a")}}}]},plugins:{legend:!1},hover:{onHover:(e,t)=>{const s=document.getElementById(o);s&&(s.style.cursor=t[0]?"pointer":"default")}}}}),d(!0))}})},U=()=>(0,m.jsx)(d.Row,{style:{height:170},align:"middle",justify:"center",children:(0,m.jsx)(d.Col,{children:(0,m.jsx)(d.Empty,{})})}),q=s.p+"static/media/coingecko-logo.f8569e1153553894f964.png",Z=e=>{let{title:t="Powered by",spacing:s=4,iconSize:n=20}=e;return(0,m.jsxs)(d.Space,{size:s,style:{cursor:"pointer"},children:[(0,m.jsx)(d.Typography.Text,{style:{fontSize:12,color:"#7A7B85"},children:t}),(0,m.jsx)(d.Tooltip,{title:"CoinGecko",children:(0,m.jsx)(d.Avatar,{src:q,size:n})})]})};var O=s(67289),W=s(21995),H=s.n(W);new O.Z;const Y=async(e,t)=>{try{const s=await H()({method:"get",url:`https://api.coingecko.com/api/v3/coins/${e}/market_chart?vs_currency=usd&days=${t.days}&interval=${t.interval}`});return s.data.prices.map((e=>({time:e[0],val:e[1]})))}catch(s){return[]}};var J;!function(e){e.day="day",e.week="week",e.month="month",e.year="year"}(J||(J={}));const G={day:{amount:4,unit:"hours",format:"HH:00"},week:{amount:1,unit:"days",format:"MMM DD"},month:{amount:5,unit:"days",format:"MMM DD"},year:{amount:2,unit:"months",format:"MMM DD"}},K={day:{days:1,interval:"hourly"},week:{days:7,interval:"daily"},month:{days:31,interval:"daily"},year:{days:365,interval:"daily"}},Q="#3E8C6A",V=0,$=14,X="TVL",ee="transparent",te=()=>{var e,t,s;const[i,o]=(0,r.useState)(J.week),[l,c]=(0,r.useState)([]),u=(0,n.useSelector)((e=>e.bid)),f=(0,n.useSelector)((e=>e.ask)),{tokenProvider:g}=(0,a.useMint)(),x={borderColor:ee,borderRadius:V,pointRadius:V,tooltip:X,pointHitRadius:$,pointHoverRadius:V,backgroundColor:Q},y=(0,r.useCallback)((e=>{const t=[],{format:s,amount:n,unit:a}=G[i];let r=p()();for(const i of e.reverse()){const e=p()(i.time).format(s);if(e===r.format(s)){let o=e;e===p()().format(s)&&(o=p()().format("HH:mm")),r&&t.unshift({label:o,val:i.val}),r=r.subtract(n,a)}else"00:00"===e&&t.unshift({label:r.format("MMM DD"),val:i.val})}c(t)}),[i]),w=(0,r.useCallback)((e=>{const t=[],{format:s,amount:n,unit:a}=G[i];let r=p()();for(const i of e.reverse()){const e=p()(i.time).format(s);e!==r.format(s)||(r=r.subtract(n,a),t.unshift({label:e,val:i.val}))}c(t)}),[i]),v=(0,r.useCallback)((async()=>{var e,t,s,n;const a=await g.findByAddress((null===(e=u.mintInfo)||void 0===e?void 0:e.address)||""),r=await g.findByAddress((null===(t=f.mintInfo)||void 0===t?void 0:t.address)||""),o=null===a||void 0===a||null===(s=a.extensions)||void 0===s?void 0:s.coingeckoId,l=null===r||void 0===r||null===(n=r.extensions)||void 0===n?void 0:n.coingeckoId,d=u.accountAddress===f.accountAddress;if(!l||!o||d)return c([]);const p=K[i],[h,m]=await Promise.all([Y(o,p),Y(l,p)]),x=[];for(let i=h.length-1;i>=0;i--){const e=h[i],t=m[m.length-h.length+i];e&&t&&x.unshift({time:e.time,val:t.val/e.val})}return i===J.day?y(x):w(x)}),[f.accountAddress,null===(e=f.mintInfo)||void 0===e?void 0:e.address,u.accountAddress,null===(t=u.mintInfo)||void 0===t?void 0:t.address,i,w,y,g]);(0,r.useEffect)((()=>{v()}),[v]);const b=(null===(s=l[l.length-1])||void 0===s?void 0:s.val)||0,C=(0,j.uR)(b).format(b>1?"0,0.[00]":"0,0.[00000000]");return(0,m.jsx)(d.Card,{bordered:!1,className:"card-swap",bodyStyle:{paddingTop:28},children:(0,m.jsxs)(d.Row,{gutter:[24,24],children:[(0,m.jsx)(d.Col,{span:24,children:(0,m.jsxs)(d.Row,{gutter:[20,20],children:[(0,m.jsx)(d.Col,{flex:"auto",children:(0,m.jsxs)(d.Space,{children:[(0,m.jsx)(N,{}),(0,m.jsx)(d.Popover,{content:(0,m.jsx)(Z,{title:"Reference Market Price. Powered by"}),children:(0,m.jsx)(d.Button,{type:"text",icon:(0,m.jsx)(h.Z,{name:"information-circle-outline"})})})]})}),l&&!!l.length&&(0,m.jsx)(d.Col,{children:(0,m.jsxs)(d.Radio.Group,{defaultValue:J.week,onChange:e=>o(e.target.value),className:"chart-radio-btn",children:[(0,m.jsx)(d.Radio.Button,{value:J.day,children:"1D"}),(0,m.jsx)(d.Radio.Button,{value:J.week,children:"1W"}),(0,m.jsx)(d.Radio.Button,{value:J.month,children:"1M"}),(0,m.jsx)(d.Radio.Button,{value:J.year,children:"1Y"})]})}),(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(d.Typography.Title,{level:2,children:b?C:""})})]})}),(0,m.jsx)(d.Col,{span:24,children:l&&l.length?(0,m.jsx)(F,{chartData:null===l||void 0===l?void 0:l.map((e=>e.val)),labels:null===l||void 0===l?void 0:l.map((e=>e.label)),configs:x}):(0,m.jsx)(U,{})})]})})};const se=s.p+"static/media/jupiter-logo.6553c3779ce16057aa846301783447a2.svg",ne=e=>{let{title:t="Powered by",spacing:s=4,iconSize:n=20}=e;return(0,m.jsxs)(d.Space,{size:s,style:{cursor:"pointer"},children:[(0,m.jsx)(d.Typography.Text,{style:{fontSize:12,color:"#7A7B85"},children:t}),(0,m.jsx)(d.Tooltip,{title:"Jupiter Aggregator",children:(0,m.jsx)(d.Avatar,{src:se,size:n})})]})};var ae=s(19289);let re;!function(e){e[e.SenSwap=0]="SenSwap",e[e.JupiterAggregator=1]="JupiterAggregator"}(re||(re={}));const ie="route",oe={platform:re.SenSwap,best:[],amount:BigInt(0),priceImpact:0,loadingJupSwap:!1,loadingSenswap:!1},le=(0,ae.createAsyncThunk)("route/setLoadingJupiterRoute",(async e=>{let{loadingJupSwap:t}=e;return{loadingJupSwap:t}})),ce=(0,ae.createAsyncThunk)("route/loadingSenswap",(async e=>{let{loadingSenswap:t}=e;return{loadingSenswap:t}})),de=(0,ae.createAsyncThunk)("route/updateRoute",(async e=>e?{...e}:{})),ue=(0,ae.createSlice)({name:ie,initialState:oe,reducers:{},extraReducers:e=>{e.addCase(de.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(le.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(ce.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,pe=()=>{const{bid:{mintInfo:e},route:{platform:t,best:s}}=(0,n.useSelector)((e=>e)),a=null===e||void 0===e?void 0:e.address,i=(0,r.useMemo)((()=>{if(!s.length||!o.account.isAddress(a))return[];let e=[a];for(const t of s){const{dstMintAddress:s}=t;o.account.isAddress(s)&&e.push(s)}return e}),[a,s]);return(0,m.jsxs)(d.Space,{children:[null===i||void 0===i?void 0:i.map(((e,t)=>(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(g,{mintAddress:e}),i.length>t+1&&(0,m.jsx)(h.Z,{name:"chevron-forward-outline"})]},t))),t===re.JupiterAggregator&&(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(d.Divider,{type:"vertical",style:{margin:0}}),(0,m.jsx)(ne,{})]})]})},he=()=>{const[e,t]=(0,r.useState)(!1),{bid:{mintInfo:s,amount:a},ask:{mintInfo:i,amount:o}}=(0,n.useSelector)((e=>e)),l=(null===s||void 0===s?void 0:s.address)||"",c=(null===i||void 0===i?void 0:i.address)||"",u=(0,j.uR)(Number(o)/Number(a)).format("0,0.[000000]"),p=(0,j.uR)(Number(a)/Number(o)).format("0,0.[000000]");return(0,m.jsxs)(d.Space,{children:[(0,m.jsx)(d.Button,{type:"text",onClick:()=>t(!e),shape:"circle",icon:(0,m.jsx)(h.Z,{name:"swap-horizontal-outline"})}),(0,m.jsx)(d.Typography.Text,{children:e?p:u}),(0,m.jsxs)(d.Typography.Text,{children:[e?(0,m.jsx)(v,{mintAddress:l}):(0,m.jsx)(v,{mintAddress:c})," / ",e?(0,m.jsx)(v,{mintAddress:c}):(0,m.jsx)(v,{mintAddress:l})]})]})};let me;!function(e){e[e.goodSwap=.01]="goodSwap",e[e.acceptableSwap=.05]="acceptableSwap"}(me||(me={}));const fe=e=>e<me.goodSwap?"#14E041":e>me.acceptableSwap?"#D72311":"#FA8C16",ge=e=>{const[t,s]=(0,r.useState)(void 0),{getDecimals:n}=(0,a.useMint)(),i=(0,r.useCallback)((async()=>{try{const t=await n(e);return s(t)}catch(t){return s(void 0)}}),[e,n]);return(0,r.useEffect)((()=>{i()}),[i]),t},xe=(e,t,s)=>o.account.isAddress(e)&&void 0!==t&&void 0!==s?{mintAddress:e,amount:t,decimals:s,balance:Number(o.utils.undecimalize(t,s))}:{amount:BigInt(0),decimals:0,balance:0},ye=e=>{const{wallet:{address:t,lamports:s}}=(0,a.useWallet)(),{accounts:n}=(0,a.useAccount)(),{amount:r,mint:i}=n[e]||{},l=ge(i)||0;return o.account.isAddress(t)&&o.account.isAddress(e)?e===t?xe(o.DEFAULT_EMPTY_ADDRESS,s,9):xe(i,r,l):xe()},we=ye,ve=()=>{const{route:{best:e,loadingJupSwap:t,loadingSenswap:s},bid:{amount:i,accountAddress:l,mintInfo:{address:c,decimals:d}},ask:{amount:u,mintInfo:{address:p}}}=(0,n.useSelector)((e=>e)),{wallet:{lamports:h}}=(0,a.useWallet)(),{amount:m}=we(l),f=(0,r.useMemo)((()=>{if(c!==o.DEFAULT_WSOL)return o.utils.undecimalize(m,d);const e=o.utils.decimalize(.01,d),t=h+m-e;return t<=m?o.utils.undecimalize(m,d):o.utils.undecimalize(t,d)}),[m,c,d,h]);return{disabled:!e.length||!Number(i)||!Number(u)||Number(i)>Number(f)||c===p,loading:t||s}},be=e=>{let{label:t="",content:s="",loading:n=!1}=e;return(0,m.jsxs)(d.Row,{align:"middle",children:[(0,m.jsx)(d.Col,{flex:"auto",children:(0,m.jsx)(d.Typography.Text,{type:"secondary",children:t})}),(0,m.jsx)(d.Col,{children:n?(0,m.jsx)(d.Skeleton.Input,{style:{width:150},active:!0,size:"small"}):(0,m.jsx)("span",{children:s})})]})},je=()=>{const{route:{priceImpact:e},settings:{slippage:t}}=(0,n.useSelector)((e=>e)),{loading:s}=ve();return(0,m.jsxs)(d.Row,{gutter:[12,12],children:[(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(be,{label:"Price impact",content:(0,m.jsx)(d.Typography.Text,{style:{color:fe(e)},children:(0,j.uR)(Number(e)).format("0.[0000]%")}),loading:s})}),(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(be,{label:"Price",content:(0,m.jsx)(he,{}),loading:s})}),(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(be,{label:"Slippage Tolerance",content:(0,j.uR)(t).format("0.[00]%"),loading:s})}),(0,m.jsx)(d.Col,{span:24,style:{minHeight:24},children:(0,m.jsx)(be,{label:"Route",content:(0,m.jsx)(pe,{}),loading:s})})]})},Ce={address:"",icon:"",name:"TOKEN",price:0,priceChange:0,rank:0,symbol:"TOKEN",totalVolume:0},Se=e=>{const[t,s]=(0,r.useState)(Ce),{tokenProvider:n}=(0,a.useMint)(),i=(0,r.useCallback)((async()=>{if(!e)return s(Ce);try{var t;const a=await n.findByAddress(e),r=null===a||void 0===a||null===(t=a.extensions)||void 0===t?void 0:t.coingeckoId,i=await(0,j.l$)(r);return s(i)}catch(a){return s(Ce)}}),[e,n]);return(0,r.useEffect)((()=>{i()}),[i]),t};var ke=s(3007);const Ae={appId:"sen_swap",url:"https://descartesnetwork.github.io/sen-swap/index.js"},Te={devnet:{node:"https://api.devnet.solana.com",cluster:"devnet",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",swapAddress:"4erFSLP7oBFSVC1t35jdxmbfxEhYCKfoM6XdG2BLR3UF"},testnet:{node:"https://api.testnet.solana.com",cluster:"testnet",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",swapAddress:""},mainnet:{node:"https://ssc-dao.genesysgo.net",cluster:"mainnet-beta",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",swapAddress:"SSW7ooZ1EbEognq5GosbygA3uWW1Hq1NsFq6TsftCFV"}},Ie={devnet:{bidDefault:"2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj",askDefault:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ"},testnet:{bidDefault:"2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj",askDefault:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ"},mainnet:{bidDefault:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",askDefault:"SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M"}},Re={devnet:{wormholeAddress:"rRsXLHe7sBHdyKU3KY3wbcgWvoT1Ntqudf6e9PKusgb"},testnet:{wormholeAddress:"rRsXLHe7sBHdyKU3KY3wbcgWvoT1Ntqudf6e9PKusgb"},mainnet:{wormholeAddress:"rRsXLHe7sBHdyKU3KY3wbcgWvoT1Ntqudf6e9PKusgb"}},Me={devnet:{assetsRoute:"/app/sen_assets"},testnet:{assetsRoute:"/app/sen_assets"},mainnet:{assetsRoute:"/app/sen_assets"}},Be={manifest:{development:{...Ae},staging:{...Ae},production:{...Ae}}[R.OB],sol:Te[R.ef],swap:Ie[R.ef],wormhole:Re[R.ef],route:Me[R.ef]},{manifest:{appId:De}}=Be,Ee="validated_swap_transaction",Ne=e=>{let{txId:t=""}=e;const{bid:{amount:s,mintInfo:{address:i}}}=(0,n.useSelector)((e=>e)),{wallet:{address:o}}=(0,a.useWallet)(),{price:l}=Se(i);return(0,r.useEffect)((()=>{(async()=>{const e=(0,ke.f)(o,De);if(!t||!e)return;const n=await e.getItem(Ee)||{txIds:[],amount:0};let a=Number(s)*l;const r=n.txIds;!t||null!==r&&void 0!==r&&r.includes(t)||r.push(t),n.amount&&(a+=n.amount);const i={txIds:r,amount:a};await e.setItem(Ee,i)})()}),[s,l,t,o]),(0,m.jsx)(r.Fragment,{})},Pe=BigInt(1e9),_e=o.Swap.oracle,Le=(e,t)=>{if(!e)return BigInt(0);const{srcMintAddress:s,dstMintAddress:n,poolData:a}=t,{fee_ratio:r,tax_ratio:i}=a,o=Fe(s,a),l=Fe(n,a);if(!o||!l)return BigInt(0);const{askAmount:c}=_e.swap(e,o,l,r,i);return c},ze=(e,t)=>{if(!e)return BigInt(0);const{srcMintAddress:s,dstMintAddress:n,poolData:a}=t,{fee_ratio:r,tax_ratio:i}=a,o=Fe(s,a),l=Fe(n,a);if(!o||!l)return BigInt(0);return _e.inverseSwap(e,o,l,r,i)},Fe=(e,t)=>{const{mint_a:s,mint_b:n,reserve_a:a,reserve_b:r}=t;if(e===s)return a;if(e===n)return r;throw new Error("Cannot find reserves")},Ue=(e,t)=>{if(!t)return 0;let s=t,n=1;return e.forEach((e=>{const t=Number(o.utils.undecimalize(((e,t)=>{if(!e)return BigInt(0);const{srcMintAddress:s,dstMintAddress:n,poolData:a}=t,{fee_ratio:r,tax_ratio:i}=a,o=Fe(s,a),l=Fe(n,a);return o&&l?_e.slippage(e,o,l,r,i):BigInt(0)})(s,e),9));n*=1-t;const a=Le(s,e);s=a})),1-n},qe=function(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const a=[],r=new Map(e),i=e.get(t);return n>=3||(r.delete(t),null===i||void 0===i||i.forEach(((e,i)=>{const o=t,l=o===e.mint_a?e.mint_b:e.mint_a,c={srcMintAddress:o,dstMintAddress:l,poolData:{...e,address:i}};if(l===s)return a.push([c]);qe(r,l,s,n+1).forEach((e=>a.push([c,...e])))}))),a},Ze=e=>{const{pools:t}=(0,a.usePool)(),[s,n]=(0,r.useState)(0),{getMintTotalValue:i}=(()=>{const{tokenProvider:e,getMint:t}=(0,a.useMint)(),{pools:s}=(0,a.usePool)(),n=(0,r.useCallback)((async(t,s)=>{try{var n;const a=await e.findByAddress(t),r=null===a||void 0===a||null===(n=a.extensions)||void 0===n?void 0:n.coingeckoId;if(!r)throw new Error("Cant not find coingeckoId");const i=await(0,j.l$)(r);return Number(o.utils.undecimalize(s,a.decimals))*i.price}catch(a){return 0}}),[e]),i=(0,r.useCallback)((async a=>{let{mintAddress:r,amount:l}=a;if(!l)return 0;if(await e.findByAddress(r))return n(r,l);const c=Object.values(s).find((e=>e.mint_lpt===r));if(!c)return 0;const{reserve_a:d,reserve_b:u,mint_a:p,mint_b:h}=c;if(d*u===BigInt(0))return 0;const{[r]:{supply:m}}=await t({address:r}),{deltaA:f,deltaB:g}=o.Swap.oracle.withdraw(l,m,d,u);return await i({mintAddress:p,amount:f})+await i({mintAddress:h,amount:g})}),[t,n,e,s]);return{getMintTotalValue:i}})(),l=(0,r.useCallback)((async e=>{const s=t[e];if(!s)return 0;const{reserve_a:n,reserve_b:a,mint_a:r,mint_b:o}=s;return await i({mintAddress:r,amount:n})+await i({mintAddress:o,amount:a})}),[i,t]),c=(0,r.useCallback)((async e=>{if(!e)return n(0);const t=await l(e);n(t)}),[l]);return(0,r.useEffect)((()=>{c(e)}),[c,e]),{tvl:s,getTvl:l}},Oe=e=>{const[t,s]=(0,r.useState)({platform:re.SenSwap,best:[],amount:BigInt(0),priceImpact:0}),{bid:i,ask:l}=(0,n.useSelector)((e=>e)),{pools:c}=(0,a.usePool)(),{getTvl:d}=Ze(),u=(0,r.useCallback)((async()=>{const{poolAddresses:t,mintInfo:{address:n},amount:a,priority:r}=i,{poolAddresses:u,mintInfo:{address:p},amount:h,priority:m}=l;let f={platform:re.SenSwap,best:[],amount:BigInt(0),priceImpact:0};if(!Number(a)&&!Number(h)||!o.account.isAddress(n)||!o.account.isAddress(p)||!t.length||!u.length||n===p)return s(f);let g={};await Promise.all(Object.keys(c).map((async e=>{await d(e)<1e3||(g[e]=c[e])})));let x=qe((e=>{const t=new Map;for(const s in e){const n=e[s];1===(null===n||void 0===n?void 0:n.state)&&[n.mint_a,n.mint_b].forEach((e=>{var a;t.has(e)||t.set(e,new Map),null===(a=t.get(e))||void 0===a||a.set(s,n)}))}return t})(g),n,p);return x.length?(o.account.isAddress(e)&&(x=x.filter((t=>1===t.length&&t[0].poolData.address===e))),f=m<r?((e,t)=>{const{amount:s,mintInfo:n}=t;let a={platform:re.SenSwap,best:[],amount:BigInt(0),priceImpact:0};e.forEach((e=>{let t=o.utils.decimalize(s,n.decimals);e.forEach((e=>{t=Le(t,e)}));const r=a.amount;t>r&&(a={platform:re.SenSwap,best:e,amount:t,priceImpact:0})}));const r=o.utils.decimalize(s,n.decimals);return a.priceImpact=Ue(a.best,r),a})(x,i):((e,t)=>{let{amount:s,mintInfo:n}=t,a={platform:re.SenSwap,best:[],amount:BigInt(0),priceImpact:0};for(const r of e){const e=[...r].reverse();let t=o.utils.decimalize(s,n.decimals);for(const s of e)if(t=ze(t,s),t<=BigInt(0))break;if(t<=BigInt(0))continue;const i=a.amount;(t<i||!i)&&(a={platform:re.SenSwap,best:r,amount:t,priceImpact:0})}return a.priceImpact=Ue(a.best,a.amount),a})(x,l),s(f)):s(f)}),[l,i,e,d,c]);return(0,r.useEffect)((()=>{u()}),[u]),t},We=e=>{const t=Oe(e),s=(()=>{const{route:{best:e},bid:{amount:t,mintInfo:{decimals:s}},ask:{amount:i,mintInfo:{decimals:l}},settings:{slippage:c}}=(0,n.useSelector)((e=>e)),{wallet:{address:d}}=(0,a.useWallet)(),u=(0,r.useCallback)((async()=>{const{swap:n,splt:a,wallet:r}=window.sentre;if(!r)throw new Error("Wallet is not connected");const u=await Promise.all(e.map((async e=>{let{srcMintAddress:t,dstMintAddress:s,poolData:{address:n}}=e;return{poolAddress:n,srcAddress:await a.deriveAssociatedAddress(d,t),dstAddress:await a.deriveAssociatedAddress(d,s)}}))),p=o.utils.decimalize(t,s),h=o.utils.decimalize(i,l)*(Pe-o.utils.decimalize(c,9))/Pe;return await n.route(p,h,u,r)}),[e,s,l,c,d,t,i]);return u})();return{bestRoute:t,swap:s}};const He=e=>{let{loading:t,disabled:s,children:a,onSwap:o}=e;const{state:l}=(0,i.useLocation)(),c=(0,n.useDispatch)(),{swap:u,bestRoute:p}=We(null===l||void 0===l?void 0:l.poolAddress),h=(0,r.useCallback)((async()=>{await c(de({...p})),setTimeout((()=>{c(ce({loadingSenswap:!1,loadingJupSwap:!0}))}),500)}),[p,c]);return(0,r.useEffect)((()=>{h()}),[h]),(0,m.jsx)(d.Button,{type:"primary",onClick:()=>o(u),loading:t,disabled:s,block:!0,children:a})},Ye=(0,ae.createAsyncThunk)("bid/updateBidData",(async(e,t)=>{let{prioritized:s,reset:n,...a}=e,{getState:r}=t;const{bid:{priority:i},ask:{priority:o}}=r();Number(a.amount)<0&&(a.amount="");const l=n?0:s?o+1:i;return{...a,priority:l}})),Je=(0,ae.createSlice)({name:"bid",initialState:{amount:"",mintInfo:{address:"",decimals:0},accountAddress:"",poolAddresses:[],priority:0},reducers:{},extraReducers:e=>{e.addCase(Ye.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,Ge=(0,ae.createAsyncThunk)("ask/updateAskData",(async(e,t)=>{let{prioritized:s,reset:n,...a}=e,{getState:r}=t;const{bid:{priority:i},ask:{priority:o}}=r();Number(a.amount)<0&&(a.amount="");const l=n?0:s?i+1:o;return{...a,priority:l}})),Ke=(0,ae.createSlice)({name:"ask",initialState:{amount:"",mintInfo:{address:"",decimals:0},accountAddress:"",poolAddresses:[],priority:0},reducers:{},extraReducers:e=>{e.addCase(Ge.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer;const Qe=class{constructor(e,t){this._wallet=void 0,this.publicKey=void 0,this._wallet=t,this.publicKey=o.account.fromAddress(e)||null}async sendTransaction(e,t,s){return e=await this.signTransaction(e),await t.sendRawTransaction(e.serializeMessage(),s)}async signTransaction(e){return await this._wallet.signTransaction(e)}async signAllTransactions(e){const t=[];for(const s of e){const e=await this.signTransaction(s);t.push(e)}return t}},{sol:{node:Ve}}=Be,$e=new c.Connection(Ve),Xe={platform:re.JupiterAggregator,best:[],amount:BigInt(0),priceImpact:0};let et;const tt=()=>{const e=(0,n.useDispatch)(),{bid:{mintInfo:{address:t,decimals:s},amount:i},ask:{mintInfo:{address:c}},settings:{slippage:d}}=(0,n.useSelector)((e=>e)),{wallet:{address:u}}=(0,a.useWallet)(),p=Number(i)*10**s,h=(0,r.useMemo)((()=>o.account.isAddress(t)?o.account.fromAddress(t):void 0),[t]),m=(0,r.useMemo)((()=>o.account.isAddress(c)?o.account.fromAddress(c):void 0),[c]),{exchange:f,routes:g,loading:x,refresh:y}=(0,l.useJupiter)({amount:p,inputMint:h,outputMint:m,slippage:100*d,debounceTime:250}),w=(0,r.useCallback)((async()=>{var e;const{sentre:{wallet:t}}=window;if(!t||!o.account.isAddress(u))throw new Error("Wallet is not connected");if(null===g||void 0===g||!g.length)throw new Error("No available route");const s=new Qe(u,t),n=await f({wallet:s,routeInfo:g[0],onTransaction:async e=>(await $e.confirmTransaction(e,"confirmed"),await $e.getTransaction(e,{commitment:"confirmed"}))});if(n.error)throw new Error((null===(e=n.error)||void 0===e?void 0:e.message)||"Unknown Error");const{txid:a,outputAddress:r}=n;return{txId:a,dstAddress:r}}),[f,g,u]),v=(0,r.useMemo)((()=>{if(null===g||void 0===g||!g.length)return{...Xe};const{outAmount:e,priceImpactPct:t,marketInfos:s}=g[0],n=s.map((e=>{let{inputMint:t,outputMint:s}=e;return{poolData:{},srcMintAddress:t.toBase58(),dstMintAddress:s.toBase58()}}));return{platform:re.JupiterAggregator,amount:BigInt(e),priceImpact:t,best:n}}),[g]);return(0,r.useEffect)((()=>{e(le({loadingJupSwap:x}))}),[e,x]),(0,r.useEffect)((()=>{i&&Number(i)>0&&(et&&clearTimeout(et),et=setTimeout((()=>{y()}),1e3))}),[i]),{swap:w,bestRoute:v}};const st=e=>{let{loading:t,disabled:s,children:a,onSwap:i}=e;const{swap:o,bestRoute:l}=tt(),c=(0,n.useDispatch)(),u=(0,r.useCallback)((()=>{setTimeout((()=>{c(de({...l}))}),500)}),[l,c]);return(0,r.useEffect)((()=>{u()}),[u]),(0,m.jsx)(d.Button,{type:"primary",onClick:()=>i((()=>o().then((e=>({txId:e.txId,dst:e.dstAddress}))))),loading:t,disabled:s,block:!0,children:a})},nt=e=>{let{onCallback:t=(()=>{}),forceSwap:s=!1}=e;const a=(0,n.useDispatch)(),[i,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),{route:{priceImpact:u,amount:p,loadingSenswap:h,platform:f},bid:{mintInfo:{decimals:g},priority:x,amount:y},ask:{mintInfo:{decimals:w},priority:v},settings:{advanced:b}}=(0,n.useSelector)((e=>e)),{wrapAmount:C,wrapSol:S}=(()=>{const{bid:{amount:e,mintInfo:{address:t,decimals:s},accountAddress:a}}=(0,n.useSelector)((e=>e)),{amount:i}=we(a),l=(0,r.useMemo)((()=>{if(!Number(e)||t!==o.DEFAULT_WSOL)return BigInt(0);const n=o.utils.decimalize(e,s);return n<=i?BigInt(0):n-i}),[i,e,t,s]);return{wrapAmount:l,wrapSol:async()=>{const{swap:e,wallet:t}=window.sentre;if(!t)throw new Error("Wallet is not connected");if(l)return await e.wrapSol(l,t)}}})(),{disabled:k}=ve(),A=async e=>{try{d(!0),C&&await S();const{txId:s}=await e();return window.notify({type:"success",description:"Swap successfully. Click to view details.",onClick:()=>window.open((0,j.kU)(s),"_blank")}),l(s),a(Ye({amount:""})),t()}catch(s){return window.notify({type:"error",description:s.message})}finally{return l(""),d(!1)}},T=(0,r.useCallback)((()=>{v<x&&a(Ge({amount:o.utils.undecimalize(p,w)}))}),[w,v,p,x,a]);(0,r.useEffect)((()=>{T()}),[T]);const I=(0,r.useCallback)((()=>{x<v&&a(Ye({amount:o.utils.undecimalize(p,g)}))}),[v,p,g,x,a]);(0,r.useEffect)((()=>{I()}),[I]);const R=!b&&u>me.acceptableSwap&&!s,M=R?"Too High Price Impact":s?"Swap Anyway":"Swap",B=Number(p),D=!h&&!!Number(y)&&(!B||f===re.JupiterAggregator);return(0,m.jsxs)(r.Fragment,{children:[D?(0,m.jsx)(st,{onSwap:A,disabled:k||R,loading:c,children:M}):(0,m.jsx)(He,{onSwap:A,disabled:k||R,loading:c,children:M}),(0,m.jsx)(Ne,{txId:i})]})},at=e=>{var t,s,a,i;let{visible:o=!1,onCancel:l=(()=>{})}=e;const[c,u]=(0,r.useState)(!1),{route:{priceImpact:p},bid:f,ask:x}=(0,n.useSelector)((e=>e)),y=p>me.acceptableSwap,w=(0,r.useCallback)((()=>{l(!1),u(!1)}),[l]);return(0,m.jsx)(d.Modal,{onCancel:w,closeIcon:(0,m.jsx)(h.Z,{name:"close"}),footer:null,visible:o,forceRender:!0,children:(0,m.jsxs)(d.Row,{gutter:[16,24],children:[(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(d.Typography.Title,{level:4,children:" Confirm swaps"})}),(0,m.jsx)(d.Col,{span:24,children:(0,m.jsxs)(d.Row,{align:"middle",justify:"space-between",children:[(0,m.jsx)(d.Col,{children:(0,m.jsxs)(d.Space,{direction:"vertical",children:[(0,m.jsx)(d.Typography.Text,{children:"From"}),(0,m.jsxs)(d.Space,{children:[(0,m.jsx)(g,{mintAddress:null===(t=f.mintInfo)||void 0===t?void 0:t.address}),(0,m.jsx)(d.Typography.Text,{children:(0,m.jsx)(v,{mintAddress:null===(s=f.mintInfo)||void 0===s?void 0:s.address})})]}),(0,m.jsx)(d.Typography.Title,{level:4,children:f.amount})]})}),(0,m.jsx)(d.Col,{children:(0,m.jsx)(h.Z,{name:"arrow-forward-outline",style:{fontSize:24}})}),(0,m.jsx)(d.Col,{children:(0,m.jsxs)(d.Space,{direction:"vertical",align:"end",children:[(0,m.jsx)(d.Typography.Text,{children:"To"}),(0,m.jsxs)(d.Space,{children:[(0,m.jsx)(g,{mintAddress:null===(a=x.mintInfo)||void 0===a?void 0:a.address}),(0,m.jsx)(d.Typography.Text,{children:(0,m.jsx)(v,{mintAddress:null===(i=x.mintInfo)||void 0===i?void 0:i.address})})]}),(0,m.jsx)(d.Typography.Title,{level:4,children:x.amount})]})})]})}),(0,m.jsx)(d.Col,{children:(0,m.jsx)(d.Card,{bordered:!1,className:"confirm-info",children:(0,m.jsx)(je,{})})}),y&&(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(d.Checkbox,{checked:c,onChange:()=>u(!c),children:"The price impact is currently high. Tick the checkbox to accept the swap."})}),(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(nt,{onCallback:w,forceSwap:c})})]})})},rt=()=>{const[e,t]=(0,r.useState)(!1),{disabled:s,loading:a}=ve(),{enhancement:i}=(0,n.useSelector)((e=>e.settings));return(0,m.jsx)(d.Card,{bordered:!1,children:(0,m.jsxs)(d.Row,{gutter:[24,24],children:[(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(d.Typography.Title,{level:5,children:"Review & Swap"})}),(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(je,{})}),i&&(0,m.jsx)(d.Col,{span:24})," ",(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(d.Button,{type:"primary",onClick:()=>t(!0),disabled:s,loading:a,block:!0,children:"Review & Swap"})}),(0,m.jsx)(at,{visible:e,onCancel:t})]})})},it=e=>{let{mintAddress:t,tvl:s="",price:n,format:a="0,0.[00]a"}=e;return(0,m.jsxs)(d.Space,{direction:"vertical",size:4,children:[(0,m.jsx)(g,{mintAddress:t}),(0,m.jsxs)(d.Space,{children:[(0,m.jsx)(d.Typography.Text,{children:"TVL:"}),(0,m.jsx)(d.Typography.Title,{level:5,children:(0,j.uR)(s).format(a)}),(0,m.jsx)(d.Typography.Title,{level:5,children:(0,m.jsx)(v,{mintAddress:t})})]}),(0,m.jsxs)(d.Typography.Text,{className:"caption",type:"secondary",children:["~ $",(0,j.uR)(n).format(a)]})]})},ot=()=>{const{route:{best:e},bid:{mintInfo:t},ask:{mintInfo:s}}=(0,n.useSelector)((e=>e)),a=Se(t.address),i=Se(s.address),{poolData:l}=e[0]||{},{poolData:c}=e[e.length-1]||{},u=(e,t)=>{try{return o.account.isAddress(e)&&t?Fe(e,t):BigInt(0)}catch(s){return BigInt(0)}},p=(0,r.useMemo)((()=>{if(!t.decimals)return 0;const e=u(t.address,l);return Number(o.utils.undecimalize(e,t.decimals))}),[t,l]),h=(0,r.useMemo)((()=>{if(!s.decimals)return 0;const e=u(s.address,c);return Number(o.utils.undecimalize(e,s.decimals))}),[s,c]),f=!p||!h;return(0,m.jsx)(d.Card,{bordered:!1,className:f?"disabled-swap-pool-info-card":void 0,children:(0,m.jsxs)(d.Row,{gutter:[16,16],wrap:!1,children:[(0,m.jsx)(d.Col,{span:11,children:(0,m.jsx)(it,{mintAddress:(null===t||void 0===t?void 0:t.address)||"",tvl:p,price:p*a.price})}),(0,m.jsx)(d.Col,{children:(0,m.jsx)(d.Divider,{type:"vertical",style:{height:"100%"}})}),(0,m.jsx)(d.Col,{span:11,children:(0,m.jsx)(it,{mintAddress:(null===s||void 0===s?void 0:s.address)||"",tvl:h,price:h*i.price})})]})})};var lt=s(33920);const ct={mainnet:"worm2ZoG2kUd4vFXhvjh93UUH596ayRfgQ2MgjNMTth",testnet:"Brdguy7BmNB4qwEbcqqMbyV5CyJd2sxQNUn6NEpMSsUb",devnet:"3u8hJUVTA4jH1wYAyUur7FFZVQ8H635K3tSHHF4ssjQ5"},dt={mainnet:"wormDTUJ6AWPNvk59vGQbDvGJmqbDTdgWgAqcLBCgUb",testnet:"A4Us8EhCC76XdGAN17L4KpRNEK423nMivVHZzZqFqqBg",devnet:"DZnkkTmCiFWfYTfT41X3Rd1kDgozqzxWaHqsw6W4x2oe"},ut=()=>M.Z.get("network")||"mainnet",pt=async e=>{const t=(()=>{const e=ut();return{chainId:lt.rQA,tokenBridgeAddress:dt[e],bridgeAddress:ct[e]}})();return(0,lt._bG)(window.sentre.splt.connection,t.tokenBridgeAddress,e)},ht="#F9575E",mt=()=>{const e=(0,r.lazy)((()=>s.e("webpack_container_remote_frame_sen_assets_bootstrap").then(s.t.bind(s,31662,23)).then((e=>({default:e.FrameWormhole})))));return(0,m.jsx)(r.Suspense,{fallback:"Loading...",children:(0,m.jsx)(e,{})})},ft=()=>{const[e,t]=(0,r.useState)(!1),{bid:{mintInfo:s}}=(0,n.useSelector)((e=>e)),{address:a}=s||{};return(0,r.useEffect)((()=>{(async()=>{if(!o.account.isAddress(a))return t(!1);const e=await pt(a);t(e)})()}),[a]),e?(0,m.jsx)(d.Popover,{overlayInnerStyle:{background:"transparent",width:375,boxShadow:"none"},trigger:"click",content:(0,m.jsx)(mt,{}),children:(0,m.jsx)(d.Tag,{style:{margin:0,borderRadius:4,color:(0,j.p)(ht),cursor:"pointer"},color:(0,j.p)(ht,.2),children:"Wormhole Bridge"})}):null};const gt=s.p+"static/media/sen.f2d012c907167ba613b035621b6423cb.svg",xt=e=>{let{title:t="Powered by",spacing:s=4,iconSize:n=20}=e;return(0,m.jsxs)(d.Space,{size:s,style:{cursor:"pointer"},children:[(0,m.jsx)(d.Typography.Text,{style:{fontSize:12,color:"#7A7B85"},children:t}),(0,m.jsx)(d.Tooltip,{title:"Sentre Protocol",children:(0,m.jsx)(d.Avatar,{src:gt,size:n})})]})},yt=e=>{let{label:t,value:s,onClick:n,active:a=!1}=e;return(0,m.jsx)(d.Typography.Text,{style:{cursor:"pointer",color:a?"#F9575E":"inherit"},onClick:()=>n(s),children:t})},wt=e=>{let{value:t,onChange:s}=e;return(0,m.jsxs)(d.Row,{gutter:[8,8],children:[(0,m.jsx)(d.Col,{span:24,children:(0,m.jsxs)(d.Row,{gutter:[8,8],wrap:!1,children:[(0,m.jsx)(d.Col,{flex:"auto",children:(0,m.jsx)(d.Typography.Text,{type:"secondary",style:{fontSize:12},children:"Slippage Tolerance"})}),(0,m.jsx)(d.Col,{children:(0,m.jsx)(d.Tooltip,{placement:"right",title:(0,m.jsxs)("span",{children:["Your transaction will be canceled if the confirmed price breaks the limited range of"," ",(0,m.jsx)("strong",{style:{color:"#f9575e"},children:100*t+"%."})]}),children:(0,m.jsx)(d.Button,{type:"text",shape:"circle",size:"small",icon:(0,m.jsx)(h.Z,{name:"information-circle-outline"})})})})]})}),(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(d.Row,{gutter:[8,8],wrap:!1,justify:"space-between",children:[.001,.005,.01,.05,1].map(((e,n)=>(0,m.jsx)(d.Col,{children:(0,m.jsx)(yt,{label:1===e?"Freely":100*e+"%",value:e,onClick:s,active:e===t})},n)))})})]})},vt=e=>{let{value:t,onChange:s}=e;return(0,m.jsxs)(d.Row,{gutter:[8,8],children:[(0,m.jsx)(d.Col,{span:24,children:(0,m.jsxs)(d.Row,{gutter:[8,8],wrap:!1,children:[(0,m.jsx)(d.Col,{flex:"auto",children:(0,m.jsx)(d.Typography.Text,{children:"Advanced Mode"})}),(0,m.jsx)(d.Col,{children:(0,m.jsx)(d.Switch,{size:"small",checked:t,onChange:s})})]})}),(0,m.jsx)(d.Col,{span:24,children:(0,m.jsxs)(d.Typography.Paragraph,{className:"caption",children:[(0,m.jsx)(h.Z,{name:"warning-outline"})," This advanced mode will disable the automatic protection that often results in bad rates and lost funds. Only use this mode if you know what you are doing."]})})]})},bt="settings",jt=(0,ae.createAsyncThunk)("settings/updateSettings",(async e=>({...e}))),Ct=(0,ae.createSlice)({name:bt,initialState:{slippage:.01,advanced:!1,enhancement:!1},reducers:{},extraReducers:e=>{e.addCase(jt.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,St=e=>{let{value:t,onChange:s}=e;return(0,m.jsxs)(d.Row,{gutter:[8,8],children:[(0,m.jsx)(d.Col,{span:24,children:(0,m.jsxs)(d.Row,{gutter:[8,8],wrap:!1,children:[(0,m.jsx)(d.Col,{flex:"auto",children:(0,m.jsx)(d.Typography.Text,{children:"Enhancement UI"})}),(0,m.jsx)(d.Col,{children:(0,m.jsx)(d.Switch,{size:"small",checked:t,onChange:s})})]})}),(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(d.Typography.Paragraph,{className:"caption",children:"Take advantage of all the familiar tools."})})]})},kt=()=>{const e=(0,n.useDispatch)(),{slippage:t,advanced:s,enhancement:a}=(0,n.useSelector)((e=>e.settings));return(0,m.jsxs)(d.Row,{gutter:[4,4],justify:"end",align:"middle",wrap:!1,children:[(0,m.jsx)(d.Col,{children:(0,m.jsx)(xt,{})}),(0,m.jsx)(d.Col,{children:(0,m.jsx)(d.Divider,{type:"vertical",style:{padding:0}})}),(0,m.jsx)(d.Col,{children:(0,m.jsx)(d.Popover,{placement:"bottomRight",overlayInnerStyle:{width:300},content:(0,m.jsxs)(d.Row,{gutter:[8,8],children:[(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(d.Typography.Title,{level:5,children:"Settings"})}),(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(wt,{value:t,onChange:t=>e(jt({slippage:t}))})}),(0,m.jsx)(d.Divider,{style:{margin:0}}),(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(vt,{value:s,onChange:t=>e(jt({advanced:t}))})}),(0,m.jsx)(d.Divider,{style:{margin:0}}),(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(St,{value:a,onChange:t=>e(jt({enhancement:t}))})})]}),trigger:"click",children:(0,m.jsx)(d.Button,{type:"text",shape:"circle",size:"small",icon:(0,m.jsx)(h.Z,{name:"settings-outline"})})})})]})};let At;const Tt=(0,r.forwardRef)(((e,t)=>{var s;let{max:n,onValue:a=(()=>{}),onChange:i=(()=>{}),...o}=e;const[l,c]=(0,r.useState)(""),[u,p]=(0,r.useState)(null),f=(0,r.useRef)(t),g=(0,r.useCallback)((e=>{const t=e=>{At&&(clearTimeout(At),At=void 0),c(e),At=setTimeout((()=>c("")),500)};return/^\d*(\.\d*)?$/.test(e)?n&&parseFloat(e)>parseFloat(n.toString())?t("Not enough balance"):a(e):t("Invalid character")}),[n,a]);return null!==u&&(null===f||void 0===f||null===(s=f.current)||void 0===s||s.setSelectionRange(u,u)),(0,m.jsx)(d.Tooltip,{title:(0,m.jsxs)(d.Space,{children:[(0,m.jsx)(h.Z,{name:"warning"}),l]}),visible:!!l,children:(0,m.jsx)(d.Input,{...o,onChange:e=>{i(e),p(e.target.selectionStart),g(e.target.value||"")},ref:f})})})),It={accountAddress:"",poolAddresses:[]},Rt=e=>{const{wallet:t}=(0,a.useWallet)(),{tokenProvider:s}=(0,a.useMint)(),{pools:n}=(0,a.usePool)(),[i,l]=(0,r.useState)(It),c=(0,r.useCallback)((async()=>{if(!o.account.isAddress(e)||!Object.keys(n).length)return l(It);const a=await s.findByAddress(e);if(!a)return l(It);const{splt:r}=window.sentre,i=await r.deriveAssociatedAddress(t.address,e),c=Object.keys(n).filter((t=>{const{mint_a:s,mint_b:a}=n[t];return[s,a].includes(e)}));l({accountAddress:i,mintInfo:a,poolAddresses:c})}),[e,n,s,t.address]);return(0,r.useEffect)((()=>{c()}),[c]),i},Mt=()=>{var e;const t=(0,n.useDispatch)(),{wallet:{address:s}}=(0,a.useWallet)(),{pools:l}=(0,a.usePool)(),{getDecimals:c}=(0,a.useMint)(),{ui:{theme:u}}=(0,a.useUI)(),{ask:{amount:p,accountAddress:h,mintInfo:f,poolAddresses:g}}=(0,n.useSelector)((e=>e)),{state:x}=(0,i.useLocation)(),{balance:y}=we(h),w=Rt(Be.swap.askDefault),b=null===x||void 0===x?void 0:x.poolAddress;(0,r.useEffect)((()=>{o.account.isAddress(h)||o.account.isAddress(b)||(t(ce({loadingSenswap:!0})),t(Ge(w)))}),[h,t,b,w]);const C=(0,r.useMemo)((()=>({mintInfo:f,poolAddresses:g})),[f,g]),S=(0,r.useCallback)((e=>o.account.isAddress(e)?Object.keys(l).filter((t=>{const{mint_a:s,mint_b:n}=l[t];return[s,n].includes(e)})):[]),[l]),k={marginLeft:-7,padding:"3px 8px",borderRadius:8,cursor:"pointer",boxShadow:"dark"===u?"0px 4px 44px rgba(0, 0, 0, 0.42)":"0px 4px 40px rgba(33, 36, 51, 0.18)"};return(0,m.jsxs)(d.Row,{gutter:[0,0],children:[(0,m.jsx)(d.Col,{flex:"auto",children:(0,m.jsx)(E,{value:f.address,onChange:async e=>{const{splt:n}=window.sentre,a=S(e),r={mintInfo:{address:e,decimals:await c(e)},poolAddresses:a};if(t(ce({loadingSenswap:!0})),!o.account.isAddress(e))return t(Ge({amount:"",prioritized:!0,...r}));const i=await n.deriveAssociatedAddress(s,e);return t(Ge({amount:"",prioritized:!0,accountAddress:i,...r}))},style:k})}),(0,m.jsx)(d.Col,{children:(0,m.jsx)(Tt,{bordered:!1,style:{textAlign:"right",fontSize:24,maxWidth:150,padding:0},placeholder:"0",value:p,onValue:e=>{t(ce({loadingSenswap:!0})),t(Ge({amount:e,prioritized:!0}))}})}),(0,m.jsx)(d.Col,{span:24,children:(0,m.jsxs)(d.Space,{className:"caption",children:[(0,m.jsx)(d.Typography.Text,{type:"secondary",children:"Available:"}),(0,m.jsx)(d.Typography.Text,{type:"secondary",children:(0,j.uR)(y).format("0,0.[00]")}),(0,m.jsx)(d.Typography.Text,{type:"secondary",children:(0,m.jsx)(v,{mintAddress:(null===(e=C.mintInfo)||void 0===e?void 0:e.address)||""})})]})})]})},{swap:{bidDefault:Bt}}=Be;let Dt;!function(e){e[e.FIFTY=50]="FIFTY",e[e.HUNDRED=100]="HUNDRED"}(Dt||(Dt={}));const Et=()=>{var e;const t=(0,n.useDispatch)(),{wallet:{address:s,lamports:l}}=(0,a.useWallet)(),{pools:c}=(0,a.usePool)(),{getDecimals:u}=(0,a.useMint)(),{ui:{theme:p}}=(0,a.useUI)(),{bid:{amount:h,accountAddress:f,mintInfo:g,poolAddresses:x}}=(0,n.useSelector)((e=>e)),{amount:y}=we(f),w=Rt(Bt),{state:b}=(0,i.useLocation)(),C=null===b||void 0===b?void 0:b.poolAddress,{address:S,decimals:k}=g,[A,T]=(0,r.useState)(0);(0,r.useEffect)((()=>{o.account.isAddress(f)||o.account.isAddress(C)||(t(ce({loadingSenswap:!0})),t(Ye(w)))}),[f,t,C,w]);const I=(0,r.useMemo)((()=>({mintInfo:g,poolAddresses:x})),[g,x]),R=(0,r.useMemo)((()=>A===Dt.HUNDRED?Dt.HUNDRED:Dt.FIFTY),[A]),M=(0,r.useMemo)((()=>{if(S!==o.DEFAULT_WSOL)return o.utils.undecimalize(y,k);const e=o.utils.decimalize(.01,k),t=l+y-e;return t<=y?o.utils.undecimalize(y,k):o.utils.undecimalize(t,k)}),[y,k,l,S]),B=(0,r.useCallback)((e=>(t(ce({loadingSenswap:!0})),t(Ye({amount:e,prioritized:!0})))),[t]),D=(0,r.useCallback)((e=>{if(!M)return;const t=Number(M);if(t<5/10**6)return B(M);return B(`${t*(e/100)}`)}),[M,B]),N=(0,r.useCallback)((()=>{const e=Number(M),t=Number(h);return T(e&&0!==e?e===t?Dt.HUNDRED:e/2===t?Dt.FIFTY:0:0)}),[h,M]),P=(0,r.useCallback)((e=>o.account.isAddress(e)?Object.keys(c).filter((t=>{const{mint_a:s,mint_b:n}=c[t];return[s,n].includes(e)})):[]),[c]);(0,r.useEffect)((()=>{N()}),[N]);const _={marginLeft:-7,padding:"3px 8px",borderRadius:8,cursor:"pointer",boxShadow:"dark"===p?"0px 4px 44px rgba(0, 0, 0, 0.42)":"0px 4px 40px rgba(33, 36, 51, 0.18)"};return(0,m.jsxs)(d.Row,{gutter:[0,0],align:"middle",children:[(0,m.jsx)(d.Col,{flex:"auto",children:(0,m.jsx)(E,{value:S,onChange:async e=>{const{splt:n}=window.sentre,a=P(e),r={mintInfo:{address:e,decimals:await u(e)},poolAddresses:a};if(t(ce({loadingSenswap:!0})),!o.account.isAddress(e))return t(Ye({amount:"",prioritized:!0,...r}));const i=await n.deriveAssociatedAddress(s,e);return t(Ye({amount:"",prioritized:!0,accountAddress:i,...r}))},style:_})}),(0,m.jsx)(d.Col,{children:(0,m.jsx)(Tt,{bordered:!1,style:{textAlign:"right",fontSize:24,maxWidth:150,padding:0},placeholder:"0",value:h,onValue:B})}),(0,m.jsx)(d.Col,{span:24,children:(0,m.jsxs)(d.Row,{align:"middle",children:[(0,m.jsx)(d.Col,{flex:"auto",children:(0,m.jsxs)(d.Space,{className:"caption",children:[(0,m.jsx)(d.Typography.Text,{type:"secondary",children:"Available:"}),(0,m.jsx)(d.Typography.Text,{type:"secondary",style:{cursor:"pointer"},onClick:()=>B(M),children:(0,j.uR)(M||0).format("0,0.[00]")}),(0,m.jsx)(d.Typography.Text,{type:"secondary",children:(0,m.jsx)(v,{mintAddress:(null===(e=I.mintInfo)||void 0===e?void 0:e.address)||""})})]})}),(0,m.jsx)(d.Col,{children:(0,m.jsx)(d.Radio.Group,{value:A,buttonStyle:"solid",children:(0,m.jsxs)(d.Space,{children:[(0,m.jsxs)(d.Space,{size:4,direction:"vertical",children:[(0,m.jsx)(d.Radio.Button,{className:"rate-btn",onClick:()=>D(Dt.FIFTY),value:R}),(0,m.jsxs)(d.Typography.Text,{type:"secondary",className:"caption",children:[Dt.FIFTY,"%"]})]}),(0,m.jsxs)(d.Space,{size:4,direction:"vertical",children:[(0,m.jsx)(d.Radio.Button,{className:"rate-btn",onClick:()=>D(Dt.HUNDRED),value:Dt.HUNDRED}),(0,m.jsxs)(d.Typography.Text,{type:"secondary",className:"caption",children:[Dt.HUNDRED,"%"]})]})]})})})]})})]})},Nt=e=>{let{widget:t=!1}=e;const s=(0,n.useDispatch)(),{bid:a,ask:i}=(0,n.useSelector)((e=>e)),o=(0,r.useCallback)((async()=>{const{amount:e,priority:t,...n}=a,{amount:r,priority:o,...l}=i,c=t>o?e:r,d=t>o?Ge:Ye;await s(ce({loadingSenswap:!0})),await s(Ye({...l,amount:"",reset:!0})),await s(Ge({...n,amount:"",reset:!0})),await s(d({amount:c,prioritized:!0}))}),[s,i,a]),l=t?{padding:"16px 16px 40px"}:{padding:"6px 24px 16px"},c=t?{padding:"0 16px 16px"}:{padding:"0 24px 24px"},u=t?{margin:"0 -12px"}:{};return(0,m.jsxs)(d.Row,{gutter:[0,0],justify:"center",style:{...u},children:[(0,m.jsx)(d.Col,{span:24,style:{...l},className:"swap-bid",children:(0,m.jsx)(Et,{})}),(0,m.jsx)(d.Col,{style:{top:-12},children:(0,m.jsx)(d.Button,{className:"btn-switch-type",size:"small",icon:(0,m.jsx)(h.Z,{name:"git-compare-outline"}),onClick:o})}),(0,m.jsx)(d.Col,{span:24,style:{...c},children:(0,m.jsx)(Mt,{})})]})},Pt=()=>(0,m.jsxs)(d.Row,{gutter:0,children:[(0,m.jsx)(d.Col,{span:24,className:"swap-setting",children:(0,m.jsxs)(d.Row,{children:[(0,m.jsx)(d.Col,{flex:"auto",children:(0,m.jsx)(ft,{})}),(0,m.jsx)(d.Col,{children:(0,m.jsx)(kt,{})})]})}),(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(Nt,{})})]}),_t=()=>{const{enhancement:e}=(0,n.useSelector)((e=>e.settings));return(0,m.jsxs)(d.Row,{gutter:[24,24],children:[(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(d.Card,{bordered:!1,className:"card-swap",bodyStyle:{padding:0},children:(0,m.jsx)(Pt,{})})}),(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(rt,{})}),e&&(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(ot,{})})]})},Lt={success:[20,224,65],pending:[212,177,6],error:[215,35,17],failed:[215,35,17]},zt=e=>{let{tag:t}=e;const s=e=>{let s=Lt[t];return`rgba(${s[0]},  ${s[1]}, ${s[2]},${e||1})`};return(0,m.jsx)(d.Tag,{style:{margin:0,borderRadius:4,color:s(),textTransform:"capitalize"},color:s(.1),children:t})},Ft="0,00.[0000]a",Ut=[{title:"TIME",dataIndex:"time"},{title:"TRANSACTION",dataIndex:"transactionId",render:e=>(0,m.jsxs)(d.Space,{align:"baseline",children:[(0,m.jsx)(d.Typography.Text,{onClick:()=>window.open((0,j.kU)(e),"_blank"),style:{fontWeight:700,cursor:"pointer"},children:(0,j.Xn)(e,3,"...")}),(0,m.jsx)(d.Button,{type:"text",size:"small",onClick:()=>window.open((0,j.kU)(e),"_blank"),icon:(0,m.jsx)(h.Z,{name:"open-outline"})})]})},{title:"BID",dataIndex:"bid",render:(e,t)=>t.from?(0,m.jsxs)(d.Space,{size:8,children:[(0,m.jsx)(g,{mintAddress:t.from}),(0,j.uR)(t.amountFrom).format(Ft),(0,m.jsx)(v,{mintAddress:t.from})]}):"--"},{title:"ASK",dataIndex:"ask",render:(e,t)=>t.to?(0,m.jsxs)(d.Space,{size:8,children:[(0,m.jsx)(g,{mintAddress:t.to}),(0,j.uR)(t.amountTo).format(Ft),(0,m.jsx)(v,{mintAddress:t.to})]}):"--"},{title:"STATUS",dataIndex:"status",width:100,render:(e,t)=>(0,m.jsx)(zt,{tag:t.status})}],qt=1e3;let Zt;!function(e){e.YMD="YYYYMMDD",e.SortableTimePattern="YYYY-MM-DD HH:mm:ss"}(Zt||(Zt={}));class Ot{constructor(){this.milliSeconds=(new Date).valueOf()}setMilliSeconds(e){this.milliSeconds=e}static fromSeconds(e){const t=new Ot,s=e*qt;return t.setMilliSeconds(s),t}static fromYmd(e){const t=new Ot,s=p()(e,Zt.YMD).valueOf();return t.setMilliSeconds(s),t}static getListDate(e,t){const s=[];let n=Ot.fromYmd(e);const a=Ot.fromYmd(t);for(;n.ymd()<=a.ymd();)s.push(n.ymd()),n=n.addDay();return s}format(e){const t=new Date(this.milliSeconds);return p()(t).format(e)}subtractDay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=p()(this.milliSeconds).subtract(e,"days").valueOf();return Ot.fromSeconds(t/qt)}addDay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=p()(this.milliSeconds).add(e,"days").valueOf();return Ot.fromSeconds(t/qt)}seconds(){return(this.milliSeconds-this.milliSeconds%qt)/qt}ymd(){return Number(this.format(Zt.YMD))}static today(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt.YMD;return p()().format(e)}}var Wt=s(68532),Ht=s.n(Wt);class Yt{constructor(){this.programId="",this.programInfo=void 0,this.signature="",this.blockTime=0,this.time=0,this.owner="",this.actionType="",this.actionTransfers=[],this.programTransfer=[]}}class Jt{constructor(){this.address="",this.mint="",this.decimals=0,this.preBalance="0",this.postBalance="0"}}class Gt{constructor(){this.source=void 0,this.destination=void 0,this.amount="0"}}const Kt=700;class Qt{constructor(){this.conn=window.sentre.splt.connection}async fetchSignatures(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kt;s>Kt&&(s=Kt);const n={limit:s,before:t};return this.conn.getConfirmedSignaturesForAddress2(e,n)}async fetchConfirmTransaction(e){let t=[];const s=[];for(let a=0;a<=e.length/200;a++){const t=200*a,n=e.slice(t,t+200);s.push(this.conn.getParsedConfirmedTransactions(n))}const n=await Promise.all(s);for(const a of n)t=t.concat(a);return t}async fetchTransactions(e,t){const s=(new Date).getTime()/1e3;let{secondFrom:n,secondTo:a,lastSignature:r,limit:i}=t;n=Math.floor(n||0),a=Math.floor(a||s);const o=new c.PublicKey(e);let l=[],d=!1;for(;!d;){const e=await this.fetchSignatures(o,r,i);if(null===e||void 0===e||!e.length||d)break;for(const t of e){const e=t.blockTime;if(e&&!(e>a)){if(e<n){d=!0;break}r=t.signature,l.push(t.signature)}}if(i&&l.length>=i)break;if((null===e||void 0===e?void 0:e.length)<Kt)break}return await this.fetchConfirmTransaction(l)}}let Vt;!function(e){e.Transfer="transfer"}(Vt||(Vt={}));var $t=s(97429).Buffer;const{struct:Xt}=s(70320),es={key:"code",type:"u8"};let ts;!function(e){e.Route="SWAP"}(ts||(ts={}));const ss={8:ts.Route};class ns extends class{constructor(){this.parseAction=e=>""}async collect(e,t){const s=new Qt;let n=[];const a=await s.fetchTransactions(e,t);for(const r of a){const e=this.parseTransLog(r);e&&n.push(e)}return n}parseTransLog(e){var t,s;const{blockTime:n,meta:a,transaction:r}=e;if(!n||!a)return;const{postTokenBalances:i,preTokenBalances:o,postBalances:l,preBalances:c}=a,{signatures:d,message:u}=r,p=(null===(t=a.innerInstructions)||void 0===t||null===(s=t[0])||void 0===s?void 0:s.instructions)||[],h=u.instructions[0]||[],m=new Yt;m.signature=d[0],m.blockTime=n,m.time=Ot.fromSeconds(n).ymd(),m.programId=h.programId.toString();const f=this.parseAccountInfo(u.accountKeys,i||[],o||[],l,c);return this.isParsedInstruction(h)?(m.programTransfer=this.parseListActionTransfer([h],f),m):(m.actionTransfers=this.parseListActionTransfer(p,f),m.programInfo={programId:h.programId.toString(),data:h.data},m.actionType=this.parseAction(m),m)}isParsedInstruction(e){return void 0!==e.parsed}parseListActionTransfer(e,t){const s=[];for(const n of e){if(!this.isParsedInstruction(n))continue;const e=n.parsed||{};if(e.type===Vt.Transfer){const n=e.info,a=this.parseActionTransfer(n,t);a&&s.push(a)}}return s}parseActionTransfer(e,t){const{source:s,destination:n,amount:a,lamports:r}=e,i=a||r.toString();if(!i||!t.has(s)||!t.has(n))return;const o=new Gt;return o.source=t.get(s),o.destination=t.get(n),o.amount=i,o}parseAccountInfo(e,t,s,n,a){const r=new Map;for(const i of t){const{accountIndex:t,mint:s,uiTokenAmount:n}=i,a=new Jt;a.address=e[t].pubkey.toString(),a.postBalance=n.amount,a.mint=s,a.decimals=n.decimals,r.set(a.address,a)}for(const i of s){const{accountIndex:t,uiTokenAmount:s}=i,n=e[t].pubkey.toString(),a=r.get(n)||new Jt;a.preBalance=s.amount,r.set(a.address,a)}return e.forEach(((e,t)=>{const s=e.pubkey.toString();if(!o.account.isAssociatedAddress(s)){const e=r.get(s)||new Jt;e.address=s,e.mint="11111111111111111111111111111111",e.postBalance=String(n[t]||0),e.preBalance=String(a[t]||0),e.decimals=9,r.set(e.address,e)}})),r}}{constructor(){super(...arguments),this.parseAction=e=>{var t;const s=null===(t=e.programInfo)||void 0===t?void 0:t.data;if(!s)return"";const n=Ht().decode(s),a=new Xt([es]).fromBuffer($t.from(n));return ss[a.code]||""}}}var as=s(83868);const{sol:{swapAddress:rs},manifest:{appId:is}}=Be,os=`translogs-ipfs:${R.ef}`;class ls{constructor(e){this.programId=void 0,this.transLogService=new ns,this.fetchTransLog=async(e,t)=>{const s=new as.Z;let n=[];const a=await this.getPDB(),r=await a.getItem(os);r&&(n=await s.get(r));const i=n[0],o=n[n.length-1];if(i&&o){const[s]=await Promise.all([this.transLogService.collect(this.programId,{secondFrom:i.blockTime,secondTo:t})]);n=n.filter((t=>t.blockTime>e)),n=[...s,...n]}else n=await this.transLogService.collect(this.programId,{secondFrom:e,secondTo:t});const l={};for(const u of n)u.actionType===ts.Route&&u.programId===rs&&(l[u.signature]=u);const c=Object.values(l).sort(((e,t)=>t.blockTime-e.blockTime)),d=await s.set(c);return await a.setItem(os,d),c},this.fetchHistory=async()=>{let e=new Ot;const t=(new Ot).subtractDay(30);return(await this.fetchTransLog(t.seconds(),e.seconds())).sort(((e,t)=>t.blockTime-e.blockTime))},this.programId=e}async getPDB(){var e;const t=await(null===(e=window.sentre.wallet)||void 0===e?void 0:e.getAddress());if(!t)throw new Error("Invalid wallet address");const s=(0,ke.f)(t,is);if(!s)throw new Error("Can not create pdb");return s}}const cs="history",ds=(0,ae.createAsyncThunk)("history/fetchHistorySwap",(async()=>{var e;const t=await(null===(e=window.sentre.wallet)||void 0===e?void 0:e.getAddress());if(!t)throw Error("Login first");const s=new ls(t),n=await s.fetchHistory();let a=[];for(const l of n){var r,i;const e={},t=l.actionTransfers,s=t[0],n=t[t.length-1];if(!s||!n)continue;const c=new Date(1e3*l.blockTime);e.time=p()(c).format("MMM DD, YYYY HH:mm"),e.amountFrom=s.destination?Number(o.utils.undecimalize(BigInt(s.amount),s.destination.decimals)):void 0,e.amountTo=null!==n&&void 0!==n&&n.destination?Number(o.utils.undecimalize(BigInt(n.amount),n.destination.decimals)):void 0,e.from=null===(r=s.destination)||void 0===r?void 0:r.mint,e.to=null===n||void 0===n||null===(i=n.destination)||void 0===i?void 0:i.mint,e.transactionId=l.signature,e.key=l.signature,e.status=s.destination&&null!==n&&void 0!==n&&n.destination?"success":"failed",a.push(e)}return{historySwap:a}})),us=(0,ae.createSlice)({name:cs,initialState:{historySwap:[]},reducers:{},extraReducers:e=>{e.addCase(ds.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,ps=()=>{const[e,t]=(0,r.useState)(5),[s,a]=(0,r.useState)(!1),{historySwap:i}=(0,n.useSelector)((e=>e.history)),o=(0,n.useDispatch)(),l=(0,r.useCallback)((async()=>{try{a(!0),await o(ds()).unwrap()}catch(e){return console.warn(e)}finally{a(!1)}}),[o]);(0,r.useEffect)((()=>{l()}),[l]);const c=(0,r.useMemo)((()=>e>5?{height:"auto"}:{height:462}),[e]);return(0,m.jsx)(d.Card,{bordered:!1,style:{...c},children:(0,m.jsxs)(d.Row,{gutter:[16,24],children:[(0,m.jsx)(d.Col,{flex:"auto",children:(0,m.jsx)(d.Typography.Title,{level:5,children:"Swap history"})}),(0,m.jsx)(d.Col,{children:(0,m.jsx)(d.Button,{onClick:()=>{l(),t(5)},children:"Refresh"})}),(0,m.jsx)(d.Col,{span:24,children:(0,m.jsxs)(d.Row,{justify:"center",gutter:[16,9],children:[(0,m.jsx)(d.Col,{span:24,style:{minHeight:310},children:(0,m.jsx)(d.Table,{columns:Ut,dataSource:i.slice(0,e),loading:s,pagination:!1,rowClassName:(e,t)=>t%2?"odd-row":"even-row",scroll:{x:800}})}),(0,m.jsx)(d.Col,{children:(0,m.jsx)(d.Button,{onClick:()=>t(e+5),type:"text",icon:(0,m.jsx)(h.Z,{name:"chevron-down-outline"}),disabled:e>=i.length,children:"View more"})})]})})]})})},{sol:{node:hs,cluster:ms}}=Be,fs=new c.Connection(hs),gs=()=>{const{pools:e}=(0,a.usePool)(),{wallet:{address:t}}=(0,a.useWallet)(),s=(0,n.useDispatch)(),{state:u}=(0,i.useLocation)(),[p,h]=(0,r.useState)(""),[f,g]=(0,r.useState)(""),x=Rt(p),y=Rt(f),w=null===u||void 0===u?void 0:u.poolAddress,{enhancement:v}=(0,n.useSelector)((e=>e.settings)),b=(0,r.useCallback)((()=>{if(!o.account.isAddress(w))return;const t=e[w];t&&(h(null===t||void 0===t?void 0:t.mint_a),g(null===t||void 0===t?void 0:t.mint_b))}),[w,e]);return(0,r.useEffect)((()=>{b()}),[b]),(0,r.useEffect)((()=>{o.account.isAddress(x.accountAddress)&&o.account.isAddress(y.accountAddress)&&(s(Ye(x)),s(Ge(y)))}),[y,x,s]),(0,m.jsx)(l.JupiterProvider,{connection:fs,cluster:ms,userPublicKey:new c.PublicKey(t),children:(0,m.jsxs)(d.Row,{gutter:[24,24],style:{paddingBottom:12},justify:v?"start":"center",children:[(0,m.jsx)(d.Col,{lg:8,md:12,xs:24,children:(0,m.jsx)(_t,{})}),v&&(0,m.jsx)(d.Col,{lg:16,md:12,xs:24,children:(0,m.jsxs)(d.Row,{gutter:[24,24],children:[(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(te,{})}),(0,m.jsx)(d.Col,{span:24,children:(0,m.jsx)(ps,{})})]})})]})})};var xs=s(48744),ys=s.n(xs),ws=s(97429).Buffer;BigInt.prototype.toJSON=function(){return this.toString()};const vs={serializableCheck:{isSerializable:e=>"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||(e=>{if(null===e)return!1;const t=Object.getPrototypeOf(e);return null!==t&&null===Object.getPrototypeOf(t)})(e)||"bigint"===typeof e||e instanceof c.PublicKey||e instanceof ys()||ws.isBuffer(e)}},bs=(0,ae.configureStore)({middleware:e=>e(vs),devTools:!1,reducer:{ask:Ke,bid:Je,settings:Ct,route:ue,history:us}});var js=s(79937);const{manifest:{appId:Cs}}=Be,Ss=()=>(0,m.jsx)(a.UIProvider,{appId:Cs,antd:!0,children:(0,m.jsx)(a.MintProvider,{children:(0,m.jsx)(a.PoolProvider,{children:(0,m.jsx)(a.AccountProvider,{children:(0,m.jsx)(a.WalletProvider,{children:(0,m.jsx)(n.Provider,{store:bs,children:(0,m.jsx)(gs,{})})})})})})})},57452:(e,t,s)=>{"use strict";s.d(t,{R:()=>o});const n={ttl:3e4},a={limit:{calls:10,time:1e3},cache:n};class r{constructor(e){this.key="",this.resolveQueue=[],this.rejectQueue=[],this.key=e}add(e,t){this.resolveQueue.push(e),this.rejectQueue.push(t)}resolves(e){for(;this.resolveQueue.length>0;){this.resolveQueue.shift()(e)}}rejects(e){for(;this.rejectQueue.length>0;){this.rejectQueue.shift()(e)}}}class i{static set(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;this.mapCache.set(e,t),setTimeout((()=>{this.mapCache.delete(e)}),s.ttl)}static get(e){return this.mapCache.get(e)}}i.mapCache=new Map;class o{static getSingleFlight(e){const t=JSON.stringify(e);if(this.mapInstance.has(t)){const e=this.mapInstance.get(t);if(e)return e}let s=new l(e);return this.mapInstance.set(t,s),s}static async load(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"===typeof e&&(e=JSON.stringify(e));let n=o.getSingleFlight(s);o.mapInstance.set(e,n);const a=new r(e);return n.load(a,t)}}o.mapInstance=new Map;class l{constructor(e){this.config=void 0,this.intervalRequest=void 0,this.timeLogs=[],this.mapRequestCalling=new Map,this.requestQueue=[],this.config=Object.assign(a,e)}async load(e,t){const s=i.get(e.key);if(s)return Promise.resolve(s);let n=!1,a=this.mapRequestCalling.get(e.key);return a||(a=e,n=!0,this.mapRequestCalling.set(a.key,a)),new Promise(((e,s)=>{if(!a)return s("Not found request!");a.add(e,s),n&&this.fetch(a,t)}))}fetch(e,t){if(!this.validateLimit())return this.addRequestQueue(e,t);this.createTimeLogs(),t().then((t=>{i.set(e.key,t,this.config.cache),e.resolves(t)})).catch((t=>{e.rejects(t)})).finally((()=>{this.mapRequestCalling.delete(e.key),this.fetchRequestQueue(t)}))}fetchRequestQueue(e){if(!this.validateLimit())return;const t=this.requestQueue.shift();t&&this.load(t,e),0===this.requestQueue.length&&this.intervalRequest&&clearInterval(this.intervalRequest)}addRequestQueue(e,t){var s;this.requestQueue.push(e),this.intervalRequest=setInterval((()=>{this.fetchRequestQueue(t)}),null===(s=this.config.limit)||void 0===s?void 0:s.time)}validateLimit(){return!0}createTimeLogs(){var e;if(!this.config.limit)return;const t=(new Date).getTime();this.timeLogs.push(t),this.timeLogs.length>(null===(e=this.config.limit)||void 0===e?void 0:e.calls)&&this.timeLogs.shift()}}},3007:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l,f:()=>c});var n=s(15454),a=s.n(n),r=s(95418),i=s(83868);class o{constructor(e){if(this.dbName=void 0,this.driver=void 0,this.ipfs=void 0,this.createInstance=e=>a().createInstance({driver:this.driver,name:this.dbName,storeName:e}),this.dropInstance=async e=>{const t=this.createInstance(e);return await t.clear(),await a().dropInstance({name:this.dbName,storeName:e})},this.all=async()=>{let e={};const t=(await this.createInstance("sentre").getItem("appIds")||[]).flat().concat(["sentre"]);for(const s of t){e[s]={};const t=this.createInstance(s);await t.iterate(((t,n)=>{e[s][n]=t}))}return e},this.fetch=async e=>await this.ipfs.get(e),this.backup=async()=>{const e=await this.all();return await this.ipfs.set(e)},this.restore=async e=>{const t=await this.fetch(e);for(const s in t){const e=await this.createInstance(s);for(const n in t[s]){const a=t[s][n];await e.setItem(n,a)}}return t},!r.account.isAddress(e))throw new Error("Invalid address");this.dbName=e,this.driver=[a().WEBSQL,a().LOCALSTORAGE],this.ipfs=new i.Z}}const l=o,c=(e,t)=>r.account.isAddress(e)?new o(e).createInstance(t):void 0},83868:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s(96348),a=s(34559),r=s(97429).Buffer;class i{constructor(){this._ipfs=async()=>{try{return window.ipfs||(window.ipfs=await(0,n.Ue)()),window.ipfs}catch(e){return await(0,a.sA)(500),await this._ipfs()}},this.get=async e=>{if(!i.isCID(e))throw new Error("Invalid CID");const t=await this._ipfs(),s=await t.cat(e);let n="";for await(const a of s)n+=r.from(a).toString();return JSON.parse(n)},this.set=async e=>{if(!e)throw new Error("Empty data");const t=JSON.stringify(e),s=await this._ipfs(),{cid:n}=await s.add(t);return n.toString()}}}i.isCID=e=>{try{return!!e&&n.bf.multihash(e)}catch(t){return!1}};const o=i},63805:(e,t,s)=>{"use strict";s.d(t,{Bv:()=>i,OB:()=>a,ef:()=>r,f4:()=>o});var n=s(53933);const a="production",r=(()=>{switch(n.Z.get("network")){case"devnet":return"devnet";case"testnet":return"testnet";default:return"mainnet"}})(),i=(()=>{switch(r){case"devnet":return 103;case"testnet":return 102;default:return 101}})(),o={devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com",mainnet:"development"===a?"https://api.mainnet-beta.solana.com":"https://solitary-autumn-water.solana-mainnet.quiknode.pro/dcbac9d444818a20ac583541dec35b44c6840888/"}[r]},53933:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const n="sentre",a=window.localStorage,r=e=>{try{return e?JSON.parse(e):null}catch(t){return null}},i={set:(e,t)=>{let s=r(a.getItem(n));s&&"object"===typeof s||(s={}),s[e]=t,a.setItem(n,JSON.stringify(s))},get:e=>{let t=r(a.getItem(n));return t&&"object"===typeof t?t[e]:null},clear:e=>{i.set(e,null)}},o=i},67289:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var n=s(94757),a=s.n(n),r=s(67845),i=s(63805);const o=e=>({symbol:"SOL",name:"Solana",address:"11111111111111111111111111111111",decimals:9,chainId:e,extensions:{coingeckoId:"solana"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"}),l=e=>({symbol:"SNTR",name:"Sentre",address:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ",decimals:9,chainId:e,extensions:{coingeckoId:"sentre"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M/logo.png"}),c=[o(103),l(103),{symbol:"wBTC",name:"Wrapped Bitcoin",address:"8jk4eJymMfNZV9mkRNxJEt2VJ3pRvdJvD5FE94GXGBPM",decimals:9,chainId:103,extensions:{coingeckoId:"bitcoin"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/qfnqNqs3nCAHjnyCgLRDbBtq4p2MtHZxw8YjSyYhPoL/logo.png"},{symbol:"wETH",name:"Ethereum",address:"27hdcZv7RtuMp75vupThR3T4KLsL61t476eosMdoec4c",decimals:9,chainId:103,extensions:{coingeckoId:"ethereum"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/FeGn77dhg1KXRRFeSwwMiykZnZPw5JXW6naf2aQgZDQf/logo.png"},{symbol:"UNI",name:"Uniswap",address:"FVZFSXu3yn17YdcxLD72TFDUqkdE5xZvcW18EUpRQEbe",decimals:9,chainId:103,extensions:{coingeckoId:"uniswap"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/3MVa4e32PaKmPxYUQ6n8vFkWtCma68Ld7e7fTktWDueQ/logo.png"},{symbol:"USDC",name:"USD Coin",address:"2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj",decimals:9,chainId:103,extensions:{coingeckoId:"usd-coin"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png"}];const d=class{constructor(){var e=this;this.tokenMap=void 0,this.engine=void 0,this.chainId=void 0,this.cluster=void 0,this.loading=void 0,this.queue=void 0,this._init=async()=>this.tokenMap.size&&this.engine?[this.tokenMap,this.engine]:new Promise((async e=>{if(this.loading)return this.queue.push(e);this.loading=!0;let t=await(await(new r.DK).resolve()).filterByChainId(this.chainId).getList();for("devnet"===this.cluster&&(t=t.concat(c)),t="testnet"===this.cluster?t.concat([l(102),o(102)]):t.concat([o(101)]),t.forEach((e=>this.tokenMap.set(e.address,e))),this.engine=a()((function(){this.ref("address"),this.field("symbol"),this.field("name"),t.forEach((e=>this.add(e)))})),e([this.tokenMap,this.engine]);this.queue.length;)this.queue.shift()([this.tokenMap,this.engine]);this.loading=!1})),this.all=async()=>{const[e]=await this._init();return Array.from(e.values())},this.findByAddress=async e=>{const[t]=await this._init();return t.get(e)},this.find=async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const[n,a]=await e._init();let r=[];if(!t)return[];const i=t+"~1";return a.search(i).forEach((e=>{let{ref:t}=e;if(r.findIndex((e=>{let{address:s}=e;return s===t}))<0){const e=n.get(t);e&&r.push(e)}})),0===s?r:r.slice(0,s)},this.tokenMap=new Map,this.engine=void 0,this.chainId=i.Bv,this.cluster=i.ef,this.loading=!1,this.queue=[],this._init()}}},34559:(e,t,s)=>{"use strict";s.d(t,{Xn:()=>c,kU:()=>d,l$:()=>h,p:()=>p,sA:()=>l,uR:()=>u});var n=s(95418),a=s(16200),r=s.n(a),i=s(63805),o=s(57452);const l=e=>new Promise((t=>setTimeout(t,e))),c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return e.substring(0,t)+s+e.substring(e.length-t,e.length)},d=e=>n.account.isAddress(e)?`https://solscan.io/account/${e}?cluster=${i.ef}`:`https://solscan.io/tx/${e}?cluster=${i.ef}`,u=e=>e&&Number.isFinite(Number(e))?r()(e):r()("0"),p=(e,t)=>{let s=Math.floor(16777215*Math.random());if(e){s=0;for(let t=0;t<e.length;t++)s=e.charCodeAt(t)+((s<<5)-s)}var n=[0,0,0];for(let r=0;r<3;r++){var a=s>>8*r&255;n[r]=a}return`rgba(${n[0]}, 100, ${n[1]},${t||1})`},h=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.R.load("fetchCGK"+e,(()=>n.utils.parseCGK(e)))}},89374:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/README.d01acb85618aed04ffea.md"},59062:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/panel.f392e6e59d78d4991c6b.png"},38340:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/panel1.cee91cd1f01b3f9e6f58.png"},45910:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/panel2.1885f3af18f36ba650f8.png"},43094:()=>{},69159:()=>{},55555:()=>{},35883:()=>{},46601:()=>{},89214:()=>{},5696:()=>{},85568:()=>{},64009:()=>{},42611:()=>{},88795:()=>{},89408:()=>{},34845:()=>{},47956:()=>{},21724:()=>{},62678:()=>{},25819:()=>{},52361:()=>{},94616:()=>{},33370:()=>{},55024:()=>{}}]);
//# sourceMappingURL=src_app_bootstrap_app_tsx-src_app_static_images_coingecko-logo_png.e57acda5.chunk.js.map