{"version":3,"file":"static/js/node_modules_sentre_senhub_dist_components_pageLoader_lazy_recursive-src_bootstrap_app_tsx-sr-6b1ed9.33f7758e.chunk.js","mappings":"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","sources":["../node_modules/@sentre/senhub/dist/components/pageLoader|lazy|groupOptions: {}|namespace object","static/images/logo.svg","static.app.tsx","view/chart/cross.tsx","view/chart/chart.tsx","view/chart/chartEmpty.tsx","components/poweredByCoingecko.tsx","helper/cgk.ts","view/chart/index.tsx","static/images/jupiter-logo.svg","components/poweredByJupiter.tsx","model/route.controller.ts","components/preview/routeAvatar.tsx","components/preview/price.tsx","constant/swap.ts","helper/utils.ts","shared/hooks/useMintDecimals.ts","shared/hooks/useAccountBalance.ts","hooks/useSwapStatus.ts","components/preview/index.tsx","hooks/useMintCgk.ts","configs/manifest.config.ts","configs/sol.config.ts","configs/swap.config.ts","configs/wormhole.config.ts","configs/route.config.ts","configs/index.ts","components/validateSwap/index.tsx","hooks/senswap/useHandleSwap.ts","helper/oracle.ts","helper/router.ts","hooks/usePool.ts","hooks/usePoolTvl.ts","hooks/useMintTotalValue.ts","hooks/senswap/useBestRoute.ts","hooks/senswap/index.ts","components/swapAction/swapButtonSen.tsx","model/bid.controller.ts","model/ask.controller.ts","hooks/jupiter/jupiterWalletWrapper.ts","hooks/jupiter/useJupiterAggregator.ts","components/swapAction/swapButtonJup.tsx","components/swapAction/index.tsx","hooks/useWrapSol.ts","components/confirmSwap.tsx","view/swap/swapReview.tsx","view/swap/poolInfo/mintPoolInfo.tsx","view/swap/poolInfo/index.tsx","constant/ethConfig.ts","constant/solConfig.ts","helper/wormhole.ts","components/bid/wormholeSupported.tsx","static/images/sen.svg","components/poweredBySentre.tsx","components/settings/slippage.tsx","components/settings/advanced.tsx","model/settings.controller.ts","components/settings/enhancement.tsx","components/settings/index.tsx","hooks/useMintSelection.ts","components/ask/index.tsx","components/bid/index.tsx","components/swapForm/swapInput.tsx","components/swapForm/index.tsx","view/swap/index.tsx","view/history/statusTag.tsx","view/history/column.tsx","helper/ipfs.ts","lib/stat/helpers/date.ts","lib/stat/entities/trans-log.ts","lib/stat/adapters/solana/client.ts","lib/stat/constants/transaction.ts","lib/stat/logic/translogSwap.ts","lib/stat/logic/translog.ts","lib/stat/constants/sol.ts","lib/stat/logic/swap/swap.ts","model/history.controller.ts","view/history/index.tsx","model/pools.controller.ts","components/watcher/pool.watcher.tsx","view/index.tsx","model/devTools.ts","model/index.ts","bootstrap.app.tsx"],"sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 90571;\nmodule.exports = webpackEmptyAsyncContext;","var _path, _path2, _path3, _path4, _defs;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 257,\n    height: 256,\n    viewBox: \"0 0 257 256\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0.622803 60C0.622803 26.8629 27.4857 0 60.6228 0H196.623C229.76 0 256.623 26.8629 256.623 60V196C256.623 229.137 229.76 256 196.623 256H60.6228C27.4857 256 0.622803 229.137 0.622803 196V60Z\",\n    fill: \"url(#paint0_linear_1991_5334)\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    opacity: 0.5,\n    d: \"M173.411 88.5162C173.411 85.8961 170.825 53.5885 173.411 74.5451C175.067 72.6924 178.384 68.7581 180.726 68.7581C183.067 68.7581 189.414 66.9054 191.069 68.7581C192.725 70.6108 191.069 85.8961 191.069 88.5162L191.069 167.549C191.069 178.029 187.349 188.08 180.726 195.491C174.103 202.902 165.12 207.065 155.753 207.065C146.387 207.065 137.404 202.902 130.781 195.491C124.158 188.08 120.438 178.029 120.438 167.549L120.438 88.5162C120.438 83.2761 118.577 78.2505 115.266 74.5451C111.954 70.8398 107.463 68.7581 102.78 68.7581C98.0965 68.7581 93.6051 70.8398 90.2936 74.5451C86.9821 78.2505 85.1217 83.276 85.1217 88.5162L85.1217 177.428C85.1217 180.048 84.1915 182.561 82.5358 184.413C80.88 186.266 78.6343 187.307 76.2928 187.307C73.9512 187.307 71.7055 186.266 70.0497 184.413C68.394 182.561 67.4638 180.048 67.4638 177.428L67.4638 88.5162C67.4638 78.0359 71.1846 67.9848 77.8076 60.574C84.4306 53.1633 93.4133 49 102.78 49C112.146 49 121.129 53.1633 127.752 60.574C134.375 67.9848 138.096 78.0359 138.096 88.5162L138.096 167.549C138.096 172.789 139.956 177.814 143.267 181.52C146.579 185.225 151.07 187.307 155.753 187.307C160.437 187.307 164.928 185.225 168.239 181.52C171.551 177.814 173.411 172.789 173.411 167.549L173.411 88.5162Z\",\n    fill: \"white\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M161.626 95.3311C159.955 97.1241 157.717 98.1163 155.394 98.0939C153.071 98.0714 150.849 97.0362 149.206 95.2112C147.563 93.3861 146.632 90.9172 146.611 88.3363C146.591 85.7554 147.484 83.2689 149.098 81.4124L175.677 51.8821C177.338 50.0367 179.591 49.0001 181.941 49.0001C184.29 49.0001 186.543 50.0367 188.204 51.8821L214.783 81.4124C216.397 83.2689 217.29 85.7554 217.27 88.3363C217.249 90.9172 216.318 93.3861 214.675 95.2112C213.032 97.0362 210.81 98.0714 208.487 98.0939C206.164 98.1163 203.927 97.1241 202.256 95.3311L181.941 72.76L161.626 95.3311Z\",\n    fill: \"white\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M55.6986 160.846C54.0422 159.005 51.7959 157.971 49.4538 157.971C47.1116 157.971 44.8653 159.005 43.2089 160.846C41.553 162.687 40.6228 165.185 40.6228 167.788C40.6228 170.392 41.553 172.889 43.2089 174.731L69.7075 204.19C71.3639 206.031 73.6101 207.065 75.9523 207.065C78.2944 207.065 80.5407 206.031 82.1971 204.19L108.696 174.731C110.352 172.889 111.282 170.392 111.282 167.788C111.282 165.185 110.352 162.687 108.696 160.846C107.039 159.005 104.793 157.971 102.451 157.971C100.109 157.971 97.8624 159.005 96.206 160.846L75.9523 183.362L55.6986 160.846Z\",\n    fill: \"white\"\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_1991_5334\",\n    x1: 0.999999,\n    y1: -0.00000114739,\n    x2: 257,\n    y2: 256,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#3E8C6A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#5C997E\"\n  })))));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.d86456fa078e55b87bfac60a8309fe54.svg\";\nexport { ForwardRef as ReactComponent };","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"logo\", {\n  enumerable: true,\n  get: function () {\n    return _logo.default;\n  }\n});\nexports.panels = void 0;\nObject.defineProperty(exports, \"readme\", {\n  enumerable: true,\n  get: function () {\n    return _README.default;\n  }\n});\n\nvar _panel = _interopRequireDefault(require(\"./static/images/panel.png\"));\n\nvar _panel2 = _interopRequireDefault(require(\"./static/images/panel1.png\"));\n\nvar _panel3 = _interopRequireDefault(require(\"./static/images/panel2.png\"));\n\nvar _logo = _interopRequireDefault(require(\"./static/images/logo.svg\"));\n\nvar _README = _interopRequireDefault(require(\"./static/docs/README.md\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst panels = [_panel.default, _panel2.default, _panel3.default];\nexports.panels = panels;","import { useSelector } from 'react-redux'\n\nimport { Avatar, Space, Typography } from 'antd'\nimport { MintAvatar, MintSymbol } from '@sen-use/app'\n\nimport { AppState } from 'model'\n\nconst Cross = () => {\n  const {\n    bid: { mintInfo: bidMintInfo },\n    ask: { mintInfo: askMintInfo },\n  } = useSelector((state: AppState) => state)\n\n  const bidMintAddress = bidMintInfo?.address || ''\n  const askMintAddress = askMintInfo?.address || ''\n  return (\n    <Space>\n      <Avatar.Group>\n        <MintAvatar mintAddress={askMintAddress} />\n        <MintAvatar mintAddress={bidMintAddress} />\n      </Avatar.Group>\n      <Typography.Text>\n        <MintSymbol mintAddress={askMintAddress} />\n        {' / '}\n        <MintSymbol mintAddress={bidMintAddress} />\n      </Typography.Text>\n    </Space>\n  )\n}\n\nexport default Cross\n","import { useCallback, useState, useRef, useEffect } from 'react'\nimport Chart from 'chart.js'\nimport isEqual from 'react-fast-compare'\n\nimport { util } from '@sentre/senhub'\n\nconst DEFAULT_BACKGROUND_COLOR = '#dadada'\n\nexport type SenChartProps = {\n  labels?: (number | string)[]\n  chartData?: (number | string)[]\n  configs?: { backgroundColor?: string } & object\n  type?: string\n  disableAxe?: boolean\n  chartHeight?: string\n  chartId?: string\n}\n\nconst SenChart = ({\n  chartData = [],\n  labels = [],\n  type = 'line',\n  configs,\n  disableAxe = false,\n  chartId = 'sen_chart',\n}: SenChartProps) => {\n  const { backgroundColor } = configs || {}\n  const [isRebuildChart, setRebuildChart] = useState<boolean>(false)\n\n  const formatData = useCallback(\n    (\n      data: Array<number | number[] | undefined | null | any>,\n      label: Array<string | number>,\n      background?: string | CanvasGradient | undefined,\n    ): Chart.ChartData => ({\n      labels: label,\n      datasets: [{ ...configs, data, backgroundColor: background }],\n    }),\n    [configs],\n  )\n  // use a ref to store the chart instance since it it mutable\n  const chartRef = useRef<Chart | null>(null)\n\n  // callback creates the chart on the canvas element\n  const canvasCallback = (canvas: HTMLCanvasElement | null) => {\n    if (!canvas) return\n    const ctx = canvas.getContext('2d')\n    if (ctx && !isRebuildChart) {\n      // create new chart\n      chartRef.current = new Chart(ctx, {\n        type: type,\n        data: {\n          labels: [],\n          datasets: [\n            {\n              data: [],\n            },\n          ],\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          scales: {\n            xAxes: [\n              {\n                gridLines: {\n                  drawBorder: false,\n                  display: false,\n                },\n                ticks: {\n                  display: !disableAxe,\n                },\n              },\n            ],\n            yAxes: [\n              {\n                gridLines: {\n                  drawBorder: false,\n                  display: false,\n                },\n                ticks: {\n                  display: !disableAxe,\n                  beginAtZero: false,\n                  maxTicksLimit: 8,\n                  callback: function (value, index, values) {\n                    return util.numeric(value).format('0,0.[0]a')\n                  },\n                },\n              },\n            ],\n          },\n          plugins: {\n            legend: false,\n          },\n          hover: {\n            onHover: (event, elements) => {\n              const target = document.getElementById(chartId)\n              if (!target) return\n              target.style.cursor = elements[0] ? 'pointer' : 'default'\n            },\n          },\n        },\n      })\n      setRebuildChart(true)\n    }\n  }\n\n  const getBackground = useCallback(() => {\n    if (!chartRef || !backgroundColor) return DEFAULT_BACKGROUND_COLOR\n    const ctx = chartRef?.current?.canvas?.getContext('2d')\n    const gradient = ctx?.createLinearGradient(0, 0, 0, 180)\n    gradient?.addColorStop(0, backgroundColor)\n    gradient?.addColorStop(1, `${backgroundColor}00`)\n    const background = type === 'line' ? gradient : backgroundColor\n    return background\n  }, [backgroundColor, type])\n\n  useEffect(() => {\n    const chartInstance = chartRef.current\n    const dataInstace = chartInstance?.data.datasets?.find(({ data }) => data)\n    const compareData = isEqual(dataInstace?.data, chartData)\n    if (chartInstance && !compareData) {\n      chartInstance.data = formatData(chartData, labels, getBackground())\n      chartInstance?.update()\n    }\n  }, [chartData, formatData, getBackground, labels])\n\n  return <canvas id={chartId} height=\"180px\" ref={canvasCallback}></canvas>\n}\n\nexport default SenChart\n","import { Col, Empty, Row } from 'antd'\n\nconst ChartEmpty = () => {\n  return (\n    <Row style={{ height: 170 }} align=\"middle\" justify=\"center\">\n      <Col>\n        <Empty />\n      </Col>\n    </Row>\n  )\n}\n\nexport default ChartEmpty\n","import { Avatar, Space, Tooltip, Typography } from 'antd'\nimport CoinGeckoIcon from 'static/images/coingecko-logo.png'\n\nexport type PoweredByCoinGeckoProps = {\n  title?: string\n  spacing?: number\n  iconSize?: number\n}\n\nconst PoweredByCoinGecko = ({\n  title = 'Powered by',\n  spacing = 4,\n  iconSize = 20,\n}: PoweredByCoinGeckoProps) => {\n  return (\n    <Space size={spacing} style={{ cursor: 'pointer' }}>\n      <Typography.Text style={{ fontSize: 12, color: '#7A7B85' }}>\n        {title}\n      </Typography.Text>\n      <Tooltip title=\"CoinGecko\">\n        <Avatar src={CoinGeckoIcon} size={iconSize} />\n      </Tooltip>\n    </Space>\n  )\n}\n\nexport default PoweredByCoinGecko\n","import { TokenProvider } from '@sentre/senhub'\nimport { util } from '@sentre/senhub'\nimport axios from 'axios'\n\nexport interface MintInfo {\n  address: string\n  symbol: string\n  price: number\n  decimals: number\n}\n\nexport type ChartParamsCGK = {\n  days: number\n  interval: string\n}\n\nconst DEFAULT_TOKEN_INFO = {\n  address: '',\n  chainId: 0,\n  decimals: 0,\n  name: '',\n  symbol: 'TOKEN',\n  extensions: undefined,\n  logoURI: '',\n  tags: [],\n}\n\nconst TOKEN_PROVIDER = new TokenProvider()\n\nconst cgk = {\n  getMintInfos: async (mintsAddress: string[]) => {\n    if (!TOKEN_PROVIDER || !mintsAddress) return\n    const promise = mintsAddress.map(async (mint) => {\n      let tokenInfo = await TOKEN_PROVIDER.findByAddress(mint)\n      if (!tokenInfo) tokenInfo = DEFAULT_TOKEN_INFO\n      const { address, symbol, decimals, extensions } = tokenInfo\n      const ticket = extensions?.coingeckoId\n\n      if (!ticket) return { address, symbol, decimals, price: 0 } // some mints don't have a ticket, so the price in cgk is 0\n\n      const { price } = await util.fetchCGK(ticket)\n      return { address, symbol, decimals, price }\n    })\n    const mintsDetails = await Promise.all(promise)\n    const mapMintsDetails = new Map<string, MintInfo>()\n    mintsDetails.forEach((mint) => {\n      mapMintsDetails.set(mint.address, mint)\n    })\n    return mapMintsDetails\n  },\n}\nexport default cgk\n\nexport const fetchMarketChart = async (\n  ticket: string,\n  params: ChartParamsCGK,\n) => {\n  try {\n    const data: any = await axios({\n      method: 'get',\n      url: `https://api.coingecko.com/api/v3/coins/${ticket}/market_chart?vs_currency=usd&days=${params.days}&interval=${params.interval}`,\n    })\n    const priceData: [number /*time*/, number /*price*/][] = data.data.prices\n    return priceData.map((data) => ({ time: data[0], val: data[1] }))\n  } catch (error) {\n    return []\n  }\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport moment from 'moment'\nimport { tokenProvider } from '@sentre/senhub'\n\nimport { Button, Card, Col, Radio, Row, Typography, Space, Popover } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport Cross from './cross'\nimport SenChart from './chart'\nimport ChartEmpty from './chartEmpty'\nimport PoweredByCoinGecko from 'components/poweredByCoingecko'\n\nimport { AppState } from 'model'\nimport { ChartParamsCGK, fetchMarketChart } from 'helper/cgk'\nimport { util } from '@sentre/senhub'\n\ntype ChartData = { label: string; val: number }\nenum Interval {\n  day = 'day',\n  week = 'week',\n  month = 'month',\n  year = 'year',\n}\nconst CHART_DATA_CONFIG: Record<\n  Interval,\n  {\n    amount: number\n    unit: moment.unitOfTime.DurationConstructor\n    format: string\n  }\n> = {\n  day: { amount: 4, unit: 'hours', format: 'HH:00' },\n  week: { amount: 1, unit: 'days', format: 'MMM DD' },\n  month: { amount: 5, unit: 'days', format: 'MMM DD' },\n  year: { amount: 2, unit: 'months', format: 'MMM DD' },\n}\nconst MARKET_CONFIG: Record<Interval, ChartParamsCGK> = {\n  day: { days: 1, interval: 'hourly' },\n  week: { days: 7, interval: 'daily' },\n  month: { days: 31, interval: 'daily' },\n  year: { days: 365, interval: 'daily' },\n}\n\nconst CHART_CONFIGS = {\n  color: '#3E8C6A',\n  radius: 0,\n  hitRadius: 14,\n  tooltip: 'TVL',\n  transparent: 'transparent',\n}\n\nconst SwapChart = () => {\n  const [interval, setInterval] = useState(Interval.week)\n  const [chartData, setChartData] = useState<{ label: string; val: number }[]>(\n    [],\n  )\n  const bidData = useSelector((state: AppState) => state.bid)\n  const askData = useSelector((state: AppState) => state.ask)\n\n  const swapChartConfigs = {\n    borderColor: CHART_CONFIGS.transparent,\n    borderRadius: CHART_CONFIGS.radius,\n    pointRadius: CHART_CONFIGS.radius,\n    tooltip: CHART_CONFIGS.tooltip,\n    pointHitRadius: CHART_CONFIGS.hitRadius,\n    pointHoverRadius: CHART_CONFIGS.radius,\n    backgroundColor: CHART_CONFIGS.color,\n  }\n\n  const parseChartDay = useCallback(\n    (marketData: { time: number; val: number }[]) => {\n      const chartData: ChartData[] = []\n      const { format, amount, unit } = CHART_DATA_CONFIG[interval]\n      let displayTime = moment()\n      // parser data\n      for (const data of marketData.reverse()) {\n        const chartTime = moment(data.time).format(format)\n        if (chartTime === displayTime.format(format)) {\n          const now = moment().format(format)\n          let label = chartTime\n          if (chartTime === now) label = moment().format('HH:mm')\n          if (displayTime)\n            chartData.unshift({\n              label: label,\n              val: data.val,\n            })\n          displayTime = displayTime.subtract(amount, unit)\n        } else if (chartTime === '00:00') {\n          chartData.unshift({\n            label: displayTime.format('MMM DD'),\n            val: data.val,\n          })\n        }\n      }\n      setChartData(chartData)\n    },\n    [interval],\n  )\n\n  const parseChartDaily = useCallback(\n    (marketData: { time: number; val: number }[]) => {\n      const chartData: ChartData[] = []\n      const { format, amount, unit } = CHART_DATA_CONFIG[interval]\n      let displayTime = moment()\n      // parser data\n      for (const data of marketData.reverse()) {\n        const chartTime = moment(data.time).format(format)\n        if (chartTime === displayTime.format(format)) {\n          displayTime = displayTime.subtract(amount, unit)\n          chartData.unshift({\n            label: chartTime,\n            val: data.val,\n          })\n          continue\n        }\n      }\n      setChartData(chartData)\n    },\n    [interval],\n  )\n\n  const fetchChartData = useCallback(async () => {\n    // fetch data market from coingecko\n    const bidTokenInfo = await tokenProvider.findByAddress(\n      bidData.mintInfo?.address || '',\n    )\n    const askTokenInfo = await tokenProvider.findByAddress(\n      askData.mintInfo?.address || '',\n    )\n    const bidTicket = bidTokenInfo?.extensions?.coingeckoId\n    const askTicket = askTokenInfo?.extensions?.coingeckoId\n    // return when bid & ask address is same\n    const compareAddress = bidData.accountAddress === askData.accountAddress\n    if (!askTicket || !bidTicket || compareAddress) return setChartData([])\n\n    const marketConfig = MARKET_CONFIG[interval]\n    const [bidChartData, askChartData] = await Promise.all([\n      fetchMarketChart(bidTicket, marketConfig),\n      fetchMarketChart(askTicket, marketConfig),\n    ])\n    // parser market data\n    const marketData: { time: number; val: number }[] = []\n    for (let idx = bidChartData.length - 1; idx >= 0; idx--) {\n      const bidChart = bidChartData[idx]\n      const askChart =\n        askChartData[askChartData.length - bidChartData.length + idx]\n      if (!bidChart || !askChart) continue\n      marketData.unshift({\n        time: bidChart.time,\n        val: askChart.val / bidChart.val,\n      })\n    }\n    if (interval === Interval.day) return parseChartDay(marketData)\n    return parseChartDaily(marketData)\n  }, [\n    askData.accountAddress,\n    askData.mintInfo?.address,\n    bidData.accountAddress,\n    bidData.mintInfo?.address,\n    interval,\n    parseChartDaily,\n    parseChartDay,\n  ])\n\n  useEffect(() => {\n    fetchChartData()\n  }, [fetchChartData])\n\n  const price = chartData[chartData.length - 1]?.val || 0\n  const priceUI = util\n    .numeric(price)\n    .format(price > 1 ? '0,0.[00]' : '0,0.[00000000]')\n\n  return (\n    <Card bordered={false} className=\"card-swap\" bodyStyle={{ paddingTop: 28 }}>\n      <Row gutter={[24, 24]}>\n        <Col span={24}>\n          <Row gutter={[20, 20]}>\n            <Col flex=\"auto\">\n              <Space>\n                <Cross />\n                <Popover\n                  content={\n                    <PoweredByCoinGecko title=\"Reference Market Price. Powered by\" />\n                  }\n                >\n                  <Button\n                    type=\"text\"\n                    icon={<IonIcon name=\"information-circle-outline\" />}\n                  />\n                </Popover>\n              </Space>\n            </Col>\n            {chartData && !!chartData.length && (\n              <Col>\n                <Radio.Group\n                  defaultValue={Interval.week}\n                  onChange={(e) => setInterval(e.target.value)}\n                  className=\"chart-radio-btn\"\n                >\n                  <Radio.Button value={Interval.day}>1D</Radio.Button>\n                  <Radio.Button value={Interval.week}>1W</Radio.Button>\n                  <Radio.Button value={Interval.month}>1M</Radio.Button>\n                  <Radio.Button value={Interval.year}>1Y</Radio.Button>\n                </Radio.Group>\n              </Col>\n            )}\n            <Col span={24}>\n              <Typography.Title level={2}>\n                {price ? priceUI : ''}\n              </Typography.Title>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          {chartData && !!chartData.length ? (\n            <SenChart\n              chartData={chartData?.map((data) => data.val)}\n              labels={chartData?.map((data) => data.label)}\n              configs={swapChartConfigs}\n            />\n          ) : (\n            <ChartEmpty />\n          )}\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default SwapChart\n","var _path, _path2, _path3, _path4, _path5, _path6, _defs;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgJupiterLogo(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 100,\n    height: 100,\n    viewBox: \"0 0 100 100\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.57323 77.9508C13.7607 83.7753 19.1321 88.6489 25.3351 92.252C31.5381 95.8551 38.4327 98.1062 45.5668 98.8579C41.8964 93.3346 36.5613 88.2532 29.9008 84.3845C23.2403 80.5159 16.1867 78.4027 9.57323 77.9508Z\",\n    fill: \"url(#paint0_linear)\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M38.8507 68.9805C26.0185 61.5254 12.1297 59.6255 2.19191 62.9818C3.15128 66.1526 4.41654 69.2226 5.96983 72.1486C14.6041 71.9487 24.0313 74.2937 32.8033 79.3886C41.5754 84.4835 48.2846 91.5153 52.3901 99.1165C55.7032 99.0148 58.9986 98.5928 62.2305 97.8566C60.2214 87.5627 51.6795 76.4372 38.8507 68.9805Z\",\n    fill: \"url(#paint1_linear)\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M100 38.7201C98.3685 32.084 95.4165 25.8447 91.3202 20.3748C87.2239 14.9048 82.0673 10.3164 76.1584 6.88349C70.2495 3.45059 63.7094 1.24361 56.9287 0.394327C50.1479 -0.454959 43.2655 0.0708667 36.6925 1.94041C47.6735 3.28427 59.8623 7.40655 71.8159 14.3509C83.7695 21.2953 93.3966 29.8406 100 38.7201Z\",\n    fill: \"url(#paint2_linear)\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M84.0232 63.0577C78.4025 53.7229 68.7738 44.7846 56.9125 37.8939C45.0513 31.0033 32.5198 27.0675 21.6362 26.8071C12.0612 26.5803 4.87495 29.3638 1.92518 34.4419C1.90838 34.4721 1.88486 34.5007 1.86638 34.5309C1.60097 35.4834 1.37251 36.4375 1.16422 37.395C5.28314 35.769 10.0555 34.8635 15.3621 34.7627C27.1628 34.541 40.3696 38.3156 52.5567 45.396C64.7439 52.4765 74.5725 62.0834 80.2234 72.4412C82.7566 77.1077 84.3373 81.702 84.9639 86.0914C85.6929 85.4397 86.4085 84.766 87.1023 84.0656C87.1208 84.0336 87.1325 84 87.151 83.9664C90.1008 78.8833 88.9602 71.2636 84.0232 63.0577Z\",\n    fill: \"url(#paint3_linear)\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M47.8884 53.4254C29.7245 42.8728 9.65227 41.2198 0 48.5842C0.0189591 50.8892 0.195187 53.1903 0.527462 55.4714C3.36682 54.6107 6.29318 54.0687 9.25247 53.8554C20.0386 53.0441 31.9301 56.0493 42.7213 62.3218C53.5125 68.5942 62.0191 77.4402 66.6588 87.205C67.9412 89.8801 68.9193 92.6907 69.5749 95.5839C71.7216 94.7424 73.8088 93.7563 75.8222 92.6325C77.4382 80.5982 66.0574 63.9797 47.8884 53.4254Z\",\n    fill: \"url(#paint4_linear)\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M93.3659 47.4337C87.6814 38.109 77.9687 29.1455 66.0235 22.2095C54.0782 15.2735 41.4981 11.2755 30.5792 10.9547C22.2557 10.7145 15.8085 12.7319 12.4657 16.5434C26.346 14.1917 44.6544 18.1443 62.4001 28.4534C80.1457 38.7625 92.6537 52.7117 97.4815 65.9336C99.1361 61.1444 97.6965 54.5444 93.3659 47.4337Z\",\n    fill: \"url(#paint5_linear)\"\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint1_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint2_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint3_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint4_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint5_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })))));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgJupiterLogo);\nexport default __webpack_public_path__ + \"static/media/jupiter-logo.6553c3779ce16057aa846301783447a2.svg\";\nexport { ForwardRef as ReactComponent };","import { Avatar, Space, Tooltip, Typography } from 'antd'\nimport JupiterIcon from 'static/images/jupiter-logo.svg'\n\nexport type PoweredByJupiterProps = {\n  title?: string\n  spacing?: number\n  iconSize?: number\n}\n\nconst PoweredByJupiter = ({\n  title = 'Powered by',\n  spacing = 4,\n  iconSize = 20,\n}: PoweredByJupiterProps) => {\n  return (\n    <Space size={spacing} style={{ cursor: 'pointer' }}>\n      <Typography.Text style={{ fontSize: 12, color: '#7A7B85' }}>\n        {title}\n      </Typography.Text>\n      <Tooltip title=\"Jupiter Aggregator\">\n        <Avatar src={JupiterIcon} size={iconSize} />\n      </Tooltip>\n    </Space>\n  )\n}\n\nexport default PoweredByJupiter\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { RouteTrace } from 'helper/router'\n\nexport enum SwapPlatform {\n  SenSwap,\n  JupiterAggregator,\n}\nexport type RouteState = {\n  platform: SwapPlatform\n  best: RouteTrace // The best route\n  amount: bigint\n  priceImpact: number\n  loadingJupSwap?: boolean\n  loadingSenswap?: boolean\n}\n\nconst NAME = 'route'\nconst initialState: RouteState = {\n  platform: SwapPlatform.SenSwap,\n  best: [],\n  amount: BigInt(0),\n  priceImpact: 0,\n  loadingJupSwap: false,\n  loadingSenswap: false,\n}\n\n/**\n * Actions\n */\n\nexport const setLoadingJupiterRoute = createAsyncThunk<\n  Partial<RouteState>,\n  Partial<RouteState>,\n  { state: any }\n>(`${NAME}/setLoadingJupiterRoute`, async ({ loadingJupSwap }) => {\n  return { loadingJupSwap }\n})\n\nexport const setLoadingSenSwap = createAsyncThunk<\n  Partial<RouteState>,\n  Partial<RouteState>,\n  { state: any }\n>(`${NAME}/loadingSenswap`, async ({ loadingSenswap }) => {\n  return { loadingSenswap }\n})\n\nexport const updateRoute = createAsyncThunk<\n  Partial<RouteState>,\n  Partial<RouteState>,\n  { state: any }\n>(`${NAME}/updateRoute`, async (route) => {\n  if (!route) return {}\n  return { ...route }\n})\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        updateRoute.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        setLoadingJupiterRoute.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        setLoadingSenSwap.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { Fragment, useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { util } from '@sentre/senhub'\n\nimport { Divider, Space } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport PoweredByJupiter from '../poweredByJupiter'\nimport { MintAvatar } from '@sen-use/app'\n\nimport { AppState } from 'model'\nimport { SwapPlatform } from 'model/route.controller'\n\nconst RouteAvatar = () => {\n  const {\n    bid: { mintInfo },\n    route: { platform, best },\n  } = useSelector((state: AppState) => state)\n\n  const srcMintAddress = mintInfo?.address\n  const chainMintAddresses = useMemo(() => {\n    if (!best.length || !util.isAddress(srcMintAddress)) return []\n    let list = [srcMintAddress]\n    for (const hop of best) {\n      const { dstMintAddress } = hop\n      if (util.isAddress(dstMintAddress)) list.push(dstMintAddress)\n    }\n    return list\n  }, [srcMintAddress, best])\n\n  return (\n    <Space>\n      {chainMintAddresses?.map((mintAddress, i) => (\n        <Fragment key={i}>\n          <MintAvatar mintAddress={mintAddress} />\n          {chainMintAddresses.length > i + 1 && (\n            <IonIcon name=\"chevron-forward-outline\" />\n          )}\n        </Fragment>\n      ))}\n      {platform === SwapPlatform.JupiterAggregator && (\n        <Fragment>\n          <Divider type=\"vertical\" style={{ margin: 0 }} />\n          <PoweredByJupiter />\n        </Fragment>\n      )}\n    </Space>\n  )\n}\nexport default RouteAvatar\n","import { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { util } from '@sentre/senhub'\n\nimport { Button, Space, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport { MintSymbol } from '@sen-use/app'\n\nimport { AppState } from 'model'\n\nconst Price = () => {\n  const [reversed, setReversed] = useState(false)\n  const {\n    bid: { mintInfo: bidMintInfo, amount: bidAmount },\n    ask: { mintInfo: askMintInfo, amount: askAmount },\n  } = useSelector((state: AppState) => state)\n\n  const bidMintAddress = bidMintInfo?.address || ''\n  const askMintAddress = askMintInfo?.address || ''\n  const price = util\n    .numeric(Number(askAmount) / Number(bidAmount))\n    .format('0,0.[000000]')\n  const reversedPrice = util\n    .numeric(Number(bidAmount) / Number(askAmount))\n    .format('0,0.[000000]')\n\n  return (\n    <Space>\n      <Button\n        type=\"text\"\n        onClick={() => setReversed(!reversed)}\n        shape=\"circle\"\n        icon={<IonIcon name=\"swap-horizontal-outline\" />}\n      />\n      <Typography.Text>{!reversed ? price : reversedPrice}</Typography.Text>\n      <Typography.Text>\n        {!reversed ? (\n          <MintSymbol mintAddress={askMintAddress} />\n        ) : (\n          <MintSymbol mintAddress={bidMintAddress} />\n        )}\n        {' / '}\n        {!reversed ? (\n          <MintSymbol mintAddress={bidMintAddress} />\n        ) : (\n          <MintSymbol mintAddress={askMintAddress} />\n        )}\n      </Typography.Text>\n    </Space>\n  )\n}\n\nexport default Price\n","export enum PriceImpact {\n  goodSwap = 0.01, // price impact lower than 1%\n  acceptableSwap = 0.05, // price impact lower than 5%\n}\n\nexport const HOMEPAGE_TABS: Record<string, string> = {\n  Swap: 'swap',\n  Pools: 'pools',\n}\n","import { PriceImpact } from 'constant/swap'\n\nexport const priceImpactColor = (priceImpact: number) => {\n  if (priceImpact < PriceImpact.goodSwap) return '#14E041'\n  if (priceImpact > PriceImpact.acceptableSwap) return '#D72311'\n  return '#FA8C16'\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { useGetMintDecimals } from '@sentre/senhub'\n\n/**\n * Get token decimals from multiple resources. This hook needs MintProvider for working.\n * MintProvider Ref: https://docs.sentre.io/senhub/development/providers/mint-provider\n * @param mintAddress Mint address\n * @returns Decimals\n */\nconst useMintDecimals = (mintAddress: string) => {\n  const [decimals, setDecimals] = useState<number | undefined>(undefined)\n  const getDecimals = useGetMintDecimals()\n\n  const fetchDecimals = useCallback(async () => {\n    try {\n      const decimals = (await getDecimals({ mintAddress })) || 0\n      return setDecimals(decimals)\n    } catch (er: any) {\n      return setDecimals(undefined)\n    }\n  }, [mintAddress, getDecimals])\n\n  useEffect(() => {\n    fetchDecimals()\n  }, [fetchDecimals])\n\n  return decimals\n}\n\nexport default useMintDecimals\n","import { useEffect, useState } from 'react'\nimport { DEFAULT_EMPTY_ADDRESS, utils } from '@senswap/sen-js'\nimport {\n  useAccounts,\n  useWalletAddress,\n  useWalletBalance,\n  util,\n} from '@sentre/senhub'\n\nimport useMintDecimals from './useMintDecimals'\n\nexport type AccountBalanceReturn = {\n  amount: bigint\n  decimals: number\n  balance: number\n  mintAddress: string\n}\n\nconst buildResult = (\n  mintAddress?: string,\n  amount?: bigint,\n  decimals?: number,\n) => {\n  if (\n    !util.isAddress(mintAddress) ||\n    amount === undefined ||\n    decimals === undefined\n  )\n    return { amount: BigInt(0), decimals: 0, balance: 0 }\n  return {\n    mintAddress,\n    amount,\n    decimals,\n    balance: Number(utils.undecimalize(amount, decimals)),\n  }\n}\n\n/**\n * Get account balance. This hook needs WalletProvider, MintProvider, and AccountProvider for working.\n * WalletProvider Ref: https://docs.sentre.io/senhub/development/providers/wallet-provider\n * MintProvider Ref: https://docs.sentre.io/senhub/development/providers/mint-provider\n * AccountProvider Ref: https://docs.sentre.io/senhub/development/providers/account-provider\n * @param accountAddress Associated account address\n * @returns AccountBalanceReturn\n * - AccountBalanceReturn.amount: The amount with decimals\n * - AccountBalanceReturn.decimals: The corresponding mint decimals\n * - AccountBalanceReturn.balance: The human-readable balance (undecimalized amount)\n * - AccountBalanceReturn.mintAddress: The corresponding mint\n */\nconst useAccountBalance = (accountAddress: string) => {\n  const walletAddress = useWalletAddress()\n  const lamports = useWalletBalance()\n  const accounts = useAccounts()\n  const { amount, mint: mintAddress } = accounts[accountAddress] || {}\n  const decimals = useMintDecimals(mintAddress) || 0\n\n  if (!util.isAddress(walletAddress) || !util.isAddress(accountAddress))\n    return buildResult()\n  if (accountAddress === walletAddress)\n    return buildResult(DEFAULT_EMPTY_ADDRESS, lamports, 9)\n\n  return buildResult(mintAddress, amount, decimals)\n}\n\nexport default useAccountBalance\n\n/**\n * The same as useAccountBalance but the input is mint address\n * @param mintAddress Mint address\n * @returns AccountBalanceReturn\n */\nexport const useAccountBalanceByMintAddress = (mintAddress: string) => {\n  const [accountAddress, setAccountAddress] = useState('')\n  const walletAddress = useWalletAddress()\n  const data = useAccountBalance(accountAddress)\n\n  useEffect(() => {\n    ;(async () => {\n      if (!util.isAddress(walletAddress) || !util.isAddress(mintAddress))\n        return setAccountAddress('')\n      const {\n        sentre: { splt },\n      } = window\n      try {\n        const address = await splt.deriveAssociatedAddress(\n          walletAddress,\n          mintAddress,\n        )\n        return setAccountAddress(address)\n      } catch (er) {\n        return setAccountAddress('')\n      }\n    })()\n  })\n\n  return data\n}\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { DEFAULT_WSOL, utils } from '@senswap/sen-js'\nimport { useWalletBalance } from '@sentre/senhub'\n\nimport { AppState } from 'model'\nimport useAccountBalance from 'shared/hooks/useAccountBalance'\n\nexport const useSwapStatus = () => {\n  const {\n    route: { best, loadingJupSwap, loadingSenswap },\n    bid: {\n      amount: bidAmount,\n      accountAddress: bidAccountAddress,\n      mintInfo: { address: bidMintAddress, decimals: bidMintDecimals },\n    },\n    ask: {\n      amount: askAmount,\n      mintInfo: { address: askMintAddress },\n    },\n  } = useSelector((state: AppState) => state)\n\n  const lamports = useWalletBalance()\n\n  const { amount: bidBalance } = useAccountBalance(bidAccountAddress)\n\n  const availableBid = useMemo((): string => {\n    if (bidMintAddress !== DEFAULT_WSOL)\n      return utils.undecimalize(bidBalance, bidMintDecimals)\n    // So estimate max = 0.01 fee -> multi transaction.\n    const estimateFee = utils.decimalize(0.01, bidMintDecimals)\n    const max = lamports + bidBalance - estimateFee\n    if (max <= bidBalance)\n      return utils.undecimalize(bidBalance, bidMintDecimals)\n    return utils.undecimalize(max, bidMintDecimals)\n  }, [bidBalance, bidMintAddress, bidMintDecimals, lamports])\n\n  const disabled =\n    !best.length ||\n    !Number(bidAmount) ||\n    !Number(askAmount) ||\n    Number(bidAmount) > Number(availableBid) ||\n    bidMintAddress === askMintAddress\n\n  const loading = loadingJupSwap || loadingSenswap\n  return { disabled, loading }\n}\n","import { ReactNode } from 'react'\nimport { useSelector } from 'react-redux'\nimport { PoolData } from '@senswap/sen-js'\n\nimport { Col, Row, Skeleton, Typography } from 'antd'\nimport RouteAvatar from './routeAvatar'\n\nimport { AppState } from 'model'\nimport { util } from '@sentre/senhub'\nimport Price from './price'\nimport { priceImpactColor } from 'helper/utils'\nimport { useSwapStatus } from 'hooks/useSwapStatus'\n\nexport type LiteMintInfo = {\n  address: string\n  decimals: number\n}\n\nexport type HopData = {\n  poolData: PoolData & { address: string }\n  srcMintAddress: string\n  dstMintAddress: string\n}\n\nconst ExtraTypography = ({\n  label = '',\n  content = '',\n  loading = false,\n}: {\n  label?: string\n  content?: string | ReactNode\n  loading?: boolean\n}) => {\n  return (\n    <Row align=\"middle\">\n      <Col flex=\"auto\">\n        <Typography.Text type=\"secondary\">{label}</Typography.Text>\n      </Col>\n      <Col>\n        {loading ? (\n          <Skeleton.Input style={{ width: 150 }} active size=\"small\" />\n        ) : (\n          <span>{content}</span>\n        )}\n      </Col>\n    </Row>\n  )\n}\n\nconst PreviewSwap = () => {\n  const {\n    route: { priceImpact },\n    settings: { slippage },\n  } = useSelector((state: AppState) => state)\n  const { loading } = useSwapStatus()\n\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={24}>\n        <ExtraTypography\n          label=\"Price impact\"\n          content={\n            <Typography.Text style={{ color: priceImpactColor(priceImpact) }}>\n              {util.numeric(Number(priceImpact)).format('0.[0000]%')}\n            </Typography.Text>\n          }\n          loading={loading}\n        />\n      </Col>\n      <Col span={24}>\n        <ExtraTypography label=\"Price\" content={<Price />} loading={loading} />\n      </Col>\n      <Col span={24}>\n        <ExtraTypography\n          label=\"Slippage Tolerance\"\n          content={util.numeric(slippage).format('0.[00]%')}\n          loading={loading}\n        />\n      </Col>\n      <Col span={24} style={{ minHeight: 24 }}>\n        <ExtraTypography\n          label=\"Route\"\n          content={<RouteAvatar />}\n          loading={loading}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default PreviewSwap\n","import { useCallback, useEffect, useState } from 'react'\nimport { tokenProvider, util } from '@sentre/senhub'\n\nconst DEFAULT_DATA = {\n  address: '',\n  icon: '',\n  name: 'TOKEN',\n  price: 0,\n  priceChange: 0,\n  rank: 0,\n  symbol: 'TOKEN',\n  totalVolume: 0,\n}\n\nconst useMintCgk = (mintAddress?: string): CgkData => {\n  const [cgkData, setCgkData] = useState<CgkData>(DEFAULT_DATA)\n\n  const fetchCgkData = useCallback(async () => {\n    if (!mintAddress) return setCgkData(DEFAULT_DATA)\n    try {\n      const token = await tokenProvider.findByAddress(mintAddress)\n      const ticket = token?.extensions?.coingeckoId\n      const cgkData = await util.fetchCGK(ticket)\n      return setCgkData(cgkData)\n    } catch (error) {\n      return setCgkData(DEFAULT_DATA)\n    }\n  }, [mintAddress])\n\n  useEffect(() => {\n    fetchCgkData()\n  }, [fetchCgkData])\n\n  return cgkData\n}\nexport default useMintCgk\n","import { Env } from '@sentre/senhub'\n\nif (\n  typeof process.env.REACT_APP_ID !== 'string' ||\n  typeof process.env.REACT_APP_URL !== 'string'\n)\n  throw new Error('Please add REACT_APP_ID, REACT_APP_URL in .env!')\n\n/**\n * Contructor\n */\n\ntype Conf = {\n  appId: string\n  url: string\n}\n\nconst shared = {\n  appId: process.env.REACT_APP_ID,\n  url: process.env.REACT_APP_URL,\n}\n\nconst conf: Record<Env, Conf> = {\n  /**\n   * Development configurations\n   */\n  development: {\n    ...shared,\n  },\n\n  /**\n   * Production configurations\n   */\n  production: {\n    ...shared,\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Net } from '@sentre/senhub'\n\n/**\n * Contructor\n */\ntype Conf = {\n  cluster: 'devnet' | 'testnet' | 'mainnet-beta'\n  spltAddress: string\n  splataAddress: string\n  swapAddress: string\n  taxmanAddress: string\n}\n\nconst conf: Record<Net, Conf> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    cluster: 'devnet',\n    spltAddress: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n    splataAddress: 'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',\n    swapAddress: '4erFSLP7oBFSVC1t35jdxmbfxEhYCKfoM6XdG2BLR3UF',\n    taxmanAddress: '8UaZw2jDhJzv5V53569JbCd3bD4BnyCfBH3sjwgajGS9',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    cluster: 'testnet',\n    spltAddress: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n    splataAddress: 'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',\n    swapAddress: '',\n    taxmanAddress: '',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    cluster: 'mainnet-beta',\n    spltAddress: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n    splataAddress: 'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',\n    swapAddress: 'SSW7ooZ1EbEognq5GosbygA3uWW1Hq1NsFq6TsftCFV',\n    taxmanAddress: '9doo2HZQEmh2NgfT3Yx12M89aoBheycYqH1eaR5gKb3e',\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Net } from '@sentre/senhub'\n\n/**\n * Contructor\n */\ntype Conf = {\n  bidDefault: string\n  askDefault: string\n}\n\nconst conf: Record<Net, Conf> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    bidDefault: '2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj',\n    askDefault: '5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    bidDefault: '2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj',\n    askDefault: '5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    bidDefault: 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v',\n    askDefault: 'SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M',\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Net } from '@sentre/senhub'\n\n/**\n * Contructor\n */\ntype Conf = {\n  wormholeAddress: string\n}\n\nconst conf: Record<Net, Conf> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    wormholeAddress: 'rRsXLHe7sBHdyKU3KY3wbcgWvoT1Ntqudf6e9PKusgb',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    wormholeAddress: 'rRsXLHe7sBHdyKU3KY3wbcgWvoT1Ntqudf6e9PKusgb',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    wormholeAddress: 'rRsXLHe7sBHdyKU3KY3wbcgWvoT1Ntqudf6e9PKusgb',\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Net } from '@sentre/senhub'\n\n/**\n * Contructor\n */\ntype Config = {\n  assetsRoute: string\n}\n\nconst config: Record<Net, Config> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    assetsRoute: '/app/sen_assets',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    assetsRoute: '/app/sen_assets',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    assetsRoute: '/app/sen_assets',\n  },\n}\n\nexport default config\n","import { env, net } from '@sentre/senhub'\nimport manifest from './manifest.config'\nimport sol from './sol.config'\nimport swap from './swap.config'\nimport wormhole from './wormhole.config'\nimport route from './route.config'\n\nconst configs = {\n  manifest: manifest[env],\n  sol: sol[net],\n  swap: swap[net],\n  wormhole: wormhole[net],\n  route: route[net],\n}\n\n/**\n * Module exports\n */\nexport default configs\n","import { Fragment, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useWalletAddress } from '@sentre/senhub'\n\nimport useMintCgk from 'hooks/useMintCgk'\nimport { createPDB } from '@sentre/senhub'\nimport { AppState } from 'model'\nimport configs from 'configs'\n\nconst {\n  manifest: { appId },\n} = configs\nconst PDB_KEY = 'validated_swap_transaction'\n\nconst ValidateSwap = ({ txId = '' }: { txId?: string }) => {\n  const {\n    bid: {\n      amount: bidAmount,\n      mintInfo: { address: mintAddress },\n    },\n  } = useSelector((state: AppState) => state)\n  const walletAddress = useWalletAddress()\n  const { price } = useMintCgk(mintAddress)\n\n  useEffect(() => {\n    ;(async () => {\n      const db = createPDB(walletAddress, appId)\n      if (!txId || !db) return\n      const prevLogs: { txIds: string[]; amount: number } = (await db.getItem(\n        PDB_KEY,\n      )) || { txIds: [], amount: 0 }\n      let swapAmountSuccess = Number(bidAmount) * price\n      const listTxIds = prevLogs.txIds\n      if (txId && !listTxIds?.includes(txId)) listTxIds.push(txId)\n      if (prevLogs.amount) swapAmountSuccess += prevLogs.amount\n      const swapLogs = { txIds: listTxIds, amount: swapAmountSuccess }\n      await db.setItem(PDB_KEY, swapLogs)\n    })()\n  }, [bidAmount, price, txId, walletAddress])\n\n  return <Fragment />\n}\nexport default ValidateSwap\n","import { useCallback } from 'react'\nimport { useSelector } from 'react-redux'\nimport { utils } from '@senswap/sen-js'\nimport { useWalletAddress } from '@sentre/senhub'\n\nimport { AppState } from 'model'\n\nconst PRECISION = BigInt(1000000000)\n\nexport const useHandleSwap = () => {\n  const {\n    route: { best },\n    bid: {\n      amount: _bidAmount,\n      mintInfo: { decimals: bidMintDecimals },\n    },\n    ask: {\n      amount: _askAmount,\n      mintInfo: { decimals: askMintDecimals },\n    },\n    settings: { slippage },\n  } = useSelector((state: AppState) => state)\n  const walletAddress = useWalletAddress()\n\n  const handleSwap = useCallback(async () => {\n    const { swap, splt, wallet } = window.sentre\n    if (!wallet) throw new Error('Wallet is not connected')\n    // Synthetize routings\n    const routingAddresses = await Promise.all(\n      best.map(\n        async ({\n          srcMintAddress,\n          dstMintAddress,\n          poolData: { address: poolAddress },\n        }) => {\n          const srcAddress = await splt.deriveAssociatedAddress(\n            walletAddress,\n            srcMintAddress,\n          )\n          const dstAddress = await splt.deriveAssociatedAddress(\n            walletAddress,\n            dstMintAddress,\n          )\n          return {\n            poolAddress: poolAddress,\n            srcAddress: srcAddress,\n            dstAddress: dstAddress,\n          }\n        },\n      ),\n    )\n    // Compute limit\n    const bidAmount = utils.decimalize(_bidAmount, bidMintDecimals)\n    const askAmount = utils.decimalize(_askAmount, askMintDecimals)\n    const limit =\n      (askAmount * (PRECISION - utils.decimalize(slippage, 9))) / PRECISION\n    // Execute swap\n    return await swap.route(bidAmount, limit, routingAddresses, wallet)\n  }, [\n    best,\n    bidMintDecimals,\n    askMintDecimals,\n    slippage,\n    walletAddress,\n    _bidAmount,\n    _askAmount,\n  ])\n\n  return handleSwap\n}\n","import { Swap } from '@senswap/sen-js'\nimport { HopData } from 'components/preview/index'\nimport { extractReserve } from './router'\n\nexport const ORACLE = Swap.oracle\n\nexport const curve = (bidAmount: bigint, hopData: HopData): bigint => {\n  if (!bidAmount) return BigInt(0)\n  const { srcMintAddress, dstMintAddress, poolData } = hopData\n  const { fee_ratio, tax_ratio } = poolData\n  const bidReserve = extractReserve(srcMintAddress, poolData)\n  const askReserve = extractReserve(dstMintAddress, poolData)\n  if (!bidReserve || !askReserve) return BigInt(0)\n\n  const { askAmount } = ORACLE.swap(\n    bidAmount,\n    bidReserve,\n    askReserve,\n    fee_ratio,\n    tax_ratio,\n  )\n  return askAmount\n}\n\nexport const inverseCurve = (askAmount: bigint, hopData: HopData): bigint => {\n  if (!askAmount) return BigInt(0)\n  const { srcMintAddress, dstMintAddress, poolData } = hopData\n  const { fee_ratio, tax_ratio } = poolData\n  const bidReserve = extractReserve(srcMintAddress, poolData)\n  const askReserve = extractReserve(dstMintAddress, poolData)\n  if (!bidReserve || !askReserve) return BigInt(0)\n\n  const bidAmount = ORACLE.inverseSwap(\n    askAmount,\n    bidReserve,\n    askReserve,\n    fee_ratio,\n    tax_ratio,\n  )\n  return bidAmount\n}\n\nexport const slippage = (bidAmount: bigint, hopData: HopData): bigint => {\n  if (!bidAmount) return BigInt(0)\n  const { srcMintAddress, dstMintAddress, poolData } = hopData\n  const { fee_ratio, tax_ratio } = poolData\n  const bidReserve = extractReserve(srcMintAddress, poolData)\n  const askReserve = extractReserve(dstMintAddress, poolData)\n  if (!bidReserve || !askReserve) return BigInt(0)\n\n  const slippage = ORACLE.slippage(\n    bidAmount,\n    bidReserve,\n    askReserve,\n    fee_ratio,\n    tax_ratio,\n  )\n  return slippage\n}\n","import { PoolData, utils } from '@senswap/sen-js'\n\nimport { curve, slippage } from './oracle'\nimport { BidState } from 'model/bid.controller'\nimport { AskState } from 'model/ask.controller'\nimport { inverseCurve } from './oracle'\nimport { HopData } from 'components/preview/index'\nimport { RouteState, SwapPlatform } from 'model/route.controller'\n\nconst PRECISION = 9\nconst POOL_ACTIVITY_STATUS = 1\nconst LIMIT_POOL_IN_ROUTE = 3\n\nexport type GraphPool = Map<string, Map<string, PoolData>>\nexport type RouteTrace = HopData[]\n\n/**\n * Extract reserve from pool data\n * @param extractReserve\n * @param poolData\n * @returns\n */\nexport const extractReserve = (\n  mintAddress: string,\n  poolData: PoolData,\n): bigint => {\n  const { mint_a, mint_b, reserve_a, reserve_b } = poolData\n  if (mintAddress === mint_a) return reserve_a\n  if (mintAddress === mint_b) return reserve_b\n  throw new Error('Cannot find reserves')\n}\n\n/**\n *\n * @param param0\n * @param param1\n * @returns\n */\ntype Point = { point: bigint }\nexport const pointSorting = (\n  { point: firstPoint }: Point,\n  { point: secondPoint }: Point,\n) => {\n  if (firstPoint < secondPoint) return 1\n  if (firstPoint > secondPoint) return -1\n  return 0\n}\n\n/**\n * Calculate price impact\n * @param best\n * @param bid\n * @param ask\n * @returns\n */\nexport const calcPriceImpact = (best: RouteTrace, bidAmount: bigint) => {\n  if (!bidAmount) return 0\n  let srcAmount = bidAmount\n  let p = 1\n  best.forEach((hopData) => {\n    const s = Number(\n      utils.undecimalize(slippage(srcAmount, hopData), PRECISION),\n    )\n    p = p * (1 - s)\n    const dstAmount = curve(srcAmount, hopData)\n    srcAmount = dstAmount\n  })\n\n  return 1 - p\n}\n\nexport const buildPoolGraph = (pools: Record<string, PoolData>): GraphPool => {\n  const graph = new Map<\n    /*mint_address*/ string,\n    Map</*pool_address*/ string, PoolData>\n  >()\n  for (const poolAddress in pools) {\n    const pool = pools[poolAddress]\n    if (pool?.state !== POOL_ACTIVITY_STATUS) continue\n    const mints = [pool.mint_a, pool.mint_b]\n    mints.forEach((mint) => {\n      if (!graph.has(mint)) graph.set(mint, new Map<string, PoolData>())\n      graph.get(mint)?.set(poolAddress, pool)\n    })\n  }\n  return graph\n}\n\n// because of Solana is limiting the number of calculation unit, so the system\n// must limit the list pool of root. Currently, the system set 3 pools in route\nexport const findAllRoutes = (\n  graph: GraphPool,\n  bidMintAddress: string,\n  askMintAddress: string,\n  deep = 0,\n) => {\n  const routes: RouteTrace[] = []\n  const clonedGraph = new Map(graph)\n  const pools = graph.get(bidMintAddress)\n\n  // Too deep\n  if (deep >= LIMIT_POOL_IN_ROUTE) return routes\n  clonedGraph.delete(bidMintAddress)\n  pools?.forEach((poolData, poolAddress) => {\n    // Build sub params\n    const srcMintAddress = bidMintAddress\n    const dstMintAddress =\n      srcMintAddress === poolData.mint_a ? poolData.mint_b : poolData.mint_a\n    const hop: HopData = {\n      srcMintAddress,\n      dstMintAddress,\n      poolData: { ...poolData, address: poolAddress },\n    }\n    // Termination\n    if (dstMintAddress === askMintAddress) return routes.push([hop])\n    // Recursive call\n    const subRoutes = findAllRoutes(\n      clonedGraph,\n      dstMintAddress,\n      askMintAddress,\n      deep + 1,\n    )\n    subRoutes.forEach((route) => routes.push([hop, ...route]))\n  })\n\n  return routes\n}\n\nexport const findBestRouteFromBid = (\n  routes: RouteTrace[],\n  bidState: BidState,\n): RouteState => {\n  const { amount: bidAmount, mintInfo } = bidState\n  let bestRoute: RouteState = {\n    platform: SwapPlatform.SenSwap,\n    best: [],\n    amount: BigInt(0),\n    priceImpact: 0,\n  }\n  routes.forEach((route) => {\n    let amount = utils.decimalize(bidAmount, mintInfo.decimals)\n    route.forEach((hop) => {\n      amount = curve(amount, hop)\n    })\n    const maxAskAmount = bestRoute.amount\n    if (amount > maxAskAmount)\n      bestRoute = {\n        platform: SwapPlatform.SenSwap,\n        best: route,\n        amount,\n        priceImpact: 0,\n      }\n  })\n  const amount = utils.decimalize(bidAmount, mintInfo.decimals)\n  bestRoute.priceImpact = calcPriceImpact(bestRoute.best, amount)\n  return bestRoute\n}\n\nexport const findBestRouteFromAsk = (\n  routes: RouteTrace[],\n  { amount: askAmount, mintInfo }: AskState,\n): RouteState => {\n  let bestRoute: RouteState = {\n    platform: SwapPlatform.SenSwap,\n    best: [],\n    amount: BigInt(0),\n    priceImpact: 0,\n  }\n  for (const route of routes) {\n    const reversedRoute = [...route].reverse()\n    let amount = utils.decimalize(askAmount, mintInfo.decimals)\n\n    for (const hop of reversedRoute) {\n      amount = inverseCurve(amount, hop)\n      if (amount <= BigInt(0)) break\n    }\n    if (amount <= BigInt(0)) continue\n    const minBidAmount = bestRoute.amount\n    if (amount < minBidAmount || !minBidAmount)\n      bestRoute = {\n        platform: SwapPlatform.SenSwap,\n        best: route,\n        amount,\n        priceImpact: 0,\n      }\n  }\n  bestRoute.priceImpact = calcPriceImpact(bestRoute.best, bestRoute.amount)\n  return bestRoute\n}\n","import { AppState } from 'model'\nimport { useSelector } from 'react-redux'\n\nexport const usePool = () => {\n  const pools = useSelector((state: AppState) => state.pools)\n  return { pools }\n}\n","import { useCallback, useEffect, useState } from 'react'\n\nimport { useMintTotalValue } from './useMintTotalValue'\nimport { usePool } from 'hooks/usePool'\n\n// Refer: sen-lp\nexport const usePoolTvl = (poolAddress?: string) => {\n  const { pools } = usePool()\n  const [tvl, setTvl] = useState(0)\n  const { getMintTotalValue } = useMintTotalValue()\n\n  const getTvl = useCallback(\n    async (poolAddress: string) => {\n      const poolData = pools[poolAddress]\n      if (!poolData) return 0\n      const { reserve_a, reserve_b, mint_a, mint_b } = poolData\n      const totalA = await getMintTotalValue({\n        mintAddress: mint_a,\n        amount: reserve_a,\n      })\n      const totalB = await getMintTotalValue({\n        mintAddress: mint_b,\n        amount: reserve_b,\n      })\n      return totalA + totalB\n    },\n    [getMintTotalValue, pools],\n  )\n\n  const updateTvl = useCallback(\n    async (poolAddress?: string) => {\n      if (!poolAddress) return setTvl(0)\n      const poolTvl = await getTvl(poolAddress)\n      setTvl(poolTvl)\n    },\n    [getTvl],\n  )\n\n  useEffect(() => {\n    updateTvl(poolAddress)\n  }, [updateTvl, poolAddress])\n\n  return { tvl, getTvl }\n}\n","import { useCallback } from 'react'\nimport { Swap, utils } from '@senswap/sen-js'\nimport { tokenProvider, useGetMintData } from '@sentre/senhub'\nimport { util } from '@sentre/senhub'\n\nimport { usePool } from 'hooks/usePool'\n\n// Refer: sen-lp\nexport const useMintTotalValue = () => {\n  const { pools } = usePool()\n  const getMint = useGetMintData()\n\n  const getTokenUsd = useCallback(\n    async (mintAddress: string, amount: bigint) => {\n      try {\n        const tokenInfo = await tokenProvider.findByAddress(mintAddress)\n        const ticket = tokenInfo?.extensions?.coingeckoId\n        if (!ticket) throw new Error('Cant not find coingeckoId')\n\n        const cgkData = await util.fetchCGK(ticket)\n        return (\n          Number(utils.undecimalize(amount, tokenInfo.decimals)) * cgkData.price\n        )\n      } catch (error) {\n        return 0\n      }\n    },\n    [],\n  )\n\n  const getMintTotalValue = useCallback(\n    async ({\n      mintAddress,\n      amount,\n    }: {\n      mintAddress: string\n      amount: bigint\n    }) => {\n      if (!amount) return 0\n      const tokenInfo = await tokenProvider.findByAddress(mintAddress)\n      if (tokenInfo) return getTokenUsd(mintAddress, amount)\n\n      // Get Mint Lpt total value\n      const poolData = Object.values(pools).find(\n        (pool) => pool.mint_lpt === mintAddress,\n      )\n      if (!poolData) return 0\n      const { reserve_a, reserve_b, mint_a, mint_b } = poolData\n      if (reserve_a * reserve_b === BigInt(0)) return 0\n      const supply = await getMint({ mintAddress }).then((data) => {\n        if (data) return data[mintAddress].supply\n        return BigInt(0)\n      })\n\n      const { deltaA, deltaB } = Swap.oracle.withdraw(\n        amount,\n        supply,\n        reserve_a,\n        reserve_b,\n      )\n      const balanceA: number = await getMintTotalValue({\n        mintAddress: mint_a,\n        amount: deltaA,\n      })\n      const balanceB: number = await getMintTotalValue({\n        mintAddress: mint_b,\n        amount: deltaB,\n      })\n      return balanceA + balanceB\n    },\n    [getMint, getTokenUsd, pools],\n  )\n  return { getMintTotalValue }\n}\n","import { useDebounce } from 'react-use'\nimport { useCallback, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { PoolData } from '@senswap/sen-js'\nimport { util } from '@sentre/senhub'\n\nimport { AppState } from 'model'\nimport { RouteState, SwapPlatform } from 'model/route.controller'\nimport {\n  buildPoolGraph,\n  findAllRoutes,\n  findBestRouteFromAsk,\n  findBestRouteFromBid,\n} from 'helper/router'\nimport { usePoolTvl } from '../usePoolTvl'\nimport { usePool } from 'hooks/usePool'\n\nconst MIN_TVL = 1000 // $USD\n\nexport const useBestRoute = (fixedPoolAddress?: string) => {\n  const [bestRoute, setBestRoute] = useState<RouteState>({\n    platform: SwapPlatform.SenSwap,\n    best: [],\n    amount: BigInt(0),\n    priceImpact: 0,\n  })\n  const { bid: bidData, ask: askData } = useSelector((state: AppState) => state)\n  const { pools } = usePool()\n  const { getTvl } = usePoolTvl()\n  /**\n   * Find optimal route\n   */\n  const findBestRoute = useCallback(async () => {\n    const {\n      poolAddresses: bidPoolAddresses,\n      mintInfo: { address: bidMintAddress },\n      amount: bidAmount,\n      priority: bidPriority,\n    } = bidData\n    const {\n      poolAddresses: askPoolAddresses,\n      mintInfo: { address: askMintAddress },\n      amount: askAmount,\n      priority: askPriority,\n    } = askData\n\n    // Initialize an instance for the best route\n    // The best route return a route that user can receive maximum ask amount when swap\n    let bestRoute: RouteState = {\n      platform: SwapPlatform.SenSwap,\n      best: [],\n      amount: BigInt(0),\n      priceImpact: 0,\n    }\n    // Return empty default\n    if (\n      (!Number(bidAmount) && !Number(askAmount)) ||\n      !util.isAddress(bidMintAddress) ||\n      !util.isAddress(askMintAddress) ||\n      !bidPoolAddresses.length ||\n      !askPoolAddresses.length ||\n      bidMintAddress === askMintAddress\n    )\n      return setBestRoute(bestRoute)\n    // filter pool tvl\n    let filteredPool: Record<string, PoolData> = {}\n    await Promise.all(\n      Object.keys(pools).map(async (pool) => {\n        let tvl = await getTvl(pool)\n        if (tvl < MIN_TVL) return\n        filteredPool[pool] = pools[pool]\n      }),\n    )\n\n    // All possible routes\n    let allRoutes = findAllRoutes(\n      buildPoolGraph(filteredPool),\n      bidMintAddress,\n      askMintAddress,\n    )\n    // No available route\n    if (!allRoutes.length) return setBestRoute(bestRoute)\n    // When user select original route from senlp\n    if (util.isAddress(fixedPoolAddress))\n      allRoutes = allRoutes.filter(\n        (route) =>\n          route.length === 1 && route[0].poolData.address === fixedPoolAddress,\n      )\n\n    if (askPriority < bidPriority)\n      bestRoute = findBestRouteFromBid(allRoutes, bidData)\n    else bestRoute = findBestRouteFromAsk(allRoutes, askData)\n    return setBestRoute(bestRoute)\n  }, [askData, bidData, fixedPoolAddress, getTvl, pools])\n  useDebounce(findBestRoute, 500, [findBestRoute])\n\n  return bestRoute\n}\n","import { useHandleSwap } from './useHandleSwap'\nimport { useBestRoute } from './useBestRoute'\n\nconst useSenSwap = (fixedPoolAddress?: string) => {\n  const bestRoute = useBestRoute(fixedPoolAddress)\n  const swap = useHandleSwap()\n\n  return { bestRoute, swap }\n}\n\nexport default useSenSwap\n","import { useCallback, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useLocation } from 'react-router-dom'\n\nimport { Button } from 'antd'\nimport { PlatformButtonProps } from './index'\n\nimport useSenSwap from 'hooks/senswap'\nimport { SenLpState } from 'constant/senLpState'\nimport { AppDispatch } from 'model'\nimport { setLoadingSenSwap, updateRoute } from 'model/route.controller'\n\nlet timeout: NodeJS.Timeout\n\nconst SwapButtonSen = ({\n  loading,\n  disabled,\n  children,\n  onSwap,\n}: PlatformButtonProps) => {\n  const { state: senlpState } = useLocation<SenLpState>()\n  const dispatch = useDispatch<AppDispatch>()\n  const { swap, bestRoute } = useSenSwap(senlpState?.poolAddress)\n\n  const setRoute = useCallback(async () => {\n    if (timeout) clearTimeout(timeout)\n    await dispatch(updateRoute({ ...bestRoute }))\n    setTimeout(() => {\n      dispatch(\n        setLoadingSenSwap({ loadingSenswap: false, loadingJupSwap: true }),\n      )\n    }, 500)\n  }, [bestRoute, dispatch])\n\n  useEffect(() => {\n    setRoute()\n  }, [setRoute])\n\n  return (\n    <Button\n      type=\"primary\"\n      onClick={() => onSwap(swap)}\n      loading={loading}\n      disabled={disabled}\n      block\n    >\n      {children}\n    </Button>\n  )\n}\n\nexport default SwapButtonSen\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { LiteMintInfo } from 'components/preview'\n\nexport type BidState = {\n  amount: string // Desired amount\n  accountAddress: string // Associated account to the selected token\n  mintInfo: LiteMintInfo // Selected token\n  poolAddresses: string[] // List of available pools\n  priority: number\n}\n\nconst NAME = 'bid'\nconst initialState: BidState = {\n  amount: '',\n  mintInfo: {\n    address: '',\n    decimals: 0,\n  },\n  accountAddress: '',\n  poolAddresses: [],\n  priority: 0,\n}\n\n/**\n * Actions\n */\n\nexport const updateBidData = createAsyncThunk<\n  Partial<BidState>,\n  Partial<BidState> & { prioritized?: boolean; reset?: boolean },\n  { state: any }\n>(\n  `${NAME}/updateBidData`,\n  async ({ prioritized, reset, ...bidData }, { getState }) => {\n    const {\n      bid: { priority: prevPriority },\n      ask: { priority: refPriority },\n    } = getState()\n    if (Number(bidData.amount) < 0) bidData.amount = ''\n    const priority = reset ? 0 : prioritized ? refPriority + 1 : prevPriority\n    return { ...bidData, priority }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      updateBidData.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { LiteMintInfo } from 'components/preview'\n\nexport type AskState = {\n  amount: string // Desired amount\n  accountAddress: string // Associated account to the selected token\n  mintInfo: LiteMintInfo // Selected token\n  poolAddresses: string[] // List of available pools\n  priority: number\n}\n\nconst NAME = 'ask'\nconst initialState: AskState = {\n  amount: '',\n  mintInfo: {\n    address: '',\n    decimals: 0,\n  },\n  accountAddress: '',\n  poolAddresses: [],\n  priority: 0,\n}\n\n/**\n * Actions\n */\n\nexport const updateAskData = createAsyncThunk<\n  Partial<AskState>,\n  Partial<AskState> & { prioritized?: boolean; reset?: boolean },\n  { state: any }\n>(\n  `${NAME}/updateAskData`,\n  async ({ prioritized, reset, ...askData }, { getState }) => {\n    const {\n      bid: { priority: refPriority },\n      ask: { priority: prevPriority },\n    } = getState()\n    if (Number(askData.amount) < 0) askData.amount = ''\n    const priority = reset ? 0 : prioritized ? refPriority + 1 : prevPriority\n    return { ...askData, priority }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      updateAskData.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { account, WalletInterface } from '@senswap/sen-js'\nimport {\n  PublicKey,\n  Transaction,\n  Connection,\n  TransactionSignature,\n} from '@solana/web3.js'\nimport { SendTransactionOptions } from '@solana/wallet-adapter-base'\n\nclass JupiterWalletWrapper {\n  private _wallet\n  public publicKey: PublicKey\n\n  constructor(address: string, wallet: WalletInterface) {\n    this._wallet = wallet\n    this.publicKey = account.fromAddress(address) || null\n  }\n\n  async sendTransaction(\n    transaction: Transaction,\n    connection: Connection,\n    options?: SendTransactionOptions,\n  ): Promise<TransactionSignature> {\n    transaction = await this.signTransaction(transaction)\n    return await connection.sendRawTransaction(\n      transaction.serializeMessage(),\n      options,\n    )\n  }\n\n  async signTransaction(transaction: Transaction) {\n    return await this._wallet.signTransaction(transaction)\n  }\n\n  async signAllTransactions(transactions: Transaction[]) {\n    const signedTransactions = []\n    for (const transaction of transactions) {\n      const signedTransaction = await this.signTransaction(transaction)\n      signedTransactions.push(signedTransaction)\n    }\n    return signedTransactions\n  }\n}\n\nexport default JupiterWalletWrapper\n","import { useCallback, useEffect, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { account, PoolData } from '@senswap/sen-js'\nimport { useJupiter } from '@jup-ag/react-hook'\nimport { Connection } from '@solana/web3.js'\nimport { rpc, util, useWalletAddress } from '@sentre/senhub'\n\nimport { AppDispatch, AppState } from 'model'\nimport {\n  RouteState,\n  setLoadingJupiterRoute,\n  SwapPlatform,\n} from 'model/route.controller'\nimport { RouteTrace } from 'helper/router'\nimport JupiterWalletWrapper from 'hooks/jupiter/jupiterWalletWrapper'\nimport { HopData } from 'components/preview'\n\nconst connection = new Connection(rpc)\n\nconst DEFAULT_DATA: RouteState = {\n  platform: SwapPlatform.JupiterAggregator,\n  best: [],\n  amount: BigInt(0),\n  priceImpact: 0,\n}\n\nlet timeout: NodeJS.Timeout\n\nconst useJupiterAggregator = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const {\n    bid: {\n      mintInfo: { address: bidMintAddress, decimals: bidDecimals },\n      amount: bidAmount,\n    },\n    ask: {\n      mintInfo: { address: askMintAddress },\n    },\n    settings: { slippage },\n  } = useSelector((state: AppState) => state)\n  const walletAddress = useWalletAddress()\n\n  const amount = Number(bidAmount) * 10 ** bidDecimals\n  const inputMint = useMemo(\n    () =>\n      util.isAddress(bidMintAddress)\n        ? account.fromAddress(bidMintAddress)\n        : undefined,\n    [bidMintAddress],\n  )\n  const outputMint = useMemo(\n    () =>\n      util.isAddress(askMintAddress)\n        ? account.fromAddress(askMintAddress)\n        : undefined,\n    [askMintAddress],\n  )\n\n  // Jupiter Aggregator\n  const { exchange, routes, loading, refresh } = useJupiter({\n    amount,\n    inputMint,\n    outputMint,\n    slippage: slippage * 100,\n    debounceTime: 250,\n  })\n\n  const swap = useCallback(async () => {\n    const {\n      sentre: { wallet },\n    } = window\n    if (!wallet || !util.isAddress(walletAddress))\n      throw new Error('Wallet is not connected')\n    if (!routes?.length) throw new Error('No available route')\n\n    const wrappedWallet = new JupiterWalletWrapper(walletAddress, wallet)\n    const result: any = await exchange({\n      wallet: wrappedWallet,\n      routeInfo: routes[0],\n      onTransaction: async (txid: string) => {\n        await connection.confirmTransaction(txid, 'confirmed')\n        return await connection.getTransaction(txid, {\n          commitment: 'confirmed',\n        })\n      },\n    })\n    if (result.error) throw new Error(result.error?.message || 'Unknown Error')\n    const { txid, outputAddress } = result\n    return { txId: txid, dstAddress: outputAddress }\n  }, [exchange, routes, walletAddress])\n\n  const bestRoute: RouteState = useMemo(() => {\n    if (!routes?.length) return { ...DEFAULT_DATA }\n    const { outAmount, priceImpactPct, marketInfos } = routes[0]\n    const best: RouteTrace = marketInfos.map(({ inputMint, outputMint }) => {\n      const hop: HopData = {\n        poolData: {} as PoolData & { address: string }, // dummy pool data\n        srcMintAddress: inputMint.toBase58(),\n        dstMintAddress: outputMint.toBase58(),\n      }\n      return hop\n    })\n    return {\n      platform: SwapPlatform.JupiterAggregator,\n      amount: BigInt(outAmount),\n      priceImpact: priceImpactPct,\n      best,\n    }\n  }, [routes])\n\n  useEffect(() => {\n    dispatch(setLoadingJupiterRoute({ loadingJupSwap: loading }))\n  }, [dispatch, loading])\n\n  useEffect(() => {\n    if (!!bidAmount && Number(bidAmount) > 0) {\n      if (timeout) clearTimeout(timeout)\n      timeout = setTimeout(() => {\n        refresh()\n      }, 1000)\n    }\n    // because refresh is not a useCallBack function. So not dependent refresh\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [bidAmount])\n  return { swap, bestRoute }\n}\n\nexport default useJupiterAggregator\n","import { useCallback, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { Button } from 'antd'\nimport useJupiterAggregator from 'hooks/jupiter/useJupiterAggregator'\n\nimport { PlatformButtonProps } from './index'\nimport { AppDispatch } from 'model'\nimport { updateRoute } from 'model/route.controller'\n\nlet timeout: NodeJS.Timeout\n\nconst SwapButtonJup = ({\n  loading,\n  disabled,\n  children,\n  onSwap,\n}: PlatformButtonProps) => {\n  const { swap, bestRoute } = useJupiterAggregator()\n  const dispatch = useDispatch<AppDispatch>()\n\n  const setRoute = useCallback(() => {\n    if (timeout) clearTimeout(timeout)\n    setTimeout(() => {\n      dispatch(updateRoute({ ...bestRoute }))\n    }, 500)\n  }, [bestRoute, dispatch])\n\n  useEffect(() => {\n    setRoute()\n  }, [setRoute])\n\n  return (\n    <Button\n      type=\"primary\"\n      onClick={() =>\n        onSwap(() =>\n          swap().then((e) => {\n            return { txId: e.txId, dst: e.dstAddress }\n          }),\n        )\n      }\n      loading={loading}\n      disabled={disabled}\n      block\n    >\n      {children}\n    </Button>\n  )\n}\n\nexport default SwapButtonJup\n","import { useCallback, useState, Fragment, ReactNode } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { utils } from '@senswap/sen-js'\nimport { useDebounce } from 'react-use'\n\nimport ValidateSwap from '../validateSwap'\nimport SwapButtonSen from './swapButtonSen'\n\nimport { AppState, AppDispatch } from 'model'\nimport { util } from '@sentre/senhub'\nimport { PriceImpact } from 'constant/swap'\nimport { updateBidData } from 'model/bid.controller'\nimport { updateAskData } from 'model/ask.controller'\nimport { useWrapSol } from 'hooks/useWrapSol'\nimport { useSwapStatus } from 'hooks/useSwapStatus'\nimport SwapButtonJup from './swapButtonJup'\nimport { SwapPlatform } from 'model/route.controller'\n\nexport type PlatformSwap = () => Promise<{\n  txId: any\n  dst: any\n}>\n\nexport type PlatformButtonProps = {\n  loading: boolean\n  disabled: boolean\n  children: ReactNode\n  onSwap: (swap: PlatformSwap) => void\n}\n\nconst SwapAction = ({\n  onCallback = () => {},\n  forceSwap = false,\n}: {\n  onCallback?: () => void\n  forceSwap?: boolean\n}) => {\n  const dispatch = useDispatch<AppDispatch>()\n  const [validSwap, setValidSwap] = useState('')\n  const [isUseJup, setIsUseJup] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const {\n    route: { priceImpact, amount: bestAmount, loadingSenswap, platform },\n    bid: {\n      mintInfo: { decimals: bidMintDecimals },\n      priority: bidPriority,\n      amount: bidAmount,\n    },\n    ask: {\n      mintInfo: { decimals: askMintDecimals },\n      priority: askPriority,\n    },\n    settings: { advanced },\n  } = useSelector((state: AppState) => state)\n\n  const { wrapAmount, wrapSol } = useWrapSol()\n  const { disabled } = useSwapStatus()\n\n  const onSwap = async (swapPlatform: PlatformSwap) => {\n    try {\n      setLoading(true)\n      // check wrap sol\n      if (wrapAmount) await wrapSol()\n\n      const { txId } = await swapPlatform()\n      window.notify({\n        type: 'success',\n        description: 'Swap successfully. Click to view details.',\n        onClick: () => window.open(util.explorer(txId), '_blank'),\n      })\n      setValidSwap(txId)\n      dispatch(updateBidData({ amount: '' }))\n      return onCallback()\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    } finally {\n      setValidSwap('')\n      return setLoading(false)\n    }\n  }\n\n  const setAskData = useCallback(() => {\n    if (askPriority < bidPriority) {\n      dispatch(\n        updateAskData({\n          amount: utils.undecimalize(bestAmount, askMintDecimals),\n        }),\n      )\n    }\n  }, [askMintDecimals, askPriority, bestAmount, bidPriority, dispatch])\n  useDebounce(setAskData, 500, [setAskData])\n\n  const setBidData = useCallback(() => {\n    if (bidPriority < askPriority) {\n      dispatch(\n        updateBidData({\n          amount: utils.undecimalize(bestAmount, bidMintDecimals),\n        }),\n      )\n    }\n  }, [askPriority, bestAmount, bidMintDecimals, bidPriority, dispatch])\n  useDebounce(setBidData, 500, [setBidData])\n\n  const tooHighImpact =\n    !advanced && priceImpact > PriceImpact.acceptableSwap && !forceSwap\n\n  const content = tooHighImpact\n    ? 'Too High Price Impact'\n    : forceSwap\n    ? 'Swap Anyway'\n    : 'Swap'\n\n  const validSwapValue = Number(bestAmount)\n\n  const checkUseJup = useCallback(() => {\n    const isUseJup =\n      !loadingSenswap &&\n      !!Number(bidAmount) &&\n      (!validSwapValue || platform === SwapPlatform.JupiterAggregator)\n    setIsUseJup(isUseJup)\n  }, [bidAmount, loadingSenswap, platform, validSwapValue])\n  useDebounce(checkUseJup, 500, [checkUseJup])\n\n  return (\n    <Fragment>\n      {isUseJup ? (\n        <SwapButtonJup\n          onSwap={onSwap}\n          disabled={disabled || tooHighImpact}\n          loading={loading}\n        >\n          {content}\n        </SwapButtonJup>\n      ) : (\n        <SwapButtonSen\n          onSwap={onSwap}\n          disabled={disabled || tooHighImpact}\n          loading={loading}\n        >\n          {content}\n        </SwapButtonSen>\n      )}\n      <ValidateSwap txId={validSwap} />\n    </Fragment>\n  )\n}\n\nexport default SwapAction\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { DEFAULT_WSOL, utils } from '@senswap/sen-js'\n\nimport { AppState } from 'model'\nimport useAccountBalance from 'shared/hooks/useAccountBalance'\n\nexport const useWrapSol = () => {\n  const {\n    bid: {\n      amount: bidAmount,\n      mintInfo: { address: bidMintAddress, decimals: bidMintDecimals },\n      accountAddress: bidAccountAddress,\n    },\n  } = useSelector((state: AppState) => state)\n  const { amount: bidBalance } = useAccountBalance(bidAccountAddress)\n\n  const wrapAmount = useMemo(() => {\n    if (!Number(bidAmount) || bidMintAddress !== DEFAULT_WSOL) return BigInt(0)\n    const amount = utils.decimalize(bidAmount, bidMintDecimals)\n    if (amount <= bidBalance) return BigInt(0)\n    return amount - bidBalance\n  }, [bidBalance, bidAmount, bidMintAddress, bidMintDecimals])\n\n  const wrapSol = async () => {\n    const { swap, wallet } = window.sentre\n    if (!wallet) throw new Error('Wallet is not connected')\n    if (wrapAmount) return await swap.wrapSol(wrapAmount, wallet)\n  }\n\n  return { wrapAmount, wrapSol }\n}\n","import { useCallback, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Row, Col, Space, Typography, Modal, Card, Checkbox } from 'antd'\nimport Preview from 'components/preview'\nimport IonIcon from '@sentre/antd-ionicon'\nimport SwapAction from 'components/swapAction'\nimport { MintAvatar, MintSymbol } from '@sen-use/app'\n\nimport { AppState } from 'model'\nimport { PriceImpact } from 'constant/swap'\n\nconst ConfirmSwap = ({\n  visible = false,\n  onCancel = () => {},\n}: {\n  visible?: boolean\n  onCancel?: (visible: boolean) => void\n}) => {\n  const [checked, setChecked] = useState(false)\n  const {\n    route: { priceImpact },\n    bid: bidData,\n    ask: askData,\n  } = useSelector((state: AppState) => state)\n\n  const tooHighImpact = priceImpact > PriceImpact.acceptableSwap\n\n  const onCloseModal = useCallback(() => {\n    onCancel(false)\n    setChecked(false)\n  }, [onCancel])\n\n  return (\n    <Modal\n      onCancel={onCloseModal}\n      closeIcon={<IonIcon name=\"close\" />}\n      footer={null}\n      open={visible}\n      forceRender\n    >\n      <Row gutter={[16, 24]}>\n        <Col span={24}>\n          <Typography.Title level={4}> Confirm swaps</Typography.Title>\n        </Col>\n        <Col span={24}>\n          <Row align=\"middle\" justify=\"space-between\">\n            <Col>\n              <Space direction=\"vertical\">\n                <Typography.Text>From</Typography.Text>\n                <Space>\n                  <MintAvatar mintAddress={bidData.mintInfo?.address} />\n                  <Typography.Text>\n                    <MintSymbol mintAddress={bidData.mintInfo?.address} />\n                  </Typography.Text>\n                </Space>\n                <Typography.Title level={4}>{bidData.amount}</Typography.Title>\n              </Space>\n            </Col>\n            <Col>\n              <IonIcon name=\"arrow-forward-outline\" style={{ fontSize: 24 }} />\n            </Col>\n            <Col>\n              <Space direction=\"vertical\" align=\"end\">\n                <Typography.Text>To</Typography.Text>\n                <Space>\n                  <MintAvatar mintAddress={askData.mintInfo?.address} />\n                  <Typography.Text>\n                    <MintSymbol mintAddress={askData.mintInfo?.address} />\n                  </Typography.Text>\n                </Space>\n                <Typography.Title level={4}>{askData.amount}</Typography.Title>\n              </Space>\n            </Col>\n          </Row>\n        </Col>\n        <Col>\n          <Card bordered={false} className=\"confirm-info\">\n            <Preview />\n          </Card>\n        </Col>\n        {tooHighImpact && (\n          <Col span={24}>\n            <Checkbox checked={checked} onChange={() => setChecked(!checked)}>\n              The price impact is currently high. Tick the checkbox to accept\n              the swap.\n            </Checkbox>\n          </Col>\n        )}\n        <Col span={24}>\n          <SwapAction onCallback={onCloseModal} forceSwap={checked} />\n        </Col>\n      </Row>\n    </Modal>\n  )\n}\nexport default ConfirmSwap\n","import { useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Button, Card, Col, Row, Typography } from 'antd'\nimport Preview from 'components/preview'\n\nimport ConfirmSwap from 'components/confirmSwap'\nimport { useSwapStatus } from 'hooks/useSwapStatus'\nimport { AppState } from 'model'\n\nconst SwapActions = () => {\n  const [visible, setVisible] = useState(false)\n  const { disabled, loading } = useSwapStatus()\n  const { enhancement } = useSelector((state: AppState) => state.settings)\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[24, 24]}>\n        <Col span={24}>\n          <Typography.Title level={5}>Review & Swap</Typography.Title>\n        </Col>\n        <Col span={24}>\n          <Preview />\n        </Col>\n        {enhancement && <Col span={24} />} {/* Safe sapce */}\n        <Col span={24}>\n          <Button\n            type=\"primary\"\n            onClick={() => setVisible(true)}\n            disabled={disabled}\n            loading={loading}\n            block\n          >\n            Review & Swap\n          </Button>\n        </Col>\n        <ConfirmSwap visible={visible} onCancel={setVisible} />\n      </Row>\n    </Card>\n  )\n}\n\nexport default SwapActions\n","import { util } from '@sentre/senhub'\n\nimport { Space, Typography } from 'antd'\nimport { MintAvatar, MintSymbol } from '@sen-use/app'\n\nconst MintPoolInfo = ({\n  mintAddress,\n  tvl = '',\n  price,\n  format = '0,0.[00]a',\n}: {\n  mintAddress: string\n  tvl?: string | number\n  price?: number\n  format?: string\n}) => {\n  return (\n    <Space direction=\"vertical\" size={4}>\n      <MintAvatar mintAddress={mintAddress} />\n      <Space>\n        <Typography.Text>TVL:</Typography.Text>\n        <Typography.Title level={5}>\n          {util.numeric(tvl).format(format)}\n        </Typography.Title>\n        <Typography.Title level={5}>\n          <MintSymbol mintAddress={mintAddress} />\n        </Typography.Title>\n      </Space>\n      <Typography.Text className=\"caption\" type=\"secondary\">\n        ~ ${util.numeric(price).format(format)}\n      </Typography.Text>\n    </Space>\n  )\n}\n\nexport default MintPoolInfo\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { PoolData, utils } from '@senswap/sen-js'\n\nimport { Card, Col, Divider, Row } from 'antd'\nimport MintPoolInfo from './mintPoolInfo'\n\nimport { AppState } from 'model'\nimport { extractReserve } from 'helper/router'\nimport useMintCgk from 'hooks/useMintCgk'\nimport './index.less'\nimport { util } from '@sentre/senhub/dist'\n\nconst PoolInfo = () => {\n  const {\n    route: { best },\n    bid: { mintInfo: bidMintInfo },\n    ask: { mintInfo: askMintInfo },\n  } = useSelector((state: AppState) => state)\n  const bidCgk = useMintCgk(bidMintInfo.address)\n  const askCgk = useMintCgk(askMintInfo.address)\n\n  const { poolData: bidPoolData } = best[0] || {}\n  const { poolData: askPoolData } = best[best.length - 1] || {}\n\n  const getMintTVL = (mintAddress?: string, poolData?: PoolData) => {\n    try {\n      if (!util.isAddress(mintAddress) || !poolData) return BigInt(0)\n      return extractReserve(mintAddress, poolData)\n    } catch (er) {\n      return BigInt(0)\n    }\n  }\n\n  // Bid TVL\n  const bidTVL = useMemo(() => {\n    if (!bidMintInfo.decimals) return 0\n    const bid = getMintTVL(bidMintInfo.address, bidPoolData)\n    return Number(utils.undecimalize(bid, bidMintInfo.decimals))\n  }, [bidMintInfo, bidPoolData])\n  // Ask TVL\n  const askTVL = useMemo(() => {\n    if (!askMintInfo.decimals) return 0\n    const ask = getMintTVL(askMintInfo.address, askPoolData)\n    return Number(utils.undecimalize(ask, askMintInfo.decimals))\n  }, [askMintInfo, askPoolData])\n\n  const disabled = !bidTVL || !askTVL\n\n  return (\n    <Card\n      bordered={false}\n      className={disabled ? 'disabled-swap-pool-info-card' : undefined}\n    >\n      <Row gutter={[16, 16]} wrap={false}>\n        <Col span={11}>\n          <MintPoolInfo\n            mintAddress={bidMintInfo?.address || ''}\n            tvl={bidTVL}\n            price={bidTVL * bidCgk.price}\n          />\n        </Col>\n        <Col>\n          <Divider type=\"vertical\" style={{ height: '100%' }} />\n        </Col>\n        <Col span={11}>\n          <MintPoolInfo\n            mintAddress={askMintInfo?.address || ''}\n            tvl={askTVL}\n            price={askTVL * askCgk.price}\n          />\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default PoolInfo\n","export type EthAddressConfig = {\n  mainnet: string\n  goerli: string\n  ropsten: string\n}\n\nexport type EthChainIdConfig = {\n  mainnet: number\n  goerli: number\n  ropsten: number\n}\n\nexport type EtherNetwork = 'mainnet' | 'goerli'\n\nexport type EtherConfigSet = {\n  mainnet: string\n  goerli: string\n  ropsten: string\n}\n\nexport type MoralisStructure = {\n  url: string\n  apiKey: string\n}\n\nexport const ETH_BRIDGE_ADDRESS: EthAddressConfig = {\n  mainnet: '0x98f3c9e6E3fAce36bAAd05FE09d375Ef1464288B',\n  goerli: '0x706abc4E45D419950511e474C7B9Ed348A4a716c',\n  ropsten: '0xC89Ce4735882C9F0f0FE26686c53074E09B0D550',\n}\n\nexport const ETH_TOKEN_BRIDGE_ADDRESS: EthAddressConfig = {\n  mainnet: '0x3ee18B2214AFF97000D974cf647E7C347E8fa585',\n  goerli: '0xf890982f9310df57d00f659cf4fd87e65aded8d7',\n  ropsten: '0x0290FB167208Af455bB137780163b7B7a9a10C16',\n}\n\nexport const CHAIN_ID_ETH: EthChainIdConfig = {\n  mainnet: 1,\n  goerli: 5,\n  ropsten: 3,\n}\n\nexport const MORALIS_INFO: MoralisStructure = {\n  url: 'https://deep-index.moralis.io/api/v2',\n  apiKey: 'N6yeIUl1FxCPZWbXyxLHWPAjSr6ahQeJTX3d19pSKCwHsLCzpWE7z1hilon4xDOd',\n}\n\nexport const INFURA_API_KEY: String = '5eb1b92f2065414d9dd21858fac54257'\n\nexport const INFURA_API_HTTP_URL: EtherConfigSet = {\n  mainnet: `https://mainnet.infura.io/v3/${INFURA_API_KEY}`,\n  goerli: `https://goerli.infura.io/v3/${INFURA_API_KEY}`,\n  ropsten: `https://ropsten.infura.io/v3/${INFURA_API_KEY}`,\n}\n\nexport const INFURA_API_WSS_URL: EtherConfigSet = {\n  mainnet: `wss://mainnet.infura.io/ws/v3/${INFURA_API_KEY}`,\n  goerli: `wss://goerli.infura.io/ws/v3/${INFURA_API_KEY}`,\n  ropsten: `wss://ropsten.infura.io/ws/v3/${INFURA_API_KEY}`,\n}\n","export type SolNetWork = 'mainnet' | 'devnet'\n\nexport type SolAddressConfig = {\n  mainnet: string\n  testnet: string\n  devnet: string\n}\n\nexport const SOL_BRIDGE_ADDRESS: SolAddressConfig = {\n  mainnet: 'worm2ZoG2kUd4vFXhvjh93UUH596ayRfgQ2MgjNMTth',\n  testnet: 'Brdguy7BmNB4qwEbcqqMbyV5CyJd2sxQNUn6NEpMSsUb',\n  devnet: '3u8hJUVTA4jH1wYAyUur7FFZVQ8H635K3tSHHF4ssjQ5',\n}\n\nexport const SOL_TOKEN_BRIDGE_ADDRESS: SolAddressConfig = {\n  mainnet: 'wormDTUJ6AWPNvk59vGQbDvGJmqbDTdgWgAqcLBCgUb',\n  testnet: 'A4Us8EhCC76XdGAN17L4KpRNEK423nMivVHZzZqFqqBg',\n  devnet: 'DZnkkTmCiFWfYTfT41X3Rd1kDgozqzxWaHqsw6W4x2oe',\n}\n","import { CHAIN_ID_ETH, CHAIN_ID_SOLANA } from '@certusone/wormhole-sdk'\nimport { storage } from '@sentre/senhub'\n\nimport {\n  EtherNetwork,\n  ETH_BRIDGE_ADDRESS,\n  ETH_TOKEN_BRIDGE_ADDRESS,\n} from 'constant/ethConfig'\nimport {\n  SolNetWork,\n  SOL_BRIDGE_ADDRESS,\n  SOL_TOKEN_BRIDGE_ADDRESS,\n} from 'constant/solConfig'\nimport { getIsWrappedAssetSol } from '@certusone/wormhole-sdk'\n\nexport const getSolNetwork = () => {\n  const solNetwork = storage.get('network') || 'mainnet'\n  return solNetwork\n}\n\nexport const getEtherNetwork = () => {\n  const solNetwork = getSolNetwork()\n  const etherNetwork = solNetwork === 'mainnet' ? 'mainnet' : 'goerli'\n  return etherNetwork\n}\n\nexport const getEtherContext = () => {\n  const etherNetwork: EtherNetwork = getEtherNetwork()\n  return {\n    chainId: CHAIN_ID_ETH,\n    tokenBridgeAddress: ETH_TOKEN_BRIDGE_ADDRESS[etherNetwork],\n    bridgeAddress: ETH_BRIDGE_ADDRESS[etherNetwork],\n  }\n}\n\nexport const getSolContext = () => {\n  const solNetWork: SolNetWork = getSolNetwork()\n  return {\n    chainId: CHAIN_ID_SOLANA,\n    tokenBridgeAddress: SOL_TOKEN_BRIDGE_ADDRESS[solNetWork],\n    bridgeAddress: SOL_BRIDGE_ADDRESS[solNetWork],\n  }\n}\n\nexport const checkAttestedWormhole = async (mintAddress: string) => {\n  const solContext = getSolContext()\n  return getIsWrappedAssetSol(\n    window.sentre.splt.connection,\n    solContext.tokenBridgeAddress,\n    mintAddress,\n  )\n}\n","import { lazy, Suspense, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Popover, Tag } from 'antd'\n\nimport { AppState } from 'model'\nimport { checkAttestedWormhole } from 'helper/wormhole'\nimport { util } from '@sentre/senhub'\n\nconst WORMHOLE_COLOR = '#F9575E'\n\nconst FrameWormhole = () => {\n  const FrameWormhole = lazy(() =>\n    // @ts-ignore\n    import('@frame/sen_assets/bootstrap').then((module) => ({\n      default: module.FrameWormhole,\n    })),\n  )\n  return (\n    <Suspense fallback=\"Loading...\">\n      <FrameWormhole />\n    </Suspense>\n  )\n}\n\nconst WormholeSupported = () => {\n  const [wormholeSupported, setWormholeSupported] = useState(false)\n  const {\n    bid: { mintInfo },\n  } = useSelector((state: AppState) => state)\n  const { address: mintAddress } = mintInfo || {}\n\n  useEffect(() => {\n    ;(async () => {\n      if (!util.isAddress(mintAddress)) return setWormholeSupported(false)\n      const wormholeSupported = await checkAttestedWormhole(mintAddress)\n      return setWormholeSupported(wormholeSupported)\n    })()\n  }, [mintAddress])\n\n  if (!wormholeSupported) return null\n  return (\n    <Popover\n      overlayInnerStyle={{\n        background: 'transparent',\n        width: 375,\n        boxShadow: 'none',\n      }}\n      trigger=\"click\"\n      content={<FrameWormhole />}\n    >\n      <Tag\n        style={{\n          margin: 0,\n          borderRadius: 4,\n          color: util.randomColor(WORMHOLE_COLOR),\n          cursor: 'pointer',\n        }}\n        color={util.randomColor(WORMHOLE_COLOR, 0.2)}\n      >\n        Wormhole Bridge\n      </Tag>\n    </Popover>\n  )\n}\n\nexport default WormholeSupported\n","var _defs, _path, _path2;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgSen(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    \"data-name\": \"Layer 1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 283.465 283.465\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient\",\n    x1: -1222.504,\n    y1: -2883.343,\n    x2: -1135.428,\n    y2: -2970.419,\n    gradientTransform: \"translate(1300.837 3068.613)\",\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#f9575e\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.27,\n    stopColor: \"#f8555b\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.486,\n    stopColor: \"#f44f51\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.685,\n    stopColor: \"#ee4540\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.871,\n    stopColor: \"#e63728\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#de2a13\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient-2\",\n    x1: 1314.111,\n    y1: -895.144,\n    x2: 1389.882,\n    y2: -811.556,\n    gradientTransform: \"translate(1516.988 -707.868) rotate(180)\",\n    xlinkHref: \"#linear-gradient\"\n  }))), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"Senswap logo FINAL\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M37.179,85.127H114a92.562,92.562,0,0,1,92.562,92.562v20.648a0,0,0,0,1,0,0H129.741a92.562,92.562,0,0,1-92.562-92.562V85.127A0,0,0,0,1,37.179,85.127Z\",\n    transform: \"translate(107.828 328.128) rotate(-135)\",\n    fill: \"url(#linear-gradient)\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M169.462,85.127h76.823a0,0,0,0,1,0,0v20.648a92.562,92.562,0,0,1-92.562,92.562H76.9a0,0,0,0,1,0,0V177.689a92.562,92.562,0,0,1,92.562-92.562Z\",\n    transform: \"translate(-52.89 155.776) rotate(-45)\",\n    fill: \"url(#linear-gradient-2)\"\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgSen);\nexport default __webpack_public_path__ + \"static/media/sen.f2d012c907167ba613b035621b6423cb.svg\";\nexport { ForwardRef as ReactComponent };","import { Avatar, Space, Tooltip, Typography } from 'antd'\nimport SentreIcon from 'static/images/sen.svg'\n\nexport type PoweredBySentreProps = {\n  title?: string\n  spacing?: number\n  iconSize?: number\n}\n\nconst PoweredBySentre = ({\n  title = 'Powered by',\n  spacing = 4,\n  iconSize = 20,\n}: PoweredBySentreProps) => {\n  return (\n    <Space size={spacing} style={{ cursor: 'pointer' }}>\n      <Typography.Text style={{ fontSize: 12, color: '#7A7B85' }}>\n        {title}\n      </Typography.Text>\n      <Tooltip title=\"Sentre Protocol\">\n        <Avatar src={SentreIcon} size={iconSize} />\n      </Tooltip>\n    </Space>\n  )\n}\n\nexport default PoweredBySentre\n","import { Row, Col, Button, Typography, Tooltip } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nconst Option = ({\n  label,\n  value,\n  onClick,\n  active = false,\n}: {\n  label: string\n  value: number\n  onClick: (value: number) => void\n  active?: boolean\n}) => {\n  return (\n    <Typography.Text\n      style={{ cursor: 'pointer', color: active ? '#F9575E' : 'inherit' }}\n      onClick={() => onClick(value)}\n    >\n      {label}\n    </Typography.Text>\n  )\n}\n\nconst Slippage = ({\n  value,\n  onChange,\n}: {\n  value: number\n  onChange: (value: number) => void\n}) => {\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Row gutter={[8, 8]} wrap={false}>\n          <Col flex=\"auto\">\n            <Typography.Text type=\"secondary\" style={{ fontSize: 12 }}>\n              Slippage Tolerance\n            </Typography.Text>\n          </Col>\n          <Col>\n            <Tooltip\n              placement=\"right\"\n              title={\n                <span>\n                  Your transaction will be canceled if the confirmed price\n                  breaks the limited range of{' '}\n                  <strong style={{ color: '#f9575e' }}>{`${\n                    value * 100\n                  }%.`}</strong>\n                </span>\n              }\n            >\n              <Button\n                type=\"text\"\n                shape=\"circle\"\n                size=\"small\"\n                icon={<IonIcon name=\"information-circle-outline\" />}\n              />\n            </Tooltip>\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Row gutter={[8, 8]} wrap={false} justify=\"space-between\">\n          {[0.001, 0.005, 0.01, 0.05, 1].map((e, i) => (\n            <Col key={i}>\n              <Option\n                label={e === 1 ? 'Freely' : `${e * 100}%`}\n                value={e}\n                onClick={onChange}\n                active={e === value}\n              />\n            </Col>\n          ))}\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Slippage\n","import { Row, Col, Typography, Switch } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nconst Advanced = ({\n  value,\n  onChange,\n}: {\n  value: boolean\n  onChange: (value: boolean) => void\n}) => {\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Row gutter={[8, 8]} wrap={false}>\n          <Col flex=\"auto\">\n            <Typography.Text>Advanced Mode</Typography.Text>\n          </Col>\n          <Col>\n            <Switch size=\"small\" checked={value} onChange={onChange} />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Typography.Paragraph className=\"caption\">\n          <IonIcon name=\"warning-outline\" /> This advanced mode will disable the\n          automatic protection that often results in bad rates and lost funds.\n          Only use this mode if you know what you are doing.\n        </Typography.Paragraph>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Advanced\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\n\nexport type State = {\n  slippage: number\n  advanced: boolean\n  enhancement: boolean\n}\n\nconst NAME = 'settings'\nconst initialState: State = {\n  slippage: 0.01,\n  advanced: false,\n  enhancement: false,\n}\n\n/**\n * Actions\n */\n\nexport const updateSettings = createAsyncThunk(\n  `${NAME}/updateSettings`,\n  async (settings: Partial<State>) => ({ ...settings }),\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      updateSettings.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { Col, Row, Switch, Typography } from 'antd'\n\nconst Enhancement = ({\n  value,\n  onChange,\n}: {\n  value: boolean\n  onChange: (value: boolean) => void\n}) => {\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Row gutter={[8, 8]} wrap={false}>\n          <Col flex=\"auto\">\n            <Typography.Text>Enhancement UI</Typography.Text>\n          </Col>\n          <Col>\n            <Switch size=\"small\" checked={value} onChange={onChange} />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Typography.Paragraph className=\"caption\">\n          Take advantage of all the familiar tools.\n        </Typography.Paragraph>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Enhancement\n","import { useDispatch, useSelector } from 'react-redux'\n\nimport { Row, Col, Button, Popover, Typography, Divider } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport PoweredBySentre from 'components/poweredBySentre'\nimport Slippage from './slippage'\nimport Advanced from './advanced'\n\nimport { updateSettings } from 'model/settings.controller'\nimport { AppDispatch, AppState } from 'model'\nimport Enhancement from './enhancement'\n\nconst Settings = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const { slippage, advanced, enhancement } = useSelector(\n    (state: AppState) => state.settings,\n  )\n\n  const onSlippage = (slippage: number) => {\n    return dispatch(updateSettings({ slippage }))\n  }\n  const onAdvanced = (advanced: boolean) => {\n    return dispatch(updateSettings({ advanced }))\n  }\n  const onEnhancement = (enhancement: boolean) => {\n    return dispatch(updateSettings({ enhancement }))\n  }\n\n  return (\n    <Row gutter={[4, 4]} justify=\"end\" align=\"middle\" wrap={false}>\n      <Col>\n        <PoweredBySentre />\n      </Col>\n      <Col>\n        <Divider type=\"vertical\" style={{ padding: 0 }} />\n      </Col>\n      <Col>\n        <Popover\n          placement=\"bottomRight\"\n          overlayInnerStyle={{ width: 300 }}\n          content={\n            <Row gutter={[8, 8]}>\n              <Col span={24}>\n                <Typography.Title level={5}>Settings</Typography.Title>\n              </Col>\n              <Col span={24}>\n                <Slippage value={slippage} onChange={onSlippage} />\n              </Col>\n              <Divider style={{ margin: 0 }} />\n              <Col span={24}>\n                <Advanced value={advanced} onChange={onAdvanced} />\n              </Col>\n              <Divider style={{ margin: 0 }} />\n              <Col span={24}>\n                <Enhancement value={enhancement} onChange={onEnhancement} />\n              </Col>\n            </Row>\n          }\n          trigger=\"click\"\n        >\n          <Button\n            type=\"text\"\n            shape=\"circle\"\n            size=\"small\"\n            icon={<IonIcon name=\"settings-outline\" />}\n          />\n        </Popover>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Settings\n","import { useCallback, useEffect, useState } from 'react'\nimport { tokenProvider, useWalletAddress, util } from '@sentre/senhub'\n\nimport { SelectionInfo } from 'components/selection/mintSelection'\nimport { usePool } from 'hooks/usePool'\n\nconst DEFAULT_INFO = {\n  accountAddress: '',\n  poolAddresses: [],\n}\n\ntype MintSelection = SelectionInfo & {\n  accountAddress?: string\n}\n\nexport const useMintSelection = (mintAddress: string): MintSelection => {\n  const { pools } = usePool()\n  const walletAddress = useWalletAddress()\n  const [selectionInfo, setSelectionInfo] =\n    useState<MintSelection>(DEFAULT_INFO)\n\n  const getSelectionInfo = useCallback(async () => {\n    if (!util.isAddress(mintAddress) || !Object.keys(pools).length)\n      return setSelectionInfo(DEFAULT_INFO)\n\n    const mintInfo = await tokenProvider.findByAddress(mintAddress)\n    if (!mintInfo) return setSelectionInfo(DEFAULT_INFO)\n    const { splt } = window.sentre\n    // get mint account\n    const accountAddress = await splt.deriveAssociatedAddress(\n      walletAddress,\n      mintAddress,\n    )\n    // get pools\n    const poolAddresses = Object.keys(pools).filter((poolAddress) => {\n      const { mint_a, mint_b } = pools[poolAddress]\n      return [mint_a, mint_b].includes(mintAddress)\n    })\n    setSelectionInfo({\n      accountAddress,\n      mintInfo,\n      poolAddresses,\n    })\n  }, [mintAddress, pools, walletAddress])\n\n  useEffect(() => {\n    getSelectionInfo()\n  }, [getSelectionInfo])\n\n  return selectionInfo\n}\n","import { useMemo, useEffect, useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useLocation } from 'react-router-dom'\n\nimport { useGetMintDecimals, useTheme, useWalletAddress } from '@sentre/senhub'\n\nimport { Row, Col, Typography, Space, InputNumber } from 'antd'\nimport { SelectionInfo } from '../selection/mintSelection'\nimport { MintSelection, MintSymbol } from '@sen-use/app'\n\nimport configs from 'configs'\nimport { util } from '@sentre/senhub'\nimport { AppDispatch, AppState } from 'model'\nimport { updateAskData } from 'model/ask.controller'\nimport { useMintSelection } from 'hooks/useMintSelection'\nimport { SenLpState } from 'constant/senLpState'\nimport useAccountBalance from 'shared/hooks/useAccountBalance'\nimport { setLoadingSenSwap } from 'model/route.controller'\nimport { usePool } from 'hooks/usePool'\n\nconst Ask = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const walletAddress = useWalletAddress()\n  const { pools } = usePool()\n  const getDecimals = useGetMintDecimals()\n  const theme = useTheme()\n  const {\n    ask: { amount, accountAddress, mintInfo, poolAddresses },\n  } = useSelector((state: AppState) => state)\n  const { state } = useLocation<SenLpState>()\n  const { balance: maxBalance } = useAccountBalance(accountAddress)\n  const selectionDefault = useMintSelection(configs.swap.askDefault)\n  const poolAddress = state?.poolAddress\n\n  // Select default\n  useEffect(() => {\n    if (util.isAddress(accountAddress) || util.isAddress(poolAddress)) return\n    dispatch(setLoadingSenSwap({ loadingSenswap: true }))\n    dispatch(updateAskData(selectionDefault))\n  }, [accountAddress, dispatch, poolAddress, selectionDefault])\n\n  // Compute selection info\n  const selectionInfo: SelectionInfo = useMemo(\n    () => ({ mintInfo, poolAddresses }),\n    [mintInfo, poolAddresses],\n  )\n\n  // Handle amount\n  const onAmount = (val: string) => {\n    dispatch(setLoadingSenSwap({ loadingSenswap: true }))\n    dispatch(updateAskData({ amount: val, prioritized: true }))\n  }\n\n  // Compute available pools\n  const getAvailablePoolAddresses = useCallback(\n    (mintAddress: string) => {\n      if (!util.isAddress(mintAddress)) return []\n      return Object.keys(pools).filter((poolAddress) => {\n        const { mint_a, mint_b } = pools[poolAddress]\n        return [mint_a, mint_b].includes(mintAddress)\n      })\n    },\n    [pools],\n  )\n\n  const onSelectionInfo = async (mintAddress: string) => {\n    const { splt } = window.sentre\n    const poolAddresses = getAvailablePoolAddresses(mintAddress)\n    const decimals = (await getDecimals({ mintAddress })) || 0\n\n    const selectionInfo: SelectionInfo = {\n      mintInfo: {\n        address: mintAddress,\n        decimals,\n      },\n      poolAddresses,\n    }\n\n    dispatch(setLoadingSenSwap({ loadingSenswap: true }))\n    if (!util.isAddress(mintAddress))\n      return dispatch(\n        updateAskData({ amount: '', prioritized: true, ...selectionInfo }),\n      )\n    const accountAddress = await splt.deriveAssociatedAddress(\n      walletAddress,\n      mintAddress,\n    )\n\n    return dispatch(\n      updateAskData({\n        amount: '',\n        prioritized: true,\n        accountAddress,\n        ...selectionInfo,\n      }),\n    )\n  }\n\n  const DARK_BOX_SHADOW = '0px 4px 44px rgba(0, 0, 0, 0.42)'\n  const LIGHT_BOX_SHADOW = '0px 4px 40px rgba(33, 36, 51, 0.18)'\n\n  const MINT_SELECTION_STYLE = {\n    marginLeft: -7,\n    padding: '3px 8px',\n    borderRadius: 8,\n    cursor: 'pointer',\n    boxShadow: theme === 'dark' ? DARK_BOX_SHADOW : LIGHT_BOX_SHADOW,\n  }\n\n  return (\n    <Row gutter={[0, 0]}>\n      <Col>\n        <MintSelection\n          value={mintInfo.address}\n          onChange={onSelectionInfo}\n          style={MINT_SELECTION_STYLE}\n        />\n      </Col>\n      <Col flex=\"1\">\n        <InputNumber\n          bordered={false}\n          className=\"amount-input\"\n          placeholder=\"0\"\n          value={amount}\n          onChange={onAmount}\n          controls={false}\n          min=\"0\"\n        />\n      </Col>\n      <Col span={24}>\n        <Space className=\"caption\">\n          <Typography.Text type=\"secondary\">Available:</Typography.Text>\n          <Typography.Text type=\"secondary\">\n            {util.numeric(maxBalance).format('0,0.[00]')}\n          </Typography.Text>\n          <Typography.Text type=\"secondary\">\n            <MintSymbol mintAddress={selectionInfo.mintInfo?.address || ''} />\n          </Typography.Text>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Ask\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useLocation } from 'react-router-dom'\n\nimport { DEFAULT_WSOL, utils } from '@senswap/sen-js'\nimport {\n  useGetMintDecimals,\n  useTheme,\n  useWalletAddress,\n  useWalletBalance,\n} from '@sentre/senhub'\nimport { util } from '@sentre/senhub'\n\nimport { Row, Col, Typography, Space, Radio, InputNumber } from 'antd'\nimport { MintSelection, MintSymbol } from '@sen-use/app'\n\nimport { AppDispatch, AppState } from 'model'\nimport { updateBidData } from 'model/bid.controller'\nimport { SelectionInfo } from '../selection/mintSelection'\nimport { useMintSelection } from 'hooks/useMintSelection'\nimport { SenLpState } from 'constant/senLpState'\nimport useAccountBalance from 'shared/hooks/useAccountBalance'\nimport { setLoadingSenSwap } from 'model/route.controller'\nimport { usePool } from 'hooks/usePool'\n\nimport configs from 'configs'\n\nconst {\n  swap: { bidDefault },\n} = configs\n\nexport enum RATE {\n  FIFTY = 50,\n  HUNDRED = 100,\n}\n\nconst Bid = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const walletAddress = useWalletAddress()\n  const lamports = useWalletBalance()\n  const { pools } = usePool()\n  const getDecimals = useGetMintDecimals()\n  const theme = useTheme()\n\n  const {\n    bid: { amount: bidAmount, accountAddress, mintInfo, poolAddresses },\n  } = useSelector((state: AppState) => state)\n  const { amount: balance } = useAccountBalance(accountAddress)\n  const selectionDefault = useMintSelection(bidDefault)\n  const { state } = useLocation<SenLpState>()\n  const poolAdress = state?.poolAddress\n  const { address: mintAddress, decimals } = mintInfo\n  const [activeValue, setActiveValue] = useState(0)\n\n  // Select default\n  useEffect(() => {\n    if (util.isAddress(accountAddress) || util.isAddress(poolAdress)) return\n    dispatch(setLoadingSenSwap({ loadingSenswap: true }))\n    dispatch(updateBidData(selectionDefault))\n  }, [accountAddress, dispatch, poolAdress, selectionDefault])\n\n  // Compute selection info\n  const selectionInfo: SelectionInfo = useMemo(\n    () => ({ mintInfo, poolAddresses }),\n    [mintInfo, poolAddresses],\n  )\n\n  const fiftyPerBtn = useMemo(() => {\n    if (activeValue === RATE.HUNDRED) return RATE.HUNDRED\n    return RATE.FIFTY\n  }, [activeValue])\n\n  // Compute human-readable balance\n  const maxBalance = useMemo((): string => {\n    if (mintAddress !== DEFAULT_WSOL)\n      return utils.undecimalize(balance, decimals)\n    // So estimate max = 0.01 fee -> multi transaction.\n    const estimateFee = utils.decimalize(0.01, decimals)\n    const max = lamports + balance - estimateFee\n    if (max <= balance) return utils.undecimalize(balance, decimals)\n    return utils.undecimalize(max, decimals)\n  }, [balance, decimals, lamports, mintAddress])\n\n  // Handle amount\n  const onAmount = useCallback(\n    (val: string) => {\n      dispatch(setLoadingSenSwap({ loadingSenswap: true }))\n      return dispatch(updateBidData({ amount: val, prioritized: true }))\n    },\n\n    [dispatch],\n  )\n  // All in :)))\n  const onMax = () => onAmount(maxBalance)\n  // set percent balance\n  const onChangePercentAmount = useCallback(\n    (activeValue: RATE) => {\n      if (!maxBalance) return\n      const numMaxBalance = Number(maxBalance)\n      if (numMaxBalance < 5 / 10 ** 6) return onAmount(maxBalance)\n      const percentageBalance = numMaxBalance * (activeValue / 100)\n      return onAmount(`${percentageBalance}`)\n    },\n    [maxBalance, onAmount],\n  )\n\n  const checkActive = useCallback(() => {\n    const numMaxBalance = Number(maxBalance)\n    const amount = Number(bidAmount)\n    if (!numMaxBalance || numMaxBalance === 0) return setActiveValue(0)\n    if (numMaxBalance === amount) return setActiveValue(RATE.HUNDRED)\n    if (numMaxBalance / 2 === amount) return setActiveValue(RATE.FIFTY)\n    return setActiveValue(0)\n  }, [bidAmount, maxBalance])\n\n  // Compute available pools\n  const getAvailablePoolAddresses = useCallback(\n    (mintAddress: string) => {\n      if (!util.isAddress(mintAddress)) return []\n      return Object.keys(pools).filter((poolAddress) => {\n        const { mint_a, mint_b } = pools[poolAddress]\n        return [mint_a, mint_b].includes(mintAddress)\n      })\n    },\n    [pools],\n  )\n\n  // Update bid data\n  const onSelectionInfo = async (mintAddress: string) => {\n    const { splt } = window.sentre\n    const poolAddresses = getAvailablePoolAddresses(mintAddress)\n    const decimals = (await getDecimals({ mintAddress })) || 0\n\n    const selectionInfo: SelectionInfo = {\n      mintInfo: {\n        address: mintAddress,\n        decimals,\n      },\n      poolAddresses,\n    }\n\n    dispatch(setLoadingSenSwap({ loadingSenswap: true }))\n    if (!util.isAddress(mintAddress))\n      return dispatch(\n        updateBidData({ amount: '', prioritized: true, ...selectionInfo }),\n      )\n    const accountAddress = await splt.deriveAssociatedAddress(\n      walletAddress,\n      mintAddress,\n    )\n\n    return dispatch(\n      updateBidData({\n        amount: '',\n        prioritized: true,\n        accountAddress,\n        ...selectionInfo,\n      }),\n    )\n  }\n\n  useEffect(() => {\n    checkActive()\n  }, [checkActive])\n\n  const DARK_BOX_SHADOW = '0px 4px 44px rgba(0, 0, 0, 0.42)'\n  const LIGHT_BOX_SHADOW = '0px 4px 40px rgba(33, 36, 51, 0.18)'\n\n  const MINT_SELECTION_STYLE = {\n    marginLeft: -7,\n    padding: '3px 8px',\n    borderRadius: 8,\n    cursor: 'pointer',\n    boxShadow: theme === 'dark' ? DARK_BOX_SHADOW : LIGHT_BOX_SHADOW,\n  }\n\n  return (\n    <Row gutter={[0, 0]} align=\"middle\">\n      <Col>\n        <MintSelection\n          value={mintAddress}\n          onChange={onSelectionInfo}\n          style={MINT_SELECTION_STYLE}\n        />\n      </Col>\n      <Col flex=\"1\">\n        <InputNumber\n          bordered={false}\n          className=\"amount-input\"\n          placeholder=\"0\"\n          value={bidAmount}\n          onChange={onAmount}\n          controls={false}\n          min=\"0\"\n        />\n      </Col>\n      <Col span={24}>\n        <Row align=\"middle\">\n          <Col flex=\"auto\">\n            <Space className=\"caption\">\n              <Typography.Text type=\"secondary\">Available:</Typography.Text>\n              <Typography.Text\n                type=\"secondary\"\n                style={{ cursor: 'pointer' }}\n                onClick={onMax}\n              >\n                {util.numeric(maxBalance || 0).format('0,0.[00]')}\n              </Typography.Text>\n              <Typography.Text type=\"secondary\">\n                <MintSymbol\n                  mintAddress={selectionInfo.mintInfo?.address || ''}\n                />\n              </Typography.Text>\n            </Space>\n          </Col>\n          <Col>\n            <Radio.Group value={activeValue} buttonStyle=\"solid\">\n              <Space>\n                <Space size={4} direction=\"vertical\">\n                  <Radio.Button\n                    className=\"rate-btn\"\n                    onClick={() => onChangePercentAmount(RATE.FIFTY)}\n                    value={fiftyPerBtn}\n                  />\n                  <Typography.Text type=\"secondary\" className=\"caption\">\n                    {RATE.FIFTY}%\n                  </Typography.Text>\n                </Space>\n                <Space size={4} direction=\"vertical\">\n                  <Radio.Button\n                    className=\"rate-btn\"\n                    onClick={() => onChangePercentAmount(RATE.HUNDRED)}\n                    value={RATE.HUNDRED}\n                  />\n                  <Typography.Text type=\"secondary\" className=\"caption\">\n                    {RATE.HUNDRED}%\n                  </Typography.Text>\n                </Space>\n              </Space>\n            </Radio.Group>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Bid\n","import { useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Button, Col, Row } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport Ask from '../ask'\nimport Bid from '../bid'\n\nimport { AppDispatch, AppState } from 'model'\nimport { updateAskData } from 'model/ask.controller'\nimport { updateBidData } from 'model/bid.controller'\nimport { setLoadingSenSwap } from 'model/route.controller'\n\nconst SwapInput = ({ widget = false }: { widget?: boolean }) => {\n  const dispatch = useDispatch<AppDispatch>()\n  const { bid: bidData, ask: askData } = useSelector((state: AppState) => state)\n\n  /**\n   * Switch tokens\n   */\n  const onSwitch = useCallback(async () => {\n    const { amount: bidAmount, priority: bidPriority, ...bidRest } = bidData\n    const { amount: askAmount, priority: askPriority, ...askRest } = askData\n    const amount = bidPriority > askPriority ? bidAmount : askAmount\n    const updateData = bidPriority > askPriority ? updateAskData : updateBidData\n    await dispatch(setLoadingSenSwap({ loadingSenswap: true }))\n    await dispatch(updateBidData({ ...askRest, amount: '', reset: true }))\n    await dispatch(updateAskData({ ...bidRest, amount: '', reset: true }))\n    await dispatch(updateData({ amount, prioritized: true }))\n  }, [dispatch, askData, bidData])\n\n  const bidStyle = widget\n    ? { padding: '16px 16px 40px' }\n    : { padding: '6px 24px 16px' }\n  const askStyle = widget\n    ? { padding: '0 16px 16px' }\n    : { padding: '0 24px 24px' }\n  const wrapStype = widget ? { margin: '0 -12px' } : {}\n\n  return (\n    <Row gutter={[0, 0]} justify=\"center\" style={{ ...wrapStype }}>\n      <Col span={24} style={{ ...bidStyle }} className=\"swap-bid\">\n        <Bid />\n      </Col>\n      <Col style={{ top: -12 }}>\n        <Button\n          className=\"btn-switch-type\"\n          size=\"small\"\n          icon={<IonIcon name=\"git-compare-outline\" />}\n          onClick={onSwitch}\n        />\n      </Col>\n      <Col span={24} style={{ ...askStyle }}>\n        <Ask />\n      </Col>\n    </Row>\n  )\n}\n\nexport default SwapInput\n","import { Col, Row } from 'antd'\nimport WormholeSupported from '../bid/wormholeSupported'\nimport Settings from '../settings'\nimport SwapInput from './swapInput'\n\nconst SwapForm = () => {\n  return (\n    <Row gutter={0}>\n      <Col span={24} className=\"swap-setting\">\n        <Row>\n          <Col flex=\"auto\">\n            <WormholeSupported />\n          </Col>\n          <Col>\n            <Settings />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <SwapInput />\n      </Col>\n    </Row>\n  )\n}\n\nexport default SwapForm\n","import { useSelector } from 'react-redux'\n\nimport { Card, Col, Row } from 'antd'\nimport SwapReview from './swapReview'\nimport PoolInfo from './poolInfo'\nimport SwapForm from 'components/swapForm'\nimport { AppState } from 'model'\n\nconst Swap = () => {\n  const { enhancement } = useSelector((state: AppState) => state.settings)\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Card bordered={false} className=\"card-swap\" bodyStyle={{ padding: 0 }}>\n          <SwapForm />\n        </Card>\n      </Col>\n      <Col span={24}>\n        <SwapReview />\n      </Col>\n      {enhancement && (\n        <Col span={24}>\n          <PoolInfo />\n        </Col>\n      )}\n    </Row>\n  )\n}\n\nexport default Swap\n","import { Tag } from 'antd'\n\nconst STATUS_COLOR: Record<string, number[]> = {\n  success: [20, 224, 65],\n  pending: [212, 177, 6],\n  error: [215, 35, 17],\n  failed: [215, 35, 17],\n}\n\nconst StatusTag = ({ tag }: { tag: string }) => {\n  const setColorTag = (opacity?: number) => {\n    let color = STATUS_COLOR[tag]\n    return `rgba(${color[0]},  ${color[1]}, ${color[2]},${opacity || 1})`\n  }\n\n  return (\n    <Tag\n      style={{\n        margin: 0,\n        borderRadius: 4,\n        color: setColorTag(),\n        textTransform: 'capitalize',\n      }}\n      color={setColorTag(0.1)}\n    >\n      {tag}\n    </Tag>\n  )\n}\n\nexport default StatusTag\n","import { util } from '@sentre/senhub'\n\nimport { Button, Space, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport StatusTag from './statusTag'\nimport { MintAvatar, MintSymbol } from '@sen-use/app'\n\nconst FORMAT_AMOUNT = '0,00.[0000]a'\n\nexport const HISTORY_COLUMN = [\n  {\n    title: 'TIME',\n    dataIndex: 'time',\n  },\n  {\n    title: 'TRANSACTION',\n    dataIndex: 'transactionId',\n    render: (text: string) => (\n      <Space align=\"baseline\">\n        <Typography.Text\n          onClick={() => window.open(util.explorer(text), '_blank')}\n          style={{ fontWeight: 700, cursor: 'pointer' }}\n        >\n          {util.shortenAddress(text, 3, '...')}\n        </Typography.Text>\n        <Button\n          type=\"text\"\n          size=\"small\"\n          onClick={() => window.open(util.explorer(text), '_blank')}\n          icon={<IonIcon name=\"open-outline\" />}\n        />\n      </Space>\n    ),\n  },\n\n  {\n    title: 'BID',\n    dataIndex: 'bid',\n    render: (text: string, record: any) =>\n      !record.from ? (\n        '--'\n      ) : (\n        <Space size={8}>\n          <MintAvatar mintAddress={record.from} />\n          {util.numeric(record.amountFrom).format(FORMAT_AMOUNT)}\n          <MintSymbol mintAddress={record.from} />\n        </Space>\n      ),\n  },\n  {\n    title: 'ASK',\n    dataIndex: 'ask',\n    render: (text: string, record: any) =>\n      !record.to ? (\n        '--'\n      ) : (\n        <Space size={8}>\n          <MintAvatar mintAddress={record.to} />\n          {util.numeric(record.amountTo).format(FORMAT_AMOUNT)}\n          <MintSymbol mintAddress={record.to} />\n        </Space>\n      ),\n  },\n  {\n    title: 'STATUS',\n    dataIndex: 'status',\n    width: 100,\n    render: (text: string, record: any) => <StatusTag tag={record.status} />,\n  },\n]\n","import { Web3Storage } from 'web3.storage'\n\nimport { DataLoader } from '@sentre/senhub'\n\nconst KEY =\n  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDIxNDNmRDMwMDU0MmUyMDA4ZEVCNUI5OTAzOTgyREQ4QmUxMGYxMzMiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2NTY1NjQ2MjI0ODYsIm5hbWUiOiJzZW4tc3dhcCJ9.l3hgMMpDuFMaDcDukoCB6NJ5b-9p0_nZnfbwnp3izG4'\n\nclass IPFS {\n  private provider: Web3Storage\n  constructor() {\n    this.provider = new Web3Storage({\n      token: KEY,\n      endpoint: new URL('https://api.web3.storage'),\n    })\n  }\n\n  set = async (data: object) => {\n    const file = new File([JSON.stringify(data)], 'file', {\n      type: 'application/json',\n    })\n    const cid = await this.provider.put([file])\n    return cid\n  }\n\n  get = async <T>(cid: string): Promise<T> => {\n    return DataLoader.load<T>(`ipfs^${cid}`, async () => {\n      const re = await this.provider.get(cid)\n      const file = ((await re?.files()) || [])[0]\n      const reader = new FileReader()\n      return new Promise((resolve, reject) => {\n        try {\n          if (!file) throw new Error('Cannot read empty file')\n          reader.onload = () => {\n            const contents = reader.result?.toString()\n            if (!contents) throw new Error('Cannot read empty file')\n            return resolve(JSON.parse(contents))\n          }\n          reader.readAsText(file)\n        } catch (er: any) {\n          return reject(er.message)\n        }\n      })\n    })\n  }\n}\n\nexport default IPFS\n","import moment from 'moment'\n\nconst SECOND_PER_MILLISECOND = 1000\n\nexport enum TimeFormat {\n  YMD = 'YYYYMMDD',\n  SortableTimePattern = 'YYYY-MM-DD HH:mm:ss',\n}\n\nexport class DateHelper {\n  private milliSeconds: number = new Date().valueOf()\n\n  setMilliSeconds(milliSeconds: number) {\n    this.milliSeconds = milliSeconds\n  }\n\n  static fromSeconds(seconds: number): DateHelper {\n    const date = new DateHelper()\n    const milliSeconds = seconds * SECOND_PER_MILLISECOND\n    date.setMilliSeconds(milliSeconds)\n    return date\n  }\n\n  static fromYmd(ymd: number): DateHelper {\n    const date = new DateHelper()\n    const milliSeconds = moment(ymd, TimeFormat.YMD).valueOf()\n    date.setMilliSeconds(milliSeconds)\n    return date\n  }\n\n  static getListDate(ymdFrom: number, ymdTo: number): number[] {\n    const dates: number[] = []\n    let dateFrom = DateHelper.fromYmd(ymdFrom)\n    const dateTo = DateHelper.fromYmd(ymdTo)\n    while (dateFrom.ymd() <= dateTo.ymd()) {\n      dates.push(dateFrom.ymd())\n      dateFrom = dateFrom.addDay()\n    }\n    return dates\n  }\n\n  format(dateFormat: TimeFormat): string {\n    const date = new Date(this.milliSeconds)\n    return moment(date).format(dateFormat)\n  }\n\n  subtractDay(dayAmount: number = 1): DateHelper {\n    const milliSeconds = moment(this.milliSeconds)\n      .subtract(dayAmount, 'days')\n      .valueOf()\n    const date = DateHelper.fromSeconds(milliSeconds / SECOND_PER_MILLISECOND)\n    return date\n  }\n\n  addDay(dayAmount: number = 1): DateHelper {\n    const milliSeconds = moment(this.milliSeconds)\n      .add(dayAmount, 'days')\n      .valueOf()\n    const date = DateHelper.fromSeconds(milliSeconds / SECOND_PER_MILLISECOND)\n    return date\n  }\n\n  seconds(): number {\n    return (\n      (this.milliSeconds - (this.milliSeconds % SECOND_PER_MILLISECOND)) /\n      SECOND_PER_MILLISECOND\n    )\n  }\n\n  ymd(): number {\n    return Number(this.format(TimeFormat.YMD))\n  }\n\n  static today(format: string = TimeFormat.YMD): string {\n    return moment().format(format)\n  }\n}\n","export class TransLog {\n  programId: string = ''\n\n  programInfo: ProgramInfo | undefined\n\n  signature: string = ''\n\n  blockTime: number = 0\n\n  time: number = 0\n\n  owner: string = ''\n\n  actionType: string = ''\n\n  actionTransfers: Array<ActionTransfer> = []\n\n  programTransfer: Array<ActionTransfer> = []\n}\n\nexport class ActionInfo {\n  address: string = ''\n\n  // pool: string = ''\n\n  mint: string = ''\n\n  decimals: number = 0\n\n  preBalance: string = '0'\n\n  postBalance: string = '0'\n}\n/**\n * Amount is not same postBalance - preBalance\n * @postBalance and @preBalance are balance after all action (transaction)\n * @postBalance = @preBalance +- all @amount (multi amount in transaction)\n * @amount is value in 1 action\n */\nexport class ActionTransfer {\n  source: ActionInfo | undefined\n\n  destination: ActionInfo | undefined\n\n  amount: string = '0'\n}\ntype ProgramInfo = {\n  programId: string\n  data: string\n}\n","import {\n  ConfirmedSignatureInfo,\n  ConfirmedSignaturesForAddress2Options,\n  Connection,\n  ParsedConfirmedTransaction,\n  PublicKey,\n} from '@solana/web3.js'\n\nimport { OptionsFetchSignature } from '../../constants/transaction'\n\nconst DEFAULT_LIMIT = 700\nconst TRANSACTION_LIMIT = 200\n\nexport class Solana {\n  private conn: Connection = window.sentre.splt.connection\n\n  //Search for all signatures from last Signature and earlier\n  //So: If new collection (to now) -> last Signature = null\n  private async fetchSignatures(\n    address: PublicKey,\n    lastSignature?: string,\n    limit: number = DEFAULT_LIMIT,\n  ): Promise<Array<ConfirmedSignatureInfo>> {\n    if (limit > DEFAULT_LIMIT) limit = DEFAULT_LIMIT\n    const options: ConfirmedSignaturesForAddress2Options = {\n      limit: limit,\n      before: lastSignature,\n    }\n    return this.conn.getConfirmedSignaturesForAddress2(address, options)\n  }\n\n  private async fetchConfirmTransaction(signatures: string[]) {\n    let confirmedTransactions: ParsedConfirmedTransaction[] = []\n    let limit = TRANSACTION_LIMIT\n\n    const promiseTransGroup = []\n    for (let offset = 0; offset <= signatures.length / limit; offset++) {\n      const skip = offset * limit\n      const signaturesGroup = signatures.slice(skip, skip + limit)\n      promiseTransGroup.push(\n        this.conn.getParsedConfirmedTransactions(signaturesGroup),\n      )\n    }\n\n    const transGroups = await Promise.all(promiseTransGroup)\n    for (const transGroup of transGroups) {\n      //@ts-ignore\n      confirmedTransactions = confirmedTransactions.concat(transGroup)\n    }\n    return confirmedTransactions\n  }\n\n  async fetchTransactions(\n    programId: string,\n    options: OptionsFetchSignature,\n  ): Promise<ParsedConfirmedTransaction[]> {\n    const currentTime = new Date().getTime() / 1000\n    let { secondFrom, secondTo, lastSignature, limit } = options\n    secondFrom = Math.floor(secondFrom || 0)\n    secondTo = Math.floor(secondTo || currentTime)\n\n    const programPublicKey = new PublicKey(programId)\n    let signatures: string[] = []\n    let isStop = false\n\n    while (!isStop) {\n      const confirmedSignatureInfos: ConfirmedSignatureInfo[] =\n        await this.fetchSignatures(programPublicKey, lastSignature, limit)\n      if (!confirmedSignatureInfos?.length || isStop) break\n      for (const info of confirmedSignatureInfos) {\n        const blockTime = info.blockTime\n        if (!blockTime || blockTime > secondTo) continue\n        if (blockTime < secondFrom) {\n          isStop = true\n          break\n        }\n        lastSignature = info.signature\n        signatures.push(info.signature)\n      }\n\n      if (limit && signatures.length >= limit) break\n      if (confirmedSignatureInfos?.length < DEFAULT_LIMIT) break\n    }\n    const confirmedTransactions = await this.fetchConfirmTransaction(signatures)\n    return confirmedTransactions\n  }\n}\n","export enum ParsedType {\n  Transfer = 'transfer',\n}\n\nexport type ParsedAction = {\n  type: ParsedType\n  info: ParsedInfoTransfer\n}\n\nexport type ParsedInfoTransfer = {\n  source: string\n  destination: string\n  amount: string\n  lamports: number\n}\n\nexport type OptionsFetchSignature = {\n  limit?: number\n  lastSignature?: string\n  secondFrom?: number\n  secondTo?: number\n}\n","import base58 from 'bs58'\n\nimport { TransLog } from '../entities/trans-log'\nimport { TransLogService } from './translog'\n\nconst { struct } = require('soprox-abi')\n\nconst TRANSLOG_PROGRAM_DATA_SCHEMA = { key: 'code', type: 'u8' }\n\nexport enum SwapActionType {\n  Route = 'SWAP',\n}\n\nconst ACTION_TYPE: Record<number, SwapActionType> = {\n  8: SwapActionType.Route,\n}\n\nexport default class SwapTransLogService extends TransLogService {\n  parseAction = (transLog: TransLog) => {\n    const programDataEncode = transLog.programInfo?.data\n    if (!programDataEncode) return ''\n\n    const dataBuffer = base58.decode(programDataEncode)\n    const actionLayout = new struct([TRANSLOG_PROGRAM_DATA_SCHEMA])\n    const programDataDecode: { code: number } = actionLayout.fromBuffer(\n      Buffer.from(dataBuffer),\n    )\n    return ACTION_TYPE[programDataDecode.code] || ''\n  }\n}\n","import {\n  ParsedConfirmedTransaction,\n  ParsedInstruction,\n  ParsedMessageAccount,\n  PartiallyDecodedInstruction,\n  TokenBalance,\n} from '@solana/web3.js'\nimport { account } from '@senswap/sen-js'\n\nimport { ActionInfo, ActionTransfer, TransLog } from '../entities/trans-log'\nimport { Solana } from '../adapters/solana/client'\nimport {\n  OptionsFetchSignature,\n  ParsedAction,\n  ParsedInfoTransfer,\n  ParsedType,\n} from '../constants/transaction'\nimport { DateHelper } from '../helpers/date'\nimport { SOL_ADDRESS, SOL_DECIMALS } from '../constants/sol'\n\ntype InstructionData = ParsedInstruction | PartiallyDecodedInstruction\n\nexport class TransLogService {\n  protected parseAction = (transLog: TransLog) => {\n    return ''\n  }\n\n  async collect(\n    programId: string,\n    configs: OptionsFetchSignature,\n  ): Promise<TransLog[]> {\n    const solana = new Solana()\n    let transLogs: Array<TransLog> = []\n    const confirmedTrans: ParsedConfirmedTransaction[] =\n      await solana.fetchTransactions(programId, configs)\n\n    for (const trans of confirmedTrans) {\n      const log = this.parseTransLog(trans)\n      if (!log) continue\n      transLogs.push(log)\n    }\n    return transLogs\n  }\n\n  private parseTransLog(\n    confirmedTrans: ParsedConfirmedTransaction,\n  ): TransLog | undefined {\n    const { blockTime, meta, transaction } = confirmedTrans\n    if (!blockTime || !meta) return\n    const { postTokenBalances, preTokenBalances, postBalances, preBalances } =\n      meta\n    const { signatures, message } = transaction\n\n    const innerInstructionData = meta.innerInstructions?.[0]?.instructions || []\n    const instructionData = message.instructions[0] || []\n\n    const transLog = new TransLog()\n    transLog.signature = signatures[0]\n    transLog.blockTime = blockTime\n    transLog.time = DateHelper.fromSeconds(blockTime).ymd()\n    transLog.programId = instructionData.programId.toString()\n\n    const mapAccount = this.parseAccountInfo(\n      message.accountKeys,\n      postTokenBalances || [],\n      preTokenBalances || [],\n      postBalances,\n      preBalances,\n    )\n    // system program transaction\n    if (this.isParsedInstruction(instructionData)) {\n      transLog.programTransfer = this.parseListActionTransfer(\n        [instructionData],\n        mapAccount,\n      )\n      return transLog\n    }\n    // smart contract transaction\n    transLog.actionTransfers = this.parseListActionTransfer(\n      innerInstructionData,\n      mapAccount,\n    )\n    transLog.programInfo = {\n      programId: instructionData.programId.toString(),\n      data: (instructionData as PartiallyDecodedInstruction).data,\n    }\n    transLog.actionType = this.parseAction(transLog)\n\n    return transLog\n  }\n\n  private isParsedInstruction(instructionData: InstructionData) {\n    return (instructionData as ParsedInstruction).parsed !== undefined\n  }\n\n  private parseListActionTransfer(\n    actions: InstructionData[],\n    mapAccount: Map<string, ActionInfo>,\n  ) {\n    const actionTransfer: ActionTransfer[] = []\n    for (const action of actions) {\n      if (!this.isParsedInstruction(action)) continue\n      const actionParsed: ParsedAction =\n        (action as ParsedInstruction).parsed || {}\n      switch (actionParsed.type) {\n        case ParsedType.Transfer:\n          const info: ParsedInfoTransfer = actionParsed.info\n          const parsedAction = this.parseActionTransfer(info, mapAccount)\n          if (parsedAction) actionTransfer.push(parsedAction)\n          break\n        default:\n          break\n      }\n    }\n    return actionTransfer\n  }\n\n  private parseActionTransfer(\n    parsedTransfer: ParsedInfoTransfer,\n    mapAccount: Map<string, ActionInfo>,\n  ): ActionTransfer | undefined {\n    const { source, destination, amount, lamports } = parsedTransfer\n    const amountTransfer = amount || lamports.toString()\n\n    if (\n      !amountTransfer ||\n      !mapAccount.has(source) ||\n      !mapAccount.has(destination)\n    )\n      return\n\n    const actionTransfer = new ActionTransfer()\n    actionTransfer.source = mapAccount.get(source)\n    actionTransfer.destination = mapAccount.get(destination)\n    actionTransfer.amount = amountTransfer\n    return actionTransfer\n  }\n\n  private parseAccountInfo(\n    accountKeys: Array<ParsedMessageAccount>,\n    postTokenBalances: Array<TokenBalance>,\n    preTokenBalances: Array<TokenBalance>,\n    postBalances: number[],\n    preBalances: number[],\n  ): Map<string, ActionInfo> {\n    const mapAccountInfo = new Map<string, ActionInfo>()\n\n    // Associated Address\n    for (const postBalance of postTokenBalances) {\n      const { accountIndex, mint, uiTokenAmount } = postBalance\n      const info = new ActionInfo()\n      info.address = accountKeys[accountIndex].pubkey.toString()\n      info.postBalance = uiTokenAmount.amount\n      info.mint = mint\n      info.decimals = uiTokenAmount.decimals\n      mapAccountInfo.set(info.address, info)\n    }\n\n    for (const preBalance of preTokenBalances) {\n      const { accountIndex, uiTokenAmount } = preBalance\n      const address = accountKeys[accountIndex].pubkey.toString()\n      const info = mapAccountInfo.get(address) || new ActionInfo()\n      info.preBalance = uiTokenAmount.amount\n      mapAccountInfo.set(info.address, info)\n    }\n\n    // Wallet address\n    accountKeys.forEach((accountData, idx) => {\n      const address = accountData.pubkey.toString()\n      if (!account.isAssociatedAddress(address)) {\n        const info = mapAccountInfo.get(address) || new ActionInfo()\n        info.address = address\n        info.mint = SOL_ADDRESS\n        info.postBalance = String(postBalances[idx] || 0) // lamports\n        info.preBalance = String(preBalances[idx] || 0) // lamports\n        info.decimals = SOL_DECIMALS\n        mapAccountInfo.set(info.address, info)\n      }\n    })\n\n    return mapAccountInfo\n  }\n}\n","export const SOL_ADDRESS = '11111111111111111111111111111111'\n\nexport const SOL_DECIMALS = 9\n","import { net, createPDB } from '@sentre/senhub'\nimport configs from 'configs'\nimport IPFS from 'helper/ipfs'\n\nimport { TransLog } from '../../entities/trans-log'\nimport { DateHelper } from '../../helpers/date'\nimport SwapTransLogService, { SwapActionType } from '../translogSwap'\n\nconst {\n  sol: { swapAddress },\n  manifest: { appId },\n} = configs\n\nconst DATE_RANGE = 30\nconst CACHE_KEY = `translogs-ipfs:${net}`\n\nexport default class SwapService {\n  programId: string\n  transLogService: SwapTransLogService = new SwapTransLogService()\n  constructor(address: string) {\n    this.programId = address\n  }\n\n  private async getPDB() {\n    const walletAddress = await window.sentre.wallet?.getAddress()\n    if (!walletAddress) throw new Error('Invalid wallet address')\n    const db = createPDB(walletAddress, appId)\n    if (!db) throw new Error('Can not create pdb')\n    return db\n  }\n\n  fetchTransLog = async (timeFrom: number, timeTo: number) => {\n    const ipfs = new IPFS()\n    let cacheTransLog: TransLog[] = []\n    const db = await this.getPDB()\n    const keyBackup = await db.getItem(CACHE_KEY)\n    if (keyBackup) cacheTransLog = await ipfs.get(keyBackup)\n\n    const fistTransLog = cacheTransLog[0]\n    const lastTransLog = cacheTransLog[cacheTransLog.length - 1]\n\n    if (fistTransLog && lastTransLog) {\n      const [beginTransLogs] = await Promise.all([\n        this.transLogService.collect(this.programId, {\n          secondFrom: fistTransLog.blockTime,\n          secondTo: timeTo,\n        }),\n      ])\n      cacheTransLog = cacheTransLog.filter(\n        (trans) => trans.blockTime > timeFrom,\n      )\n      cacheTransLog = [...beginTransLogs, ...cacheTransLog]\n    } else {\n      cacheTransLog = await this.transLogService.collect(this.programId, {\n        secondFrom: timeFrom,\n        secondTo: timeTo,\n      })\n    }\n    // Filter transLog swap\n    const mapTransLogs: Record<string, TransLog> = {}\n    for (const log of cacheTransLog) {\n      if (\n        log.actionType === SwapActionType.Route &&\n        log.programId === swapAddress\n      )\n        mapTransLogs[log.signature] = log\n    }\n\n    const newTransLogs = Object.values(mapTransLogs).sort(\n      (a, b) => b.blockTime - a.blockTime,\n    )\n\n    const newIpfsKey = await ipfs.set(newTransLogs)\n    await db.setItem(CACHE_KEY, newIpfsKey)\n    return newTransLogs\n  }\n\n  fetchHistory = async () => {\n    let timeTo = new DateHelper()\n    const timeFrom = new DateHelper().subtractDay(DATE_RANGE)\n    // fetch transLog\n    const transLogs = await this.fetchTransLog(\n      timeFrom.seconds(),\n      timeTo.seconds(),\n    )\n    return transLogs.sort((a, b) => b.blockTime - a.blockTime)\n  }\n}\n","import moment from 'moment'\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { utils } from '@senswap/sen-js'\n\nimport SwapService from 'lib/stat/logic/swap/swap'\n\nexport type State = {\n  historySwap: HistorySwap[]\n}\n\n/**\n * Store constructor\n */\n\nexport type HistorySwap = {\n  time: string\n  transactionId: string\n  from?: string\n  to?: string\n  amountFrom?: number\n  amountTo?: number\n  key: string\n  status: string\n  decimals: number\n}\n\nconst NAME = 'history'\nconst initialState: State = {\n  historySwap: [],\n}\n\n/**\n * Actions\n */\nexport const fetchHistorySwap = createAsyncThunk<{\n  historySwap: HistorySwap[]\n}>(`${NAME}/fetchHistorySwap`, async () => {\n  const myWalletAddress = await window.sentre.wallet?.getAddress()\n  if (!myWalletAddress) throw Error('Login first')\n\n  const transLogService = new SwapService(myWalletAddress)\n  const transLogsData = await transLogService.fetchHistory()\n  let history: HistorySwap[] = []\n\n  for (const transLog of transLogsData) {\n    const historyItem = {} as HistorySwap\n    const actionTransfer = transLog.actionTransfers\n    const firstAction = actionTransfer[0]\n    const lastAction = actionTransfer[actionTransfer.length - 1]\n    if (!firstAction || !lastAction) continue\n\n    const time = new Date(transLog.blockTime * 1000)\n    historyItem.time = moment(time).format('MMM DD, YYYY HH:mm')\n    historyItem.amountFrom = firstAction.destination\n      ? Number(\n          utils.undecimalize(\n            BigInt(firstAction.amount),\n            firstAction.destination.decimals,\n          ),\n        )\n      : undefined\n    historyItem.amountTo = lastAction?.destination\n      ? Number(\n          utils.undecimalize(\n            BigInt(lastAction.amount),\n            lastAction.destination.decimals,\n          ),\n        )\n      : undefined\n\n    historyItem.from = firstAction.destination?.mint\n    historyItem.to = lastAction?.destination?.mint\n    historyItem.transactionId = transLog.signature\n    historyItem.key = transLog.signature\n    historyItem.status =\n      !firstAction.destination || !lastAction?.destination\n        ? 'failed'\n        : 'success'\n    history.push(historyItem)\n  }\n  return { historySwap: history }\n})\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      fetchHistorySwap.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Card, Col, Row, Typography, Table, Button } from 'antd'\nimport { HISTORY_COLUMN } from './column'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { fetchHistorySwap } from 'model/history.controller'\nimport { AppDispatch, AppState } from 'model'\n\nimport './index.less'\n\nconst ROW_PER_PAGE = 5\nconst TABLE_HEIGHT = 462\n\nconst History = () => {\n  const [amountRow, setAmountRow] = useState(ROW_PER_PAGE)\n  const [loading, setLoading] = useState(false)\n\n  const { historySwap } = useSelector((state: AppState) => state.history)\n  const dispatch = useDispatch<AppDispatch>()\n\n  const fetchHistory = useCallback(async () => {\n    try {\n      setLoading(true)\n      await dispatch(fetchHistorySwap()).unwrap()\n    } catch (er) {\n      return console.warn(er)\n    } finally {\n      setLoading(false)\n    }\n  }, [dispatch])\n\n  useEffect(() => {\n    fetchHistory()\n  }, [fetchHistory])\n\n  const onHandleViewMore = () => setAmountRow(amountRow + ROW_PER_PAGE)\n\n  const onHandleRefeshTable = () => {\n    fetchHistory()\n    setAmountRow(ROW_PER_PAGE)\n  }\n\n  const style = useMemo(() => {\n    return amountRow > 5 ? { height: 'auto' } : { height: TABLE_HEIGHT }\n  }, [amountRow])\n\n  return (\n    <Card bordered={false} style={{ ...style }}>\n      <Row gutter={[16, 24]}>\n        <Col flex=\"auto\">\n          <Typography.Title level={5}>Swap history</Typography.Title>\n        </Col>\n        <Col>\n          <Button onClick={onHandleRefeshTable}>Refresh</Button>\n        </Col>\n        <Col span={24}>\n          <Row justify=\"center\" gutter={[16, 9]}>\n            <Col span={24} style={{ minHeight: 310 }}>\n              <Table\n                columns={HISTORY_COLUMN}\n                dataSource={historySwap.slice(0, amountRow)}\n                loading={loading}\n                pagination={false}\n                rowClassName={(record, index) =>\n                  index % 2 ? 'odd-row' : 'even-row'\n                }\n                scroll={{ x: 800 }}\n              />\n            </Col>\n            <Col>\n              <Button\n                onClick={onHandleViewMore}\n                type=\"text\"\n                icon={<IonIcon name=\"chevron-down-outline\" />}\n                disabled={amountRow >= historySwap.length}\n              >\n                View more\n              </Button>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default History\n","import { AccountInfo, PublicKey } from '@solana/web3.js'\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\n\nimport configs from 'configs'\nimport { util } from '@sentre/senhub'\n\nconst {\n  sol: { taxmanAddress },\n} = configs\n\n/**\n * Interface & Utility\n */\n\nexport type PoolData = {\n  owner: string\n  state: number\n  mint_lpt: string\n  taxman: string\n  mint_a: string\n  treasury_a: string\n  reserve_a: bigint\n  mint_b: string\n  treasury_b: string\n  reserve_b: bigint\n  fee_ratio: bigint\n  tax_ratio: bigint\n}\nexport type PoolsState = Record<string, PoolData>\n\n/**\n * Store constructor\n */\n\nconst NAME = 'pools'\nconst initialState: PoolsState = {}\n\n/**\n * Actions\n */\n\nexport const getPools = createAsyncThunk(`${NAME}/getPools`, async () => {\n  const { swap } = window.sentre\n  // Get all pools\n  const value: Array<{ pubkey: PublicKey; account: AccountInfo<Buffer> }> =\n    await swap.connection.getProgramAccounts(swap.swapProgramId, {\n      filters: [\n        { dataSize: 257 },\n        { memcmp: { bytes: taxmanAddress, offset: 65 } },\n      ],\n    })\n  const bulk: PoolsState = {}\n  value.forEach(({ pubkey, account: { data: buf } }) => {\n    const address = pubkey.toBase58()\n    const data = swap.parsePoolData(buf)\n    bulk[address] = data\n  })\n  return bulk\n})\n\nexport const getPool = createAsyncThunk<\n  PoolsState,\n  { address: string },\n  { state: any }\n>(`${NAME}/getPool`, async ({ address }, { getState }) => {\n  if (!util.isAddress(address)) throw new Error('Invalid pool address')\n  const {\n    pools: { [address]: data },\n  } = getState()\n  if (data) return { [address]: data }\n  const { swap } = window.sentre\n  const raw = await swap.getPoolData(address)\n  return { [address]: raw }\n})\n\nexport const upsetPool = createAsyncThunk<\n  PoolsState,\n  { address: string; data: PoolData },\n  { state: any }\n>(`${NAME}/upsetPool`, async ({ address, data }) => {\n  if (!util.isAddress(address)) throw new Error('Invalid pool address')\n  if (!data) throw new Error('Data is empty')\n  return { [address]: data }\n})\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(getPools.fulfilled, (state, { payload }) => payload)\n      .addCase(\n        getPool.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        upsetPool.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { Fragment, useCallback, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { util, useWalletAddress } from '@sentre/senhub'\n\nimport { AppDispatch } from 'model'\nimport { getPools, upsetPool } from 'model/pools.controller'\n\nimport configs from 'configs'\n\nconst {\n  sol: { taxmanAddress },\n} = configs\n\n// Watch id\nlet watchId = 0\n\nconst PoolWatcher = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const walletAddress = useWalletAddress()\n\n  // First-time fetching\n  const fetchData = useCallback(async () => {\n    try {\n      if (!util.isAddress(walletAddress)) return\n      await dispatch(getPools()).unwrap()\n    } catch (er) {\n      return window.notify({\n        type: 'error',\n        description: 'Cannot fetch data of pools',\n      })\n    }\n  }, [dispatch, walletAddress])\n  // Watch account changes\n  const watchData = useCallback(async () => {\n    if (watchId) return console.warn('Already watched')\n    const { swap } = window.sentre || {}\n    const filters = [{ memcmp: { bytes: taxmanAddress, offset: 65 } }]\n    watchId = swap?.watch((er: string | null, re: any) => {\n      if (er) return console.error(er)\n      const { address, data } = re\n      return dispatch(upsetPool({ address, data }))\n    }, filters)\n  }, [dispatch])\n\n  useEffect(() => {\n    fetchData()\n    watchData()\n    // Unwatch (cancel socket)\n    return () => {\n      ;(async () => {\n        try {\n          await window.sentre.swap.unwatch(watchId)\n        } catch (er) {\n          // Do nothing\n        }\n      })()\n      watchId = 0\n    }\n  }, [fetchData, watchData])\n\n  return <Fragment />\n}\n\nexport default PoolWatcher\n","import { useCallback, useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { rpc, useWalletAddress, util, useAppRoute } from '@sentre/senhub'\nimport { JupiterProvider } from '@jup-ag/react-hook'\nimport { Connection, PublicKey } from '@solana/web3.js'\n\nimport { Row, Col, Segmented, Alert, Typography } from 'antd'\nimport SwapChart from './chart'\nimport Swap from './swap'\nimport History from './history'\n\nimport { useMintSelection } from 'hooks/useMintSelection'\nimport { AppDispatch, AppState } from 'model'\nimport { updateBidData } from 'model/bid.controller'\nimport { updateAskData } from 'model/ask.controller'\nimport { SenLpState } from 'constant/senLpState'\nimport { HOMEPAGE_TABS } from 'constant/swap'\nimport PoolWatcher from 'components/watcher/pool.watcher'\nimport { usePool } from 'hooks/usePool'\nimport configs from 'configs'\n\nconst {\n  sol: { cluster },\n} = configs\n\nconst connection = new Connection(rpc)\n\nconst View = () => {\n  const { pools } = usePool()\n  const walletAddress = useWalletAddress()\n  const dispatch = useDispatch<AppDispatch>()\n  const { state } = useLocation<SenLpState>()\n  const [bid, setBid] = useState('')\n  const [ask, setAsk] = useState('')\n  const [tabId, setTabId] = useState(HOMEPAGE_TABS.swap)\n  const bidData = useMintSelection(bid)\n  const askData = useMintSelection(ask)\n  const poolAddress = state?.poolAddress\n  const { enhancement } = useSelector((state: AppState) => state.settings)\n  const history = useHistory()\n  const { to } = useAppRoute()\n\n  /** Check state when user come from sen LP */\n  const checkIsSenLpCome = useCallback(() => {\n    if (!util.isAddress(poolAddress)) return\n    const poolData = pools[poolAddress]\n    if (!poolData) return\n    setBid(poolData?.mint_a)\n    setAsk(poolData?.mint_b)\n  }, [poolAddress, pools])\n\n  const onChangeSegmented = useCallback(\n    (tabId: string) => {\n      setTabId(tabId)\n      history.push(`/app/sen_lp?autoInstall=true`)\n    },\n    [history],\n  )\n\n  useEffect(() => {\n    checkIsSenLpCome()\n  }, [checkIsSenLpCome])\n\n  useEffect(() => {\n    if (\n      !util.isAddress(bidData.accountAddress) ||\n      !util.isAddress(askData.accountAddress)\n    )\n      return\n    dispatch(updateBidData(bidData))\n    dispatch(updateAskData(askData))\n  }, [askData, bidData, dispatch])\n\n  return (\n    <JupiterProvider\n      connection={connection}\n      cluster={cluster}\n      userPublicKey={new PublicKey(walletAddress)}\n    >\n      <Row\n        gutter={[24, 24]}\n        style={{ paddingBottom: 12 }}\n        justify={enhancement ? 'start' : 'center'}\n      >\n        <Col xs={24} lg={18}>\n          <Alert\n            type=\"info\"\n            message={\n              <Typography.Title level={5}>\n                Balansol is launched ✅ Explore Now ✨\n              </Typography.Title>\n            }\n            description={\n              <Typography.Text type=\"secondary\">\n                Liquidity Providing and Swapping are now live on{' '}\n                <strong>Balansol</strong> with index funds and custom pool\n                weights.{' '}\n                <strong>\n                  Get your LPs for juicy APR farming - Click here to use\n                  Balansol now!\n                </strong>\n              </Typography.Text>\n            }\n            onClick={() =>\n              to('/app/balansol?autoInstall=true', {\n                absolutePath: true,\n                newWindow: true,\n              })\n            }\n            style={{ cursor: 'pointer' }}\n            showIcon\n          />\n        </Col>\n        <Col lg={8} md={12} xs={24}>\n          <Row gutter={[24, 24]} justify=\"center\">\n            <Col>\n              <Segmented\n                className=\"swap-and-pool\"\n                options={Object.keys(HOMEPAGE_TABS).map((key) => {\n                  return { label: key, value: HOMEPAGE_TABS[key] }\n                })}\n                value={tabId}\n                onChange={(val) => onChangeSegmented(val.toString())}\n                block\n              />\n            </Col>\n            <Col span={24}>\n              <Swap />\n            </Col>\n          </Row>\n        </Col>\n        {enhancement && (\n          <Col lg={16} md={12} xs={24}>\n            <Row gutter={[24, 24]}>\n              <Col span={24}>\n                <SwapChart />\n              </Col>\n              <Col span={24}>\n                <History />\n              </Col>\n            </Row>\n          </Col>\n        )}\n      </Row>\n      <PoolWatcher />\n    </JupiterProvider>\n  )\n}\n\nexport default View\n","import { PublicKey } from '@solana/web3.js'\nimport BN from 'bn.js'\n\n// Bugfix performance\n// https://github.com/zalmoxisus/redux-devtools-extension/blob/master/docs/Troubleshooting.md#excessive-use-of-memory-and-cpu\nexport const devTools = (appName: string): any => {\n  if (process.env.REACT_APP_ENV !== 'development') return false\n  return {\n    name: appName,\n    actionSanitizer: ({ payload, type }: { payload: any; type: string }) => ({\n      payload,\n      type,\n    }),\n  }\n}\n\n// BigInt Serialization Middleware\n// https://redux-toolkit.js.org/api/serializabilityMiddleware\nconst isPlain = (val: any): boolean => {\n  const isPlainObject = (obj: object): boolean => {\n    if (obj === null) return false\n    const proto = Object.getPrototypeOf(obj)\n    return proto !== null && Object.getPrototypeOf(proto) === null\n  }\n  return (\n    typeof val === 'undefined' ||\n    val === null ||\n    typeof val === 'string' ||\n    typeof val === 'boolean' ||\n    typeof val === 'number' ||\n    Array.isArray(val) ||\n    isPlainObject(val) ||\n    typeof val === 'bigint' ||\n    val instanceof PublicKey ||\n    val instanceof BN ||\n    Buffer.isBuffer(val)\n  )\n}\nBigInt.prototype.toJSON = function () {\n  return this.toString() // https://github.com/GoogleChromeLabs/jsbi/issues/30\n}\nexport const bigintSerializationMiddleware = {\n  serializableCheck: {\n    isSerializable: isPlain,\n  },\n}\n","import { configureStore } from '@reduxjs/toolkit'\nimport { devTools, bigintSerializationMiddleware } from 'model/devTools'\n\nimport ask from './ask.controller'\nimport bid from './bid.controller'\nimport settings from './settings.controller'\nimport route from './route.controller'\nimport history from './history.controller'\nimport pools from './pools.controller'\n\n/**\n * Isolated store\n */\nconst model = configureStore({\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware(bigintSerializationMiddleware),\n  devTools: devTools(process.env.REACT_APP_ID as string),\n  reducer: {\n    ask,\n    bid,\n    settings,\n    route,\n    history,\n    pools,\n  },\n})\n\nexport type AppState = ReturnType<typeof model.getState>\nexport type AppDispatch = typeof model.dispatch\nexport default model\n","import { Provider } from 'react-redux'\nimport {\n  WalletProvider,\n  AccountProvider,\n  MintProvider,\n  AntdProvider,\n} from '@sentre/senhub'\n\nimport View from 'view'\n\nimport model from 'model'\nimport configs from 'configs'\n\nimport 'static/styles/dark.less'\nimport 'static/styles/light.less'\nimport 'static/styles/index.less'\n\nconst {\n  manifest: { appId },\n} = configs\n\nexport const Page = () => {\n  return (\n    <AntdProvider appId={appId}>\n      <MintProvider>\n        <AccountProvider>\n          <WalletProvider>\n            <Provider store={model}>\n              <View />\n            </Provider>\n          </WalletProvider>\n        </AccountProvider>\n      </MintProvider>\n    </AntdProvider>\n  )\n}\n\nexport * from 'static.app'\n"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","id","module","exports","_path","_path2","_path3","_path4","_defs","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgLogo","_ref","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","d","opacity","x1","y1","x2","y2","gradientUnits","stopColor","offset","ForwardRef","defineProperty","value","enumerable","get","_logo","default","_README","_panel","_interopRequireDefault","require","_panel2","_panel3","obj","__esModule","panels","bid","mintInfo","bidMintInfo","ask","askMintInfo","useSelector","state","bidMintAddress","address","askMintAddress","Space","Avatar","mintAddress","Typography","chartData","labels","type","configs","disableAxe","chartId","backgroundColor","isRebuildChart","setRebuildChart","useState","formatData","useCallback","data","label","background","datasets","chartRef","useRef","getBackground","ctx","current","canvas","getContext","gradient","createLinearGradient","addColorStop","useEffect","chartInstance","dataInstace","find","compareData","isEqual","update","Chart","options","responsive","maintainAspectRatio","scales","xAxes","gridLines","drawBorder","display","ticks","yAxes","beginAtZero","maxTicksLimit","callback","index","values","util","format","plugins","legend","hover","onHover","event","elements","document","getElementById","style","cursor","Row","align","justify","Col","Empty","spacing","iconSize","size","fontSize","color","Tooltip","src","CoinGeckoIcon","TokenProvider","fetchMarketChart","async","ticket","params","axios","method","url","days","interval","prices","map","time","val","error","Interval","CHART_DATA_CONFIG","day","amount","unit","week","month","year","MARKET_CONFIG","CHART_CONFIGS","setInterval","setChartData","bidData","askData","swapChartConfigs","borderColor","borderRadius","pointRadius","tooltip","pointHitRadius","pointHoverRadius","parseChartDay","marketData","displayTime","moment","reverse","chartTime","unshift","subtract","parseChartDaily","fetchChartData","bidTokenInfo","tokenProvider","askTokenInfo","bidTicket","extensions","coingeckoId","askTicket","compareAddress","accountAddress","marketConfig","bidChartData","askChartData","all","idx","bidChart","askChart","price","priceUI","Card","bordered","className","bodyStyle","paddingTop","gutter","span","flex","Popover","content","Button","icon","name","Radio","defaultValue","onChange","level","JupiterIcon","SwapPlatform","NAME","initialState","platform","SenSwap","best","BigInt","priceImpact","loadingJupSwap","loadingSenswap","setLoadingJupiterRoute","createAsyncThunk","setLoadingSenSwap","updateRoute","route","createSlice","reducers","extraReducers","builder","addCase","fulfilled","payload","srcMintAddress","chainMintAddresses","useMemo","list","hop","dstMintAddress","push","Fragment","JupiterAggregator","Divider","margin","reversed","setReversed","bidAmount","askAmount","Number","reversedPrice","onClick","shape","PriceImpact","HOMEPAGE_TABS","Swap","Pools","priceImpactColor","goodSwap","acceptableSwap","decimals","setDecimals","undefined","getDecimals","useGetMintDecimals","fetchDecimals","er","buildResult","balance","utils","useAccountBalance","walletAddress","useWalletAddress","lamports","useWalletBalance","accounts","useAccounts","mint","useMintDecimals","DEFAULT_EMPTY_ADDRESS","useSwapStatus","bidAccountAddress","bidMintDecimals","bidBalance","availableBid","DEFAULT_WSOL","estimateFee","max","disabled","loading","ExtraTypography","Skeleton","active","settings","slippage","minHeight","DEFAULT_DATA","priceChange","rank","symbol","totalVolume","cgkData","setCgkData","fetchCgkData","token","shared","appId","process","devnet","cluster","spltAddress","splataAddress","swapAddress","taxmanAddress","testnet","mainnet","bidDefault","askDefault","wormholeAddress","assetsRoute","manifest","development","production","env","sol","net","swap","wormhole","PDB_KEY","txId","useMintCgk","db","createPDB","prevLogs","getItem","txIds","swapAmountSuccess","listTxIds","includes","swapLogs","setItem","PRECISION","ORACLE","curve","hopData","poolData","fee_ratio","tax_ratio","bidReserve","extractReserve","askReserve","inverseCurve","inverseSwap","mint_a","mint_b","reserve_a","reserve_b","calcPriceImpact","srcAmount","p","forEach","s","dstAmount","findAllRoutes","graph","deep","routes","clonedGraph","Map","pools","delete","poolAddress","usePool","usePoolTvl","tvl","setTvl","getMintTotalValue","getMint","useGetMintData","getTokenUsd","tokenInfo","pool","mint_lpt","supply","deltaA","deltaB","useMintTotalValue","getTvl","updateTvl","poolTvl","useBestRoute","fixedPoolAddress","bestRoute","setBestRoute","findBestRoute","poolAddresses","bidPoolAddresses","priority","bidPriority","askPoolAddresses","askPriority","filteredPool","allRoutes","has","set","buildPoolGraph","filter","bidState","maxAskAmount","findBestRouteFromBid","reversedRoute","minBidAmount","findBestRouteFromAsk","useDebounce","_bidAmount","_askAmount","askMintDecimals","handleSwap","splt","wallet","window","sentre","routingAddresses","srcAddress","deriveAssociatedAddress","dstAddress","limit","useHandleSwap","children","onSwap","senlpState","useLocation","dispatch","useDispatch","useSenSwap","setRoute","setTimeout","block","updateBidData","prioritized","reset","getState","prevPriority","refPriority","updateAskData","constructor","_wallet","publicKey","account","transaction","connection","signTransaction","sendRawTransaction","serializeMessage","transactions","signedTransactions","signedTransaction","Connection","rpc","timeout","bidDecimals","inputMint","outputMint","exchange","refresh","useJupiter","debounceTime","wrappedWallet","JupiterWalletWrapper","result","routeInfo","onTransaction","confirmTransaction","txid","getTransaction","commitment","message","outputAddress","outAmount","priceImpactPct","marketInfos","toBase58","clearTimeout","useJupiterAggregator","dst","onCallback","forceSwap","validSwap","setValidSwap","isUseJup","setIsUseJup","setLoading","bestAmount","advanced","wrapAmount","wrapSol","useWrapSol","swapPlatform","notify","description","open","setAskData","setBidData","tooHighImpact","validSwapValue","checkUseJup","visible","onCancel","checked","setChecked","onCloseModal","Modal","closeIcon","footer","forceRender","direction","Checkbox","setVisible","enhancement","bidCgk","askCgk","bidPoolData","askPoolData","getMintTVL","bidTVL","askTVL","wrap","SOL_BRIDGE_ADDRESS","SOL_TOKEN_BRIDGE_ADDRESS","getSolNetwork","storage","checkAttestedWormhole","solContext","solNetWork","chainId","CHAIN_ID_SOLANA","tokenBridgeAddress","bridgeAddress","getSolContext","getIsWrappedAssetSol","WORMHOLE_COLOR","FrameWormhole","lazy","Suspense","fallback","wormholeSupported","setWormholeSupported","overlayInnerStyle","boxShadow","trigger","Tag","SentreIcon","Option","placement","Switch","updateSettings","padding","DEFAULT_INFO","useMintSelection","selectionInfo","setSelectionInfo","getSelectionInfo","theme","useTheme","maxBalance","selectionDefault","getAvailablePoolAddresses","MINT_SELECTION_STYLE","marginLeft","InputNumber","placeholder","controls","min","RATE","poolAdress","activeValue","setActiveValue","fiftyPerBtn","HUNDRED","FIFTY","onAmount","onChangePercentAmount","numMaxBalance","checkActive","buttonStyle","widget","onSwitch","bidRest","askRest","updateData","bidStyle","askStyle","wrapStype","top","STATUS_COLOR","success","pending","failed","tag","setColorTag","textTransform","FORMAT_AMOUNT","HISTORY_COLUMN","dataIndex","render","text","fontWeight","record","from","amountFrom","to","amountTo","status","provider","file","File","JSON","stringify","put","DataLoader","cid","re","files","reader","FileReader","reject","onload","contents","toString","parse","readAsText","Web3Storage","endpoint","URL","SECOND_PER_MILLISECOND","TimeFormat","DateHelper","milliSeconds","Date","valueOf","setMilliSeconds","seconds","date","ymd","YMD","ymdFrom","ymdTo","dates","dateFrom","fromYmd","dateTo","addDay","dateFormat","subtractDay","dayAmount","fromSeconds","add","TransLog","programId","programInfo","signature","blockTime","owner","actionType","actionTransfers","programTransfer","ActionInfo","preBalance","postBalance","ActionTransfer","destination","DEFAULT_LIMIT","Solana","conn","lastSignature","before","getConfirmedSignaturesForAddress2","signatures","confirmedTransactions","promiseTransGroup","skip","signaturesGroup","slice","getParsedConfirmedTransactions","transGroups","transGroup","concat","currentTime","getTime","secondFrom","secondTo","Math","floor","programPublicKey","PublicKey","isStop","confirmedSignatureInfos","fetchSignatures","info","fetchConfirmTransaction","ParsedType","struct","TRANSLOG_PROGRAM_DATA_SCHEMA","SwapActionType","ACTION_TYPE","Route","SwapTransLogService","parseAction","transLog","solana","transLogs","confirmedTrans","fetchTransactions","trans","log","parseTransLog","meta","postTokenBalances","preTokenBalances","postBalances","preBalances","innerInstructionData","innerInstructions","instructions","instructionData","mapAccount","parseAccountInfo","accountKeys","isParsedInstruction","parseListActionTransfer","parsed","actions","actionTransfer","action","actionParsed","Transfer","parsedAction","parseActionTransfer","parsedTransfer","amountTransfer","mapAccountInfo","accountIndex","uiTokenAmount","pubkey","accountData","String","programDataEncode","dataBuffer","base58","programDataDecode","fromBuffer","Buffer","CACHE_KEY","SwapService","transLogService","fetchTransLog","timeFrom","timeTo","ipfs","IPFS","cacheTransLog","getPDB","keyBackup","fistTransLog","lastTransLog","beginTransLogs","collect","mapTransLogs","newTransLogs","sort","a","b","newIpfsKey","fetchHistory","getAddress","fetchHistorySwap","myWalletAddress","transLogsData","history","historyItem","firstAction","lastAction","transactionId","historySwap","amountRow","setAmountRow","unwrap","console","warn","Table","columns","dataSource","pagination","rowClassName","scroll","x","getPools","getProgramAccounts","swapProgramId","filters","dataSize","memcmp","bytes","bulk","buf","parsePoolData","getPool","getPoolData","upsetPool","watchId","fetchData","watchData","watch","unwatch","setBid","setAsk","tabId","setTabId","useHistory","useAppRoute","checkIsSenLpCome","onChangeSegmented","JupiterProvider","userPublicKey","paddingBottom","xs","lg","Alert","absolutePath","newWindow","showIcon","md","Segmented","toJSON","bigintSerializationMiddleware","serializableCheck","isSerializable","Array","isArray","proto","getPrototypeOf","isPlainObject","BN","isBuffer","configureStore","middleware","getDefaultMiddleware","devTools","reducer","Page","AntdProvider","MintProvider","AccountProvider","WalletProvider","Provider","store","model"],"sourceRoot":""}