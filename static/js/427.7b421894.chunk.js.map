{"version":3,"file":"static/js/427.7b421894.chunk.js","mappings":"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","sources":["shared/antd/ionicon/assets/icon-telegram.svg","shared/antd/ionicon/customs.tsx","shared/antd/ionicon/index.tsx","shared/antd/mint/mintAvatar.tsx","shared/antd/mint/mintName.tsx","shared/antd/mint/mintSymbol.tsx","app/page/chart/cross.tsx","app/page/chart/chart.tsx","app/page/chart/chartEmpty.tsx","app/helper/cgk.ts","app/page/chart/index.tsx","app/static/images/jupiter-logo.svg","app/components/poweredByJupiter.tsx","app/model/route.controller.ts","app/components/preview/routeAvatar.tsx","app/components/preview/price.tsx","app/constant/swap.ts","app/helper/utils.ts","app/components/preview/index.tsx","app/model/bid.controller.ts","app/model/ask.controller.ts","shared/hooks/useMintDecimals.ts","shared/hooks/useAccountBalance.ts","app/hooks/useDisabledSwap.ts","app/hooks/usePoolTvl.ts","app/hooks/useMintTotalValue.ts","app/hooks/senswap/useHandleSwap.ts","app/helper/oracle.ts","app/helper/router.ts","app/hooks/senswap/useBestRoute.ts","app/hooks/senswap/index.ts","app/configs/manifest.config.ts","app/configs/sol.config.ts","app/configs/swap.config.ts","app/configs/wormhole.config.ts","app/configs/route.config.ts","app/configs/index.ts","app/hooks/jupiter/jupiterWalletWrapper.ts","app/hooks/jupiter/useJupiterAggregator.ts","app/components/swapAction/swapButton.tsx","app/hooks/useWrapSol.ts","app/hooks/senswap/useSenSwapValidator.ts","app/components/swapAction/index.tsx","app/components/confirmSwap.tsx","app/page/swap/swapReview.tsx","app/page/swap/poolInfo/mintPoolInfo.tsx","app/hooks/useMintCgk.ts","app/page/swap/poolInfo/index.tsx","app/static/images/sen.svg","app/components/poweredBySentre.tsx","app/components/settings/slippage.tsx","app/components/settings/advanced.tsx","app/model/settings.controller.ts","app/components/settings/index.tsx","app/components/selection/search.tsx","app/components/selection/mint.tsx","app/components/selection/mintSelection.tsx","app/components/selection/index.tsx","shared/antd/numericInput.tsx","app/hooks/useMintSelection.ts","app/components/ask/index.tsx","app/constant/ethConfig.ts","app/constant/solConfig.ts","app/helper/wormhole.ts","app/components/bid/wormholeSupported.tsx","app/components/bid/index.tsx","app/components/swapForm/swapInput.tsx","app/components/swapForm/index.tsx","app/page/swap/index.tsx","app/page/history/statusTag.tsx","app/page/history/column.tsx","app/lib/stat/entities/trans-log.ts","app/lib/stat/adapters/solana/client.ts","app/lib/stat/constants/transaction.ts","app/lib/stat/helpers/date.ts","app/lib/stat/logic/translogSwap.ts","app/lib/stat/logic/translog.ts","app/lib/stat/constants/sol.ts","app/model/history.controller.ts","app/page/history/index.tsx","app/page/index.tsx","app/widget/index.tsx","app/model/index.ts","app/bootstrap.app.tsx","os/configs/sol.config.ts","os/configs/register.config.ts","os/configs/index.ts","os/providers/tokenProvider/supplementary.ts","os/providers/tokenProvider/index.ts","shared/dataloader/cache.ts","shared/dataloader/constant.ts","shared/dataloader/index.ts","shared/dataloader/request.ts","shared/devTools.ts","shared/runtime.ts","shared/storage.ts","shared/util.ts"],"sourcesContent":["var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgIconTelegram(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"inherit\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 50 50\",\n    width: \"50px\",\n    height: \"50px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M46.137,6.552c-0.75-0.636-1.928-0.727-3.146-0.238l-0.002,0C41.708,6.828,6.728,21.832,5.304,22.445 c-0.259,0.09-2.521,0.934-2.288,2.814c0.208,1.695,2.026,2.397,2.248,2.478l8.893,3.045c0.59,1.964,2.765,9.21,3.246,10.758 c0.3,0.965,0.789,2.233,1.646,2.494c0.752,0.29,1.5,0.025,1.984-0.355l5.437-5.043l8.777,6.845l0.209,0.125 c0.596,0.264,1.167,0.396,1.712,0.396c0.421,0,0.825-0.079,1.211-0.237c1.315-0.54,1.841-1.793,1.896-1.935l6.556-34.077 C47.231,7.933,46.675,7.007,46.137,6.552z M22,32l-3,8l-3-10l23-17L22,32z\"\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconTelegram);\nexport default __webpack_public_path__ + \"static/media/icon-telegram.2450489f40d03000fe65fc1c6f238d85.svg\";\nexport { ForwardRef as ReactComponent };","import IconTele from './assets/icon-telegram.svg'\n\nexport const CUSTOM_ICONS: Record<string, string> = {\n  'logo-telegram': IconTele,\n}\n","/**\n * IonIcon 5\n * Credit https://ionic.io/ionicons\n */\n\nimport { forwardRef } from 'react'\nimport { CUSTOM_ICONS } from './customs'\n\n/**\n * IonIcon\n * @param name The icon name. You can find it here https://ionic.io/ionicons\n * @param className To modify the span class\n */\nconst IonIcon = forwardRef<\n  HTMLElement,\n  { name: string; className?: string } & any\n>(({ name, className, ...props }, ref) => {\n  const cln = className ? 'anticon ' + className : 'anticon'\n\n  return (\n    <span className={cln} {...props}>\n      {CUSTOM_ICONS[name] ? (\n        <ion-icon ref={ref} src={CUSTOM_ICONS[name]} />\n      ) : (\n        <ion-icon ref={ref} name={name} />\n      )}\n    </span>\n  )\n})\n\nexport default IonIcon\n","import { ReactNode, useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { useMint, usePool } from '@senhub/providers'\n\nimport { Avatar } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nconst DEFAULT_AVATARS: Array<string | undefined> = [undefined]\n\nexport type MintAvatarProps = {\n  mintAddress: string\n  size?: number\n  icon?: ReactNode\n  reversed?: boolean\n}\n\n/**\n * Mint/Token avatar, supporting LP tokens\n * @param mintAddress -  Mint address\n * @param size - Avatar size. Default 24px.\n * @param icon - Fallback icon for unknown token\n * @param reversed - (Optional) The default LP token avatar is A-B. The reversed is to change it to B-A\n * @returns name\n */\nconst MintAvatar = ({\n  mintAddress,\n  size = 24,\n  icon = <IonIcon name=\"diamond-outline\" />,\n  reversed = false,\n  ...props\n}: MintAvatarProps) => {\n  const [avatars, setAvatars] = useState(DEFAULT_AVATARS)\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n\n  const deriveAvatar = useCallback(\n    async (address: string) => {\n      const token = await tokenProvider.findByAddress(address)\n      if (token?.logoURI) return token.logoURI\n      return undefined\n    },\n    [tokenProvider],\n  )\n\n  const deriveAvatars = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setAvatars(DEFAULT_AVATARS)\n    // LP mint\n    const poolData = Object.values(pools).find(\n      ({ mint_lpt }) => mint_lpt === mintAddress,\n    )\n    if (poolData) {\n      const { mint_a, mint_b } = poolData\n      const avatars = await Promise.all([mint_a, mint_b].map(deriveAvatar))\n      if (reversed) avatars.reverse()\n      return setAvatars(avatars)\n    }\n    // Normal mint\n    const avatar = await deriveAvatar(mintAddress)\n    return setAvatars([avatar])\n  }, [mintAddress, reversed, deriveAvatar, pools])\n\n  useEffect(() => {\n    deriveAvatars()\n  }, [deriveAvatars])\n\n  if (avatars.length === 1)\n    return (\n      <Avatar\n        src={avatars[0]}\n        size={size}\n        style={{ backgroundColor: '#2D3355', border: 'none' }}\n        {...props}\n      >\n        {icon}\n      </Avatar>\n    )\n  return (\n    <Avatar.Group style={{ display: 'block', whiteSpace: 'nowrap' }} {...props}>\n      {avatars.map((avatar, i) => (\n        <Avatar\n          key={i}\n          src={avatar}\n          size={size}\n          style={{ backgroundColor: '#2D3355', border: 'none' }}\n        >\n          {icon}\n        </Avatar>\n      ))}\n    </Avatar.Group>\n  )\n}\n\nexport default MintAvatar\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { useMint, usePool } from '@senhub/providers'\n\nconst DEFAULT_NAME = 'Unknown Token'\n\n/**\n * Mint/Token name, supporting LP tokens\n * @param mintAddress -  Mint address\n * @param separator - (Optional) In case of LP tokens, the names is combined by 2 token names. The separator is to separate them.\n * @param reversed - (Optional) The default LP token names is A-B. The reversed is to change it to B-A\n * @returns name\n */\nconst MintName = ({\n  mintAddress,\n  separator = '  ',\n  reversed = false,\n}: {\n  mintAddress: string\n  separator?: string\n  reversed?: boolean\n}) => {\n  const [name, setName] = useState(DEFAULT_NAME)\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n\n  const deriveName = useCallback(\n    async (address: string) => {\n      const token = await tokenProvider.findByAddress(address)\n      if (token?.name) return token.name\n      return DEFAULT_NAME\n    },\n    [tokenProvider],\n  )\n\n  const deriveNames = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setName(DEFAULT_NAME)\n    // LP mint\n    const poolData = Object.values(pools).find(\n      ({ mint_lpt }) => mint_lpt === mintAddress,\n    )\n    if (poolData) {\n      const { mint_a, mint_b } = poolData\n      const names = await Promise.all([mint_a, mint_b].map(deriveName))\n      if (reversed) names.reverse()\n      return setName(`${names.join(separator)} LP`)\n    }\n    // Normal mint\n    const name = await deriveName(mintAddress)\n    return setName(name)\n  }, [mintAddress, reversed, deriveName, pools, separator])\n\n  useEffect(() => {\n    deriveNames()\n  }, [deriveNames])\n\n  return <span>{name}</span>\n}\n\nexport default MintName\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { useMint, usePool } from '@senhub/providers'\n\nconst DEFAULT_SYMBOL = 'TOKN'\n\n/**\n * Mint/Token symbol, supporting LP tokens\n * @param mintAddress -  Mint address\n * @param separator - (Optional) In case of LP tokens, the symbols is combined by 2 token symbols. The separator is to separate them.\n * @param reversed - (Optional) The default LP token symbol is A-B. The reversed is to change it to B-A\n * @returns symbol\n */\nconst MintSymbol = ({\n  mintAddress,\n  separator = '  ',\n  reversed = false,\n}: {\n  mintAddress: string\n  separator?: string\n  reversed?: boolean\n}) => {\n  const [symbol, setSymbol] = useState(DEFAULT_SYMBOL)\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n\n  const deriveSymbol = useCallback(\n    async (address: string) => {\n      const token = await tokenProvider.findByAddress(address)\n      if (token?.symbol) return token.symbol\n      return address.substring(0, 4)\n    },\n    [tokenProvider],\n  )\n\n  const deriveSymbols = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setSymbol(DEFAULT_SYMBOL)\n    // LP mint\n    const poolData = Object.values(pools).find(\n      ({ mint_lpt }) => mint_lpt === mintAddress,\n    )\n    if (poolData) {\n      const { mint_a, mint_b } = poolData\n      const symbols = await Promise.all([mint_a, mint_b].map(deriveSymbol))\n      if (reversed) symbols.reverse()\n      return setSymbol(symbols.join(separator))\n    }\n    // Normal mint\n    const symbol = await deriveSymbol(mintAddress)\n    return setSymbol(symbol)\n  }, [mintAddress, reversed, deriveSymbol, pools, separator])\n\n  useEffect(() => {\n    deriveSymbols()\n  }, [deriveSymbols])\n\n  return <span>{symbol}</span>\n}\n\nexport default MintSymbol\n","import { useSelector } from 'react-redux'\n\nimport { Avatar, Space, Typography } from 'antd'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\n\nimport { AppState } from 'app/model'\n\nconst Cross = () => {\n  const {\n    bid: { mintInfo: bidMintInfo },\n    ask: { mintInfo: askMintInfo },\n  } = useSelector((state: AppState) => state)\n\n  const bidMintAddress = bidMintInfo?.address || ''\n  const askMintAddress = askMintInfo?.address || ''\n  return (\n    <Space>\n      <Avatar.Group>\n        <MintAvatar mintAddress={bidMintAddress} />\n        <MintAvatar mintAddress={askMintAddress} />\n      </Avatar.Group>\n      <Typography.Text>\n        <MintSymbol mintAddress={bidMintAddress} />\n        {' / '}\n        <MintSymbol mintAddress={askMintAddress} />\n      </Typography.Text>\n    </Space>\n  )\n}\n\nexport default Cross\n","import { useCallback, useState, useRef, useEffect } from 'react'\nimport Chart from 'chart.js'\nimport isEqual from 'react-fast-compare'\n\nimport { numeric } from 'shared/util'\ninterface Props {\n  labels?: (number | string)[]\n  chartData?: (number | string)[]\n  configs?: { backgroundColor?: string } & object\n  type?: string\n  disableAxe?: boolean\n  chartHeight?: string\n  chartId?: string\n}\n\nconst DEFAULT_BACKGROUND_COLOR = '#dadada'\n\nconst SenChart = ({\n  chartData = [],\n  labels = [],\n  type = 'line',\n  configs,\n  disableAxe = false,\n  chartId = 'sen_chart',\n}: Props) => {\n  const { backgroundColor } = configs || {}\n  const [isRebuildChart, setRebuildChart] = useState<boolean>(false)\n\n  const formatData = useCallback(\n    (\n      data: Array<number | number[] | undefined | null | any>,\n      label: Array<string | number>,\n      background?: string | CanvasGradient | undefined,\n    ): Chart.ChartData => ({\n      labels: label,\n      datasets: [{ ...configs, data, backgroundColor: background }],\n    }),\n    [configs],\n  )\n  // use a ref to store the chart instance since it it mutable\n  const chartRef = useRef<Chart | null>(null)\n\n  // callback creates the chart on the canvas element\n  const canvasCallback = (canvas: HTMLCanvasElement | null) => {\n    if (!canvas) return\n    const ctx = canvas.getContext('2d')\n    if (ctx && !isRebuildChart) {\n      // create new chart\n      chartRef.current = new Chart(ctx, {\n        type: type,\n        data: {\n          labels: [],\n          datasets: [\n            {\n              data: [],\n            },\n          ],\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          scales: {\n            xAxes: [\n              {\n                gridLines: {\n                  drawBorder: false,\n                  display: false,\n                },\n                ticks: {\n                  display: !disableAxe,\n                },\n              },\n            ],\n            yAxes: [\n              {\n                gridLines: {\n                  drawBorder: false,\n                  display: false,\n                },\n                ticks: {\n                  display: !disableAxe,\n                  beginAtZero: false,\n                  maxTicksLimit: 8,\n                  callback: function (value, index, values) {\n                    return numeric(value).format('0,0.[0]a')\n                  },\n                },\n              },\n            ],\n          },\n          plugins: {\n            legend: false,\n          },\n          hover: {\n            onHover: (event, elements) => {\n              const target = document.getElementById(chartId)\n              if (!target) return\n              target.style.cursor = elements[0] ? 'pointer' : 'default'\n            },\n          },\n        },\n      })\n      setRebuildChart(true)\n    }\n  }\n\n  const getBackground = useCallback(() => {\n    if (!chartRef || !backgroundColor) return DEFAULT_BACKGROUND_COLOR\n    const ctx = chartRef?.current?.canvas?.getContext('2d')\n    const gradient = ctx?.createLinearGradient(0, 0, 0, 180)\n    gradient?.addColorStop(0, backgroundColor)\n    gradient?.addColorStop(1, `${backgroundColor}00`)\n    const background = type === 'line' ? gradient : backgroundColor\n    return background\n  }, [backgroundColor, type])\n\n  useEffect(() => {\n    const chartInstance = chartRef.current\n    const dataInstace = chartInstance?.data.datasets?.find(({ data }) => data)\n    const compareData = isEqual(dataInstace?.data, chartData)\n    if (chartInstance && !compareData) {\n      chartInstance.data = formatData(chartData, labels, getBackground())\n      chartInstance?.update()\n    }\n  }, [chartData, formatData, getBackground, labels])\n\n  return <canvas id={chartId} height=\"180px\" ref={canvasCallback}></canvas>\n}\n\nexport default SenChart\n","import { Col, Empty, Row } from 'antd'\n\nconst ChartEmpty = () => {\n  return (\n    <Row style={{ height: 170 }} align=\"middle\" justify=\"center\">\n      <Col>\n        <Empty />\n      </Col>\n    </Row>\n  )\n}\n\nexport default ChartEmpty\n","import TokenProvider from 'os/providers/tokenProvider'\nimport { fetchCGK } from 'shared/util'\nimport axios from 'axios'\n\nexport interface MintInfo {\n  address: string\n  symbol: string\n  price: number\n  decimals: number\n}\n\nexport type ChartParamsCGK = {\n  days: number\n  interval: string\n}\n\nconst DEFAULT_TOKEN_INFO = {\n  address: '',\n  chainId: 0,\n  decimals: 0,\n  name: '',\n  symbol: 'TOKEN',\n  extensions: undefined,\n  logoURI: '',\n  tags: [],\n}\n\nconst TOKEN_PROVIDER = new TokenProvider()\n\nconst cgk = {\n  getMintInfos: async (mintsAddress: string[]) => {\n    if (!TOKEN_PROVIDER || !mintsAddress) return\n    const promise = mintsAddress.map(async (mint) => {\n      let tokenInfo = await TOKEN_PROVIDER.findByAddress(mint)\n      if (!tokenInfo) tokenInfo = DEFAULT_TOKEN_INFO\n      const { address, symbol, decimals, extensions } = tokenInfo\n      const ticket = extensions?.coingeckoId\n\n      if (!ticket) return { address, symbol, decimals, price: 0 } // some mints don't have a ticket, so the price in cgk is 0\n\n      const { price } = await fetchCGK(ticket)\n      return { address, symbol, decimals, price }\n    })\n    const mintsDetails = await Promise.all(promise)\n    const mapMintsDetails = new Map<string, MintInfo>()\n    mintsDetails.forEach((mint) => {\n      mapMintsDetails.set(mint.address, mint)\n    })\n    return mapMintsDetails\n  },\n}\nexport default cgk\n\nexport const fetchMarketChart = async (\n  ticket: string,\n  params: ChartParamsCGK,\n) => {\n  try {\n    const data: any = await axios({\n      method: 'get',\n      url: `https://api.coingecko.com/api/v3/coins/${ticket}/market_chart?vs_currency=usd&days=${params.days}&interval=${params.interval}`,\n    })\n    const priceData: [number /*time*/, number /*price*/][] = data.data.prices\n    return priceData.map((data) => ({ time: data[0], val: data[1] }))\n  } catch (error) {\n    return []\n  }\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport moment from 'moment'\nimport { useMint } from '@senhub/providers'\n\nimport { Card, Col, Radio, Row, Typography } from 'antd'\nimport Cross from './cross'\n\nimport { AppState } from 'app/model'\nimport SenChart from './chart'\nimport ChartEmpty from './chartEmpty'\nimport { ChartParamsCGK, fetchMarketChart } from 'app/helper/cgk'\nimport { numeric } from 'shared/util'\n\ntype ChartData = { label: string; val: number }\nenum Interval {\n  day = 'day',\n  week = 'week',\n  month = 'month',\n  year = 'year',\n}\nconst CHART_DATA_CONFIG: Record<\n  Interval,\n  {\n    amount: number\n    unit: moment.unitOfTime.DurationConstructor\n    format: string\n  }\n> = {\n  day: { amount: 4, unit: 'hours', format: 'HH:00' },\n  week: { amount: 1, unit: 'days', format: 'MMM DD' },\n  month: { amount: 5, unit: 'days', format: 'MMM DD' },\n  year: { amount: 2, unit: 'months', format: 'MMM DD' },\n}\nconst MARKET_CONFIG: Record<Interval, ChartParamsCGK> = {\n  day: { days: 1, interval: 'hourly' },\n  week: { days: 7, interval: 'daily' },\n  month: { days: 31, interval: 'daily' },\n  year: { days: 365, interval: 'daily' },\n}\n\nconst CHART_CONFIGS = {\n  color: '#3E8C6A',\n  radius: 0,\n  hitRadius: 14,\n  tooltip: 'TVL',\n  transparent: 'transparent',\n}\n\nconst SwapChart = () => {\n  const [interval, setInterval] = useState(Interval.week)\n  const [chartData, setChartData] = useState<{ label: string; val: number }[]>(\n    [],\n  )\n  const bidData = useSelector((state: AppState) => state.bid)\n  const askData = useSelector((state: AppState) => state.ask)\n  const { tokenProvider } = useMint()\n\n  const swapChartConfigs = {\n    borderColor: CHART_CONFIGS.transparent,\n    borderRadius: CHART_CONFIGS.radius,\n    pointRadius: CHART_CONFIGS.radius,\n    tooltip: CHART_CONFIGS.tooltip,\n    pointHitRadius: CHART_CONFIGS.hitRadius,\n    pointHoverRadius: CHART_CONFIGS.radius,\n    backgroundColor: CHART_CONFIGS.color,\n  }\n\n  const parseChartDay = useCallback(\n    (marketData: { time: number; val: number }[]) => {\n      const chartData: ChartData[] = []\n      const { format, amount, unit } = CHART_DATA_CONFIG[interval]\n      let displayTime = moment()\n      // parser data\n      for (const data of marketData.reverse()) {\n        const chartTime = moment(data.time).format(format)\n        if (chartTime === displayTime.format(format)) {\n          const now = moment().format(format)\n          let label = chartTime\n          if (chartTime === now) label = moment().format('HH:mm')\n          if (displayTime)\n            chartData.unshift({\n              label: label,\n              val: data.val,\n            })\n          displayTime = displayTime.subtract(amount, unit)\n        } else if (chartTime === '00:00') {\n          chartData.unshift({\n            label: displayTime.format('MMM DD'),\n            val: data.val,\n          })\n        }\n      }\n      setChartData(chartData)\n    },\n    [interval],\n  )\n\n  const parseChartDaily = useCallback(\n    (marketData: { time: number; val: number }[]) => {\n      const chartData: ChartData[] = []\n      const { format, amount, unit } = CHART_DATA_CONFIG[interval]\n      let displayTime = moment()\n      // parser data\n      for (const data of marketData.reverse()) {\n        const chartTime = moment(data.time).format(format)\n        if (chartTime === displayTime.format(format)) {\n          displayTime = displayTime.subtract(amount, unit)\n          chartData.unshift({\n            label: chartTime,\n            val: data.val,\n          })\n          continue\n        }\n      }\n      setChartData(chartData)\n    },\n    [interval],\n  )\n\n  const fetchChartData = useCallback(async () => {\n    // fetch data market from coingecko\n    const bidTokenInfo = await tokenProvider.findByAddress(\n      bidData.mintInfo?.address || '',\n    )\n    const askTokenInfo = await tokenProvider.findByAddress(\n      askData.mintInfo?.address || '',\n    )\n    const bidTicket = bidTokenInfo?.extensions?.coingeckoId\n    const askTicket = askTokenInfo?.extensions?.coingeckoId\n    // return when bid & ask address is same\n    const compareAddress = bidData.accountAddress === askData.accountAddress\n    if (!askTicket || !bidTicket || compareAddress) return setChartData([])\n\n    const marketConfig = MARKET_CONFIG[interval]\n    const [bidChartData, askChartData] = await Promise.all([\n      fetchMarketChart(bidTicket, marketConfig),\n      fetchMarketChart(askTicket, marketConfig),\n    ])\n    // parser market data\n    const marketData: { time: number; val: number }[] = []\n    for (let idx = bidChartData.length - 1; idx >= 0; idx--) {\n      const bidChart = bidChartData[idx]\n      const askChart =\n        askChartData[askChartData.length - bidChartData.length + idx]\n      if (!bidChart || !askChart) continue\n      marketData.unshift({\n        time: bidChart.time,\n        val: bidChart.val / askChart.val,\n      })\n    }\n    if (interval === Interval.day) return parseChartDay(marketData)\n    return parseChartDaily(marketData)\n  }, [\n    askData.accountAddress,\n    askData.mintInfo?.address,\n    bidData.accountAddress,\n    bidData.mintInfo?.address,\n    interval,\n    parseChartDaily,\n    parseChartDay,\n    tokenProvider,\n  ])\n\n  useEffect(() => {\n    fetchChartData()\n  }, [fetchChartData])\n\n  const price = chartData[chartData.length - 1]?.val || 0\n  const priceUI = numeric(price).format(\n    price > 1 ? '0,0.[00]' : '0,0.[00000000]',\n  )\n\n  return (\n    <Card bordered={false} className=\"card-swap\" bodyStyle={{ paddingTop: 28 }}>\n      <Row gutter={[24, 24]}>\n        <Col flex=\"auto\">\n          <Row gutter={[20, 20]}>\n            <Col flex=\"auto\">\n              <Cross />\n            </Col>\n            {chartData && !!chartData.length && (\n              <Col>\n                <Radio.Group\n                  defaultValue={Interval.week}\n                  onChange={(e) => setInterval(e.target.value)}\n                  className=\"chart-radio-btn\"\n                >\n                  <Radio.Button value={Interval.day}>1D</Radio.Button>\n                  <Radio.Button value={Interval.week}>1W</Radio.Button>\n                  <Radio.Button value={Interval.month}>1M</Radio.Button>\n                  <Radio.Button value={Interval.year}>1Y</Radio.Button>\n                </Radio.Group>\n              </Col>\n            )}\n            <Col span={24}>\n              <Typography.Title level={2}>\n                {price ? priceUI : ''}\n              </Typography.Title>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          {chartData && !!chartData.length ? (\n            <SenChart\n              chartData={chartData?.map((data) => data.val)}\n              labels={chartData?.map((data) => data.label)}\n              configs={swapChartConfigs}\n            />\n          ) : (\n            <ChartEmpty />\n          )}\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default SwapChart\n","var _path, _path2, _path3, _path4, _path5, _path6, _defs;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgJupiterLogo(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 100,\n    height: 100,\n    viewBox: \"0 0 100 100\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.57323 77.9508C13.7607 83.7753 19.1321 88.6489 25.3351 92.252C31.5381 95.8551 38.4327 98.1062 45.5668 98.8579C41.8964 93.3346 36.5613 88.2532 29.9008 84.3845C23.2403 80.5159 16.1867 78.4027 9.57323 77.9508Z\",\n    fill: \"url(#paint0_linear)\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M38.8507 68.9805C26.0185 61.5254 12.1297 59.6255 2.19191 62.9818C3.15128 66.1526 4.41654 69.2226 5.96983 72.1486C14.6041 71.9487 24.0313 74.2937 32.8033 79.3886C41.5754 84.4835 48.2846 91.5153 52.3901 99.1165C55.7032 99.0148 58.9986 98.5928 62.2305 97.8566C60.2214 87.5627 51.6795 76.4372 38.8507 68.9805Z\",\n    fill: \"url(#paint1_linear)\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M100 38.7201C98.3685 32.084 95.4165 25.8447 91.3202 20.3748C87.2239 14.9048 82.0673 10.3164 76.1584 6.88349C70.2495 3.45059 63.7094 1.24361 56.9287 0.394327C50.1479 -0.454959 43.2655 0.0708667 36.6925 1.94041C47.6735 3.28427 59.8623 7.40655 71.8159 14.3509C83.7695 21.2953 93.3966 29.8406 100 38.7201Z\",\n    fill: \"url(#paint2_linear)\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M84.0232 63.0577C78.4025 53.7229 68.7738 44.7846 56.9125 37.8939C45.0513 31.0033 32.5198 27.0675 21.6362 26.8071C12.0612 26.5803 4.87495 29.3638 1.92518 34.4419C1.90838 34.4721 1.88486 34.5007 1.86638 34.5309C1.60097 35.4834 1.37251 36.4375 1.16422 37.395C5.28314 35.769 10.0555 34.8635 15.3621 34.7627C27.1628 34.541 40.3696 38.3156 52.5567 45.396C64.7439 52.4765 74.5725 62.0834 80.2234 72.4412C82.7566 77.1077 84.3373 81.702 84.9639 86.0914C85.6929 85.4397 86.4085 84.766 87.1023 84.0656C87.1208 84.0336 87.1325 84 87.151 83.9664C90.1008 78.8833 88.9602 71.2636 84.0232 63.0577Z\",\n    fill: \"url(#paint3_linear)\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M47.8884 53.4254C29.7245 42.8728 9.65227 41.2198 0 48.5842C0.0189591 50.8892 0.195187 53.1903 0.527462 55.4714C3.36682 54.6107 6.29318 54.0687 9.25247 53.8554C20.0386 53.0441 31.9301 56.0493 42.7213 62.3218C53.5125 68.5942 62.0191 77.4402 66.6588 87.205C67.9412 89.8801 68.9193 92.6907 69.5749 95.5839C71.7216 94.7424 73.8088 93.7563 75.8222 92.6325C77.4382 80.5982 66.0574 63.9797 47.8884 53.4254Z\",\n    fill: \"url(#paint4_linear)\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M93.3659 47.4337C87.6814 38.109 77.9687 29.1455 66.0235 22.2095C54.0782 15.2735 41.4981 11.2755 30.5792 10.9547C22.2557 10.7145 15.8085 12.7319 12.4657 16.5434C26.346 14.1917 44.6544 18.1443 62.4001 28.4534C80.1457 38.7625 92.6537 52.7117 97.4815 65.9336C99.1361 61.1444 97.6965 54.5444 93.3659 47.4337Z\",\n    fill: \"url(#paint5_linear)\"\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint1_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint2_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint3_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint4_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint5_linear\",\n    x1: 81,\n    y1: 13,\n    x2: 15,\n    y2: 99,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F9A43A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.25,\n    stopColor: \"#FFC45E\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.53125,\n    stopColor: \"#93EEEF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.760417,\n    stopColor: \"#81F4FE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#3BDBFB\"\n  })))));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgJupiterLogo);\nexport default __webpack_public_path__ + \"static/media/jupiter-logo.6553c3779ce16057aa846301783447a2.svg\";\nexport { ForwardRef as ReactComponent };","import { Avatar, Space, Tooltip, Typography } from 'antd'\nimport JupiterIcon from 'app/static/images/jupiter-logo.svg'\n\nconst PoweredByJupiter = ({\n  spacing = 4,\n  iconSize = 20,\n}: {\n  spacing?: number\n  iconSize?: number\n}) => {\n  return (\n    <Tooltip title=\"Jupiter Aggregator\">\n      <Space size={spacing} style={{ cursor: 'pointer' }}>\n        <Typography.Text style={{ fontSize: 12, color: '#7A7B85' }}>\n          Powered by\n        </Typography.Text>\n        <Avatar src={JupiterIcon} size={iconSize} />\n      </Space>\n    </Tooltip>\n  )\n}\n\nexport default PoweredByJupiter\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { RouteTrace } from 'app/helper/router'\n\nexport enum SwapPlatform {\n  SenSwap,\n  JupiterAggregator,\n}\nexport type RouteState = {\n  platform: SwapPlatform\n  best: RouteTrace // The best route\n  amount: bigint\n  priceImpact: number\n}\n\nconst NAME = 'route'\nconst initialState: RouteState = {\n  platform: SwapPlatform.SenSwap,\n  best: [],\n  amount: BigInt(0),\n  priceImpact: 0,\n}\n\n/**\n * Actions\n */\nexport const updateRoute = createAsyncThunk<\n  Partial<RouteState>,\n  Partial<RouteState>,\n  { state: any }\n>(`${NAME}/updateRoute`, async (route, { getState }) => {\n  const { route: prevRoute } = getState()\n  if (!route) return { ...prevRoute }\n  return { ...prevRoute, ...route }\n})\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      updateRoute.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { Fragment, useMemo } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Divider, Space } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport PoweredByJupiter from '../poweredByJupiter'\n\nimport { AppState } from 'app/model'\nimport { account } from '@senswap/sen-js'\nimport { MintAvatar } from 'shared/antd/mint'\nimport { SwapPlatform } from 'app/model/route.controller'\n\nconst RouteAvatar = () => {\n  const {\n    bid: { mintInfo },\n    route: { platform, best },\n  } = useSelector((state: AppState) => state)\n\n  const srcMintAddress = mintInfo?.address\n  const chainMintAddresses = useMemo(() => {\n    if (!best.length || !account.isAddress(srcMintAddress)) return []\n    let list = [srcMintAddress]\n    for (const hop of best) {\n      const { dstMintAddress } = hop\n      if (account.isAddress(dstMintAddress)) list.push(dstMintAddress)\n    }\n    return list\n  }, [srcMintAddress, best])\n\n  return (\n    <Space>\n      {chainMintAddresses?.map((mintAddress, i) => (\n        <Fragment key={i}>\n          <MintAvatar mintAddress={mintAddress} />\n          {chainMintAddresses.length > i + 1 && (\n            <IonIcon name=\"chevron-forward-outline\" />\n          )}\n        </Fragment>\n      ))}\n      {platform === SwapPlatform.JupiterAggregator && (\n        <Fragment>\n          <Divider type=\"vertical\" style={{ margin: 0 }} />\n          <PoweredByJupiter />\n        </Fragment>\n      )}\n    </Space>\n  )\n}\nexport default RouteAvatar\n","import { useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Button, Space, Typography } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport { MintSymbol } from 'shared/antd/mint'\n\nimport { numeric } from 'shared/util'\nimport { AppState } from 'app/model'\n\nconst Price = () => {\n  const [reversed, setReversed] = useState(false)\n  const {\n    bid: { mintInfo: bidMintInfo, amount: bidAmount },\n    ask: { mintInfo: askMintInfo, amount: askAmount },\n  } = useSelector((state: AppState) => state)\n\n  const bidMintAddress = bidMintInfo?.address || ''\n  const askMintAddress = askMintInfo?.address || ''\n  const price = numeric(Number(askAmount) / Number(bidAmount)).format(\n    '0,0.[000000]',\n  )\n  const reversedPrice = numeric(Number(bidAmount) / Number(askAmount)).format(\n    '0,0.[000000]',\n  )\n\n  return (\n    <Space>\n      <Button\n        type=\"text\"\n        onClick={() => setReversed(!reversed)}\n        shape=\"circle\"\n        icon={<IonIcon name=\"swap-horizontal-outline\" />}\n      />\n      <Typography.Text>{!reversed ? price : reversedPrice}</Typography.Text>\n      <Typography.Text>\n        {!reversed ? (\n          <MintSymbol mintAddress={askMintAddress} />\n        ) : (\n          <MintSymbol mintAddress={bidMintAddress} />\n        )}\n        {' / '}\n        {!reversed ? (\n          <MintSymbol mintAddress={bidMintAddress} />\n        ) : (\n          <MintSymbol mintAddress={askMintAddress} />\n        )}\n      </Typography.Text>\n    </Space>\n  )\n}\n\nexport default Price\n","export enum PriceImpact {\n  goodSwap = 0.01, // price impact lower than 1%\n  acceptableSwap = 0.05, // price impact lower than 5%\n}\n","import { PriceImpact } from 'app/constant/swap'\n\nexport const priceImpactColor = (priceImpact: number) => {\n  if (priceImpact < PriceImpact.goodSwap) return '#14E041'\n  if (priceImpact > PriceImpact.acceptableSwap) return '#D72311'\n  return '#FA8C16'\n}\n","import { ReactNode } from 'react'\nimport { useSelector } from 'react-redux'\nimport { PoolData } from '@senswap/sen-js'\n\nimport { Col, Row, Typography } from 'antd'\nimport RouteAvatar from './routeAvatar'\n\nimport { AppState } from 'app/model'\nimport { numeric } from 'shared/util'\nimport Price from './price'\nimport { priceImpactColor } from 'app/helper/utils'\n\nexport type LiteMintInfo = {\n  address: string\n  decimals: number\n}\n\nexport type HopData = {\n  poolData: PoolData & { address: string }\n  srcMintAddress: string\n  dstMintAddress: string\n}\n\nconst ExtraTypography = ({\n  label = '',\n  content = '',\n}: {\n  label?: string\n  content?: string | ReactNode\n}) => {\n  return (\n    <Row align=\"middle\">\n      <Col flex=\"auto\">\n        <Typography.Text type=\"secondary\">{label}</Typography.Text>\n      </Col>\n      <Col>\n        <span>{content}</span>\n      </Col>\n    </Row>\n  )\n}\n\nconst PreviewSwap = () => {\n  const {\n    route: { priceImpact },\n    settings: { slippage },\n  } = useSelector((state: AppState) => state)\n\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={24}>\n        <ExtraTypography\n          label=\"Price impact\"\n          content={\n            <Typography.Text style={{ color: priceImpactColor(priceImpact) }}>\n              {numeric(Number(priceImpact)).format('0.[0000]%')}\n            </Typography.Text>\n          }\n        />\n      </Col>\n      <Col span={24}>\n        <ExtraTypography label=\"Price\" content={<Price />} />\n      </Col>\n      <Col span={24}>\n        <ExtraTypography\n          label=\"Slippage Tolerance\"\n          content={numeric(slippage).format('0.[00]%')}\n        />\n      </Col>\n      <Col span={24} style={{ minHeight: 24 }}>\n        <ExtraTypography label=\"Route\" content={<RouteAvatar />} />\n      </Col>\n    </Row>\n  )\n}\n\nexport default PreviewSwap\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { LiteMintInfo } from 'app/components/preview'\n\nexport type BidState = {\n  amount: string // Desired amount\n  accountAddress: string // Associated account to the selected token\n  mintInfo: LiteMintInfo // Selected token\n  poolAddresses: string[] // List of available pools\n  priority: number\n}\n\nconst NAME = 'bid'\nconst initialState: BidState = {\n  amount: '',\n  mintInfo: {\n    address: '',\n    decimals: 0,\n  },\n  accountAddress: '',\n  poolAddresses: [],\n  priority: 0,\n}\n\n/**\n * Actions\n */\n\nexport const updateBidData = createAsyncThunk<\n  Partial<BidState>,\n  Partial<BidState> & { prioritized?: boolean; reset?: boolean },\n  { state: any }\n>(\n  `${NAME}/updateBidData`,\n  async ({ prioritized, reset, ...bidData }, { getState }) => {\n    const {\n      bid: { priority: prevPriority },\n      ask: { priority: refPriority },\n    } = getState()\n    if (Number(bidData.amount) < 0) bidData.amount = ''\n    const priority = reset ? 0 : prioritized ? refPriority + 1 : prevPriority\n    return { ...bidData, priority }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      updateBidData.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { LiteMintInfo } from 'app/components/preview'\n\nexport type AskState = {\n  amount: string // Desired amount\n  accountAddress: string // Associated account to the selected token\n  mintInfo: LiteMintInfo // Selected token\n  poolAddresses: string[] // List of available pools\n  priority: number\n}\n\nconst NAME = 'ask'\nconst initialState: AskState = {\n  amount: '',\n  mintInfo: {\n    address: '',\n    decimals: 0,\n  },\n  accountAddress: '',\n  poolAddresses: [],\n  priority: 0,\n}\n\n/**\n * Actions\n */\n\nexport const updateAskData = createAsyncThunk<\n  Partial<AskState>,\n  Partial<AskState> & { prioritized?: boolean; reset?: boolean },\n  { state: any }\n>(\n  `${NAME}/updateAskData`,\n  async ({ prioritized, reset, ...askData }, { getState }) => {\n    const {\n      bid: { priority: refPriority },\n      ask: { priority: prevPriority },\n    } = getState()\n    if (Number(askData.amount) < 0) askData.amount = ''\n    const priority = reset ? 0 : prioritized ? refPriority + 1 : prevPriority\n    return { ...askData, priority }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      updateAskData.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from '@senhub/providers'\n\n/**\n * Get token decimals from multiple resources. This hook needs MintProvider for work.\n * MintProvider Ref: https://docs.sentre.io/senhub/development/providers/mint-provider\n * @param mintAddress Mint address\n * @returns Decimals\n */\nconst useMintDecimals = (mintAddress: string) => {\n  const [decimals, setDecimals] = useState<number | undefined>(undefined)\n  const { getDecimals } = useMint()\n\n  const fetchDecimals = useCallback(async () => {\n    try {\n      const decimals = await getDecimals(mintAddress)\n      return setDecimals(decimals)\n    } catch (er: any) {\n      return setDecimals(undefined)\n    }\n  }, [mintAddress, getDecimals])\n\n  useEffect(() => {\n    fetchDecimals()\n  }, [fetchDecimals])\n\n  return decimals\n}\n\nexport default useMintDecimals\n","import { useEffect, useState } from 'react'\nimport { account, DEFAULT_EMPTY_ADDRESS, utils } from '@senswap/sen-js'\nimport { useAccount, useWallet } from '@senhub/providers'\n\nimport useMintDecimals from './useMintDecimals'\n\nexport type AccountBalanceReturn = {\n  amount: bigint\n  decimals: number\n  balance: number\n  mintAddress: string\n}\n\nconst buildResult = (\n  mintAddress?: string,\n  amount?: bigint,\n  decimals?: number,\n) => {\n  if (\n    !account.isAddress(mintAddress) ||\n    amount === undefined ||\n    decimals === undefined\n  )\n    return { amount: BigInt(0), decimals: 0, balance: 0 }\n  return {\n    mintAddress,\n    amount,\n    decimals,\n    balance: Number(utils.undecimalize(amount, decimals)),\n  }\n}\n\n/**\n * Get account balance. This hook needs WalletProvider, MintProvider, and AccountProvider for work.\n * WalletProvider Ref: https://docs.sentre.io/senhub/development/providers/wallet-provider\n * MintProvider Ref: https://docs.sentre.io/senhub/development/providers/mint-provider\n * AccountProvider Ref: https://docs.sentre.io/senhub/development/providers/account-provider\n * @param accountAddress Associated account address\n * @returns AccountBalanceReturn\n * - AccountBalanceReturn.amount: The amount with decimals\n * - AccountBalanceReturn.decimals: The corresponding mint decimals\n * - AccountBalanceReturn.balance: The human-readable balance (undecimalized amount)\n * - AccountBalanceReturn.mintAddress: The corresponding mint\n */\nconst useAccountBalance = (accountAddress: string) => {\n  const {\n    wallet: { address: walletAddress, lamports },\n  } = useWallet()\n  const { accounts } = useAccount()\n  const { amount, mint: mintAddress } = accounts[accountAddress] || {}\n  const decimals = useMintDecimals(mintAddress) || 0\n\n  if (!account.isAddress(walletAddress) || !account.isAddress(accountAddress))\n    return buildResult()\n  if (accountAddress === walletAddress)\n    return buildResult(DEFAULT_EMPTY_ADDRESS, lamports, 9)\n\n  return buildResult(mintAddress, amount, decimals)\n}\n\nexport default useAccountBalance\n\n/**\n * The same as useAccountBalance but the input is mint address\n * @param mintAddress Mint address\n * @returns AccountBalanceReturn\n */\nexport const useAccountBalanceByMintAddress = (mintAddress: string) => {\n  const [accountAddress, setAccountAddress] = useState('')\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const data = useAccountBalance(accountAddress)\n\n  useEffect(() => {\n    ;(async () => {\n      if (!account.isAddress(walletAddress) || !account.isAddress(mintAddress))\n        return setAccountAddress('')\n      const {\n        sentre: { splt },\n      } = window\n      try {\n        const address = await splt.deriveAssociatedAddress(\n          walletAddress,\n          mintAddress,\n        )\n        return setAccountAddress(address)\n      } catch (er) {\n        return setAccountAddress('')\n      }\n    })()\n  })\n\n  return data\n}\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { DEFAULT_WSOL, utils } from '@senswap/sen-js'\nimport { useWallet } from '@senhub/providers'\n\nimport { AppState } from 'app/model'\nimport useAccountBalance from 'shared/hooks/useAccountBalance'\n\nexport const useDisabledSwap = () => {\n  const {\n    route: { best },\n    bid: {\n      amount: bidAmount,\n      accountAddress: bidAccountAddress,\n      mintInfo: { address: bidMintAddress, decimals: bidMintDecimals },\n    },\n    ask: {\n      amount: askAmount,\n      mintInfo: { address: askMintAddress },\n    },\n  } = useSelector((state: AppState) => state)\n\n  const {\n    wallet: { lamports },\n  } = useWallet()\n\n  const { amount: bidBalance } = useAccountBalance(bidAccountAddress)\n\n  const availableBid = useMemo((): string => {\n    if (bidMintAddress !== DEFAULT_WSOL)\n      return utils.undecimalize(bidBalance, bidMintDecimals)\n    // So estimate max = 0.01 fee -> multi transaction.\n    const estimateFee = utils.decimalize(0.01, bidMintDecimals)\n    const max = lamports + bidBalance - estimateFee\n    if (max <= bidBalance)\n      return utils.undecimalize(bidBalance, bidMintDecimals)\n    return utils.undecimalize(max, bidMintDecimals)\n  }, [bidBalance, bidMintAddress, bidMintDecimals, lamports])\n\n  const disabled =\n    !best.length ||\n    !Number(bidAmount) ||\n    !Number(askAmount) ||\n    Number(bidAmount) > Number(availableBid) ||\n    bidMintAddress === askMintAddress\n\n  return disabled\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { usePool } from '@senhub/providers'\n\nimport { useMintTotalValue } from './useMintTotalValue'\n\n// Refer: sen-lp\nexport const usePoolTvl = (poolAddress?: string) => {\n  const { pools } = usePool()\n  const [tvl, setTvl] = useState(0)\n  const { getMintTotalValue } = useMintTotalValue()\n\n  const getTvl = useCallback(\n    async (poolAddress: string) => {\n      const poolData = pools[poolAddress]\n      if (!poolData) return 0\n      const { reserve_a, reserve_b, mint_a, mint_b } = poolData\n      const totalA = await getMintTotalValue({\n        mintAddress: mint_a,\n        amount: reserve_a,\n      })\n      const totalB = await getMintTotalValue({\n        mintAddress: mint_b,\n        amount: reserve_b,\n      })\n      return totalA + totalB\n    },\n    [getMintTotalValue, pools],\n  )\n\n  const updateTvl = useCallback(\n    async (poolAddress?: string) => {\n      if (!poolAddress) return setTvl(0)\n      const poolTvl = await getTvl(poolAddress)\n      setTvl(poolTvl)\n    },\n    [getTvl],\n  )\n\n  useEffect(() => {\n    updateTvl(poolAddress)\n  }, [updateTvl, poolAddress])\n\n  return { tvl, getTvl }\n}\n","import { useCallback } from 'react'\nimport { Swap, utils } from '@senswap/sen-js'\nimport { useMint, usePool } from '@senhub/providers'\n\nimport { fetchCGK } from 'shared/util'\n\n// Refer: sen-lp\nexport const useMintTotalValue = () => {\n  const { tokenProvider, getMint } = useMint()\n  const { pools } = usePool()\n\n  const getTokenUsd = useCallback(\n    async (mintAddress: string, amount: bigint) => {\n      try {\n        const tokenInfo = await tokenProvider.findByAddress(mintAddress)\n        const ticket = tokenInfo?.extensions?.coingeckoId\n        if (!ticket) throw new Error('Cant not find coingeckoId')\n\n        const cgkData = await fetchCGK(ticket)\n        return (\n          Number(utils.undecimalize(amount, tokenInfo.decimals)) * cgkData.price\n        )\n      } catch (error) {\n        return 0\n      }\n    },\n    [tokenProvider],\n  )\n\n  const getMintTotalValue = useCallback(\n    async ({\n      mintAddress,\n      amount,\n    }: {\n      mintAddress: string\n      amount: bigint\n    }) => {\n      const tokenInfo = await tokenProvider.findByAddress(mintAddress)\n      if (tokenInfo) return getTokenUsd(mintAddress, amount)\n\n      // Get Mint Lpt total value\n      const poolData = Object.values(pools).find(\n        (pool) => pool.mint_lpt === mintAddress,\n      )\n      if (!poolData) return 0\n      const { reserve_a, reserve_b, mint_a, mint_b } = poolData\n      if (reserve_a * reserve_b === BigInt(0)) return 0\n      const {\n        [mintAddress]: { supply },\n      } = await getMint({ address: mintAddress })\n      const { deltaA, deltaB } = Swap.oracle.withdraw(\n        amount,\n        supply,\n        reserve_a,\n        reserve_b,\n      )\n      const balanceA: number = await getMintTotalValue({\n        mintAddress: mint_a,\n        amount: deltaA,\n      })\n      const balanceB: number = await getMintTotalValue({\n        mintAddress: mint_b,\n        amount: deltaB,\n      })\n      return balanceA + balanceB\n    },\n    [getMint, getTokenUsd, tokenProvider, pools],\n  )\n  return { getMintTotalValue }\n}\n","import { useCallback } from 'react'\nimport { useSelector } from 'react-redux'\nimport { utils } from '@senswap/sen-js'\nimport { useWallet } from '@senhub/providers'\n\nimport { AppState } from 'app/model'\n\nconst PRECISION = BigInt(1000000000)\n\nexport const useHandleSwap = () => {\n  const {\n    route: { best },\n    bid: {\n      amount: _bidAmount,\n      mintInfo: { decimals: bidMintDecimals },\n    },\n    ask: {\n      amount: _askAmount,\n      mintInfo: { decimals: askMintDecimals },\n    },\n    settings: { slippage },\n  } = useSelector((state: AppState) => state)\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const handleSwap = useCallback(async () => {\n    const { swap, splt, wallet } = window.sentre\n    if (!wallet) throw new Error('Wallet is not connected')\n    // Synthetize routings\n    const routingAddresses = await Promise.all(\n      best.map(\n        async ({\n          srcMintAddress,\n          dstMintAddress,\n          poolData: { address: poolAddress },\n        }) => {\n          const srcAddress = await splt.deriveAssociatedAddress(\n            walletAddress,\n            srcMintAddress,\n          )\n          const dstAddress = await splt.deriveAssociatedAddress(\n            walletAddress,\n            dstMintAddress,\n          )\n          return {\n            poolAddress: poolAddress,\n            srcAddress: srcAddress,\n            dstAddress: dstAddress,\n          }\n        },\n      ),\n    )\n    // Compute limit\n    const bidAmount = utils.decimalize(_bidAmount, bidMintDecimals)\n    const askAmount = utils.decimalize(_askAmount, askMintDecimals)\n    const limit =\n      (askAmount * (PRECISION - utils.decimalize(slippage, 9))) / PRECISION\n    // Execute swap\n    return await swap.route(bidAmount, limit, routingAddresses, wallet)\n  }, [\n    best,\n    bidMintDecimals,\n    askMintDecimals,\n    slippage,\n    walletAddress,\n    _bidAmount,\n    _askAmount,\n  ])\n\n  return handleSwap\n}\n","import { Swap } from '@senswap/sen-js'\nimport { HopData } from 'app/components/preview/index'\nimport { extractReserve } from './router'\n\nexport const ORACLE = Swap.oracle\n\nexport const curve = (bidAmount: bigint, hopData: HopData): bigint => {\n  if (!bidAmount) return BigInt(0)\n  const { srcMintAddress, dstMintAddress, poolData } = hopData\n  const { fee_ratio, tax_ratio } = poolData\n  const bidReserve = extractReserve(srcMintAddress, poolData)\n  const askReserve = extractReserve(dstMintAddress, poolData)\n  if (!bidReserve || !askReserve) return BigInt(0)\n\n  const { askAmount } = ORACLE.swap(\n    bidAmount,\n    bidReserve,\n    askReserve,\n    fee_ratio,\n    tax_ratio,\n  )\n  return askAmount\n}\n\nexport const inverseCurve = (askAmount: bigint, hopData: HopData): bigint => {\n  if (!askAmount) return BigInt(0)\n  const { srcMintAddress, dstMintAddress, poolData } = hopData\n  const { fee_ratio, tax_ratio } = poolData\n  const bidReserve = extractReserve(srcMintAddress, poolData)\n  const askReserve = extractReserve(dstMintAddress, poolData)\n  if (!bidReserve || !askReserve) return BigInt(0)\n\n  const bidAmount = ORACLE.inverseSwap(\n    askAmount,\n    bidReserve,\n    askReserve,\n    fee_ratio,\n    tax_ratio,\n  )\n  return bidAmount\n}\n\nexport const slippage = (bidAmount: bigint, hopData: HopData): bigint => {\n  if (!bidAmount) return BigInt(0)\n  const { srcMintAddress, dstMintAddress, poolData } = hopData\n  const { fee_ratio, tax_ratio } = poolData\n  const bidReserve = extractReserve(srcMintAddress, poolData)\n  const askReserve = extractReserve(dstMintAddress, poolData)\n  if (!bidReserve || !askReserve) return BigInt(0)\n\n  const slippage = ORACLE.slippage(\n    bidAmount,\n    bidReserve,\n    askReserve,\n    fee_ratio,\n    tax_ratio,\n  )\n  return slippage\n}\n","import { PoolData, utils } from '@senswap/sen-js'\n\nimport { curve, slippage } from './oracle'\nimport { BidState } from 'app/model/bid.controller'\nimport { AskState } from 'app/model/ask.controller'\nimport { inverseCurve } from './oracle'\nimport { HopData } from 'app/components/preview/index'\nimport { RouteState, SwapPlatform } from 'app/model/route.controller'\n\nconst PRECISION = 9\nconst POOL_ACTIVITY_STATUS = 1\nconst LIMIT_POOL_IN_ROUTE = 3\n\nexport type GraphPool = Map<string, Map<string, PoolData>>\nexport type RouteTrace = HopData[]\n\n/**\n * Extract reserve from pool data\n * @param extractReserve\n * @param poolData\n * @returns\n */\nexport const extractReserve = (\n  mintAddress: string,\n  poolData: PoolData,\n): bigint => {\n  const { mint_a, mint_b, reserve_a, reserve_b } = poolData\n  if (mintAddress === mint_a) return reserve_a\n  if (mintAddress === mint_b) return reserve_b\n  throw new Error('Cannot find reserves')\n}\n\n/**\n *\n * @param param0\n * @param param1\n * @returns\n */\ntype Point = { point: bigint }\nexport const pointSorting = (\n  { point: firstPoint }: Point,\n  { point: secondPoint }: Point,\n) => {\n  if (firstPoint < secondPoint) return 1\n  if (firstPoint > secondPoint) return -1\n  return 0\n}\n\n/**\n * Calculate price impact\n * @param best\n * @param bid\n * @param ask\n * @returns\n */\nexport const calcPriceImpact = (best: RouteTrace, bidAmount: bigint) => {\n  if (!bidAmount) return 0\n  let srcAmount = bidAmount\n  let p = 1\n  best.forEach((hopData) => {\n    const s = Number(\n      utils.undecimalize(slippage(srcAmount, hopData), PRECISION),\n    )\n    p = p * (1 - s)\n    const dstAmount = curve(srcAmount, hopData)\n    srcAmount = dstAmount\n  })\n\n  return 1 - p\n}\n\nexport const buildPoolGraph = (pools: Record<string, PoolData>): GraphPool => {\n  const graph = new Map<\n    /*mint_address*/ string,\n    Map</*pool_address*/ string, PoolData>\n  >()\n  for (const poolAddress in pools) {\n    const pool = pools[poolAddress]\n    if (pool?.state !== POOL_ACTIVITY_STATUS) continue\n    const mints = [pool.mint_a, pool.mint_b]\n    mints.forEach((mint) => {\n      if (!graph.has(mint)) graph.set(mint, new Map<string, PoolData>())\n      graph.get(mint)?.set(poolAddress, pool)\n    })\n  }\n  return graph\n}\n\n// because of Solana is limiting the number of calculation unit, so the system\n// must limit the list pool of root. Currently, the system set 3 pools in route\nexport const findAllRoutes = (\n  graph: GraphPool,\n  bidMintAddress: string,\n  askMintAddress: string,\n  deep = 0,\n) => {\n  const routes: RouteTrace[] = []\n  const clonedGraph = new Map(graph)\n  const pools = graph.get(bidMintAddress)\n\n  // Too deep\n  if (deep >= LIMIT_POOL_IN_ROUTE) return routes\n\n  clonedGraph.delete(bidMintAddress)\n  pools?.forEach((poolData, poolAddress) => {\n    // Build sub params\n    const srcMintAddress = bidMintAddress\n    const dstMintAddress =\n      srcMintAddress === poolData.mint_a ? poolData.mint_b : poolData.mint_a\n    const hop: HopData = {\n      srcMintAddress,\n      dstMintAddress,\n      poolData: { ...poolData, address: poolAddress },\n    }\n    // Termination\n    if (dstMintAddress === askMintAddress) return routes.push([hop])\n    // Recursive call\n    const subRoutes = findAllRoutes(\n      clonedGraph,\n      dstMintAddress,\n      askMintAddress,\n      deep++,\n    )\n    subRoutes.forEach((route) => routes.push([hop, ...route]))\n  })\n\n  return routes\n}\n\nexport const findBestRouteFromBid = (\n  routes: RouteTrace[],\n  bidState: BidState,\n): RouteState => {\n  const { amount: bidAmount, mintInfo } = bidState\n  let bestRoute: RouteState = {\n    platform: SwapPlatform.SenSwap,\n    best: [],\n    amount: BigInt(0),\n    priceImpact: 0,\n  }\n  routes.forEach((route) => {\n    let amount = utils.decimalize(bidAmount, mintInfo.decimals)\n    route.forEach((hop) => {\n      amount = curve(amount, hop)\n    })\n    const maxAskAmount = bestRoute.amount\n    if (amount > maxAskAmount)\n      bestRoute = {\n        platform: SwapPlatform.SenSwap,\n        best: route,\n        amount,\n        priceImpact: 0,\n      }\n  })\n  const amount = utils.decimalize(bidAmount, mintInfo.decimals)\n  bestRoute.priceImpact = calcPriceImpact(bestRoute.best, amount)\n  return bestRoute\n}\n\nexport const findBestRouteFromAsk = (\n  routes: RouteTrace[],\n  { amount: askAmount, mintInfo }: AskState,\n): RouteState => {\n  let bestRoute: RouteState = {\n    platform: SwapPlatform.SenSwap,\n    best: [],\n    amount: BigInt(0),\n    priceImpact: 0,\n  }\n  for (const route of routes) {\n    const reversedRoute = [...route].reverse()\n    let amount = utils.decimalize(askAmount, mintInfo.decimals)\n\n    for (const hop of reversedRoute) {\n      amount = inverseCurve(amount, hop)\n      if (amount <= BigInt(0)) break\n    }\n    if (amount <= BigInt(0)) continue\n    const minBidAmount = bestRoute.amount\n    if (amount < minBidAmount || !minBidAmount)\n      bestRoute = {\n        platform: SwapPlatform.SenSwap,\n        best: route,\n        amount,\n        priceImpact: 0,\n      }\n  }\n  bestRoute.priceImpact = calcPriceImpact(bestRoute.best, bestRoute.amount)\n  return bestRoute\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\nimport { usePool } from '@senhub/providers'\n\nimport { AppState } from 'app/model'\nimport { RouteState, SwapPlatform } from 'app/model/route.controller'\nimport {\n  buildPoolGraph,\n  findAllRoutes,\n  findBestRouteFromAsk,\n  findBestRouteFromBid,\n} from 'app/helper/router'\n\nexport const useBestRoute = (fixedPoolAddress?: string) => {\n  const [bestRoute, setBestRoute] = useState<RouteState>({\n    platform: SwapPlatform.SenSwap,\n    best: [],\n    amount: BigInt(0),\n    priceImpact: 0,\n  })\n  const { bid: bidData, ask: askData } = useSelector((state: AppState) => state)\n  const { pools } = usePool()\n\n  /**\n   * Find optimal route\n   */\n  const findBestRoute = useCallback(async () => {\n    const {\n      poolAddresses: bidPoolAddresses,\n      mintInfo: { address: bidMintAddress },\n      amount: bidAmount,\n      priority: bidPriority,\n    } = bidData\n    const {\n      poolAddresses: askPoolAddresses,\n      mintInfo: { address: askMintAddress },\n      amount: askAmount,\n      priority: askPriority,\n    } = askData\n\n    // Initialize an instance for the best route\n    // The best route return a route that user can receive maximum ask amount when swap\n    let bestRoute: RouteState = {\n      platform: SwapPlatform.SenSwap,\n      best: [],\n      amount: BigInt(0),\n      priceImpact: 0,\n    }\n    // Return empty default\n    if (\n      (!Number(bidAmount) && !Number(askAmount)) ||\n      !account.isAddress(bidMintAddress) ||\n      !account.isAddress(askMintAddress) ||\n      !bidPoolAddresses.length ||\n      !askPoolAddresses.length ||\n      bidMintAddress === askMintAddress\n    )\n      return setBestRoute(bestRoute)\n\n    // All possible routes\n    let allRoutes = findAllRoutes(\n      buildPoolGraph(pools),\n      bidMintAddress,\n      askMintAddress,\n    )\n    // No available route\n    if (!allRoutes.length) return setBestRoute(bestRoute)\n    // When user select original route from senlp\n    if (account.isAddress(fixedPoolAddress))\n      allRoutes = allRoutes.filter(\n        (route) =>\n          route.length === 1 && route[0].poolData.address === fixedPoolAddress,\n      )\n\n    if (askPriority < bidPriority)\n      bestRoute = findBestRouteFromBid(allRoutes, bidData)\n    else bestRoute = findBestRouteFromAsk(allRoutes, askData)\n    return setBestRoute(bestRoute)\n  }, [askData, bidData, fixedPoolAddress, pools])\n\n  useEffect(() => {\n    findBestRoute()\n  }, [findBestRoute])\n\n  return bestRoute\n}\n","import { useHandleSwap } from './useHandleSwap'\nimport { useBestRoute } from './useBestRoute'\n\nconst useSenSwap = (fixedPoolAddress?: string) => {\n  const bestRoute = useBestRoute(fixedPoolAddress)\n  const swap = useHandleSwap()\n\n  return { bestRoute, swap }\n}\n\nexport default useSenSwap\n","import { Env } from 'shared/runtime'\n\nif (\n  typeof process.env.REACT_APP_ID !== 'string' ||\n  typeof process.env.REACT_APP_URL !== 'string'\n)\n  throw new Error('Please add REACT_APP_ID, REACT_APP_URL in .env!')\n\n/**\n * Contructor\n */\n\ntype Conf = {\n  appId: string\n  url: string\n}\n\nconst shared = {\n  appId: process.env.REACT_APP_ID,\n  url: process.env.REACT_APP_URL,\n}\n\nconst conf: Record<Env, Conf> = {\n  /**\n   * Development configurations\n   */\n  development: {\n    ...shared,\n  },\n\n  /**\n   * Staging configurations\n   */\n  staging: {\n    ...shared,\n  },\n\n  /**\n   * Production configurations\n   */\n  production: {\n    ...shared,\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Net } from 'shared/runtime'\n\n/**\n * Contructor\n */\ntype Conf = {\n  node: string\n  cluster: 'devnet' | 'testnet' | 'mainnet-beta'\n  spltAddress: string\n  splataAddress: string\n}\n\nconst conf: Record<Net, Conf> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    node: 'https://api.devnet.solana.com',\n    cluster: 'devnet',\n    spltAddress: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n    splataAddress: 'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    node: 'https://api.testnet.solana.com',\n    cluster: 'testnet',\n    spltAddress: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n    splataAddress: 'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    node: 'https://solana-api.projectserum.com',\n    cluster: 'mainnet-beta',\n    spltAddress: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n    splataAddress: 'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Net } from 'shared/runtime'\n\n/**\n * Contructor\n */\ntype Conf = {\n  bidDefault: string\n  askDefault: string\n}\n\nconst conf: Record<Net, Conf> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    bidDefault: '2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj',\n    askDefault: '5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    bidDefault: '2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj',\n    askDefault: '5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    bidDefault: 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v',\n    askDefault: 'SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M',\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Net } from 'shared/runtime'\n\n/**\n * Contructor\n */\ntype Conf = {\n  wormholeAddress: string\n}\n\nconst conf: Record<Net, Conf> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    wormholeAddress: 'rRsXLHe7sBHdyKU3KY3wbcgWvoT1Ntqudf6e9PKusgb',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    wormholeAddress: 'rRsXLHe7sBHdyKU3KY3wbcgWvoT1Ntqudf6e9PKusgb',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    wormholeAddress: 'rRsXLHe7sBHdyKU3KY3wbcgWvoT1Ntqudf6e9PKusgb',\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Net } from 'shared/runtime'\n\n/**\n * Contructor\n */\ntype Config = {\n  assetsRoute: string\n}\n\nconst config: Record<Net, Config> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    assetsRoute: '/app/sen_assets',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    assetsRoute: '/app/sen_assets',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    assetsRoute: '/app/sen_assets',\n  },\n}\n\nexport default config\n","import { env, net } from 'shared/runtime'\nimport manifest from './manifest.config'\nimport sol from './sol.config'\nimport swap from './swap.config'\nimport wormhole from './wormhole.config'\nimport route from './route.config'\n\nconst configs = {\n  manifest: manifest[env],\n  sol: sol[net],\n  swap: swap[net],\n  wormhole: wormhole[net],\n  route: route[net],\n}\n\n/**\n * Module exports\n */\nexport default configs\n","import { account, WalletInterface } from '@senswap/sen-js'\nimport {\n  PublicKey,\n  Transaction,\n  Connection,\n  TransactionSignature,\n} from '@solana/web3.js'\nimport { SendTransactionOptions } from '@solana/wallet-adapter-base'\n\nclass JupiterWalletWrapper {\n  private _wallet\n  public publicKey: PublicKey\n\n  constructor(address: string, wallet: WalletInterface) {\n    this._wallet = wallet\n    this.publicKey = account.fromAddress(address) || null\n  }\n\n  async sendTransaction(\n    transaction: Transaction,\n    connection: Connection,\n    options?: SendTransactionOptions,\n  ): Promise<TransactionSignature> {\n    transaction = await this.signTransaction(transaction)\n    return await connection.sendRawTransaction(\n      transaction.serializeMessage(),\n      options,\n    )\n  }\n\n  async signTransaction(transaction: Transaction) {\n    return await this._wallet.signTransaction(transaction)\n  }\n\n  async signAllTransactions(transactions: Transaction[]) {\n    const signedTransactions = []\n    for (const transaction of transactions) {\n      const signedTransaction = await this.signTransaction(transaction)\n      signedTransactions.push(signedTransaction)\n    }\n    return signedTransactions\n  }\n}\n\nexport default JupiterWalletWrapper\n","import { useCallback, useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account, PoolData } from '@senswap/sen-js'\nimport { useJupiter } from '@jup-ag/react-hook'\nimport { Connection } from '@solana/web3.js'\n\nimport configs from 'app/configs'\nimport { AppState } from 'app/model'\nimport { RouteState, SwapPlatform } from 'app/model/route.controller'\nimport { RouteTrace } from 'app/helper/router'\n\nimport JupiterWalletWrapper from 'app/hooks/jupiter/jupiterWalletWrapper'\nimport { useWallet } from '@senhub/providers'\nimport { HopData } from 'app/components/preview'\n\nconst {\n  sol: { node },\n} = configs\nconst connection = new Connection(node)\n\nconst DEFAULT_DATA: RouteState = {\n  platform: SwapPlatform.JupiterAggregator,\n  best: [],\n  amount: BigInt(0),\n  priceImpact: 0,\n}\n\nconst useJupiterAggregator = () => {\n  const {\n    bid: {\n      mintInfo: { address: bidMintAddress, decimals: bidDecimals },\n      amount: bidAmount,\n    },\n    ask: {\n      mintInfo: { address: askMintAddress },\n    },\n    settings: { slippage },\n  } = useSelector((state: AppState) => state)\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const amount = Number(bidAmount) * 10 ** bidDecimals\n  const inputMint = useMemo(\n    () =>\n      account.isAddress(bidMintAddress)\n        ? account.fromAddress(bidMintAddress)\n        : undefined,\n    [bidMintAddress],\n  )\n  const outputMint = useMemo(\n    () =>\n      account.isAddress(askMintAddress)\n        ? account.fromAddress(askMintAddress)\n        : undefined,\n    [askMintAddress],\n  )\n\n  // Jupiter Aggregator\n  const { exchange, routes } = useJupiter({\n    amount,\n    inputMint,\n    outputMint,\n    slippage: slippage * 100,\n    debounceTime: 250,\n  })\n\n  const swap = useCallback(async () => {\n    const {\n      sentre: { wallet },\n    } = window\n    if (!wallet || !account.isAddress(walletAddress))\n      throw new Error('Wallet is not connected')\n    if (!routes?.length) throw new Error('No available route')\n\n    const wrappedWallet = new JupiterWalletWrapper(walletAddress, wallet)\n    const result: any = await exchange({\n      wallet: wrappedWallet,\n      route: routes[0],\n      confirmationWaiterFactory: async (txid) => {\n        await connection.confirmTransaction(txid, 'confirmed')\n        return await connection.getTransaction(txid, {\n          commitment: 'confirmed',\n        })\n      },\n    })\n    if (result.error) throw new Error(result.error)\n    const { txid, outputAddress } = result\n    return { txId: txid, dstAddress: outputAddress }\n  }, [exchange, routes, walletAddress])\n\n  const bestRoute: RouteState = useMemo(() => {\n    if (!routes?.length) return { ...DEFAULT_DATA }\n    const { outAmount, priceImpactPct, marketInfos } = routes[0]\n    const best: RouteTrace = marketInfos.map(({ inputMint, outputMint }) => {\n      const hop: HopData = {\n        poolData: {} as PoolData & { address: string }, // dummy pool data\n        srcMintAddress: inputMint.toBase58(),\n        dstMintAddress: outputMint.toBase58(),\n      }\n      return hop\n    })\n    return {\n      platform: SwapPlatform.JupiterAggregator,\n      amount: BigInt(outAmount),\n      priceImpact: priceImpactPct,\n      best,\n    }\n  }, [routes])\n\n  return { swap, bestRoute }\n}\n\nexport default useJupiterAggregator\n","import { useCallback, useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useLocation } from 'react-router-dom'\nimport { utils } from '@senswap/sen-js'\n\nimport { Button } from 'antd'\n\nimport { AppState, AppDispatch } from 'app/model'\nimport { explorer } from 'shared/util'\nimport { PriceImpact } from 'app/constant/swap'\nimport { SenLpState } from 'app/constant/senLpState'\nimport { updateBidData } from 'app/model/bid.controller'\nimport { updateAskData } from 'app/model/ask.controller'\nimport { updateRoute } from 'app/model/route.controller'\nimport { useWrapSol } from 'app/hooks/useWrapSol'\nimport { useDisabledSwap } from 'app/hooks/useDisabledSwap'\nimport { useSenSwapValidator } from 'app/hooks/senswap/useSenSwapValidator'\nimport useSenSwap from 'app/hooks/senswap'\nimport useJupiterAggregator from 'app/hooks/jupiter/useJupiterAggregator'\n\nexport type SwapButtonProps = {\n  onCallback?: () => void\n  forceSwap?: boolean\n}\n\nconst SwapButton = ({\n  onCallback = () => {},\n  forceSwap = false,\n}: SwapButtonProps) => {\n  const dispatch = useDispatch<AppDispatch>()\n  const [loading, setLoading] = useState(false)\n  const {\n    route: { priceImpact, amount: bestAmount },\n    bid: {\n      mintInfo: { decimals: bidMintDecimals },\n      priority: bidPriority,\n    },\n    ask: {\n      mintInfo: { decimals: askMintDecimals },\n      priority: askPriority,\n    },\n    settings: { advanced },\n  } = useSelector((state: AppState) => state)\n\n  const { wrapAmount, wrapSol } = useWrapSol()\n  const { state: senlpState } = useLocation<SenLpState>()\n  const disabled = useDisabledSwap()\n\n  const validSenSwap = useSenSwapValidator()\n  const senswap = useSenSwap(senlpState?.poolAddress)\n  const jupiter = useJupiterAggregator()\n  // Jupiter support only with bid->ask\n  const validJupiter =\n    jupiter.bestRoute.best.length && bidPriority > askPriority\n\n  const { swap, bestRoute } = validSenSwap || !validJupiter ? senswap : jupiter\n\n  const onSwap = async () => {\n    try {\n      setLoading(true)\n      // check wrap sol\n      if (wrapAmount) await wrapSol()\n\n      const { txId } = await swap()\n      window.notify({\n        type: 'success',\n        description: 'Swap successfully. Click to view details.',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n      return onCallback()\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    } finally {\n      return setLoading(false)\n    }\n  }\n\n  const setRoute = useCallback(() => {\n    if (askPriority < bidPriority) {\n      dispatch(\n        updateAskData({\n          amount: utils.undecimalize(bestAmount, askMintDecimals),\n        }),\n      )\n    }\n    if (bidPriority < askPriority) {\n      dispatch(\n        updateBidData({\n          amount: utils.undecimalize(bestAmount, bidMintDecimals),\n        }),\n      )\n    }\n    dispatch(updateRoute({ ...bestRoute }))\n  }, [\n    dispatch,\n    bestAmount,\n    bestRoute,\n    bidPriority,\n    bidMintDecimals,\n    askPriority,\n    askMintDecimals,\n  ])\n\n  useEffect(() => {\n    setRoute()\n  }, [setRoute])\n\n  const tooHighImpact =\n    !advanced && priceImpact > PriceImpact.acceptableSwap && !forceSwap\n\n  return (\n    <Button\n      type=\"primary\"\n      onClick={onSwap}\n      disabled={disabled || tooHighImpact}\n      loading={loading}\n      block\n    >\n      {tooHighImpact\n        ? 'Too High Price Impact'\n        : forceSwap\n        ? 'Swap Anyway'\n        : 'Swap'}\n    </Button>\n  )\n}\n\nexport default SwapButton\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { DEFAULT_WSOL, utils } from '@senswap/sen-js'\n\nimport { AppState } from 'app/model'\nimport useAccountBalance from 'shared/hooks/useAccountBalance'\n\nexport const useWrapSol = () => {\n  const {\n    bid: {\n      amount: bidAmount,\n      mintInfo: { address: bidMintAddress, decimals: bidMintDecimals },\n      accountAddress: bidAccountAddress,\n    },\n  } = useSelector((state: AppState) => state)\n  const { amount: bidBalance } = useAccountBalance(bidAccountAddress)\n\n  const wrapAmount = useMemo(() => {\n    if (!Number(bidAmount) || bidMintAddress !== DEFAULT_WSOL) return BigInt(0)\n    const amount = utils.decimalize(bidAmount, bidMintDecimals)\n    if (amount <= bidBalance) return BigInt(0)\n    return amount - bidBalance\n  }, [bidBalance, bidAmount, bidMintAddress, bidMintDecimals])\n\n  const wrapSol = async () => {\n    const { swap, wallet } = window.sentre\n    if (!wallet) throw new Error('Wallet is not connected')\n    if (wrapAmount) return await swap.wrapSol(wrapAmount, wallet)\n  }\n\n  return { wrapAmount, wrapSol }\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { AppState } from 'app/model'\nimport { usePoolTvl } from 'app/hooks/usePoolTvl'\n\nconst MIN_TVL = 1000 // $USD\n\nexport const useSenSwapValidator = () => {\n  const {\n    route: { best },\n    bid: { amount: bidAmount },\n    ask: { amount: askAmount },\n  } = useSelector((state: AppState) => state)\n  const [valid, setValid] = useState(false)\n  const { getTvl } = usePoolTvl()\n\n  const checkLiquidity = useCallback(async () => {\n    for (const hop of best) {\n      const poolAddr = hop.poolData.address\n      const tvl = await getTvl(poolAddr)\n      if (tvl < MIN_TVL) return false\n    }\n    return true\n  }, [getTvl, best])\n\n  const validate = useCallback(async () => {\n    if (!Number(bidAmount) && !Number(askAmount)) return setValid(true)\n    // Check hops length\n    if (!best.length) return setValid(false)\n    // Check pool's Liquidity >= MIN_TVL\n    const validLiquidity = await checkLiquidity()\n    if (!validLiquidity) return setValid(false)\n\n    return setValid(true)\n  }, [checkLiquidity, best, askAmount, bidAmount])\n\n  useEffect(() => {\n    validate()\n  }, [validate])\n\n  return valid\n}\n","import { Connection, PublicKey } from '@solana/web3.js'\nimport { JupiterProvider } from '@jup-ag/react-hook'\nimport { useWallet } from '@senhub/providers'\n\nimport SwapButton, { SwapButtonProps } from './swapButton'\n\nimport configs from 'app/configs'\n\nconst {\n  sol: { node, cluster },\n} = configs\nconst connection = new Connection(node)\n\nconst SwapAction = ({\n  onCallback = () => {},\n  forceSwap = false,\n}: SwapButtonProps) => {\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  return (\n    <JupiterProvider\n      connection={connection}\n      cluster={cluster}\n      userPublicKey={new PublicKey(walletAddress)}\n    >\n      <SwapButton onCallback={onCallback} forceSwap={forceSwap} />\n    </JupiterProvider>\n  )\n}\n\nexport default SwapAction\n","import { useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Row, Col, Space, Typography, Modal, Card, Checkbox } from 'antd'\nimport Preview from 'app/components/preview'\nimport IonIcon from 'shared/antd/ionicon'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport SwapAction from 'app/components/swapAction'\n\nimport { AppState } from 'app/model'\nimport { PriceImpact } from 'app/constant/swap'\n\nconst ConfirmSwap = ({\n  visible = false,\n  onCancel = () => {},\n}: {\n  visible?: boolean\n  onCancel?: (visible: boolean) => void\n}) => {\n  const [checked, setChecked] = useState(false)\n  const {\n    route: { priceImpact },\n    bid: bidData,\n    ask: askData,\n  } = useSelector((state: AppState) => state)\n\n  const tooHighImpact = priceImpact > PriceImpact.acceptableSwap\n\n  return (\n    <Modal\n      onCancel={() => onCancel(false)}\n      closeIcon={<IonIcon name=\"close\" />}\n      footer={null}\n      visible={visible}\n      forceRender\n    >\n      <Row gutter={[16, 24]}>\n        <Col span={24}>\n          <Typography.Title level={4}> Confirm swap</Typography.Title>\n        </Col>\n        <Col span={24}>\n          <Row align=\"middle\" justify=\"space-between\">\n            <Col>\n              <Space direction=\"vertical\">\n                <Typography.Text>From</Typography.Text>\n                <Space>\n                  <MintAvatar mintAddress={bidData.mintInfo?.address} />\n                  <Typography.Text>\n                    <MintSymbol mintAddress={bidData.mintInfo?.address} />\n                  </Typography.Text>\n                </Space>\n                <Typography.Title level={4}>{bidData.amount}</Typography.Title>\n              </Space>\n            </Col>\n            <Col>\n              <IonIcon name=\"arrow-forward-outline\" style={{ fontSize: 24 }} />\n            </Col>\n            <Col>\n              <Space direction=\"vertical\" align=\"end\">\n                <Typography.Text>To</Typography.Text>\n                <Space>\n                  <MintAvatar mintAddress={askData.mintInfo?.address} />\n                  <Typography.Text>\n                    <MintSymbol mintAddress={askData.mintInfo?.address} />\n                  </Typography.Text>\n                </Space>\n                <Typography.Title level={4}>{askData.amount}</Typography.Title>\n              </Space>\n            </Col>\n          </Row>\n        </Col>\n        <Col>\n          <Card bordered={false} className=\"confirm-info\">\n            <Preview />\n          </Card>\n        </Col>\n        {tooHighImpact && (\n          <Col span={24}>\n            <Checkbox checked={checked} onChange={() => setChecked(!checked)}>\n              The price impact is currently high. Tick the checkbox to accept\n              the swap.\n            </Checkbox>\n          </Col>\n        )}\n        <Col span={24}>\n          <SwapAction onCallback={() => onCancel(false)} forceSwap={checked} />\n        </Col>\n      </Row>\n    </Modal>\n  )\n}\nexport default ConfirmSwap\n","import { useState } from 'react'\n\nimport { Button, Card, Col, Row, Typography } from 'antd'\nimport Preview from 'app/components/preview'\n\nimport ConfirmSwap from 'app/components/confirmSwap'\nimport { useDisabledSwap } from 'app/hooks/useDisabledSwap'\n\nconst SwapActions = () => {\n  const [visivle, setVisivle] = useState(false)\n  const disabled = useDisabledSwap()\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[24, 24]}>\n        <Col span={24}>\n          <Typography.Title level={5}>Review & Swap</Typography.Title>\n        </Col>\n        <Col span={24}>\n          <Preview />\n        </Col>\n        <Col span={24} /> {/* Safe sapce */}\n        <Col span={24}>\n          <Button\n            type=\"primary\"\n            onClick={() => setVisivle(true)}\n            disabled={disabled}\n            block\n          >\n            Review & Swap\n          </Button>\n        </Col>\n        <ConfirmSwap visible={visivle} onCancel={setVisivle} />\n      </Row>\n    </Card>\n  )\n}\n\nexport default SwapActions\n","import { Space, Typography } from 'antd'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\n\nimport { numeric } from 'shared/util'\n\nconst MintPoolInfo = ({\n  mintAddress,\n  tvl = '',\n  price,\n  format = '0,0.[00]a',\n}: {\n  mintAddress: string\n  tvl?: string | number\n  price?: number\n  format?: string\n}) => {\n  return (\n    <Space direction=\"vertical\" size={4}>\n      <MintAvatar mintAddress={mintAddress} />\n      <Space>\n        <Typography.Text>TVL:</Typography.Text>\n        <Typography.Title level={5}>\n          {numeric(tvl).format(format)}\n        </Typography.Title>\n        <Typography.Title level={5}>\n          <MintSymbol mintAddress={mintAddress} />\n        </Typography.Title>\n      </Space>\n      <Typography.Text className=\"caption\" type=\"secondary\">\n        ~ ${numeric(price).format(format)}\n      </Typography.Text>\n    </Space>\n  )\n}\n\nexport default MintPoolInfo\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from '@senhub/providers'\nimport { fetchCGK } from 'shared/util'\n\nconst DEFAULT_DATA = {\n  address: '',\n  icon: '',\n  name: 'TOKEN',\n  price: 0,\n  priceChange: 0,\n  rank: 0,\n  symbol: 'TOKEN',\n  totalVolume: 0,\n}\n\nconst useMintCgk = (mintAddress?: string): CgkData => {\n  const [cgkData, setCgkData] = useState<CgkData>(DEFAULT_DATA)\n  const { tokenProvider } = useMint()\n\n  const fetchCgkData = useCallback(async () => {\n    if (!mintAddress) return setCgkData(DEFAULT_DATA)\n    try {\n      const token = await tokenProvider.findByAddress(mintAddress)\n      const ticket = token?.extensions?.coingeckoId\n      const cgkData = await fetchCGK(ticket)\n      return setCgkData(cgkData)\n    } catch (error) {\n      return setCgkData(DEFAULT_DATA)\n    }\n  }, [mintAddress, tokenProvider])\n\n  useEffect(() => {\n    fetchCgkData()\n  }, [fetchCgkData])\n\n  return cgkData\n}\nexport default useMintCgk\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account, PoolData, utils } from '@senswap/sen-js'\n\nimport { Card, Col, Divider, Row } from 'antd'\nimport MintPoolInfo from './mintPoolInfo'\n\nimport { AppState } from 'app/model'\nimport { extractReserve } from 'app/helper/router'\nimport useMintCgk from 'app/hooks/useMintCgk'\nimport './index.less'\n\nconst PoolInfo = () => {\n  const {\n    route: { best },\n    bid: { mintInfo: bidMintInfo },\n    ask: { mintInfo: askMintInfo },\n  } = useSelector((state: AppState) => state)\n  const bidCgk = useMintCgk(bidMintInfo.address)\n  const askCgk = useMintCgk(askMintInfo.address)\n\n  const { poolData: bidPoolData } = best[0] || {}\n  const { poolData: askPoolData } = best[best.length - 1] || {}\n\n  const getMintTVL = (mintAddress?: string, poolData?: PoolData) => {\n    try {\n      if (!account.isAddress(mintAddress) || !poolData) return BigInt(0)\n      return extractReserve(mintAddress, poolData)\n    } catch (er) {\n      return BigInt(0)\n    }\n  }\n\n  // Bid TVL\n  const bidTVL = useMemo(() => {\n    if (!bidMintInfo.decimals) return 0\n    const bid = getMintTVL(bidMintInfo.address, bidPoolData)\n    return Number(utils.undecimalize(bid, bidMintInfo.decimals))\n  }, [bidMintInfo, bidPoolData])\n  // Ask TVL\n  const askTVL = useMemo(() => {\n    if (!askMintInfo.decimals) return 0\n    const ask = getMintTVL(askMintInfo.address, askPoolData)\n    return Number(utils.undecimalize(ask, askMintInfo.decimals))\n  }, [askMintInfo, askPoolData])\n\n  const disabled = !bidTVL || !askTVL\n\n  return (\n    <Card\n      bordered={false}\n      className={disabled ? 'disabled-swap-pool-info-card' : undefined}\n    >\n      <Row gutter={[16, 16]} wrap={false}>\n        <Col span={11}>\n          <MintPoolInfo\n            mintAddress={bidMintInfo?.address || ''}\n            tvl={bidTVL}\n            price={bidTVL * bidCgk.price}\n          />\n        </Col>\n        <Col>\n          <Divider type=\"vertical\" style={{ height: '100%' }} />\n        </Col>\n        <Col span={11}>\n          <MintPoolInfo\n            mintAddress={askMintInfo?.address || ''}\n            tvl={askTVL}\n            price={askTVL * askCgk.price}\n          />\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default PoolInfo\n","var _defs, _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgSen(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    \"data-name\": \"Layer 1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 283.465 283.465\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient\",\n    x1: -1222.504,\n    y1: -2883.343,\n    x2: -1135.428,\n    y2: -2970.419,\n    gradientTransform: \"translate(1300.837 3068.613)\",\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#f9575e\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.27,\n    stopColor: \"#f8555b\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.486,\n    stopColor: \"#f44f51\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.685,\n    stopColor: \"#ee4540\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.871,\n    stopColor: \"#e63728\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#de2a13\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient-2\",\n    x1: 1314.111,\n    y1: -895.144,\n    x2: 1389.882,\n    y2: -811.556,\n    gradientTransform: \"translate(1516.988 -707.868) rotate(180)\",\n    xlinkHref: \"#linear-gradient\"\n  }))), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"Senswap logo FINAL\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M37.179,85.127H114a92.562,92.562,0,0,1,92.562,92.562v20.648a0,0,0,0,1,0,0H129.741a92.562,92.562,0,0,1-92.562-92.562V85.127A0,0,0,0,1,37.179,85.127Z\",\n    transform: \"translate(107.828 328.128) rotate(-135)\",\n    fill: \"url(#linear-gradient)\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M169.462,85.127h76.823a0,0,0,0,1,0,0v20.648a92.562,92.562,0,0,1-92.562,92.562H76.9a0,0,0,0,1,0,0V177.689a92.562,92.562,0,0,1,92.562-92.562Z\",\n    transform: \"translate(-52.89 155.776) rotate(-45)\",\n    fill: \"url(#linear-gradient-2)\"\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgSen);\nexport default __webpack_public_path__ + \"static/media/sen.f2d012c907167ba613b035621b6423cb.svg\";\nexport { ForwardRef as ReactComponent };","import { Avatar, Space, Tooltip, Typography } from 'antd'\nimport SentreIcon from 'app/static/images/sen.svg'\n\nconst PoweredBySentre = ({\n  spacing = 4,\n  iconSize = 20,\n}: {\n  spacing?: number\n  iconSize?: number\n}) => {\n  return (\n    <Tooltip title=\"Sentre Protocol\">\n      <Space size={spacing} style={{ cursor: 'pointer' }}>\n        <Typography.Text style={{ fontSize: 12, color: '#7A7B85' }}>\n          Powered by\n        </Typography.Text>\n        <Avatar src={SentreIcon} size={iconSize} />\n      </Space>\n    </Tooltip>\n  )\n}\n\nexport default PoweredBySentre\n","import { Row, Col, Button, Typography, Tooltip } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nconst Option = ({\n  label,\n  value,\n  onClick,\n  active = false,\n}: {\n  label: string\n  value: number\n  onClick: (value: number) => void\n  active?: boolean\n}) => {\n  return (\n    <Typography.Text\n      style={{ cursor: 'pointer', color: active ? '#F9575E' : 'inherit' }}\n      onClick={() => onClick(value)}\n    >\n      {label}\n    </Typography.Text>\n  )\n}\n\nconst Slippage = ({\n  value,\n  onChange,\n}: {\n  value: number\n  onChange: (value: number) => void\n}) => {\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Row gutter={[8, 8]} wrap={false}>\n          <Col flex=\"auto\">\n            <Typography.Text type=\"secondary\" style={{ fontSize: 12 }}>\n              Slippage Tolerance\n            </Typography.Text>\n          </Col>\n          <Col>\n            <Tooltip\n              placement=\"right\"\n              title={\n                <span>\n                  Your transaction will be canceled if the confirmed price\n                  breaks the limited range of{' '}\n                  <strong style={{ color: '#f9575e' }}>{`${\n                    value * 100\n                  }%.`}</strong>\n                </span>\n              }\n            >\n              <Button\n                type=\"text\"\n                shape=\"circle\"\n                size=\"small\"\n                icon={<IonIcon name=\"information-circle-outline\" />}\n              />\n            </Tooltip>\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Row gutter={[8, 8]} wrap={false} justify=\"space-between\">\n          {[0.001, 0.005, 0.01, 0.05, 1].map((e, i) => (\n            <Col key={i}>\n              <Option\n                label={e === 1 ? 'Freely' : `${e * 100}%`}\n                value={e}\n                onClick={onChange}\n                active={e === value}\n              />\n            </Col>\n          ))}\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Slippage\n","import { Row, Col, Typography, Switch } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nconst Advanced = ({\n  value,\n  onChange,\n}: {\n  value: boolean\n  onChange: (value: boolean) => void\n}) => {\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Row gutter={[8, 8]} wrap={false}>\n          <Col flex=\"auto\">\n            <Typography.Text type=\"secondary\" style={{ fontSize: 12 }}>\n              Advanced Mode\n            </Typography.Text>\n          </Col>\n          <Col>\n            <Switch\n              size=\"small\"\n              checkedChildren={<IonIcon name=\"calculator-outline\" />}\n              unCheckedChildren={<IonIcon name=\"sparkles-outline\" />}\n              checked={value}\n              onChange={onChange}\n            />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Typography.Paragraph style={{ fontSize: 12, textAlign: 'justify' }}>\n          <IonIcon name=\"warning-outline\" /> This advanced mode will disable the\n          automatic protection that often results in bad rates and lost funds.\n          Only use this mode if you know what you are doing.\n        </Typography.Paragraph>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Advanced\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\n\nexport type State = {\n  slippage: number\n  advanced: boolean\n}\n\nconst NAME = 'settings'\nconst initialState: State = {\n  slippage: 0.01,\n  advanced: false,\n}\n\n/**\n * Actions\n */\n\nexport const updateSettings = createAsyncThunk(\n  `${NAME}/updateSettings`,\n  async (settings: Partial<State>) => ({ ...settings }),\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      updateSettings.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { useDispatch, useSelector } from 'react-redux'\n\nimport { Row, Col, Button, Popover, Typography, Divider } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport PoweredBySentre from 'app/components/poweredBySentre'\nimport Slippage from './slippage'\nimport Advanced from './advanced'\n\nimport { updateSettings } from 'app/model/settings.controller'\nimport { AppDispatch, AppState } from 'app/model'\n\nconst Settings = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const { slippage, advanced } = useSelector(\n    (state: AppState) => state.settings,\n  )\n\n  const onSlippage = (slippage: number) => {\n    return dispatch(updateSettings({ slippage }))\n  }\n  const onAdvanced = (advanced: boolean) => {\n    return dispatch(updateSettings({ advanced }))\n  }\n\n  return (\n    <Row gutter={[4, 4]} justify=\"end\" align=\"middle\" wrap={false}>\n      <Col>\n        <PoweredBySentre />\n      </Col>\n      <Col>\n        <Divider type=\"vertical\" style={{ padding: 0 }} />\n      </Col>\n      <Col>\n        <Popover\n          placement=\"bottomRight\"\n          overlayInnerStyle={{ width: 300 }}\n          content={\n            <Row gutter={[8, 8]}>\n              <Col span={24}>\n                <Typography.Title level={5}>Settings</Typography.Title>\n              </Col>\n              <Col span={24}>\n                <Slippage value={slippage} onChange={onSlippage} />\n              </Col>\n              <Divider style={{ marginTop: 8, marginBottom: 8 }} />\n              <Col span={24}>\n                <Advanced value={advanced} onChange={onAdvanced} />\n              </Col>\n            </Row>\n          }\n          trigger=\"click\"\n        >\n          <Button\n            type=\"text\"\n            shape=\"circle\"\n            size=\"small\"\n            icon={<IonIcon name=\"settings-outline\" />}\n          />\n        </Popover>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Settings\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { useAccount, useMint, usePool } from '@senhub/providers'\n\nimport { Card, Input, Button } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nconst KEYSIZE = 3\n\nconst Search = ({\n  onChange,\n  disabled = false,\n}: {\n  onChange: (data: string[]) => void\n  disabled?: boolean\n}) => {\n  const [mintAddresses, setMintAddresses] = useState<string[]>([])\n  const [keyword, setKeyword] = useState('')\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n  const { accounts } = useAccount()\n\n  const sortMintAddresses = useCallback(async () => {\n    let sortedMint: Record<string, boolean> = {}\n    // Get all mints in token provider\n    const allMintAddress: Record<string, boolean> = {}\n    const allTokens = await tokenProvider.all()\n    for (const token of allTokens) allMintAddress[token.address] = true\n\n    // get all single token in accounts\n    for (const addr in accounts) {\n      const { mint, amount } = accounts[addr]\n      if (allMintAddress[mint] && amount) sortedMint[mint] = true\n    }\n    sortedMint = { ...sortedMint, ...allMintAddress }\n\n    // Get all mints in pools\n    const inPoolMintAddresses = Object.values(pools)\n      .map(({ mint_a, mint_b }) => [mint_a, mint_b])\n      .flat()\n      .filter((item, pos, self) => self.indexOf(item) === pos)\n    // Check mint addresses (token info, mint lp)\n    inPoolMintAddresses.forEach((mintAddress) => {\n      if (!sortedMint[mintAddress]) sortedMint[mintAddress] = true\n    })\n\n    // Return\n    return setMintAddresses(Object.keys(sortedMint))\n  }, [tokenProvider, pools, accounts])\n\n  useEffect(() => {\n    sortMintAddresses()\n  }, [sortMintAddresses])\n\n  const search = useCallback(async () => {\n    if (!keyword || keyword.length < KEYSIZE) return onChange(mintAddresses)\n    const raw = await tokenProvider.find(keyword)\n    const data = raw\n      .filter(({ address }) => mintAddresses.includes(address))\n      .map(({ address }) => address)\n    // Search by address\n    mintAddresses.forEach((mintAddress) => {\n      if (data.includes(mintAddress)) return\n      if (!mintAddress.toLowerCase().includes(keyword.toLowerCase())) return\n      return data.push(mintAddress)\n    })\n    return onChange(data)\n  }, [keyword, onChange, tokenProvider, mintAddresses])\n\n  useEffect(() => {\n    search()\n  }, [search])\n\n  return (\n    <Card className=\"card-child\" bodyStyle={{ padding: 8 }} bordered={false}>\n      <Input\n        placeholder=\"Search\"\n        value={keyword}\n        size=\"small\"\n        bordered={false}\n        suffix={\n          <Button\n            type=\"text\"\n            style={{ marginRight: -7 }}\n            size=\"small\"\n            onClick={keyword ? () => setKeyword('') : () => {}}\n            icon={\n              <IonIcon name={keyword ? 'close-outline' : 'search-outline'} />\n            }\n            disabled={disabled}\n          />\n        }\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n          setKeyword(e.target.value)\n        }\n        disabled={disabled}\n      />\n    </Card>\n  )\n}\n\nexport default Search\n","import { Row, Col, Space, Typography, Card, Divider } from 'antd'\nimport { MintAvatar, MintName, MintSymbol } from 'shared/antd/mint'\n\nconst Mint = ({\n  mintAddress,\n  onClick,\n  active = false,\n}: {\n  mintAddress: string\n  onClick: () => void\n  active?: boolean\n}) => {\n  return (\n    <Card\n      className={`card-child${active ? ' active' : ''}`}\n      bodyStyle={{ padding: `8px 16px`, cursor: 'pointer' }}\n      bordered={active}\n      onClick={onClick}\n      hoverable\n    >\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Space size={12} style={{ marginLeft: -4 }}>\n            <MintAvatar mintAddress={mintAddress} size={32} />\n            <Typography.Text style={{ margin: 0 }}>\n              <MintSymbol mintAddress={mintAddress} />\n            </Typography.Text>\n            <Divider type=\"vertical\" style={{ margin: 0 }} />\n            <Typography.Text\n              type=\"secondary\"\n              style={{ margin: 0, fontSize: 12 }}\n            >\n              <MintName mintAddress={mintAddress} />\n            </Typography.Text>\n          </Space>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default Mint\n","import { useState, useCallback } from 'react'\nimport { account } from '@senswap/sen-js'\nimport LazyLoad from '@senswap/react-lazyload'\nimport { useMint, usePool } from '@senhub/providers'\n\nimport { Row, Col, Typography, Divider } from 'antd'\nimport Search from './search'\nimport Mint from './mint'\n\nimport { LiteMintInfo } from '../preview'\n\nconst LIMITATION = 100\n\nexport type SelectionInfo = {\n  mintInfo?: LiteMintInfo\n  poolAddresses: string[]\n}\n\nconst MintSelection = ({\n  value,\n  onChange,\n}: {\n  value: SelectionInfo\n  onChange: (value: SelectionInfo) => void\n}) => {\n  const [mintAddresses, setMintAddresses] = useState<string[]>([])\n  const { address: currentMintAddress } = value.mintInfo || {}\n  const { pools } = usePool()\n  const { getDecimals } = useMint()\n\n  // Compute available pools\n  const getAvailablePoolAddresses = useCallback(\n    (mintAddress: string) => {\n      if (!account.isAddress(mintAddress)) return []\n      return Object.keys(pools).filter((poolAddress) => {\n        const { mint_a, mint_b } = pools[poolAddress]\n        return [mint_a, mint_b].includes(mintAddress)\n      })\n    },\n    [pools],\n  )\n\n  // Return data to parent\n  const onMint = useCallback(\n    async (mintAddress: string) => {\n      const poolAddresses = getAvailablePoolAddresses(mintAddress)\n      const decimals = await getDecimals(mintAddress)\n      return onChange({\n        mintInfo: {\n          address: mintAddress,\n          decimals,\n        },\n        poolAddresses,\n      })\n    },\n    [getAvailablePoolAddresses, onChange, getDecimals],\n  )\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Typography.Title level={5}>Token Selection</Typography.Title>\n      </Col>\n      <Col span={24}>\n        <Divider style={{ margin: 0 }} />\n      </Col>\n      <Col span={24}>\n        <Search onChange={setMintAddresses} />\n      </Col>\n      <Col span={24}>\n        <Row gutter={[16, 16]} style={{ height: 300 }} className=\"scrollbar\">\n          <Col span={24}>\n            <Row gutter={[16, 16]}>\n              {mintAddresses.slice(0, LIMITATION).map((mintAddress, i) => (\n                <Col span={24} key={i}>\n                  <LazyLoad height={48} overflow>\n                    <Mint\n                      mintAddress={mintAddress}\n                      onClick={() => onMint(mintAddress)}\n                      active={currentMintAddress === mintAddress}\n                    />\n                  </LazyLoad>\n                </Col>\n              ))}\n            </Row>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default MintSelection\n","import { useState, Fragment, useEffect } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { forceCheck } from '@senswap/react-lazyload'\n\nimport { Row, Col, Space, Typography, Divider, Modal } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport MintSelection, { SelectionInfo } from './mintSelection'\n\nimport { SenLpState } from 'app/constant/senLpState'\n\nconst Selection = ({\n  value,\n  onChange,\n}: {\n  value: SelectionInfo\n  onChange: (value: SelectionInfo) => void\n}) => {\n  const [visible, setVisible] = useState(false)\n  const history = useHistory()\n  const { state } = useLocation<SenLpState>()\n  useEffect(() => {\n    if (visible) setTimeout(forceCheck, 500)\n  }, [visible])\n\n  const onSelection = (selectionInfo: SelectionInfo) => {\n    setVisible(false)\n\n    // Clear state of senlp come to\n    if (state) history.replace({ ...history.location, state: {} })\n\n    return onChange(selectionInfo)\n  }\n\n  const mintAddress = value?.mintInfo?.address || ''\n\n  return (\n    <Fragment>\n      <Space style={{ cursor: 'pointer' }} onClick={() => setVisible(true)}>\n        <MintAvatar mintAddress={mintAddress} />\n        <Typography.Text type=\"secondary\">\n          <MintSymbol mintAddress={mintAddress} />\n        </Typography.Text>\n        <Divider type=\"vertical\" style={{ marginLeft: 4 }} />\n      </Space>\n      <Modal\n        visible={visible}\n        onCancel={() => setVisible(false)}\n        closeIcon={<IonIcon name=\"close\" />}\n        footer={null}\n        destroyOnClose={true}\n        centered={true}\n      >\n        <Row gutter={[16, 16]}>\n          <Col span={24} />\n          <Col span={24}>\n            <MintSelection value={value} onChange={onSelection} />\n          </Col>\n        </Row>\n      </Modal>\n    </Fragment>\n  )\n}\n\nexport default Selection\n","import { ChangeEvent, useState, forwardRef, useCallback, useRef } from 'react'\n\nimport { Input, Tooltip, Space, InputProps } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nlet timeoutId: ReturnType<typeof setTimeout> | undefined\n\n/**\n * Numeric Input\n * - Check balance based on the max\n * - Only accept numeric characters\n * @remarks The props of input follows the same as https://ant.design/components/input/#API. Extra & Overrided props\n * @param max - Maximum\n * @param onValue - A triggerred function if a valid number\n */\nconst NumericInput = forwardRef(\n  (\n    {\n      max,\n      onValue = () => {},\n      onChange = () => {},\n      ...props\n    }: InputProps & {\n      onValue?: (val: string) => void\n      max?: string | number\n    },\n    ref: any,\n  ) => {\n    const [error, setError] = useState('')\n    const [cursor, setCursor] = useState<number | null>(null)\n    const innerRef = useRef(ref)\n\n    // Handle amount\n    const onAmount = useCallback(\n      (val: string) => {\n        const onError = (er: string) => {\n          if (timeoutId) {\n            clearTimeout(timeoutId)\n            timeoutId = undefined\n          }\n          setError(er)\n          timeoutId = setTimeout(() => setError(''), 500)\n        }\n        const reg = /^\\d*(\\.\\d*)?$/\n        if (!reg.test(val)) return onError('Invalid character')\n        if (max && parseFloat(val) > parseFloat(max.toString()))\n          return onError('Not enough balance')\n        return onValue(val)\n      },\n      [max, onValue],\n    )\n\n    // Handle cursor jumping\n    // To prevent autofocus on mobile, we must strictly check cursor different from null\n    if (cursor !== null) innerRef?.current?.setSelectionRange(cursor, cursor)\n\n    return (\n      <Tooltip\n        title={\n          <Space>\n            <IonIcon name=\"warning\" />\n            {error}\n          </Space>\n        }\n        visible={!!error}\n      >\n        <Input\n          {...props}\n          onChange={(e: ChangeEvent<HTMLInputElement>) => {\n            onChange(e)\n            setCursor(e.target.selectionStart)\n            onAmount(e.target.value || '')\n          }}\n          ref={innerRef}\n        />\n      </Tooltip>\n    )\n  },\n)\n\nexport default NumericInput\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { useMint, usePool, useWallet } from '@senhub/providers'\n\nimport { SelectionInfo } from 'app/components/selection/mintSelection'\n\nconst DEFAULT_INFO = {\n  accountAddress: '',\n  poolAddresses: [],\n}\n\ntype MintSelection = SelectionInfo & {\n  accountAddress?: string\n}\n\nexport const useMintSelection = (mintAddress: string): MintSelection => {\n  const { wallet } = useWallet()\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n  const [selectionInfo, setSelectionInfo] =\n    useState<MintSelection>(DEFAULT_INFO)\n\n  const getSelectionInfo = useCallback(async () => {\n    if (!account.isAddress(mintAddress) || !Object.keys(pools).length)\n      return setSelectionInfo(DEFAULT_INFO)\n\n    const mintInfo = await tokenProvider.findByAddress(mintAddress)\n    if (!mintInfo) return setSelectionInfo(DEFAULT_INFO)\n    const { splt } = window.sentre\n    // get mint account\n    const accountAddress = await splt.deriveAssociatedAddress(\n      wallet.address,\n      mintAddress,\n    )\n    // get pools\n    const poolAddresses = Object.keys(pools).filter((poolAddress) => {\n      const { mint_a, mint_b } = pools[poolAddress]\n      return [mint_a, mint_b].includes(mintAddress)\n    })\n    setSelectionInfo({\n      accountAddress,\n      mintInfo,\n      poolAddresses,\n    })\n  }, [mintAddress, pools, tokenProvider, wallet.address])\n\n  useEffect(() => {\n    getSelectionInfo()\n  }, [getSelectionInfo])\n\n  return selectionInfo\n}\n","import { useMemo, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useLocation } from 'react-router-dom'\nimport { account } from '@senswap/sen-js'\nimport { useWallet } from '@senhub/providers'\n\nimport { Row, Col, Typography, Space } from 'antd'\nimport { SelectionInfo } from '../selection/mintSelection'\nimport Selection from '../selection'\nimport NumericInput from 'shared/antd/numericInput'\nimport { MintSymbol } from 'shared/antd/mint'\n\nimport configs from 'app/configs'\nimport { numeric } from 'shared/util'\nimport { AppDispatch, AppState } from 'app/model'\nimport { updateAskData } from 'app/model/ask.controller'\nimport { useMintSelection } from 'app/hooks/useMintSelection'\nimport { SenLpState } from 'app/constant/senLpState'\nimport useAccountBalance from 'shared/hooks/useAccountBalance'\n\nconst Ask = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const { wallet } = useWallet()\n  const {\n    ask: { amount, accountAddress, mintInfo, poolAddresses },\n  } = useSelector((state: AppState) => state)\n  const { state } = useLocation<SenLpState>()\n  const { balance: maxBalance } = useAccountBalance(accountAddress)\n  const selectionDefault = useMintSelection(configs.swap.askDefault)\n  const poolAdress = state?.poolAddress\n\n  // Select default\n  useEffect(() => {\n    if (account.isAddress(accountAddress) || account.isAddress(poolAdress))\n      return\n    dispatch(updateAskData(selectionDefault))\n  }, [accountAddress, dispatch, poolAdress, selectionDefault])\n\n  // Compute selection info\n  const selectionInfo: SelectionInfo = useMemo(\n    () => ({ mintInfo, poolAddresses }),\n    [mintInfo, poolAddresses],\n  )\n\n  // Handle amount\n  const onAmount = (val: string) =>\n    dispatch(updateAskData({ amount: val, prioritized: true }))\n\n  // Update ask data\n  const onSelectionInfo = async (selectionInfo: SelectionInfo) => {\n    const { splt } = window.sentre\n    const { address: mintAddress } = selectionInfo.mintInfo || {}\n    if (!account.isAddress(mintAddress))\n      return dispatch(\n        updateAskData({ amount: '', prioritized: true, ...selectionInfo }),\n      )\n    const accountAddress = await splt.deriveAssociatedAddress(\n      wallet.address,\n      mintAddress,\n    )\n    dispatch(\n      updateAskData({\n        amount: '',\n        prioritized: true,\n        accountAddress,\n        ...selectionInfo,\n      }),\n    )\n  }\n\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Typography.Text>To</Typography.Text>\n      </Col>\n      <Col span={24}>\n        <NumericInput\n          placeholder=\"0\"\n          value={amount}\n          onValue={onAmount}\n          size=\"large\"\n          prefix={\n            <Selection value={selectionInfo} onChange={onSelectionInfo} />\n          }\n        />\n      </Col>\n      <Col flex=\"auto\" />\n      <Col>\n        <Space className=\"caption\">\n          <Typography.Text type=\"secondary\">Available:</Typography.Text>\n          <Typography.Text type=\"secondary\">\n            {numeric(maxBalance).format('0,0.[00]')}\n          </Typography.Text>\n          <Typography.Text type=\"secondary\">\n            <MintSymbol mintAddress={selectionInfo.mintInfo?.address || ''} />\n          </Typography.Text>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Ask\n","export type EthAddressConfig = {\n  mainnet: string\n  goerli: string\n  ropsten: string\n}\n\nexport type EthChainIdConfig = {\n  mainnet: number\n  goerli: number\n  ropsten: number\n}\n\nexport type EtherNetwork = 'mainnet' | 'goerli'\n\nexport type EtherConfigSet = {\n  mainnet: string\n  goerli: string\n  ropsten: string\n}\n\nexport type MoralisStructure = {\n  url: string\n  apiKey: string\n}\n\nexport const ETH_BRIDGE_ADDRESS: EthAddressConfig = {\n  mainnet: '0x98f3c9e6E3fAce36bAAd05FE09d375Ef1464288B',\n  goerli: '0x706abc4E45D419950511e474C7B9Ed348A4a716c',\n  ropsten: '0xC89Ce4735882C9F0f0FE26686c53074E09B0D550',\n}\n\nexport const ETH_TOKEN_BRIDGE_ADDRESS: EthAddressConfig = {\n  mainnet: '0x3ee18B2214AFF97000D974cf647E7C347E8fa585',\n  goerli: '0xf890982f9310df57d00f659cf4fd87e65aded8d7',\n  ropsten: '0x0290FB167208Af455bB137780163b7B7a9a10C16',\n}\n\nexport const CHAIN_ID_ETH: EthChainIdConfig = {\n  mainnet: 1,\n  goerli: 5,\n  ropsten: 3,\n}\n\nexport const MORALIS_INFO: MoralisStructure = {\n  url: 'https://deep-index.moralis.io/api/v2',\n  apiKey: 'N6yeIUl1FxCPZWbXyxLHWPAjSr6ahQeJTX3d19pSKCwHsLCzpWE7z1hilon4xDOd',\n}\n\nexport const INFURA_API_KEY: String = '5eb1b92f2065414d9dd21858fac54257'\n\nexport const INFURA_API_HTTP_URL: EtherConfigSet = {\n  mainnet: `https://mainnet.infura.io/v3/${INFURA_API_KEY}`,\n  goerli: `https://goerli.infura.io/v3/${INFURA_API_KEY}`,\n  ropsten: `https://ropsten.infura.io/v3/${INFURA_API_KEY}`,\n}\n\nexport const INFURA_API_WSS_URL: EtherConfigSet = {\n  mainnet: `wss://mainnet.infura.io/ws/v3/${INFURA_API_KEY}`,\n  goerli: `wss://goerli.infura.io/ws/v3/${INFURA_API_KEY}`,\n  ropsten: `wss://ropsten.infura.io/ws/v3/${INFURA_API_KEY}`,\n}\n","export type SolNetWork = 'mainnet' | 'devnet'\n\nexport type SolAddressConfig = {\n  mainnet: string\n  testnet: string\n  devnet: string\n}\n\nexport const SOL_BRIDGE_ADDRESS: SolAddressConfig = {\n  mainnet: 'worm2ZoG2kUd4vFXhvjh93UUH596ayRfgQ2MgjNMTth',\n  testnet: 'Brdguy7BmNB4qwEbcqqMbyV5CyJd2sxQNUn6NEpMSsUb',\n  devnet: '3u8hJUVTA4jH1wYAyUur7FFZVQ8H635K3tSHHF4ssjQ5',\n}\n\nexport const SOL_TOKEN_BRIDGE_ADDRESS: SolAddressConfig = {\n  mainnet: 'wormDTUJ6AWPNvk59vGQbDvGJmqbDTdgWgAqcLBCgUb',\n  testnet: 'A4Us8EhCC76XdGAN17L4KpRNEK423nMivVHZzZqFqqBg',\n  devnet: 'DZnkkTmCiFWfYTfT41X3Rd1kDgozqzxWaHqsw6W4x2oe',\n}\n","import {\n  CHAIN_ID_ETH,\n  CHAIN_ID_SOLANA,\n} from '@certusone/wormhole-sdk'\nimport storage from 'shared/storage'\n\nimport {\n  EtherNetwork,\n  ETH_BRIDGE_ADDRESS,\n  ETH_TOKEN_BRIDGE_ADDRESS,\n} from 'app/constant/ethConfig'\nimport {\n  SolNetWork,\n  SOL_BRIDGE_ADDRESS,\n  SOL_TOKEN_BRIDGE_ADDRESS,\n} from 'app/constant/solConfig'\nimport { getIsWrappedAssetSol } from '@certusone/wormhole-sdk'\n\nexport const getSolNetwork = () => {\n  const solNetwork = storage.get('network') || 'mainnet'\n  return solNetwork\n}\n\nexport const getEtherNetwork = () => {\n  const solNetwork = getSolNetwork()\n  const etherNetwork = solNetwork === 'mainnet' ? 'mainnet' : 'goerli'\n  return etherNetwork\n}\n\nexport const getEtherContext = () => {\n  const etherNetwork: EtherNetwork = getEtherNetwork()\n  return {\n    chainId: CHAIN_ID_ETH,\n    tokenBridgeAddress: ETH_TOKEN_BRIDGE_ADDRESS[etherNetwork],\n    bridgeAddress: ETH_BRIDGE_ADDRESS[etherNetwork],\n  }\n}\n\nexport const getSolContext = () => {\n  const solNetWork: SolNetWork = getSolNetwork()\n  return {\n    chainId: CHAIN_ID_SOLANA,\n    tokenBridgeAddress: SOL_TOKEN_BRIDGE_ADDRESS[solNetWork],\n    bridgeAddress: SOL_BRIDGE_ADDRESS[solNetWork],\n  }\n}\n\nexport const checkAttestedWormhole = async (mintAddress: string) => {\n  const solContext = getSolContext()\n  return getIsWrappedAssetSol(\n    window.sentre.splt.connection,\n    solContext.tokenBridgeAddress,\n    mintAddress,\n  )\n}\n","import { lazy, Suspense, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\n\nimport { Popover, Tag } from 'antd'\n\nimport { AppState } from 'app/model'\nimport { checkAttestedWormhole } from 'app/helper/wormhole'\nimport { randomColor } from 'shared/util'\n\nconst WORMHOLE_COLOR = '#F9575E'\n\nconst FrameWormhole = () => {\n  const FrameWormhole = lazy(() =>\n    // @ts-ignore\n    import('@frame/sen_assets/bootstrap').then((module) => ({\n      default: module.FrameWormhole,\n    })),\n  )\n  return (\n    <Suspense fallback=\"Loading...\">\n      <FrameWormhole />\n    </Suspense>\n  )\n}\n\nconst WormholeSupported = () => {\n  const [wormholeSupported, setWormholeSupported] = useState(false)\n  const {\n    bid: { mintInfo },\n  } = useSelector((state: AppState) => state)\n  const { address: mintAddress } = mintInfo || {}\n\n  useEffect(() => {\n    ;(async () => {\n      if (!account.isAddress(mintAddress)) return setWormholeSupported(false)\n      const wormholeSupported = await checkAttestedWormhole(mintAddress)\n      return setWormholeSupported(wormholeSupported)\n    })()\n  }, [mintAddress])\n\n  if (!wormholeSupported) return null\n  return (\n    <Popover\n      overlayInnerStyle={{\n        background: 'transparent',\n        width: 375,\n        boxShadow: 'none',\n      }}\n      trigger=\"click\"\n      content={<FrameWormhole />}\n    >\n      <Tag\n        style={{\n          margin: 0,\n          borderRadius: 4,\n          color: randomColor(WORMHOLE_COLOR),\n          cursor: 'pointer',\n        }}\n        color={randomColor(WORMHOLE_COLOR, 0.2)}\n      >\n        Wormhole Bridge\n      </Tag>\n    </Popover>\n  )\n}\n\nexport default WormholeSupported\n","import { useEffect, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useLocation } from 'react-router-dom'\nimport { account, DEFAULT_WSOL, utils } from '@senswap/sen-js'\nimport { useWallet } from '@senhub/providers'\n\nimport { Row, Col, Typography, Button, Space } from 'antd'\nimport Selection from '../selection'\nimport NumericInput from 'shared/antd/numericInput'\nimport { MintSymbol } from 'shared/antd/mint'\nimport WormholeSupported from './wormholeSupported'\n\nimport configs from 'app/configs'\nimport { numeric } from 'shared/util'\nimport { AppDispatch, AppState } from 'app/model'\nimport { updateBidData } from 'app/model/bid.controller'\nimport { SelectionInfo } from '../selection/mintSelection'\nimport { useMintSelection } from 'app/hooks/useMintSelection'\nimport { SenLpState } from 'app/constant/senLpState'\nimport useAccountBalance from 'shared/hooks/useAccountBalance'\n\nconst {\n  swap: { bidDefault },\n} = configs\n\nconst Bid = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const {\n    wallet: { address: walletAddress, lamports },\n  } = useWallet()\n  const {\n    bid: { amount: bidAmount, accountAddress, mintInfo, poolAddresses },\n  } = useSelector((state: AppState) => state)\n  const { amount: balance } = useAccountBalance(accountAddress)\n  const selectionDefault = useMintSelection(bidDefault)\n  const { state } = useLocation<SenLpState>()\n  const poolAdress = state?.poolAddress\n  const { address: mintAddress, decimals } = mintInfo\n\n  // Select default\n  useEffect(() => {\n    if (account.isAddress(accountAddress) || account.isAddress(poolAdress))\n      return\n    dispatch(updateBidData(selectionDefault))\n  }, [accountAddress, dispatch, poolAdress, selectionDefault])\n\n  // Compute selection info\n  const selectionInfo: SelectionInfo = useMemo(\n    () => ({ mintInfo, poolAddresses }),\n    [mintInfo, poolAddresses],\n  )\n\n  // Compute human-readable balance\n  const maxBalance = useMemo((): string => {\n    if (mintAddress !== DEFAULT_WSOL)\n      return utils.undecimalize(balance, decimals)\n    // So estimate max = 0.01 fee -> multi transaction.\n    const estimateFee = utils.decimalize(0.01, decimals)\n    const max = lamports + balance - estimateFee\n    if (max <= balance) return utils.undecimalize(balance, decimals)\n    return utils.undecimalize(max, decimals)\n  }, [balance, decimals, lamports, mintAddress])\n\n  // Handle amount\n  const onAmount = (val: string) =>\n    dispatch(updateBidData({ amount: val, prioritized: true }))\n  // All in :)))\n  const onMax = () => onAmount(maxBalance)\n\n  // Update bid data\n  const onSelectionInfo = async (selectionInfo: SelectionInfo) => {\n    const { splt } = window.sentre\n    const { address: mintAddress } = selectionInfo.mintInfo || {}\n    if (!account.isAddress(mintAddress))\n      return dispatch(\n        updateBidData({ amount: '', prioritized: true, ...selectionInfo }),\n      )\n    const accountAddress = await splt.deriveAssociatedAddress(\n      walletAddress,\n      mintAddress,\n    )\n    return dispatch(\n      updateBidData({\n        amount: '',\n        prioritized: true,\n        accountAddress,\n        ...selectionInfo,\n      }),\n    )\n  }\n\n  return (\n    <Row gutter={[8, 8]}>\n      <Col flex=\"auto\">\n        <Typography.Text>From</Typography.Text>\n      </Col>\n      <Col>\n        <WormholeSupported />\n      </Col>\n      <Col span={24}>\n        <NumericInput\n          placeholder=\"0\"\n          value={bidAmount}\n          onValue={onAmount}\n          size=\"large\"\n          prefix={\n            <Selection value={selectionInfo} onChange={onSelectionInfo} />\n          }\n          suffix={\n            <Button\n              type=\"text\"\n              size=\"small\"\n              style={{ fontSize: 12, marginRight: -7 }}\n              onClick={onMax}\n            >\n              MAX\n            </Button>\n          }\n        />\n      </Col>\n      <Col flex=\"auto\" />\n      <Col>\n        <Space className=\"caption\">\n          <Typography.Text type=\"secondary\">Available:</Typography.Text>\n          <Typography.Text type=\"secondary\">\n            {numeric(maxBalance || 0).format('0,0.[00]')}\n          </Typography.Text>\n          <Typography.Text type=\"secondary\">\n            <MintSymbol mintAddress={selectionInfo.mintInfo?.address || ''} />\n          </Typography.Text>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Bid\n","import { useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Button, Col, Row } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport Ask from '../ask'\nimport Bid from '../bid'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { updateAskData } from 'app/model/ask.controller'\nimport { updateBidData } from 'app/model/bid.controller'\n\nconst SwapInput = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const { bid: bidData, ask: askData } = useSelector((state: AppState) => state)\n\n  /**\n   * Switch tokens\n   */\n  const onSwitch = useCallback(async () => {\n    const { amount: bidAmount, priority: bidPriority, ...bidRest } = bidData\n    const { amount: askAmount, priority: askPriority, ...askRest } = askData\n    const amount = bidPriority > askPriority ? bidAmount : askAmount\n    const updateData = bidPriority > askPriority ? updateAskData : updateBidData\n    await dispatch(updateBidData({ ...askRest, amount: '', reset: true }))\n    await dispatch(updateAskData({ ...bidRest, amount: '', reset: true }))\n    await dispatch(updateData({ amount, prioritized: true }))\n  }, [dispatch, askData, bidData])\n\n  return (\n    <Row gutter={[12, 12]} justify=\"center\">\n      <Col span={24}>\n        <Bid />\n      </Col>\n      <Col>\n        <Button\n          size=\"small\"\n          icon={<IonIcon name=\"git-compare-outline\" />}\n          onClick={onSwitch}\n        />\n      </Col>\n      <Col span={24}>\n        <Ask />\n      </Col>\n    </Row>\n  )\n}\n\nexport default SwapInput\n","import { Col, Row } from 'antd'\nimport Settings from '../settings'\nimport SwapInput from './swapInput'\n\nconst SwapForm = () => {\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Row gutter={[8, 8]} justify=\"end\" align=\"middle\" wrap={false}>\n          <Col>\n            <Settings />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <SwapInput />\n      </Col>\n    </Row>\n  )\n}\n\nexport default SwapForm\n","import { Card, Col, Row } from 'antd'\nimport SwapReview from './swapReview'\nimport PoolInfo from './poolInfo'\nimport SwapForm from 'app/components/swapForm'\n\nconst Swap = () => {\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Card bordered={false} className=\"card-swap\">\n          <SwapForm />\n        </Card>\n      </Col>\n      <Col span={24}>\n        <SwapReview />\n      </Col>\n      <Col span={24}>\n        <PoolInfo />\n      </Col>\n    </Row>\n  )\n}\n\nexport default Swap\n","import { Tag } from 'antd'\n\nconst STATUS_COLOR: Record<string, number[]> = {\n  success: [20, 224, 65],\n  pending: [212, 177, 6],\n  error: [215, 35, 17],\n  failed: [215, 35, 17],\n}\n\nconst StatusTag = ({ tag }: { tag: string }) => {\n  const setColorTag = (opacity?: number) => {\n    let color = STATUS_COLOR[tag]\n    return `rgba(${color[0]},  ${color[1]}, ${color[2]},${opacity || 1})`\n  }\n\n  return (\n    <Tag\n      style={{\n        margin: 0,\n        borderRadius: 4,\n        color: setColorTag(),\n        textTransform: 'capitalize',\n      }}\n      color={setColorTag(0.1)}\n    >\n      {tag}\n    </Tag>\n  )\n}\n\nexport default StatusTag\n","import { Button, Space, Typography } from 'antd'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport IonIcon from 'shared/antd/ionicon'\nimport StatusTag from './statusTag'\n\nimport { explorer, numeric, shortenAddress } from 'shared/util'\n\nconst FORMAT_AMOUNT = '0,00.[0000]a'\n\nexport const HISTORY_COLUMN = [\n  {\n    title: 'TIME',\n    dataIndex: 'time',\n  },\n  {\n    title: 'TRANSACTION',\n    dataIndex: 'transactionId',\n    render: (text: string) => (\n      <Space align=\"baseline\">\n        <Typography.Text\n          onClick={() => window.open(explorer(text), '_blank')}\n          style={{ fontWeight: 700, cursor: 'pointer' }}\n        >\n          {shortenAddress(text, 3, '...')}\n        </Typography.Text>\n        <Button\n          type=\"text\"\n          size=\"small\"\n          onClick={() => window.open(explorer(text), '_blank')}\n          icon={<IonIcon name=\"open-outline\" />}\n        />\n      </Space>\n    ),\n  },\n\n  {\n    title: 'BID',\n    dataIndex: 'bid',\n    render: (text: string, record: any) =>\n      !record.from ? (\n        '--'\n      ) : (\n        <Space size={8}>\n          <MintAvatar mintAddress={record.from} />\n          {numeric(record.amountFrom).format(FORMAT_AMOUNT)}\n          <MintSymbol mintAddress={record.from} />\n        </Space>\n      ),\n  },\n  {\n    title: 'ASK',\n    dataIndex: 'ask',\n    render: (text: string, record: any) =>\n      !record.to ? (\n        '--'\n      ) : (\n        <Space size={8}>\n          <MintAvatar mintAddress={record.to} />\n          {numeric(record.amountTo).format(FORMAT_AMOUNT)}\n          <MintSymbol mintAddress={record.to} />\n        </Space>\n      ),\n  },\n  {\n    title: 'STATUS',\n    dataIndex: 'status',\n    width: 100,\n    render: (text: string, record: any) => <StatusTag tag={record.status} />,\n  },\n]\n","export class TransLog {\n  programId: string = ''\n\n  programInfo: ProgramInfo | undefined\n\n  signature: string = ''\n\n  blockTime: number = 0\n\n  time: number = 0\n\n  owner: string = ''\n\n  actionType: string = ''\n\n  actionTransfers: Array<ActionTransfer> = []\n\n  programTransfer: Array<ActionTransfer> = []\n}\n\nexport class ActionInfo {\n  address: string = ''\n\n  // pool: string = ''\n\n  mint: string = ''\n\n  decimals: number = 0\n\n  preBalance: string = '0'\n\n  postBalance: string = '0'\n}\n/**\n * Amount is not same postBalance - preBalance\n * @postBalance and @preBalance are balance after all action (transaction)\n * @postBalance = @preBalance +- all @amount (multi amount in transaction)\n * @amount is value in 1 action\n */\nexport class ActionTransfer {\n  source: ActionInfo | undefined\n\n  destination: ActionInfo | undefined\n\n  amount: string = '0'\n}\ntype ProgramInfo = {\n  programId: string\n  data: string\n}\n","import {\n  ConfirmedSignatureInfo,\n  ConfirmedSignaturesForAddress2Options,\n  Connection,\n  ParsedConfirmedTransaction,\n  PublicKey,\n} from '@solana/web3.js'\n\nimport { OptionsFetchSignature } from '../../constants/transaction'\n\nconst DEFAULT_LIMIT = 700\nconst TRANSACTION_LIMIT = 150\n\nexport class Solana {\n  private conn: Connection = window.sentre.splt.connection\n\n  //Search for all signatures from last Signature and earlier\n  //So: If new collection (to now) -> last Signature = null\n  private async fetchSignatures(\n    address: PublicKey,\n    lastSignature?: string,\n    limit: number = DEFAULT_LIMIT,\n  ): Promise<Array<ConfirmedSignatureInfo>> {\n    if (limit > DEFAULT_LIMIT) limit = DEFAULT_LIMIT\n    const options: ConfirmedSignaturesForAddress2Options = {\n      limit: limit,\n      before: lastSignature,\n    }\n    return this.conn.getConfirmedSignaturesForAddress2(address, options)\n  }\n\n  private async fetchConfirmTransaction(signatures: string[]) {\n    let confirmedTransactions: ParsedConfirmedTransaction[] = []\n    let limit = TRANSACTION_LIMIT\n\n    const promiseTransGroup = []\n    for (let offset = 0; offset <= signatures.length / limit; offset++) {\n      const skip = offset * limit\n      const signaturesGroup = signatures.slice(skip, skip + limit)\n      promiseTransGroup.push(\n        this.conn.getParsedConfirmedTransactions(signaturesGroup),\n      )\n    }\n\n    const transGroups = await Promise.all(promiseTransGroup)\n    for (const transGroup of transGroups) {\n      //@ts-ignore\n      confirmedTransactions = confirmedTransactions.concat(transGroup)\n    }\n    return confirmedTransactions\n  }\n\n  async fetchTransactions(\n    programId: string,\n    options: OptionsFetchSignature,\n  ): Promise<ParsedConfirmedTransaction[]> {\n    const currentTime = new Date().getTime() / 1000\n    let { secondFrom, secondTo, lastSignature, limit } = options\n    secondFrom = Math.floor(secondFrom || 0)\n    secondTo = Math.floor(secondTo || currentTime)\n\n    const programPublicKey = new PublicKey(programId)\n    let signatures: string[] = []\n    let isStop = false\n\n    while (!isStop) {\n      const confirmedSignatureInfos: ConfirmedSignatureInfo[] =\n        await this.fetchSignatures(programPublicKey, lastSignature, limit)\n      if (!confirmedSignatureInfos?.length || isStop) break\n      for (const info of confirmedSignatureInfos) {\n        const blockTime = info.blockTime\n        if (!blockTime || blockTime > secondTo) continue\n        if (blockTime < secondFrom) {\n          isStop = true\n          break\n        }\n        lastSignature = info.signature\n        signatures.push(info.signature)\n      }\n\n      if (limit && signatures.length >= limit) break\n      if (confirmedSignatureInfos?.length < DEFAULT_LIMIT) break\n    }\n    const confirmedTransactions = await this.fetchConfirmTransaction(signatures)\n    return confirmedTransactions\n  }\n}\n","export enum ParsedType {\n  Transfer = 'transfer',\n}\n\nexport type ParsedAction = {\n  type: ParsedType\n  info: ParsedInfoTransfer\n}\n\nexport type ParsedInfoTransfer = {\n  source: string\n  destination: string\n  amount: string\n  lamports: number\n}\n\nexport type OptionsFetchSignature = {\n  limit?: number\n  lastSignature?: string\n  secondFrom?: number\n  secondTo?: number\n}\n","import moment from 'moment'\n\nconst SECOND_PER_MILLISECOND = 1000\n\nexport enum TimeFormat {\n  YMD = 'YYYYMMDD',\n  SortableTimePattern = 'YYYY-MM-DD HH:mm:ss',\n}\n\nexport class DateHelper {\n  private milliSeconds: number = new Date().valueOf()\n\n  setMilliSeconds(milliSeconds: number) {\n    this.milliSeconds = milliSeconds\n  }\n\n  static fromSeconds(seconds: number): DateHelper {\n    const date = new DateHelper()\n    const milliSeconds = seconds * SECOND_PER_MILLISECOND\n    date.setMilliSeconds(milliSeconds)\n    return date\n  }\n\n  static fromYmd(ymd: number): DateHelper {\n    const date = new DateHelper()\n    const milliSeconds = moment(ymd, TimeFormat.YMD).valueOf()\n    date.setMilliSeconds(milliSeconds)\n    return date\n  }\n\n  static getListDate(ymdFrom: number, ymdTo: number): number[] {\n    const dates: number[] = []\n    let dateFrom = DateHelper.fromYmd(ymdFrom)\n    const dateTo = DateHelper.fromYmd(ymdTo)\n    while (dateFrom.ymd() <= dateTo.ymd()) {\n      dates.push(dateFrom.ymd())\n      dateFrom = dateFrom.addDay()\n    }\n    return dates\n  }\n\n  format(dateFormat: TimeFormat): string {\n    const date = new Date(this.milliSeconds)\n    return moment(date).format(dateFormat)\n  }\n\n  subtractDay(dayAmount: number = 1): DateHelper {\n    const milliSeconds = moment(this.milliSeconds)\n      .subtract(dayAmount, 'days')\n      .valueOf()\n    const date = DateHelper.fromSeconds(milliSeconds / SECOND_PER_MILLISECOND)\n    return date\n  }\n\n  addDay(dayAmount: number = 1): DateHelper {\n    const milliSeconds = moment(this.milliSeconds)\n      .add(dayAmount, 'days')\n      .valueOf()\n    const date = DateHelper.fromSeconds(milliSeconds / SECOND_PER_MILLISECOND)\n    return date\n  }\n\n  seconds(): number {\n    return (\n      (this.milliSeconds - (this.milliSeconds % SECOND_PER_MILLISECOND)) /\n      SECOND_PER_MILLISECOND\n    )\n  }\n\n  ymd(): number {\n    return Number(this.format(TimeFormat.YMD))\n  }\n\n  static today(format: string = TimeFormat.YMD): string {\n    return moment().format(format)\n  }\n}\n","import base58 from 'bs58'\n\nimport { TransLog } from '../entities/trans-log'\nimport { TransLogService } from './translog'\n\nconst { struct } = require('soprox-abi')\n\nconst TRANSLOG_PROGRAM_DATA_SCHEMA = { key: 'code', type: 'u8' }\n\nexport enum SwapActionType {\n  Route = 'SWAP',\n}\n\nconst ACTION_TYPE: Record<number, SwapActionType> = {\n  8: SwapActionType.Route,\n}\n\nexport default class SwapTranslogService extends TransLogService {\n  parseAction = (transLog: TransLog) => {\n    const programDataEncode = transLog.programInfo?.data\n    if (!programDataEncode) return ''\n\n    const dataBuffer = base58.decode(programDataEncode)\n    const actionLayout = new struct([TRANSLOG_PROGRAM_DATA_SCHEMA])\n    const programDataDecode: { code: number } = actionLayout.fromBuffer(\n      Buffer.from(dataBuffer),\n    )\n    return ACTION_TYPE[programDataDecode.code] || ''\n  }\n}\n","//@ts-ignore\nimport {\n  ParsedConfirmedTransaction,\n  ParsedInstruction,\n  ParsedMessageAccount,\n  PartiallyDecodedInstruction,\n  TokenBalance,\n} from '@solana/web3.js'\nimport { account } from '@senswap/sen-js'\n\nimport { ActionInfo, ActionTransfer, TransLog } from '../entities/trans-log'\nimport { Solana } from '../adapters/solana/client'\nimport {\n  OptionsFetchSignature,\n  ParsedAction,\n  ParsedInfoTransfer,\n  ParsedType,\n} from '../constants/transaction'\nimport { DateHelper } from '../helpers/date'\nimport { SOL_ADDRESS, SOL_DECIMALS } from '../constants/sol'\n\ntype InstructionData = ParsedInstruction | PartiallyDecodedInstruction\n\nexport class TransLogService {\n  solana: Solana\n  constructor() {\n    this.solana = new Solana()\n  }\n\n  protected parseAction = (transLog: TransLog) => {\n    return ''\n  }\n\n  async collect(\n    programId: string,\n    configs: OptionsFetchSignature,\n    funcFilter?: (transLog: TransLog) => boolean,\n  ): Promise<TransLog[]> {\n    let { lastSignature, limit } = configs\n\n    let isStop = false\n    let transLogs: Array<TransLog> = []\n    let lastSignatureTmp = lastSignature\n\n    while (!isStop) {\n      const confirmedTrans: ParsedConfirmedTransaction[] =\n        await this.solana.fetchTransactions(programId, {\n          ...configs,\n          lastSignature: lastSignatureTmp,\n        })\n\n      for (const trans of confirmedTrans) {\n        lastSignatureTmp = trans.transaction.signatures[0]\n        const log = this.parseTransLog(trans)\n        if (log) transLogs.push(log)\n      }\n\n      if (funcFilter) {\n        transLogs = transLogs.filter((trans) => funcFilter(trans))\n\n        if (!confirmedTrans.length || isStop) break\n        if (limit && transLogs.length >= limit) {\n          isStop = true\n          break\n        }\n      } else break\n    }\n    return transLogs\n  }\n  private parseTransLog(\n    confirmedTrans: ParsedConfirmedTransaction,\n  ): TransLog | undefined {\n    const { blockTime, meta, transaction } = confirmedTrans\n    if (!blockTime || !meta) return\n    const { postTokenBalances, preTokenBalances, postBalances, preBalances } =\n      meta\n    const { signatures, message } = transaction\n\n    const innerInstructionData = meta.innerInstructions?.[0]?.instructions || []\n    const instructionData = message.instructions[0] || []\n\n    const transLog = new TransLog()\n    transLog.signature = signatures[0]\n    transLog.blockTime = blockTime\n    transLog.time = DateHelper.fromSeconds(blockTime).ymd()\n    transLog.programId = instructionData.programId.toString()\n\n    const mapAccount = this.parseAccountInfo(\n      message.accountKeys,\n      postTokenBalances || [],\n      preTokenBalances || [],\n      postBalances,\n      preBalances,\n    )\n    // system program transaction\n    if (this.isParsedInstruction(instructionData)) {\n      transLog.programTransfer = this.parseListActionTransfer(\n        [instructionData],\n        mapAccount,\n      )\n      return transLog\n    }\n    // smart contract transaction\n    transLog.actionTransfers = this.parseListActionTransfer(\n      innerInstructionData,\n      mapAccount,\n    )\n    transLog.programInfo = {\n      programId: instructionData.programId.toString(),\n      data: (instructionData as PartiallyDecodedInstruction).data,\n    }\n    transLog.actionType = this.parseAction(transLog)\n    return transLog\n  }\n\n  private isParsedInstruction(instructionData: InstructionData) {\n    return (instructionData as ParsedInstruction).parsed !== undefined\n  }\n\n  private parseListActionTransfer(\n    actions: InstructionData[],\n    mapAccount: Map<string, ActionInfo>,\n  ) {\n    const actionTransfer: ActionTransfer[] = []\n    for (const action of actions) {\n      if (!this.isParsedInstruction(action)) continue\n      const actionParsed: ParsedAction =\n        (action as ParsedInstruction).parsed || {}\n      switch (actionParsed.type) {\n        case ParsedType.Transfer:\n          const info: ParsedInfoTransfer = actionParsed.info\n          const parsedAction = this.parseActionTransfer(info, mapAccount)\n          if (parsedAction) actionTransfer.push(parsedAction)\n          break\n        default:\n          break\n      }\n    }\n    return actionTransfer\n  }\n\n  private parseActionTransfer(\n    parsedTransfer: ParsedInfoTransfer,\n    mapAccount: Map<string, ActionInfo>,\n  ): ActionTransfer | undefined {\n    const { source, destination, amount, lamports } = parsedTransfer\n    const amountTransfer = amount || lamports.toString()\n\n    if (\n      !amountTransfer ||\n      !mapAccount.has(source) ||\n      !mapAccount.has(destination)\n    )\n      return\n\n    const actionTransfer = new ActionTransfer()\n    actionTransfer.source = mapAccount.get(source)\n    actionTransfer.destination = mapAccount.get(destination)\n    actionTransfer.amount = amountTransfer\n    return actionTransfer\n  }\n\n  private parseAccountInfo(\n    accountKeys: Array<ParsedMessageAccount>,\n    postTokenBalances: Array<TokenBalance>,\n    preTokenBalances: Array<TokenBalance>,\n    postBalances: number[],\n    preBalances: number[],\n  ): Map<string, ActionInfo> {\n    const mapAccountInfo = new Map<string, ActionInfo>()\n\n    // Associated Address\n    for (const postBalance of postTokenBalances) {\n      const { accountIndex, mint, uiTokenAmount } = postBalance\n      const info = new ActionInfo()\n      info.address = accountKeys[accountIndex].pubkey.toString()\n      info.postBalance = uiTokenAmount.amount\n      info.mint = mint\n      info.decimals = uiTokenAmount.decimals\n      mapAccountInfo.set(info.address, info)\n    }\n\n    for (const preBalance of preTokenBalances) {\n      const { accountIndex, uiTokenAmount } = preBalance\n      const address = accountKeys[accountIndex].pubkey.toString()\n      const info = mapAccountInfo.get(address) || new ActionInfo()\n      info.preBalance = uiTokenAmount.amount\n      mapAccountInfo.set(info.address, info)\n    }\n\n    // Wallet address\n    accountKeys.forEach((accountData, idx) => {\n      const address = accountData.pubkey.toString()\n      if (!account.isAssociatedAddress(address)) {\n        const info = mapAccountInfo.get(address) || new ActionInfo()\n        info.address = address\n        info.mint = SOL_ADDRESS\n        info.postBalance = String(postBalances[idx] || 0) // lamports\n        info.preBalance = String(preBalances[idx] || 0) // lamports\n        info.decimals = SOL_DECIMALS\n        mapAccountInfo.set(info.address, info)\n      }\n    })\n\n    return mapAccountInfo\n  }\n}\n","export const SOL_ADDRESS = '11111111111111111111111111111111'\n\nexport const SOL_DECIMALS = 9\n","import moment from 'moment'\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\n\nimport { utils } from '@senswap/sen-js'\n\nimport configs from 'os/configs'\nimport { TransLog } from 'app/lib/stat/entities/trans-log'\nimport SwapTranslogService from 'app/lib/stat/logic/translogSwap'\n\nexport type State = {\n  historySwap: HistorySwap[]\n}\n\n/**\n * Store constructor\n */\n\nexport type HistorySwap = {\n  time: string\n  transactionId: string\n  from?: string\n  to?: string\n  amountFrom?: number\n  amountTo?: number\n  key: string\n  status: string\n  decimals: number\n}\n\nconst LIMIT_HISTORY_SWAP = 20\n\nconst NAME = 'history'\nconst initialState: State = {\n  historySwap: [],\n}\n\nconst filterFunction = (transLog: TransLog) => {\n  if (!transLog.actionTransfers.length) return false\n  return transLog.actionType === 'SWAP'\n}\n\n/**\n * Actions\n */\nexport const fetchHistorySwap = createAsyncThunk<\n  { historySwap: HistorySwap[] },\n  { lastSignature?: string; isLoadMore?: boolean },\n  { state: { history: State } }\n>(\n  `${NAME}/fetchHistorySwap`,\n  async ({ lastSignature, isLoadMore }, { getState }) => {\n    const {\n      sol: { swapAddress },\n    } = configs\n\n    const {\n      history: { historySwap },\n    } = getState()\n\n    const myWalletAddress = await window.sentre.wallet?.getAddress()\n    if (!myWalletAddress) throw Error('Loggin first')\n\n    const options = {\n      limit: LIMIT_HISTORY_SWAP,\n      lastSignature,\n    }\n\n    const transLogService = new SwapTranslogService()\n    const transLogsData = await transLogService.collect(\n      myWalletAddress,\n      options,\n      filterFunction,\n    )\n    let history: HistorySwap[] = []\n\n    if (isLoadMore) history = [...historySwap]\n\n    for (const transLog of transLogsData) {\n      if (!transLog.actionType) continue\n      const historyItem = {} as HistorySwap\n      const actionTransfer = transLog.actionTransfers\n      let lastAction\n\n      const firstAction = actionTransfer[0]\n      if (actionTransfer.length > 1)\n        lastAction = actionTransfer[actionTransfer.length - 1]\n\n      const programId = transLog.programId\n\n      if (programId !== swapAddress) continue\n\n      const time = new Date(transLog.blockTime * 1000)\n\n      historyItem.time = moment(time).format('MMM DD, YYYY HH:mm')\n      historyItem.amountFrom = firstAction.destination\n        ? Number(\n            utils.undecimalize(\n              BigInt(firstAction.amount),\n              firstAction.destination.decimals,\n            ),\n          )\n        : undefined\n      historyItem.amountTo = lastAction?.destination\n        ? Number(\n            utils.undecimalize(\n              BigInt(lastAction.amount),\n              lastAction.destination.decimals,\n            ),\n          )\n        : undefined\n\n      historyItem.from = firstAction.destination?.mint\n      historyItem.to = lastAction?.destination?.mint\n      historyItem.transactionId = transLog.signature\n      historyItem.key = transLog.signature\n      historyItem.status =\n        !firstAction.destination || !lastAction?.destination\n          ? 'failed'\n          : 'success'\n      history.push(historyItem)\n    }\n    return { historySwap: history }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      fetchHistorySwap.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Card, Col, Row, Typography, Table, Button } from 'antd'\nimport { HISTORY_COLUMN } from './column'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport { fetchHistorySwap } from 'app/model/history.controller'\nimport { AppDispatch, AppState } from 'app/model'\n\nimport './index.less'\n\nconst ROW_PER_PAGE = 5\nconst LIMIT_IN_STORE = 15\nconst TABLE_HEIGHT = 462\n\nconst History = () => {\n  const [amountRow, setAmountRow] = useState(ROW_PER_PAGE)\n  const [loading, setLoading] = useState(false)\n\n  const { historySwap } = useSelector((state: AppState) => state.history)\n  const dispatch = useDispatch<AppDispatch>()\n\n  const fetchHistory = useCallback(async () => {\n    setLoading(true)\n    await dispatch(fetchHistorySwap({})).unwrap()\n    setLoading(false)\n  }, [dispatch])\n\n  useEffect(() => {\n    fetchHistory()\n  }, [fetchHistory])\n\n  const onHandleViewMore = () => {\n    const currentTransactionDataLength = historySwap.slice(0, amountRow).length\n\n    if (historySwap.length - currentTransactionDataLength <= LIMIT_IN_STORE) {\n      const lastSignature = historySwap[historySwap.length - 1]?.transactionId\n      dispatch(\n        fetchHistorySwap({\n          lastSignature,\n          isLoadMore: true,\n        }),\n      )\n    }\n    setAmountRow(amountRow + ROW_PER_PAGE)\n  }\n\n  const onHandleRefeshTable = () => {\n    fetchHistory()\n    setAmountRow(ROW_PER_PAGE)\n  }\n\n  const style = useMemo(() => {\n    return amountRow > 5 ? { height: 'auto' } : { height: TABLE_HEIGHT }\n  }, [amountRow])\n\n  return (\n    <Card bordered={false} style={{ ...style }}>\n      <Row gutter={[16, 24]}>\n        <Col flex=\"auto\">\n          <Typography.Title level={5}>Swap history</Typography.Title>\n        </Col>\n        <Col>\n          <Button onClick={onHandleRefeshTable}>Refresh</Button>\n        </Col>\n        <Col span={24}>\n          <Row justify=\"center\" gutter={[16, 9]}>\n            <Col span={24} style={{ minHeight: 310 }}>\n              <Table\n                columns={HISTORY_COLUMN}\n                dataSource={historySwap.slice(0, amountRow)}\n                loading={loading}\n                pagination={false}\n                rowClassName={(record, index) =>\n                  index % 2 ? 'odd-row' : 'even-row'\n                }\n                scroll={{ x: 800 }}\n              />\n            </Col>\n            <Col>\n              <Button\n                onClick={onHandleViewMore}\n                type=\"text\"\n                icon={<IonIcon name=\"chevron-down-outline\" />}\n                disabled={amountRow >= historySwap.length}\n              >\n                View more\n              </Button>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default History\n","import { useCallback, useEffect, useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useLocation } from 'react-router-dom'\nimport { account } from '@senswap/sen-js'\nimport { usePool } from '@senhub/providers'\n\nimport { Row, Col } from 'antd'\nimport SwapChart from './chart'\nimport Swap from './swap'\nimport History from './history'\n\nimport { useMintSelection } from 'app/hooks/useMintSelection'\nimport { AppDispatch } from 'app/model'\nimport { updateBidData } from 'app/model/bid.controller'\nimport { updateAskData } from 'app/model/ask.controller'\nimport { SenLpState } from 'app/constant/senLpState'\n\nconst Page = () => {\n  const { pools } = usePool()\n  const dispatch = useDispatch<AppDispatch>()\n  const { state } = useLocation<SenLpState>()\n  const [bid, setBid] = useState('')\n  const [ask, setAsk] = useState('')\n  const bidData = useMintSelection(bid)\n  const askData = useMintSelection(ask)\n  const poolAdress = state?.poolAddress\n\n  /** Check state when user come from sen LP */\n  const checkIsSenLpCome = useCallback(() => {\n    if (!account.isAddress(poolAdress)) return\n    const poolData = pools[poolAdress]\n    if (!poolData) return\n    setBid(poolData?.mint_a)\n    setAsk(poolData?.mint_b)\n  }, [poolAdress, pools])\n\n  useEffect(() => {\n    checkIsSenLpCome()\n  }, [checkIsSenLpCome])\n\n  useEffect(() => {\n    if (\n      !account.isAddress(bidData.accountAddress) ||\n      !account.isAddress(askData.accountAddress)\n    )\n      return\n    dispatch(updateBidData(bidData))\n    dispatch(updateAskData(askData))\n  }, [askData, bidData, dispatch])\n\n  return (\n    <Row gutter={[24, 24]} style={{ paddingBottom: 12 }}>\n      <Col lg={8} md={12} xs={24}>\n        <Swap />\n      </Col>\n      <Col lg={16} md={12} xs={24}>\n        <Row gutter={[24, 24]}>\n          <Col span={24}>\n            <SwapChart />\n          </Col>\n          <Col span={24}>\n            <History />\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Page\n","import { Fragment, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Row, Col, Typography, Space, Button, Popover, Divider } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport PreviewSwap from 'app/components/preview'\nimport SwapInput from 'app/components/swapForm/swapInput'\nimport PoweredByJupiter from 'app/components/poweredByJupiter'\n\nimport { AppState } from 'app/model'\nimport { numeric } from 'shared/util'\nimport ConfirmSwap from 'app/components/confirmSwap'\nimport { priceImpactColor } from 'app/helper/utils'\nimport { SwapPlatform } from 'app/model/route.controller'\nimport { useDisabledSwap } from 'app/hooks/useDisabledSwap'\n\nconst Widget = () => {\n  const [visible, setVisible] = useState(false)\n  const {\n    route: { platform, priceImpact },\n  } = useSelector((state: AppState) => state)\n\n  const disabled = useDisabledSwap()\n\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <SwapInput />\n      </Col>\n      <Col span={24}>\n        <Row align=\"bottom\" wrap={false}>\n          <Col flex=\"auto\">\n            <Popover\n              placement=\"bottomLeft\"\n              content={<PreviewSwap />}\n              trigger=\"click\"\n            >\n              <Space\n                style={{ cursor: 'pointer' }}\n                direction=\"vertical\"\n                size={4}\n              >\n                <Space>\n                  <Typography.Text>\n                    <IonIcon\n                      name=\"information-circle-outline\"\n                      style={{ color: '#7A7B85' }}\n                    />\n                  </Typography.Text>\n                  <Typography.Text type=\"secondary\">\n                    Price impact\n                  </Typography.Text>\n                </Space>\n                <Space>\n                  <Typography.Text\n                    style={{ color: priceImpactColor(priceImpact) }}\n                  >\n                    {numeric(Number(priceImpact)).format('0.[0000]%')}\n                  </Typography.Text>\n                  {platform === SwapPlatform.JupiterAggregator && (\n                    <Fragment>\n                      <Divider type=\"vertical\" style={{ margin: 0 }} />\n                      <PoweredByJupiter />\n                    </Fragment>\n                  )}\n                </Space>\n              </Space>\n            </Popover>\n          </Col>\n          <Col>\n            <Button\n              onClick={() => setVisible(true)}\n              type=\"primary\"\n              disabled={disabled}\n              block\n            >\n              <Space>\n                <span>Review</span>\n                <IonIcon name=\"arrow-forward-outline\" />\n              </Space>\n            </Button>\n          </Col>\n        </Row>\n      </Col>\n      <ConfirmSwap visible={visible} onCancel={setVisible} />\n    </Row>\n  )\n}\n\nexport default Widget\n","import { configureStore } from '@reduxjs/toolkit'\nimport { devTools, bigintSerializationMiddleware } from 'shared/devTools'\n\nimport ask from './ask.controller'\nimport bid from './bid.controller'\nimport settings from './settings.controller'\nimport route from './route.controller'\nimport history from './history.controller'\n\n/**\n * Isolated store\n */\nconst model = configureStore({\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware(bigintSerializationMiddleware),\n  devTools: devTools(process.env.REACT_APP_ID as string),\n  reducer: {\n    ask,\n    bid,\n    settings,\n    route,\n    history,\n  },\n})\n\nexport type AppState = ReturnType<typeof model.getState>\nexport type AppDispatch = typeof model.dispatch\nexport default model\n","import { Provider } from 'react-redux'\nimport {\n  WalletProvider,\n  UIProvider,\n  AccountProvider,\n  PoolProvider,\n  MintProvider,\n} from '@senhub/providers'\n\nimport PageView from 'app/page'\nimport WidgetView from 'app/widget'\n\nimport model from 'app/model'\nimport configs from 'app/configs'\n\nimport 'app/static/styles/dark.less'\nimport 'app/static/styles/light.less'\nimport 'app/static/styles/index.less'\n\nconst {\n  manifest: { appId },\n} = configs\n\nexport const Page = () => {\n  return (\n    <UIProvider appId={appId} antd>\n      <MintProvider>\n        <PoolProvider>\n          <AccountProvider>\n            <WalletProvider>\n              <Provider store={model}>\n                <PageView />\n              </Provider>\n            </WalletProvider>\n          </AccountProvider>\n        </PoolProvider>\n      </MintProvider>\n    </UIProvider>\n  )\n}\n\nexport const widgetConfig: WidgetConfig = {\n  size: 'small',\n  type: 'solid',\n}\n\nexport const Widget = () => {\n  return (\n    <UIProvider appId={appId} antd>\n      <MintProvider>\n        <PoolProvider>\n          <AccountProvider>\n            <WalletProvider>\n              <Provider store={model}>\n                <WidgetView />\n              </Provider>\n            </WalletProvider>\n          </AccountProvider>\n        </PoolProvider>\n      </MintProvider>\n    </UIProvider>\n  )\n}\n","import { Net } from 'shared/runtime'\n\nconst SOLVARS = {\n  spltAddress: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n  splataAddress: 'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',\n}\n\n/**\n * Contructor\n */\ntype Conf = {\n  node: string\n  chainId: 101 | 102 | 103\n  sntrAddress: string\n  sntrPoolAddress: string\n  swapAddress: string\n  taxmanAddress: string\n} & typeof SOLVARS\n\nconst conf: Record<Net, Conf> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    ...SOLVARS,\n    node: 'https://api.devnet.solana.com',\n    chainId: 103,\n    sntrAddress: '5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ',\n    sntrPoolAddress: '3EUPL7YQLbU6DNU5LZeQeHPXTf1MigJ2yASXA9rH5Ku4',\n    swapAddress: '4erFSLP7oBFSVC1t35jdxmbfxEhYCKfoM6XdG2BLR3UF',\n    taxmanAddress: '8UaZw2jDhJzv5V53569JbCd3bD4BnyCfBH3sjwgajGS9',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    ...SOLVARS,\n    node: 'https://api.testnet.solana.com',\n    chainId: 102,\n    sntrAddress: '',\n    sntrPoolAddress: '',\n    swapAddress: '',\n    taxmanAddress: '',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    ...SOLVARS,\n    node: 'https://solana-api.projectserum.com',\n    chainId: 101,\n    sntrAddress: 'SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M',\n    sntrPoolAddress: 'Aa3WZX7Xunfebp2MuAcz9CNw8TYTDL7mVrmb11rjyVm6',\n    swapAddress: 'SSW7ooZ1EbEognq5GosbygA3uWW1Hq1NsFq6TsftCFV',\n    taxmanAddress: '9doo2HZQEmh2NgfT3Yx12M89aoBheycYqH1eaR5gKb3e',\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Env } from 'shared/runtime'\n\nif (\n  typeof process.env.REACT_APP_ID !== 'string' ||\n  typeof process.env.REACT_APP_NAME !== 'string' ||\n  typeof process.env.REACT_APP_URL !== 'string'\n)\n  throw new Error(\n    'Please add REACT_APP_ID, REACT_APP_NAME, REACT_APP_URL in .env.local!',\n  )\n\n/**\n * Contructor\n */\n\ntype Conf = {\n  defaultAppId: string\n  extra: SenReg\n  senreg: string\n}\n\nconst DEFAULT_APP_ID = process.env.REACT_APP_ID\nconst devApp = {\n  [DEFAULT_APP_ID]: {\n    url: process.env.REACT_APP_URL,\n    appId: DEFAULT_APP_ID,\n    name: process.env.REACT_APP_NAME,\n    author: {\n      name: process.env.REACT_APP_AUTHOR_NAME || '',\n      email: process.env.REACT_APP_AUTHOR_EMAIL || '',\n    },\n    supportedViews: (process.env.REACT_APP_SUPPORTED_VIEWS || '')\n      .split(',')\n      .map((view) => view.trim())\n      .filter((view) => ['page', 'widget'].includes(view)) as Array<\n      'widget' | 'page'\n    >,\n    tags: (process.env.REACT_APP_TAGS || '')\n      .split(',')\n      .map((tag) => tag.trim()),\n    description: process.env.REACT_APP_DESCRIPTION || '',\n    verified: false,\n  },\n}\n\nconst conf: Record<Env, Conf> = {\n  /**\n   * Development configurations\n   */\n  development: {\n    defaultAppId: DEFAULT_APP_ID,\n    extra: devApp,\n    senreg: 'https://descartesnetwork.github.io/senreg/register.json',\n  },\n\n  /**\n   * Staging configurations\n   */\n  staging: {\n    defaultAppId: DEFAULT_APP_ID,\n    extra: devApp,\n    senreg: 'https://descartesnetwork.github.io/senreg/register.json',\n  },\n\n  /**\n   * Production configurations\n   */\n  production: {\n    defaultAppId: DEFAULT_APP_ID,\n    extra: {},\n    senreg: 'https://descartesnetwork.github.io/senreg/register.json',\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { net, env } from 'shared/runtime'\nimport sol from './sol.config'\nimport register from './register.config'\n\nconst configs = {\n  sol: sol[net],\n  register: register[env],\n}\n\n/**\n * Module exports\n */\nexport default configs\n","// Pseudo native sol info\n// It's for all networks\nexport const sol = (chainId: 101 | 102 | 103) => ({\n  symbol: 'SOL',\n  name: 'Solana',\n  address: '11111111111111111111111111111111',\n  decimals: 9,\n  chainId,\n  extensions: {\n    coingeckoId: 'solana',\n  },\n  logoURI:\n    'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png',\n})\n\n// Pseudo SNTR info\n// Only for testnet and mainnet\nexport const sntr = (chainId: 102 | 103) => ({\n  symbol: 'SNTR',\n  name: 'Sentre',\n  address: '5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ',\n  decimals: 9,\n  chainId,\n  extensions: {\n    coingeckoId: 'sentre',\n  },\n  logoURI:\n    'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M/logo.png',\n})\n\n// Pseudo token infos for devnet\nconst supplementary = [\n  sol(103),\n  sntr(103),\n  {\n    symbol: 'wBTC',\n    name: 'Wrapped Bitcoin',\n    address: '8jk4eJymMfNZV9mkRNxJEt2VJ3pRvdJvD5FE94GXGBPM',\n    decimals: 9,\n    chainId: 103,\n    extensions: {\n      coingeckoId: 'bitcoin',\n    },\n    logoURI:\n      'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/qfnqNqs3nCAHjnyCgLRDbBtq4p2MtHZxw8YjSyYhPoL/logo.png',\n  },\n  {\n    symbol: 'wETH',\n    name: 'Ethereum',\n    address: '27hdcZv7RtuMp75vupThR3T4KLsL61t476eosMdoec4c',\n    decimals: 9,\n    chainId: 103,\n    extensions: {\n      coingeckoId: 'ethereum',\n    },\n    logoURI:\n      'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/FeGn77dhg1KXRRFeSwwMiykZnZPw5JXW6naf2aQgZDQf/logo.png',\n  },\n  {\n    symbol: 'UNI',\n    name: 'Uniswap',\n    address: 'FVZFSXu3yn17YdcxLD72TFDUqkdE5xZvcW18EUpRQEbe',\n    decimals: 9,\n    chainId: 103,\n    extensions: {\n      coingeckoId: 'uniswap',\n    },\n    logoURI:\n      'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/3MVa4e32PaKmPxYUQ6n8vFkWtCma68Ld7e7fTktWDueQ/logo.png',\n  },\n  {\n    symbol: 'USDC',\n    name: 'USD Coin',\n    address: '2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj',\n    decimals: 9,\n    chainId: 103,\n    extensions: {\n      coingeckoId: 'usd-coin',\n    },\n    logoURI:\n      'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png',\n  },\n]\n\nexport default supplementary\n","import { Document } from 'flexsearch'\nimport { TokenListProvider, TokenInfo } from '@solana/spl-token-registry'\n\nimport { net } from 'shared/runtime'\nimport configs from 'os/configs'\nimport supplementary, { sntr, sol } from './supplementary'\n\nconst {\n  sol: { chainId },\n} = configs\nconst DELIMITER = /[\\W_]+/g\nconst PRESET = {\n  tokenize: 'full',\n  context: true,\n  minlength: 3,\n}\nconst DOCUMENT = {\n  document: {\n    id: 'address',\n    index: [\n      { field: 'symbol', ...PRESET },\n      { field: 'name', ...PRESET },\n    ],\n  },\n}\n\nclass TokenProvider {\n  private tokenMap: Map<string, TokenInfo>\n  private engine: typeof Document | undefined\n  readonly chainId: typeof chainId\n  readonly cluster: typeof net\n  private loading: boolean\n  private queue: Array<any>\n\n  constructor() {\n    this.tokenMap = new Map<string, TokenInfo>()\n    this.engine = undefined\n    this.chainId = chainId\n    this.cluster = net\n    this.loading = false\n    this.queue = []\n    // Init\n    this._init()\n  }\n\n  private _init = async (): Promise<[Map<string, TokenInfo>, any]> => {\n    if (this.tokenMap.size) return [this.tokenMap, this.engine]\n    return new Promise(async (resolve) => {\n      // Queue of getters to avoid race condition of multiple _init calling\n      if (this.loading) return this.queue.push(resolve)\n      // Start\n      this.loading = true\n      // Build token list\n      let tokenList = await (await new TokenListProvider().resolve())\n        .filterByChainId(this.chainId)\n        .getList()\n      if (this.cluster === 'devnet') tokenList = tokenList.concat(supplementary)\n      if (this.cluster === 'testnet')\n        tokenList = tokenList.concat([sntr(102), sol(102)])\n      else tokenList = tokenList.concat([sol(101)])\n      // Build token map\n      tokenList.forEach((token) => this.tokenMap.set(token.address, token))\n      // Build search engine\n      this.engine = new Document(DOCUMENT)\n      this.tokenMap.forEach(({ address, ...doc }) =>\n        this.engine.add(address, doc),\n      )\n      // Resolve the main getter\n      resolve([this.tokenMap, this.engine])\n      // Resolve the rest of getters\n      while (this.queue.length) this.queue.shift()([this.tokenMap, this.engine])\n      // Finish\n      this.loading = false\n    })\n  }\n\n  all = async (): Promise<TokenInfo[]> => {\n    const [tokenMap] = await this._init()\n    return Array.from(tokenMap.values())\n  }\n\n  findByAddress = async (addr: string): Promise<TokenInfo | undefined> => {\n    const [tokenMap] = await this._init()\n    return tokenMap.get(addr)\n  }\n\n  find = async (keyword: string, limit?: 10): Promise<TokenInfo[]> => {\n    const [tokenMap, engine] = await this._init()\n    let tokens: TokenInfo[] = []\n    keyword.split(DELIMITER).forEach((key) => {\n      const raw: Array<{ result: string[] }> = engine.search(key, limit)\n      return raw.forEach(({ result }) => {\n        return result.forEach((id: string) => {\n          if (tokens.findIndex(({ address }) => address === id) < 0) {\n            const token = tokenMap.get(id)\n            if (token) tokens.push(token)\n          }\n        })\n      })\n    })\n    return tokens\n  }\n}\n\nexport default TokenProvider\n","import { DEFAULT_CACHE_CONFIG } from './constant'\nimport { CacheConfig } from './constant'\n\nexport class SingleFlightCache {\n  private static mapCache = new Map<string, any>()\n\n  static set(\n    key: string,\n    value: any,\n    configs: CacheConfig = DEFAULT_CACHE_CONFIG,\n  ) {\n    this.mapCache.set(key, value)\n    setTimeout(() => {\n      this.mapCache.delete(key)\n    }, configs.ttl)\n  }\n\n  static get(key: string) {\n    return this.mapCache.get(key)\n  }\n}\n","export type LimitConfig = {\n  calls: number\n  time: number\n}\n\nexport type CacheConfig = {\n  ttl: number // millisecond\n}\n\nexport type SingleFlightConfig = {\n  limit?: LimitConfig\n  cache?: CacheConfig\n}\n\n// 10 request per 1 second\nexport const DEFAULT_LIMIT_CONFIG: LimitConfig = {\n  calls: 10,\n  time: 1000,\n}\n\n// 10 request per 1 second\nexport const DEFAULT_CACHE_CONFIG: CacheConfig = {\n  ttl: 30000,\n}\n\nexport const DEFAULT_SINGLE_FLIGHT_CONFIG: SingleFlightConfig = {\n  limit : DEFAULT_LIMIT_CONFIG,\n  cache: DEFAULT_CACHE_CONFIG\n}","import { DEFAULT_SINGLE_FLIGHT_CONFIG, SingleFlightConfig } from './constant'\n\nimport { IRequestQueue, RequestQueue } from './request'\nimport { SingleFlightCache } from './cache'\n\nexport class DataLoader {\n  static mapInstance = new Map<string, SingleFlight>()\n\n  private static getSingleFlight(configs: SingleFlightConfig): SingleFlight {\n    const instanceKey = JSON.stringify(configs)\n    if (this.mapInstance.has(instanceKey)) {\n      const instance = this.mapInstance.get(instanceKey)\n      if (instance) return instance\n    }\n\n    let newSingleFlight = new SingleFlight(configs)\n    this.mapInstance.set(instanceKey, newSingleFlight)\n    return newSingleFlight\n  }\n\n  static async load<T>(\n    requestKey: string | object,\n    callback: () => Promise<T>,\n    configs: SingleFlightConfig = {},\n  ): Promise<T> {\n    if (typeof requestKey === 'object') requestKey = JSON.stringify(requestKey)\n\n    let singleFlight = DataLoader.getSingleFlight(configs)\n    DataLoader.mapInstance.set(requestKey, singleFlight)\n    const newRequest = new RequestQueue(requestKey)\n    return singleFlight.load<T>(newRequest, callback)\n  }\n}\n\nclass SingleFlight {\n  private config: SingleFlightConfig\n  private intervalRequest: any\n  private timeLogs: number[] = []\n\n  private mapRequestCalling = new Map<string, IRequestQueue>()\n  private requestQueue: IRequestQueue[] = []\n\n  constructor(configs: SingleFlightConfig) {\n    this.config = Object.assign(DEFAULT_SINGLE_FLIGHT_CONFIG, configs)\n  }\n\n  async load<T>(newRequest: IRequestQueue, callback: () => Promise<T>) {\n    const cacheData = SingleFlightCache.get(newRequest.key)\n    if (cacheData) return Promise.resolve(cacheData)\n\n    let isFetch = false\n    let request = this.mapRequestCalling.get(newRequest.key)\n    if (!request) {\n      request = newRequest\n      isFetch = true\n      this.mapRequestCalling.set(request.key, request)\n    }\n\n    return new Promise((resolve, reject) => {\n      if (!request) return reject('Not found request!')\n      request.add(resolve, reject)\n      if (isFetch) {\n        this.fetch<T>(request, callback)\n      }\n    })\n  }\n\n  private fetch<T>(request: IRequestQueue, callback: () => Promise<T>) {\n    if (!this.validateLimit()) {\n      return this.addRequestQueue(request, callback)\n    }\n    this.createTimeLogs()\n\n    callback()\n      .then((response) => {\n        SingleFlightCache.set(request.key, response, this.config.cache)\n        request.resolves(response)\n      })\n      .catch((error) => {\n        request.rejects(error)\n      })\n      .finally(() => {\n        this.mapRequestCalling.delete(request.key)\n        this.fetchRequestQueue(callback)\n      })\n  }\n\n  private fetchRequestQueue(callback: () => Promise<any>) {\n    if (!this.validateLimit()) return\n    const request = this.requestQueue.shift()\n    if (request) this.load(request, callback)\n\n    if (this.requestQueue.length === 0 && this.intervalRequest) {\n      clearInterval(this.intervalRequest)\n    }\n  }\n\n  private addRequestQueue(\n    request: IRequestQueue,\n    callback: () => Promise<any>,\n  ) {\n    this.requestQueue.push(request)\n    this.intervalRequest = setInterval(() => {\n      this.fetchRequestQueue(callback)\n    }, this.config.limit?.time)\n  }\n\n  private validateLimit(): boolean {\n    return true\n  }\n\n  private createTimeLogs() {\n    if (!this.config.limit) return\n\n    const now = new Date().getTime()\n    this.timeLogs.push(now)\n    if (this.timeLogs.length > this.config.limit?.calls) {\n      this.timeLogs.shift()\n    }\n  }\n}\n","export interface IRequestQueue {\n  key: string\n  add(resolve: any, reject: any): void\n  resolves(data: any): void\n  rejects(error: any): void\n}\n\nexport class RequestQueue implements IRequestQueue {\n  key = ''\n  private resolveQueue: any[] = []\n  private rejectQueue: any[] = []\n  constructor(key: string) {\n    this.key = key\n  }\n\n  add(resolve: any, reject: any) {\n    this.resolveQueue.push(resolve)\n    this.rejectQueue.push(reject)\n  }\n\n  resolves(data: any) {\n    while (this.resolveQueue.length > 0) {\n      const resolve = this.resolveQueue.shift()\n      resolve(data)\n    }\n  }\n\n  rejects(error: any) {\n    while (this.rejectQueue.length > 0) {\n      const reject = this.rejectQueue.shift()\n      reject(error)\n    }\n  }\n}\n","// Bugfix performance\n// https://github.com/zalmoxisus/redux-devtools-extension/blob/master/docs/Troubleshooting.md#excessive-use-of-memory-and-cpu\nexport const devTools = (appName: string): any => {\n  if (process.env.REACT_APP_ENV !== 'development') return false\n  return {\n    name: appName,\n    actionSanitizer: ({ payload, type }: { payload: any; type: string }) => ({\n      payload,\n      type,\n    }),\n  }\n}\n\n// BigInt Serialization Middleware\n// https://redux-toolkit.js.org/api/serializabilityMiddleware\nconst isPlain = (val: any): boolean => {\n  const isPlainObject = (obj: object): boolean => {\n    if (obj === null) return false\n    const proto = Object.getPrototypeOf(obj)\n    return proto !== null && Object.getPrototypeOf(proto) === null\n  }\n  return (\n    typeof val === 'undefined' ||\n    val === null ||\n    typeof val === 'string' ||\n    typeof val === 'boolean' ||\n    typeof val === 'number' ||\n    Array.isArray(val) ||\n    isPlainObject(val) ||\n    typeof val === 'bigint'\n  )\n}\nBigInt.prototype.toJSON = function () {\n  return this.toString() // https://github.com/GoogleChromeLabs/jsbi/issues/30\n}\nexport const bigintSerializationMiddleware = {\n  serializableCheck: {\n    isSerializable: isPlain,\n  },\n}\n","import storage from './storage'\n\n/**\n * Environment\n */\nconst getEnv = () => {\n  switch (process.env.REACT_APP_ENV) {\n    case 'development':\n      return 'development'\n    case 'staging':\n      return 'staging'\n    case 'production':\n      return 'production'\n    default:\n      return 'development'\n  }\n}\nexport type Env = 'development' | 'staging' | 'production'\nexport const env: Env = getEnv()\n\n/**\n * Network\n */\nconst getNetwork = () => {\n  switch (storage.get('network')) {\n    case 'devnet':\n      return 'devnet'\n    case 'testnet':\n      return 'testnet'\n    case 'mainnet':\n      return 'mainnet'\n    default:\n      return 'mainnet'\n  }\n}\nexport type Net = 'devnet' | 'testnet' | 'mainnet'\nexport const net: Net = getNetwork()\n\nexport const onSwitchNetwork = (value: Net) => {\n  storage.set('network', value)\n  return window.location.reload()\n}\n","const KEY = 'sentre'\nconst driver = window.localStorage\n\nconst convert = (value: string | null) => {\n  try {\n    if (!value) return null\n    return JSON.parse(value)\n  } catch (e) {\n    return null\n  }\n}\n\nconst storage = {\n  set: (key: string, value: any) => {\n    let data = convert(driver.getItem(KEY))\n    if (!data || typeof data !== 'object') data = {}\n    data[key] = value\n    driver.setItem(KEY, JSON.stringify(data))\n  },\n  get: (key: string) => {\n    let data = convert(driver.getItem(KEY))\n    if (!data || typeof data !== 'object') return null\n    return data[key]\n  },\n  clear: (key: string) => {\n    storage.set(key, null)\n  },\n}\n\nexport default storage\n","import { account, utils } from '@senswap/sen-js'\nimport numbro from 'numbro'\n\nimport { net } from 'shared/runtime'\nimport { DataLoader } from './dataloader'\n\n/**\n * Delay by async/await\n * @param ms - milisenconds\n * @returns\n */\nexport const asyncWait = (ms: number): Promise<void> => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n\n/**\n * Shorten a long address\n * @param address - The long address\n * @param num - The number of the heading and trailing characters\n * @param delimiter - The delimiter\n * @returns Shortened address\n */\nexport const shortenAddress = (address: string, num = 4, delimiter = '...') => {\n  return (\n    address.substring(0, num) +\n    delimiter +\n    address.substring(address.length - num, address.length)\n  )\n}\n\n/**\n * Build a explorer url by context including addresses or transaction ids\n * @param addressOrTxId - Address or TxId\n * @returns\n */\nexport const explorer = (addressOrTxId: string): string => {\n  if (account.isAddress(addressOrTxId)) {\n    return `https://explorer.solana.com/address/${addressOrTxId}?cluster=${net}`\n  }\n  return `https://explorer.solana.com/tx/${addressOrTxId}?cluster=${net}`\n}\n\n/**\n * Wrapped Numbro - https://numbrojs.com/old-format.html\n * @param value - value\n * @returns\n */\nexport const numeric = (\n  value?: number | string | BigInt,\n): ReturnType<typeof numbro> => {\n  if (!value || !Number.isFinite(Number(value))) return numbro('0')\n  return numbro(value)\n}\n\n/**\n * Generate a random color\n * @param seed - Seed\n * @param opacity - Opacity\n * @returns\n */\nexport const randomColor = (seed?: string, opacity?: string | number) => {\n  let hash = Math.floor(Math.random() * 16777215)\n  if (seed) {\n    hash = 0\n    for (let i = 0; i < seed.length; i++) {\n      hash = seed.charCodeAt(i) + ((hash << 5) - hash)\n    }\n  }\n  var rgb = [0, 0, 0]\n  for (let i = 0; i < 3; i++) {\n    var value = (hash >> (i * 8)) & 255\n    rgb[i] = value\n  }\n  return `rgba(${rgb[0]}, 100, ${rgb[1]},${opacity || 1})`\n}\n\n/**\n * Fetch coingecko data with cache\n * @param ticket - Token ticket\n * @returns\n */\nexport const fetchCGK = async (ticket = '') => {\n  return DataLoader.load('fetchCGK' + ticket, () => utils.parseCGK(ticket))\n}\n"],"names":["CUSTOM_ICONS","forwardRef","ref","name","className","props","cln","src","DEFAULT_AVATARS","undefined","mintAddress","size","icon","reversed","avatars","setAvatars","useState","tokenProvider","useMint","pools","usePool","deriveAvatar","useCallback","async","token","findByAddress","address","logoURI","deriveAvatars","account","poolData","Object","values","find","mint_lpt","mint_a","mint_b","Promise","all","map","reverse","avatar","useEffect","length","Avatar","style","backgroundColor","border","display","whiteSpace","i","DEFAULT_NAME","separator","setName","deriveName","deriveNames","names","join","DEFAULT_SYMBOL","symbol","setSymbol","deriveSymbol","substring","deriveSymbols","symbols","bid","mintInfo","bidMintInfo","ask","askMintInfo","useSelector","state","bidMintAddress","askMintAddress","Space","Typography","chartData","labels","type","configs","disableAxe","chartId","isRebuildChart","setRebuildChart","formatData","data","label","background","datasets","chartRef","useRef","getBackground","ctx","current","canvas","getContext","gradient","createLinearGradient","addColorStop","chartInstance","dataInstace","compareData","isEqual","update","id","height","Chart","options","responsive","maintainAspectRatio","scales","xAxes","gridLines","drawBorder","ticks","yAxes","beginAtZero","maxTicksLimit","callback","value","index","numeric","format","plugins","legend","hover","onHover","event","elements","target","document","getElementById","cursor","Row","align","justify","Col","Empty","TokenProvider","fetchMarketChart","ticket","params","axios","method","url","days","interval","prices","time","val","error","Interval","CHART_DATA_CONFIG","day","amount","unit","week","month","year","MARKET_CONFIG","CHART_CONFIGS","setInterval","setChartData","bidData","askData","swapChartConfigs","borderColor","borderRadius","pointRadius","tooltip","pointHitRadius","pointHoverRadius","parseChartDay","marketData","displayTime","moment","chartTime","unshift","subtract","parseChartDaily","fetchChartData","bidTokenInfo","askTokenInfo","bidTicket","extensions","coingeckoId","askTicket","compareAddress","accountAddress","marketConfig","bidChartData","askChartData","idx","bidChart","askChart","price","priceUI","Card","bordered","bodyStyle","paddingTop","gutter","flex","Radio","defaultValue","onChange","e","span","level","spacing","iconSize","Tooltip","title","fontSize","color","JupiterIcon","SwapPlatform","NAME","initialState","platform","SenSwap","best","BigInt","priceImpact","updateRoute","createAsyncThunk","route","getState","prevRoute","createSlice","reducers","extraReducers","builder","addCase","fulfilled","payload","assign","srcMintAddress","chainMintAddresses","useMemo","list","hop","dstMintAddress","push","Fragment","JupiterAggregator","Divider","margin","setReversed","bidAmount","askAmount","Number","reversedPrice","Button","onClick","shape","PriceImpact","priceImpactColor","goodSwap","acceptableSwap","ExtraTypography","content","settings","slippage","minHeight","updateBidData","prioritized","reset","priority","prevPriority","refPriority","decimals","poolAddresses","updateAskData","setDecimals","getDecimals","fetchDecimals","er","buildResult","balance","utils","useAccountBalance","wallet","walletAddress","lamports","useWallet","accounts","useAccount","mint","useMintDecimals","DEFAULT_EMPTY_ADDRESS","useDisabledSwap","bidAccountAddress","bidMintDecimals","bidBalance","availableBid","DEFAULT_WSOL","estimateFee","max","usePoolTvl","poolAddress","tvl","setTvl","getMintTotalValue","getMint","getTokenUsd","tokenInfo","Error","cgkData","fetchCGK","pool","reserve_a","reserve_b","supply","deltaA","deltaB","Swap","useMintTotalValue","getTvl","updateTvl","poolTvl","PRECISION","ORACLE","curve","hopData","fee_ratio","tax_ratio","bidReserve","extractReserve","askReserve","swap","inverseCurve","inverseSwap","calcPriceImpact","srcAmount","p","forEach","s","dstAmount","findAllRoutes","graph","deep","routes","clonedGraph","Map","get","delete","useBestRoute","fixedPoolAddress","bestRoute","setBestRoute","findBestRoute","bidPoolAddresses","bidPriority","askPoolAddresses","askPriority","allRoutes","has","set","buildPoolGraph","filter","bidState","maxAskAmount","findBestRouteFromBid","reversedRoute","minBidAmount","findBestRouteFromAsk","_bidAmount","_askAmount","askMintDecimals","handleSwap","splt","window","sentre","routingAddresses","srcAddress","deriveAssociatedAddress","dstAddress","limit","useHandleSwap","shared","appId","process","devnet","node","cluster","spltAddress","splataAddress","testnet","mainnet","bidDefault","askDefault","wormholeAddress","assetsRoute","manifest","development","staging","production","env","sol","net","wormhole","constructor","_wallet","publicKey","this","transaction","connection","signTransaction","sendRawTransaction","serializeMessage","transactions","signedTransactions","signedTransaction","Connection","DEFAULT_DATA","bidDecimals","inputMint","outputMint","exchange","useJupiter","debounceTime","wrappedWallet","JupiterWalletWrapper","result","confirmationWaiterFactory","confirmTransaction","txid","getTransaction","commitment","outputAddress","txId","outAmount","priceImpactPct","marketInfos","toBase58","onCallback","forceSwap","dispatch","useDispatch","loading","setLoading","bestAmount","advanced","wrapAmount","wrapSol","useWrapSol","senlpState","useLocation","disabled","validSenSwap","valid","setValid","checkLiquidity","poolAddr","validate","validLiquidity","useSenSwapValidator","senswap","useSenSwap","jupiter","useJupiterAggregator","validJupiter","setRoute","tooHighImpact","notify","description","open","explorer","message","block","JupiterProvider","userPublicKey","PublicKey","visible","onCancel","checked","setChecked","Modal","closeIcon","footer","forceRender","direction","Checkbox","visivle","setVisivle","priceChange","rank","totalVolume","setCgkData","fetchCgkData","bidCgk","useMintCgk","askCgk","bidPoolData","askPoolData","getMintTVL","bidTVL","askTVL","wrap","SentreIcon","Option","active","placement","Switch","checkedChildren","unCheckedChildren","textAlign","updateSettings","padding","Popover","overlayInnerStyle","width","marginTop","marginBottom","trigger","mintAddresses","setMintAddresses","keyword","setKeyword","sortMintAddresses","sortedMint","allMintAddress","allTokens","addr","flat","item","pos","self","indexOf","keys","search","includes","toLowerCase","Input","placeholder","suffix","marginRight","hoverable","marginLeft","currentMintAddress","getAvailablePoolAddresses","onMint","slice","overflow","setVisible","history","useHistory","setTimeout","forceCheck","destroyOnClose","centered","selectionInfo","replace","location","timeoutId","onValue","setError","setCursor","innerRef","onAmount","onError","clearTimeout","test","parseFloat","toString","setSelectionRange","selectionStart","DEFAULT_INFO","useMintSelection","setSelectionInfo","getSelectionInfo","maxBalance","selectionDefault","poolAdress","prefix","SOL_BRIDGE_ADDRESS","SOL_TOKEN_BRIDGE_ADDRESS","getSolNetwork","storage","checkAttestedWormhole","solContext","solNetWork","chainId","CHAIN_ID_SOLANA","tokenBridgeAddress","bridgeAddress","getSolContext","getIsWrappedAssetSol","WORMHOLE_COLOR","FrameWormhole","lazy","then","module","default","Suspense","fallback","wormholeSupported","setWormholeSupported","boxShadow","Tag","randomColor","onSwitch","bidRest","askRest","updateData","STATUS_COLOR","success","pending","failed","tag","setColorTag","opacity","textTransform","FORMAT_AMOUNT","HISTORY_COLUMN","dataIndex","render","text","fontWeight","shortenAddress","record","from","amountFrom","to","amountTo","status","TransLog","programId","programInfo","signature","blockTime","owner","actionType","actionTransfers","programTransfer","ActionInfo","preBalance","postBalance","ActionTransfer","source","destination","DEFAULT_LIMIT","Solana","conn","lastSignature","before","getConfirmedSignaturesForAddress2","signatures","confirmedTransactions","promiseTransGroup","offset","skip","signaturesGroup","getParsedConfirmedTransactions","transGroups","transGroup","concat","currentTime","Date","getTime","secondFrom","secondTo","Math","floor","programPublicKey","isStop","confirmedSignatureInfos","fetchSignatures","info","fetchConfirmTransaction","ParsedType","SECOND_PER_MILLISECOND","TimeFormat","DateHelper","milliSeconds","valueOf","setMilliSeconds","seconds","date","ymd","YMD","ymdFrom","ymdTo","dates","dateFrom","fromYmd","dateTo","addDay","dateFormat","subtractDay","dayAmount","fromSeconds","add","struct","require","TRANSLOG_PROGRAM_DATA_SCHEMA","key","SwapActionType","ACTION_TYPE","Route","SwapTranslogService","solana","parseAction","transLog","funcFilter","transLogs","lastSignatureTmp","confirmedTrans","fetchTransactions","trans","log","parseTransLog","meta","postTokenBalances","preTokenBalances","postBalances","preBalances","innerInstructionData","innerInstructions","instructions","instructionData","mapAccount","parseAccountInfo","accountKeys","isParsedInstruction","parseListActionTransfer","parsed","actions","actionTransfer","action","actionParsed","Transfer","parsedAction","parseActionTransfer","parsedTransfer","amountTransfer","mapAccountInfo","accountIndex","uiTokenAmount","pubkey","accountData","String","programDataEncode","dataBuffer","base58","programDataDecode","fromBuffer","Buffer","code","filterFunction","fetchHistorySwap","isLoadMore","swapAddress","historySwap","myWalletAddress","getAddress","transLogService","transLogsData","collect","historyItem","lastAction","firstAction","transactionId","amountRow","setAmountRow","fetchHistory","unwrap","Table","columns","dataSource","pagination","rowClassName","scroll","x","currentTransactionDataLength","setBid","setAsk","checkIsSenLpCome","paddingBottom","lg","md","xs","configureStore","middleware","getDefaultMiddleware","bigintSerializationMiddleware","devTools","reducer","Page","UIProvider","antd","MintProvider","PoolProvider","AccountProvider","WalletProvider","Provider","store","model","widgetConfig","Widget","SOLVARS","sntrAddress","sntrPoolAddress","taxmanAddress","DEFAULT_APP_ID","devApp","author","email","supportedViews","split","view","trim","tags","verified","defaultAppId","extra","senreg","register","sntr","DELIMITER","PRESET","tokenize","context","minlength","DOCUMENT","field","tokenMap","engine","queue","_init","resolve","tokenList","TokenListProvider","filterByChainId","getList","supplementary","Document","doc","shift","Array","tokens","findIndex","SingleFlightCache","DEFAULT_CACHE_CONFIG","mapCache","ttl","DEFAULT_SINGLE_FLIGHT_CONFIG","calls","cache","DataLoader","instanceKey","JSON","stringify","mapInstance","instance","newSingleFlight","SingleFlight","requestKey","singleFlight","getSingleFlight","newRequest","RequestQueue","load","config","intervalRequest","timeLogs","mapRequestCalling","requestQueue","cacheData","isFetch","request","reject","fetch","validateLimit","addRequestQueue","createTimeLogs","response","resolves","catch","rejects","finally","fetchRequestQueue","clearInterval","now","resolveQueue","rejectQueue","appName","prototype","toJSON","serializableCheck","isSerializable","isArray","obj","proto","getPrototypeOf","isPlainObject","getNetwork","KEY","driver","localStorage","convert","parse","getItem","setItem","clear","asyncWait","ms","num","delimiter","addressOrTxId","isFinite","numbro","seed","hash","random","charCodeAt","rgb"],"sourceRoot":""}